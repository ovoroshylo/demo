(function () {
'use strict';

var commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};



function unwrapExports (x) {
	return x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;
}

function createCommonjsModule(fn, module) {
	return module = { exports: {} }, fn(module, module.exports), module.exports;
}

// ::- Persistent data structure representing an ordered mapping from
// strings to values, with some convenient update methods.
function OrderedMap(content) {
  this.content = content;
}

OrderedMap.prototype = {
  constructor: OrderedMap,

  find: function(key) {
    for (var i = 0; i < this.content.length; i += 2)
      if (this.content[i] === key) return i
    return -1
  },

  // :: (string) → ?any
  // Retrieve the value stored under `key`, or return undefined when
  // no such key exists.
  get: function(key) {
    var found = this.find(key);
    return found == -1 ? undefined : this.content[found + 1]
  },

  // :: (string, any, ?string) → OrderedMap
  // Create a new map by replacing the value of `key` with a new
  // value, or adding a binding to the end of the map. If `newKey` is
  // given, the key of the binding will be replaced with that key.
  update: function(key, value, newKey) {
    var self = newKey && newKey != key ? this.remove(newKey) : this;
    var found = self.find(key), content = self.content.slice();
    if (found == -1) {
      content.push(newKey || key, value);
    } else {
      content[found + 1] = value;
      if (newKey) content[found] = newKey;
    }
    return new OrderedMap(content)
  },

  // :: (string) → OrderedMap
  // Return a map with the given key removed, if it existed.
  remove: function(key) {
    var found = this.find(key);
    if (found == -1) return this
    var content = this.content.slice();
    content.splice(found, 2);
    return new OrderedMap(content)
  },

  // :: (string, any) → OrderedMap
  // Add a new key to the start of the map.
  addToStart: function(key, value) {
    return new OrderedMap([key, value].concat(this.remove(key).content))
  },

  // :: (string, any) → OrderedMap
  // Add a new key to the end of the map.
  addToEnd: function(key, value) {
    var content = this.remove(key).content.slice();
    content.push(key, value);
    return new OrderedMap(content)
  },

  // :: (string, string, any) → OrderedMap
  // Add a key after the given key. If `place` is not found, the new
  // key is added to the end.
  addBefore: function(place, key, value) {
    var without = this.remove(key), content = without.content.slice();
    var found = without.find(place);
    content.splice(found == -1 ? content.length : found, 0, key, value);
    return new OrderedMap(content)
  },

  // :: ((key: string, value: any))
  // Call the given function for each key/value pair in the map, in
  // order.
  forEach: function(f) {
    for (var i = 0; i < this.content.length; i += 2)
      f(this.content[i], this.content[i + 1]);
  },

  // :: (union<Object, OrderedMap>) → OrderedMap
  // Create a new map by prepending the keys in this map that don't
  // appear in `map` before the keys in `map`.
  prepend: function(map) {
    map = OrderedMap.from(map);
    if (!map.size) return this
    return new OrderedMap(map.content.concat(this.subtract(map).content))
  },

  // :: (union<Object, OrderedMap>) → OrderedMap
  // Create a new map by appending the keys in this map that don't
  // appear in `map` after the keys in `map`.
  append: function(map) {
    map = OrderedMap.from(map);
    if (!map.size) return this
    return new OrderedMap(this.subtract(map).content.concat(map.content))
  },

  // :: (union<Object, OrderedMap>) → OrderedMap
  // Create a map containing all the keys in this map that don't
  // appear in `map`.
  subtract: function(map) {
    var result = this;
    map = OrderedMap.from(map);
    for (var i = 0; i < map.content.length; i += 2)
      result = result.remove(map.content[i]);
    return result
  },

  // :: number
  // The amount of keys in this map.
  get size() {
    return this.content.length >> 1
  }
};

// :: (?union<Object, OrderedMap>) → OrderedMap
// Return a map with the given content. If null, create an empty
// map. If given an ordered map, return that map itself. If given an
// object, create a map from the object's properties.
OrderedMap.from = function(value) {
  if (value instanceof OrderedMap) return value
  var content = [];
  if (value) for (var prop in value) content.push(prop, value[prop]);
  return new OrderedMap(content)
};

var orderedmap = OrderedMap;

var dist$2 = createCommonjsModule(function (module, exports) {
'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

function _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }

var OrderedMap = _interopDefault(orderedmap);

function findDiffStart(a, b, pos) {
  for (var i = 0;; i++) {
    if (i == a.childCount || i == b.childCount)
      { return a.childCount == b.childCount ? null : pos }

    var childA = a.child(i), childB = b.child(i);
    if (childA == childB) { pos += childA.nodeSize; continue }

    if (!childA.sameMarkup(childB)) { return pos }

    if (childA.isText && childA.text != childB.text) {
      for (var j = 0; childA.text[j] == childB.text[j]; j++)
        { pos++; }
      return pos
    }
    if (childA.content.size || childB.content.size) {
      var inner = findDiffStart(childA.content, childB.content, pos + 1);
      if (inner != null) { return inner }
    }
    pos += childA.nodeSize;
  }
}

function findDiffEnd(a, b, posA, posB) {
  for (var iA = a.childCount, iB = b.childCount;;) {
    if (iA == 0 || iB == 0)
      { return iA == iB ? null : {a: posA, b: posB} }

    var childA = a.child(--iA), childB = b.child(--iB), size = childA.nodeSize;
    if (childA == childB) {
      posA -= size; posB -= size;
      continue
    }

    if (!childA.sameMarkup(childB)) { return {a: posA, b: posB} }

    if (childA.isText && childA.text != childB.text) {
      var same = 0, minSize = Math.min(childA.text.length, childB.text.length);
      while (same < minSize && childA.text[childA.text.length - same - 1] == childB.text[childB.text.length - same - 1]) {
        same++; posA--; posB--;
      }
      return {a: posA, b: posB}
    }
    if (childA.content.size || childB.content.size) {
      var inner = findDiffEnd(childA.content, childB.content, posA - 1, posB - 1);
      if (inner) { return inner }
    }
    posA -= size; posB -= size;
  }
}

// ::- A fragment represents a node's collection of child nodes.
//
// Like nodes, fragments are persistent data structures, and you
// should not mutate them or their content. Rather, you create new
// instances whenever needed. The API tries to make this easy.
var Fragment = function Fragment(content, size) {
  var this$1 = this;

  this.content = content;
  // :: number
  // The size of the fragment, which is the total of the size of its
  // content nodes.
  this.size = size || 0;
  if (size == null) { for (var i = 0; i < content.length; i++)
    { this$1.size += content[i].nodeSize; } }
};

var prototypeAccessors$1 = { firstChild: {},lastChild: {},childCount: {} };

// :: (number, number, (node: Node, start: number, parent: Node, index: number) → ?bool, ?number)
// Invoke a callback for all descendant nodes between the given two
// positions (relative to start of this fragment). Doesn't descend
// into a node when the callback returns `false`.
Fragment.prototype.nodesBetween = function nodesBetween (from, to, f, nodeStart, parent) {
    var this$1 = this;
    if ( nodeStart === void 0 ) nodeStart = 0;

  for (var i = 0, pos = 0; pos < to; i++) {
    var child = this$1.content[i], end = pos + child.nodeSize;
    if (end > from && f(child, nodeStart + pos, parent, i) !== false && child.content.size) {
      var start = pos + 1;
      child.nodesBetween(Math.max(0, from - start),
                         Math.min(child.content.size, to - start),
                         f, nodeStart + start);
    }
    pos = end;
  }
};

// :: ((node: Node, pos: number, parent: Node) → ?bool)
// Call the given callback for every descendant node. The callback
// may return `false` to prevent traversal of a given node's children.
Fragment.prototype.descendants = function descendants (f) {
  this.nodesBetween(0, this.size, f);
};

// : (number, number, ?string, ?string) → string
Fragment.prototype.textBetween = function textBetween (from, to, blockSeparator, leafText) {
  var text = "", separated = true;
  this.nodesBetween(from, to, function (node, pos) {
    if (node.isText) {
      text += node.text.slice(Math.max(from, pos) - pos, to - pos);
      separated = !blockSeparator;
    } else if (node.isLeaf && leafText) {
      text += leafText;
      separated = !blockSeparator;
    } else if (!separated && node.isBlock) {
      text += blockSeparator;
      separated = true;
    }
  }, 0);
  return text
};

// :: (Fragment) → Fragment
// Create a new fragment containing the combined content of this
// fragment and the other.
Fragment.prototype.append = function append (other) {
  if (!other.size) { return this }
  if (!this.size) { return other }
  var last = this.lastChild, first = other.firstChild, content = this.content.slice(), i = 0;
  if (last.isText && last.sameMarkup(first)) {
    content[content.length - 1] = last.withText(last.text + first.text);
    i = 1;
  }
  for (; i < other.content.length; i++) { content.push(other.content[i]); }
  return new Fragment(content, this.size + other.size)
};

// :: (number, ?number) → Fragment
// Cut out the sub-fragment between the two given positions.
Fragment.prototype.cut = function cut (from, to) {
    var this$1 = this;

  if (to == null) { to = this.size; }
  if (from == 0 && to == this.size) { return this }
  var result = [], size = 0;
  if (to > from) { for (var i = 0, pos = 0; pos < to; i++) {
    var child = this$1.content[i], end = pos + child.nodeSize;
    if (end > from) {
      if (pos < from || end > to) {
        if (child.isText)
          { child = child.cut(Math.max(0, from - pos), Math.min(child.text.length, to - pos)); }
        else
          { child = child.cut(Math.max(0, from - pos - 1), Math.min(child.content.size, to - pos - 1)); }
      }
      result.push(child);
      size += child.nodeSize;
    }
    pos = end;
  } }
  return new Fragment(result, size)
};

Fragment.prototype.cutByIndex = function cutByIndex (from, to) {
  if (from == to) { return Fragment.empty }
  if (from == 0 && to == this.content.length) { return this }
  return new Fragment(this.content.slice(from, to))
};

// :: (number, Node) → Fragment
// Create a new fragment in which the node at the given index is
// replaced by the given node.
Fragment.prototype.replaceChild = function replaceChild (index, node) {
  var current = this.content[index];
  if (current == node) { return this }
  var copy = this.content.slice();
  var size = this.size + node.nodeSize - current.nodeSize;
  copy[index] = node;
  return new Fragment(copy, size)
};

// : (Node) → Fragment
// Create a new fragment by prepending the given node to this
// fragment.
Fragment.prototype.addToStart = function addToStart (node) {
  return new Fragment([node].concat(this.content), this.size + node.nodeSize)
};

// : (Node) → Fragment
// Create a new fragment by appending the given node to this
// fragment.
Fragment.prototype.addToEnd = function addToEnd (node) {
  return new Fragment(this.content.concat(node), this.size + node.nodeSize)
};

// :: (Fragment) → bool
// Compare this fragment to another one.
Fragment.prototype.eq = function eq (other) {
    var this$1 = this;

  if (this.content.length != other.content.length) { return false }
  for (var i = 0; i < this.content.length; i++)
    { if (!this$1.content[i].eq(other.content[i])) { return false } }
  return true
};

// :: ?Node
// The first child of the fragment, or `null` if it is empty.
prototypeAccessors$1.firstChild.get = function () { return this.content.length ? this.content[0] : null };

// :: ?Node
// The last child of the fragment, or `null` if it is empty.
prototypeAccessors$1.lastChild.get = function () { return this.content.length ? this.content[this.content.length - 1] : null };

// :: number
// The number of child nodes in this fragment.
prototypeAccessors$1.childCount.get = function () { return this.content.length };

// :: (number) → Node
// Get the child node at the given index. Raise an error when the
// index is out of range.
Fragment.prototype.child = function child (index) {
  var found = this.content[index];
  if (!found) { throw new RangeError("Index " + index + " out of range for " + this) }
  return found
};

// :: (number) → ?Node
// Get the child node at the given index, if it exists.
Fragment.prototype.maybeChild = function maybeChild (index) {
  return this.content[index]
};

// :: ((node: Node, offset: number, index: number))
// Call `f` for every child node, passing the node, its offset
// into this parent node, and its index.
Fragment.prototype.forEach = function forEach (f) {
    var this$1 = this;

  for (var i = 0, p = 0; i < this.content.length; i++) {
    var child = this$1.content[i];
    f(child, p, i);
    p += child.nodeSize;
  }
};

// :: (Fragment) → ?number
// Find the first position at which this fragment and another
// fragment differ, or `null` if they are the same.
Fragment.prototype.findDiffStart = function findDiffStart$1 (other, pos) {
    if ( pos === void 0 ) pos = 0;

  return findDiffStart(this, other, pos)
};

// :: (Fragment) → ?{a: number, b: number}
// Find the first position, searching from the end, at which this
// fragment and the given fragment differ, or `null` if they are the
// same. Since this position will not be the same in both nodes, an
// object with two separate positions is returned.
Fragment.prototype.findDiffEnd = function findDiffEnd$1 (other, pos, otherPos) {
    if ( pos === void 0 ) pos = this.size;
    if ( otherPos === void 0 ) otherPos = other.size;

  return findDiffEnd(this, other, pos, otherPos)
};

// : (number, ?number) → {index: number, offset: number}
// Find the index and inner offset corresponding to a given relative
// position in this fragment. The result object will be reused
// (overwritten) the next time the function is called. (Not public.)
Fragment.prototype.findIndex = function findIndex (pos, round) {
    var this$1 = this;
    if ( round === void 0 ) round = -1;

  if (pos == 0) { return retIndex(0, pos) }
  if (pos == this.size) { return retIndex(this.content.length, pos) }
  if (pos > this.size || pos < 0) { throw new RangeError(("Position " + pos + " outside of fragment (" + (this) + ")")) }
  for (var i = 0, curPos = 0;; i++) {
    var cur = this$1.child(i), end = curPos + cur.nodeSize;
    if (end >= pos) {
      if (end == pos || round > 0) { return retIndex(i + 1, end) }
      return retIndex(i, curPos)
    }
    curPos = end;
  }
};

// :: () → string
// Return a debugging string that describes this fragment.
Fragment.prototype.toString = function toString () { return "<" + this.toStringInner() + ">" };

Fragment.prototype.toStringInner = function toStringInner () { return this.content.join(", ") };

// :: () → ?Object
// Create a JSON-serializeable representation of this fragment.
Fragment.prototype.toJSON = function toJSON () {
  return this.content.length ? this.content.map(function (n) { return n.toJSON(); }) : null
};

// :: (Schema, ?Object) → Fragment
// Deserialize a fragment from its JSON representation.
Fragment.fromJSON = function fromJSON (schema, value) {
  if (!value) { return Fragment.empty }
  if (!Array.isArray(value)) { throw new RangeError("Invalid input for Fragment.fromJSON") }
  return new Fragment(value.map(schema.nodeFromJSON))
};

// :: ([Node]) → Fragment
// Build a fragment from an array of nodes. Ensures that adjacent
// text nodes with the same marks are joined together.
Fragment.fromArray = function fromArray (array) {
  if (!array.length) { return Fragment.empty }
  var joined, size = 0;
  for (var i = 0; i < array.length; i++) {
    var node = array[i];
    size += node.nodeSize;
    if (i && node.isText && array[i - 1].sameMarkup(node)) {
      if (!joined) { joined = array.slice(0, i); }
      joined[joined.length - 1] = node.withText(joined[joined.length - 1].text + node.text);
    } else if (joined) {
      joined.push(node);
    }
  }
  return new Fragment(joined || array, size)
};

// :: (?union<Fragment, Node, [Node]>) → Fragment
// Create a fragment from something that can be interpreted as a set
// of nodes. For `null`, it returns the empty fragment. For a
// fragment, the fragment itself. For a node or array of nodes, a
// fragment containing those nodes.
Fragment.from = function from (nodes) {
  if (!nodes) { return Fragment.empty }
  if (nodes instanceof Fragment) { return nodes }
  if (Array.isArray(nodes)) { return this.fromArray(nodes) }
  return new Fragment([nodes], nodes.nodeSize)
};

Object.defineProperties( Fragment.prototype, prototypeAccessors$1 );

var found = {index: 0, offset: 0};
function retIndex(index, offset) {
  found.index = index;
  found.offset = offset;
  return found
}

// :: Fragment
// An empty fragment. Intended to be reused whenever a node doesn't
// contain anything (rather than allocating a new empty fragment for
// each leaf node).
Fragment.empty = new Fragment([], 0);

function compareDeep(a, b) {
  if (a === b) { return true }
  if (!(a && typeof a == "object") ||
      !(b && typeof b == "object")) { return false }
  var array = Array.isArray(a);
  if (Array.isArray(b) != array) { return false }
  if (array) {
    if (a.length != b.length) { return false }
    for (var i = 0; i < a.length; i++) { if (!compareDeep(a[i], b[i])) { return false } }
  } else {
    for (var p in a) { if (!(p in b) || !compareDeep(a[p], b[p])) { return false } }
    for (var p$1 in b) { if (!(p$1 in a)) { return false } }
  }
  return true
}

// ::- A mark is a piece of information that can be attached to a node,
// such as it being emphasized, in code font, or a link. It has a type
// and optionally a set of attributes that provide further information
// (such as the target of the link). Marks are created through a
// `Schema`, which controls which types exist and which
// attributes they have.
var Mark = function Mark(type, attrs) {
  // :: MarkType
  // The type of this mark.
  this.type = type;
  // :: Object
  // The attributes associated with this mark.
  this.attrs = attrs;
};

// :: ([Mark]) → [Mark]
// Given a set of marks, create a new set which contains this one as
// well, in the right position. If this mark is already in the set,
// the set itself is returned. If any marks that are set to be
// [exclusive](#model.MarkSpec.excludes) with this mark are present,
// those are replaced by this one.
Mark.prototype.addToSet = function addToSet (set) {
    var this$1 = this;

  var copy, placed = false;
  for (var i = 0; i < set.length; i++) {
    var other = set[i];
    if (this$1.eq(other)) { return set }
    if (this$1.type.excludes(other.type)) {
      if (!copy) { copy = set.slice(0, i); }
    } else if (other.type.excludes(this$1.type)) {
      return set
    } else {
      if (!placed && other.type.rank > this$1.type.rank) {
        if (!copy) { copy = set.slice(0, i); }
        copy.push(this$1);
        placed = true;
      }
      if (copy) { copy.push(other); }
    }
  }
  if (!copy) { copy = set.slice(); }
  if (!placed) { copy.push(this); }
  return copy
};

// :: ([Mark]) → [Mark]
// Remove this mark from the given set, returning a new set. If this
// mark is not in the set, the set itself is returned.
Mark.prototype.removeFromSet = function removeFromSet (set) {
    var this$1 = this;

  for (var i = 0; i < set.length; i++)
    { if (this$1.eq(set[i]))
      { return set.slice(0, i).concat(set.slice(i + 1)) } }
  return set
};

// :: ([Mark]) → bool
// Test whether this mark is in the given set of marks.
Mark.prototype.isInSet = function isInSet (set) {
    var this$1 = this;

  for (var i = 0; i < set.length; i++)
    { if (this$1.eq(set[i])) { return true } }
  return false
};

// :: (Mark) → bool
// Test whether this mark has the same type and attributes as
// another mark.
Mark.prototype.eq = function eq (other) {
  return this == other ||
    (this.type == other.type && compareDeep(this.attrs, other.attrs))
};

// :: () → Object
// Convert this mark to a JSON-serializeable representation.
Mark.prototype.toJSON = function toJSON () {
    var this$1 = this;

  var obj = {type: this.type.name};
  for (var _ in this$1.attrs) {
    obj.attrs = this$1.attrs;
    break
  }
  return obj
};

// :: (Schema, Object) → Mark
Mark.fromJSON = function fromJSON (schema, json) {
  if (!json) { throw new RangeError("Invalid input for Mark.fromJSON") }
  var type = schema.marks[json.type];
  if (!type) { throw new RangeError(("There is no mark type " + (json.type) + " in this schema")) }
  return type.create(json.attrs)
};

// :: ([Mark], [Mark]) → bool
// Test whether two sets of marks are identical.
Mark.sameSet = function sameSet (a, b) {
  if (a == b) { return true }
  if (a.length != b.length) { return false }
  for (var i = 0; i < a.length; i++)
    { if (!a[i].eq(b[i])) { return false } }
  return true
};

// :: (?union<Mark, [Mark]>) → [Mark]
// Create a properly sorted mark set from null, a single mark, or an
// unsorted array of marks.
Mark.setFrom = function setFrom (marks) {
  if (!marks || marks.length == 0) { return Mark.none }
  if (marks instanceof Mark) { return [marks] }
  var copy = marks.slice();
  copy.sort(function (a, b) { return a.type.rank - b.type.rank; });
  return copy
};

// :: [Mark] The empty set of marks.
Mark.none = [];

// ReplaceError:: class extends Error
// Error type raised by [`Node.replace`](#model.Node.replace) when
// given an invalid replacement.

function ReplaceError(message) {
  var err = Error.call(this, message);
  err.__proto__ = ReplaceError.prototype;
  return err
}

ReplaceError.prototype = Object.create(Error.prototype);
ReplaceError.prototype.constructor = ReplaceError;
ReplaceError.prototype.name = "ReplaceError";

// ::- A slice represents a piece cut out of a larger document. It
// stores not only a fragment, but also the depth up to which nodes on
// both side are ‘open’ (cut through).
var Slice = function Slice(content, openStart, openEnd) {
  // :: Fragment The slice's content.
  this.content = content;
  // :: number The open depth at the start.
  this.openStart = openStart;
  // :: number The open depth at the end.
  this.openEnd = openEnd;
};

var prototypeAccessors$2 = { size: {} };

// :: number
// The size this slice would add when inserted into a document.
prototypeAccessors$2.size.get = function () {
  return this.content.size - this.openStart - this.openEnd
};

Slice.prototype.insertAt = function insertAt (pos, fragment) {
  var content = insertInto(this.content, pos + this.openStart, fragment, null);
  return content && new Slice(content, this.openStart, this.openEnd)
};

Slice.prototype.removeBetween = function removeBetween (from, to) {
  return new Slice(removeRange(this.content, from + this.openStart, to + this.openStart), this.openStart, this.openEnd)
};

// :: (Slice) → bool
// Tests whether this slice is equal to another slice.
Slice.prototype.eq = function eq (other) {
  return this.content.eq(other.content) && this.openStart == other.openStart && this.openEnd == other.openEnd
};

Slice.prototype.toString = function toString () {
  return this.content + "(" + this.openStart + "," + this.openEnd + ")"
};

// :: () → ?Object
// Convert a slice to a JSON-serializable representation.
Slice.prototype.toJSON = function toJSON () {
  if (!this.content.size) { return null }
  var json = {content: this.content.toJSON()};
  if (this.openStart > 0) { json.openStart = this.openStart; }
  if (this.openEnd > 0) { json.openEnd = this.openEnd; }
  return json
};

// :: (Schema, ?Object) → Slice
// Deserialize a slice from its JSON representation.
Slice.fromJSON = function fromJSON (schema, json) {
  if (!json) { return Slice.empty }
  var openStart = json.openStart || 0, openEnd = json.openEnd || 0;
  if (typeof openStart != "number" || typeof openEnd != "number")
    { throw new RangeError("Invalid input for Slice.fromJSON") }
  return new Slice(Fragment.fromJSON(schema, json.content), json.openStart || 0, json.openEnd || 0)
};

// :: (Fragment, ?bool) → Slice
// Create a slice from a fragment by taking the maximum possible
// open value on both side of the fragment.
Slice.maxOpen = function maxOpen (fragment, openIsolating) {
    if ( openIsolating === void 0 ) openIsolating=true;

  var openStart = 0, openEnd = 0;
  for (var n = fragment.firstChild; n && !n.isLeaf && (openIsolating || !n.type.spec.isolating); n = n.firstChild) { openStart++; }
  for (var n$1 = fragment.lastChild; n$1 && !n$1.isLeaf && (openIsolating || !n$1.type.spec.isolating); n$1 = n$1.lastChild) { openEnd++; }
  return new Slice(fragment, openStart, openEnd)
};

Object.defineProperties( Slice.prototype, prototypeAccessors$2 );

function removeRange(content, from, to) {
  var ref = content.findIndex(from);
  var index = ref.index;
  var offset = ref.offset;
  var child = content.maybeChild(index);
  var ref$1 = content.findIndex(to);
  var indexTo = ref$1.index;
  var offsetTo = ref$1.offset;
  if (offset == from || child.isText) {
    if (offsetTo != to && !content.child(indexTo).isText) { throw new RangeError("Removing non-flat range") }
    return content.cut(0, from).append(content.cut(to))
  }
  if (index != indexTo) { throw new RangeError("Removing non-flat range") }
  return content.replaceChild(index, child.copy(removeRange(child.content, from - offset - 1, to - offset - 1)))
}

function insertInto(content, dist, insert, parent) {
  var ref = content.findIndex(dist);
  var index = ref.index;
  var offset = ref.offset;
  var child = content.maybeChild(index);
  if (offset == dist || child.isText) {
    if (parent && !parent.canReplace(index, index, insert)) { return null }
    return content.cut(0, dist).append(insert).append(content.cut(dist))
  }
  var inner = insertInto(child.content, dist - offset - 1, insert);
  return inner && content.replaceChild(index, child.copy(inner))
}

// :: Slice
// The empty slice.
Slice.empty = new Slice(Fragment.empty, 0, 0);

function replace($from, $to, slice) {
  if (slice.openStart > $from.depth)
    { throw new ReplaceError("Inserted content deeper than insertion position") }
  if ($from.depth - slice.openStart != $to.depth - slice.openEnd)
    { throw new ReplaceError("Inconsistent open depths") }
  return replaceOuter($from, $to, slice, 0)
}

function replaceOuter($from, $to, slice, depth) {
  var index = $from.index(depth), node = $from.node(depth);
  if (index == $to.index(depth) && depth < $from.depth - slice.openStart) {
    var inner = replaceOuter($from, $to, slice, depth + 1);
    return node.copy(node.content.replaceChild(index, inner))
  } else if (!slice.content.size) {
    return close(node, replaceTwoWay($from, $to, depth))
  } else if (!slice.openStart && !slice.openEnd && $from.depth == depth && $to.depth == depth) { // Simple, flat case
    var parent = $from.parent, content = parent.content;
    return close(parent, content.cut(0, $from.parentOffset).append(slice.content).append(content.cut($to.parentOffset)))
  } else {
    var ref = prepareSliceForReplace(slice, $from);
    var start = ref.start;
    var end = ref.end;
    return close(node, replaceThreeWay($from, start, end, $to, depth))
  }
}

function checkJoin(main, sub) {
  if (!sub.type.compatibleContent(main.type))
    { throw new ReplaceError("Cannot join " + sub.type.name + " onto " + main.type.name) }
}

function joinable($before, $after, depth) {
  var node = $before.node(depth);
  checkJoin(node, $after.node(depth));
  return node
}

function addNode(child, target) {
  var last = target.length - 1;
  if (last >= 0 && child.isText && child.sameMarkup(target[last]))
    { target[last] = child.withText(target[last].text + child.text); }
  else
    { target.push(child); }
}

function addRange($start, $end, depth, target) {
  var node = ($end || $start).node(depth);
  var startIndex = 0, endIndex = $end ? $end.index(depth) : node.childCount;
  if ($start) {
    startIndex = $start.index(depth);
    if ($start.depth > depth) {
      startIndex++;
    } else if ($start.textOffset) {
      addNode($start.nodeAfter, target);
      startIndex++;
    }
  }
  for (var i = startIndex; i < endIndex; i++) { addNode(node.child(i), target); }
  if ($end && $end.depth == depth && $end.textOffset)
    { addNode($end.nodeBefore, target); }
}

function close(node, content) {
  if (!node.type.validContent(content))
    { throw new ReplaceError("Invalid content for node " + node.type.name) }
  return node.copy(content)
}

function replaceThreeWay($from, $start, $end, $to, depth) {
  var openStart = $from.depth > depth && joinable($from, $start, depth + 1);
  var openEnd = $to.depth > depth && joinable($end, $to, depth + 1);

  var content = [];
  addRange(null, $from, depth, content);
  if (openStart && openEnd && $start.index(depth) == $end.index(depth)) {
    checkJoin(openStart, openEnd);
    addNode(close(openStart, replaceThreeWay($from, $start, $end, $to, depth + 1)), content);
  } else {
    if (openStart)
      { addNode(close(openStart, replaceTwoWay($from, $start, depth + 1)), content); }
    addRange($start, $end, depth, content);
    if (openEnd)
      { addNode(close(openEnd, replaceTwoWay($end, $to, depth + 1)), content); }
  }
  addRange($to, null, depth, content);
  return new Fragment(content)
}

function replaceTwoWay($from, $to, depth) {
  var content = [];
  addRange(null, $from, depth, content);
  if ($from.depth > depth) {
    var type = joinable($from, $to, depth + 1);
    addNode(close(type, replaceTwoWay($from, $to, depth + 1)), content);
  }
  addRange($to, null, depth, content);
  return new Fragment(content)
}

function prepareSliceForReplace(slice, $along) {
  var extra = $along.depth - slice.openStart, parent = $along.node(extra);
  var node = parent.copy(slice.content);
  for (var i = extra - 1; i >= 0; i--)
    { node = $along.node(i).copy(Fragment.from(node)); }
  return {start: node.resolveNoCache(slice.openStart + extra),
          end: node.resolveNoCache(node.content.size - slice.openEnd - extra)}
}

// ::- You can [_resolve_](#model.Node.resolve) a position to get more
// information about it. Objects of this class represent such a
// resolved position, providing various pieces of context information,
// and some helper methods.
//
// Throughout this interface, methods that take an optional `depth`
// parameter will interpret undefined as `this.depth` and negative
// numbers as `this.depth + value`.
var ResolvedPos = function ResolvedPos(pos, path, parentOffset) {
  // :: number The position that was resolved.
  this.pos = pos;
  this.path = path;
  // :: number
  // The number of levels the parent node is from the root. If this
  // position points directly into the root node, it is 0. If it
  // points into a top-level paragraph, 1, and so on.
  this.depth = path.length / 3 - 1;
  // :: number The offset this position has into its parent node.
  this.parentOffset = parentOffset;
};

var prototypeAccessors$3 = { parent: {},doc: {},textOffset: {},nodeAfter: {},nodeBefore: {} };

ResolvedPos.prototype.resolveDepth = function resolveDepth (val) {
  if (val == null) { return this.depth }
  if (val < 0) { return this.depth + val }
  return val
};

// :: Node
// The parent node that the position points into. Note that even if
// a position points into a text node, that node is not considered
// the parent—text nodes are ‘flat’ in this model, and have no content.
prototypeAccessors$3.parent.get = function () { return this.node(this.depth) };

// :: Node
// The root node in which the position was resolved.
prototypeAccessors$3.doc.get = function () { return this.node(0) };

// :: (?number) → Node
// The ancestor node at the given level. `p.node(p.depth)` is the
// same as `p.parent`.
ResolvedPos.prototype.node = function node (depth) { return this.path[this.resolveDepth(depth) * 3] };

// :: (?number) → number
// The index into the ancestor at the given level. If this points at
// the 3rd node in the 2nd paragraph on the top level, for example,
// `p.index(0)` is 2 and `p.index(1)` is 3.
ResolvedPos.prototype.index = function index (depth) { return this.path[this.resolveDepth(depth) * 3 + 1] };

// :: (?number) → number
// The index pointing after this position into the ancestor at the
// given level.
ResolvedPos.prototype.indexAfter = function indexAfter (depth) {
  depth = this.resolveDepth(depth);
  return this.index(depth) + (depth == this.depth && !this.textOffset ? 0 : 1)
};

// :: (?number) → number
// The (absolute) position at the start of the node at the given
// level.
ResolvedPos.prototype.start = function start (depth) {
  depth = this.resolveDepth(depth);
  return depth == 0 ? 0 : this.path[depth * 3 - 1] + 1
};

// :: (?number) → number
// The (absolute) position at the end of the node at the given
// level.
ResolvedPos.prototype.end = function end (depth) {
  depth = this.resolveDepth(depth);
  return this.start(depth) + this.node(depth).content.size
};

// :: (?number) → number
// The (absolute) position directly before the wrapping node at the
// given level, or, when `level` is `this.depth + 1`, the original
// position.
ResolvedPos.prototype.before = function before (depth) {
  depth = this.resolveDepth(depth);
  if (!depth) { throw new RangeError("There is no position before the top-level node") }
  return depth == this.depth + 1 ? this.pos : this.path[depth * 3 - 1]
};

// :: (?number) → number
// The (absolute) position directly after the wrapping node at the
// given level, or the original position when `level` is `this.depth + 1`.
ResolvedPos.prototype.after = function after (depth) {
  depth = this.resolveDepth(depth);
  if (!depth) { throw new RangeError("There is no position after the top-level node") }
  return depth == this.depth + 1 ? this.pos : this.path[depth * 3 - 1] + this.path[depth * 3].nodeSize
};

// :: number
// When this position points into a text node, this returns the
// distance between the position and the start of the text node.
// Will be zero for positions that point between nodes.
prototypeAccessors$3.textOffset.get = function () { return this.pos - this.path[this.path.length - 1] };

// :: ?Node
// Get the node directly after the position, if any. If the position
// points into a text node, only the part of that node after the
// position is returned.
prototypeAccessors$3.nodeAfter.get = function () {
  var parent = this.parent, index = this.index(this.depth);
  if (index == parent.childCount) { return null }
  var dOff = this.pos - this.path[this.path.length - 1], child = parent.child(index);
  return dOff ? parent.child(index).cut(dOff) : child
};

// :: ?Node
// Get the node directly before the position, if any. If the
// position points into a text node, only the part of that node
// before the position is returned.
prototypeAccessors$3.nodeBefore.get = function () {
  var index = this.index(this.depth);
  var dOff = this.pos - this.path[this.path.length - 1];
  if (dOff) { return this.parent.child(index).cut(0, dOff) }
  return index == 0 ? null : this.parent.child(index - 1)
};

// :: () → [Mark]
// Get the marks at this position, factoring in the surrounding
// marks' [`inclusive`](#model.MarkSpec.inclusive) property. If the
// position is at the start of a non-empty node, the marks of the
// node after it (if any) are returned.
ResolvedPos.prototype.marks = function marks () {
  var parent = this.parent, index = this.index();

  // In an empty parent, return the empty array
  if (parent.content.size == 0) { return Mark.none }

  // When inside a text node, just return the text node's marks
  if (this.textOffset) { return parent.child(index).marks }

  var main = parent.maybeChild(index - 1), other = parent.maybeChild(index);
  // If the `after` flag is true of there is no node before, make
  // the node after this position the main reference.
  if (!main) { var tmp = main; main = other; other = tmp; }

  // Use all marks in the main node, except those that have
  // `inclusive` set to false and are not present in the other node.
  var marks = main.marks;
  for (var i = 0; i < marks.length; i++)
    { if (marks[i].type.spec.inclusive === false && (!other || !marks[i].isInSet(other.marks)))
      { marks = marks[i--].removeFromSet(marks); } }

  return marks
};

// :: (ResolvedPos) → ?[Mark]
// Get the marks after the current position, if any, except those
// that are non-inclusive and not present at position `$end`. This
// is mostly useful for getting the set of marks to preserve after a
// deletion. Will return `null` if this position is at the end of
// its parent node or its parent node isn't a textblock (in which
// case no marks should be preserved).
ResolvedPos.prototype.marksAcross = function marksAcross ($end) {
  var after = this.parent.maybeChild(this.index());
  if (!after || !after.isInline) { return null }

  var marks = after.marks, next = $end.parent.maybeChild($end.index());
  for (var i = 0; i < marks.length; i++)
    { if (marks[i].type.spec.inclusive === false && (!next || !marks[i].isInSet(next.marks)))
      { marks = marks[i--].removeFromSet(marks); } }
  return marks
};

// :: (number) → number
// The depth up to which this position and the given (non-resolved)
// position share the same parent nodes.
ResolvedPos.prototype.sharedDepth = function sharedDepth (pos) {
    var this$1 = this;

  for (var depth = this.depth; depth > 0; depth--)
    { if (this$1.start(depth) <= pos && this$1.end(depth) >= pos) { return depth } }
  return 0
};

// :: (?ResolvedPos, ?(Node) → bool) → ?NodeRange
// Returns a range based on the place where this position and the
// given position diverge around block content. If both point into
// the same textblock, for example, a range around that textblock
// will be returned. If they point into different blocks, the range
// around those blocks in their shared ancestor is returned. You can
// pass in an optional predicate that will be called with a parent
// node to see if a range into that parent is acceptable.
ResolvedPos.prototype.blockRange = function blockRange (other, pred) {
    var this$1 = this;
    if ( other === void 0 ) other = this;

  if (other.pos < this.pos) { return other.blockRange(this) }
  for (var d = this.depth - (this.parent.inlineContent || this.pos == other.pos ? 1 : 0); d >= 0; d--)
    { if (other.pos <= this$1.end(d) && (!pred || pred(this$1.node(d))))
      { return new NodeRange(this$1, other, d) } }
};

// :: (ResolvedPos) → bool
// Query whether the given position shares the same parent node.
ResolvedPos.prototype.sameParent = function sameParent (other) {
  return this.pos - this.parentOffset == other.pos - other.parentOffset
};

// :: (ResolvedPos) → ResolvedPos
// Return the greater of this and the given position.
ResolvedPos.prototype.max = function max (other) {
  return other.pos > this.pos ? other : this
};

// :: (ResolvedPos) → ResolvedPos
// Return the smaller of this and the given position.
ResolvedPos.prototype.min = function min (other) {
  return other.pos < this.pos ? other : this
};

ResolvedPos.prototype.toString = function toString () {
    var this$1 = this;

  var str = "";
  for (var i = 1; i <= this.depth; i++)
    { str += (str ? "/" : "") + this$1.node(i).type.name + "_" + this$1.index(i - 1); }
  return str + ":" + this.parentOffset
};

ResolvedPos.resolve = function resolve (doc, pos) {
  if (!(pos >= 0 && pos <= doc.content.size)) { throw new RangeError("Position " + pos + " out of range") }
  var path = [];
  var start = 0, parentOffset = pos;
  for (var node = doc;;) {
    var ref = node.content.findIndex(parentOffset);
      var index = ref.index;
      var offset = ref.offset;
    var rem = parentOffset - offset;
    path.push(node, index, start + offset);
    if (!rem) { break }
    node = node.child(index);
    if (node.isText) { break }
    parentOffset = rem - 1;
    start += offset + 1;
  }
  return new ResolvedPos(pos, path, parentOffset)
};

ResolvedPos.resolveCached = function resolveCached (doc, pos) {
  for (var i = 0; i < resolveCache.length; i++) {
    var cached = resolveCache[i];
    if (cached.pos == pos && cached.doc == doc) { return cached }
  }
  var result = resolveCache[resolveCachePos] = ResolvedPos.resolve(doc, pos);
  resolveCachePos = (resolveCachePos + 1) % resolveCacheSize;
  return result
};

Object.defineProperties( ResolvedPos.prototype, prototypeAccessors$3 );

var resolveCache = [];
var resolveCachePos = 0;
var resolveCacheSize = 12;

// ::- Represents a flat range of content, i.e. one that starts and
// ends in the same node.
var NodeRange = function NodeRange($from, $to, depth) {
  // :: ResolvedPos A resolved position along the start of the
  // content. May have a `depth` greater than this object's `depth`
  // property, since these are the positions that were used to
  // compute the range, not re-resolved positions directly at its
  // boundaries.
  this.$from = $from;
  // :: ResolvedPos A position along the end of the content. See
  // caveat for [`$from`](#model.NodeRange.$from).
  this.$to = $to;
  // :: number The depth of the node that this range points into.
  this.depth = depth;
};

var prototypeAccessors$1$1 = { start: {},end: {},parent: {},startIndex: {},endIndex: {} };

// :: number The position at the start of the range.
prototypeAccessors$1$1.start.get = function () { return this.$from.before(this.depth + 1) };
// :: number The position at the end of the range.
prototypeAccessors$1$1.end.get = function () { return this.$to.after(this.depth + 1) };

// :: Node The parent node that the range points into.
prototypeAccessors$1$1.parent.get = function () { return this.$from.node(this.depth) };
// :: number The start index of the range in the parent node.
prototypeAccessors$1$1.startIndex.get = function () { return this.$from.index(this.depth) };
// :: number The end index of the range in the parent node.
prototypeAccessors$1$1.endIndex.get = function () { return this.$to.indexAfter(this.depth) };

Object.defineProperties( NodeRange.prototype, prototypeAccessors$1$1 );

var emptyAttrs = Object.create(null);

// ::- This class represents a node in the tree that makes up a
// ProseMirror document. So a document is an instance of `Node`, with
// children that are also instances of `Node`.
//
// Nodes are persistent data structures. Instead of changing them, you
// create new ones with the content you want. Old ones keep pointing
// at the old document shape. This is made cheaper by sharing
// structure between the old and new data as much as possible, which a
// tree shape like this (without back pointers) makes easy.
//
// **Do not** directly mutate the properties of a `Node` object. See
// [the guide](/docs/guide/#doc) for more information.
var Node = function Node(type, attrs, content, marks) {
  // :: NodeType
  // The type of node that this is.
  this.type = type;

  // :: Object
  // An object mapping attribute names to values. The kind of
  // attributes allowed and required are
  // [determined](#model.NodeSpec.attrs) by the node type.
  this.attrs = attrs;

  // :: Fragment
  // A container holding the node's children.
  this.content = content || Fragment.empty;

  // :: [Mark]
  // The marks (things like whether it is emphasized or part of a
  // link) applied to this node.
  this.marks = marks || Mark.none;
};

var prototypeAccessors = { nodeSize: {},childCount: {},textContent: {},firstChild: {},lastChild: {},isBlock: {},isTextblock: {},inlineContent: {},isInline: {},isText: {},isLeaf: {},isAtom: {} };

// text:: ?string
// For text nodes, this contains the node's text content.

// :: number
// The size of this node, as defined by the integer-based [indexing
// scheme](/docs/guide/#doc.indexing). For text nodes, this is the
// amount of characters. For other leaf nodes, it is one. For
// non-leaf nodes, it is the size of the content plus two (the start
// and end token).
prototypeAccessors.nodeSize.get = function () { return this.isLeaf ? 1 : 2 + this.content.size };

// :: number
// The number of children that the node has.
prototypeAccessors.childCount.get = function () { return this.content.childCount };

// :: (number) → Node
// Get the child node at the given index. Raises an error when the
// index is out of range.
Node.prototype.child = function child (index) { return this.content.child(index) };

// :: (number) → ?Node
// Get the child node at the given index, if it exists.
Node.prototype.maybeChild = function maybeChild (index) { return this.content.maybeChild(index) };

// :: ((node: Node, offset: number, index: number))
// Call `f` for every child node, passing the node, its offset
// into this parent node, and its index.
Node.prototype.forEach = function forEach (f) { this.content.forEach(f); };

// :: (number, number, (node: Node, pos: number, parent: Node, index: number) → ?bool, ?number)
// Invoke a callback for all descendant nodes recursively between
// the given two positions that are relative to start of this node's
// content. The callback is invoked with the node, its
// parent-relative position, its parent node, and its child index.
// When the callback returns false for a given node, that node's
// children will not be recursed over. The last parameter can be
// used to specify a starting position to count from.
Node.prototype.nodesBetween = function nodesBetween (from, to, f, startPos) {
    if ( startPos === void 0 ) startPos = 0;

  this.content.nodesBetween(from, to, f, startPos, this);
};

// :: ((node: Node, pos: number, parent: Node) → ?bool)
// Call the given callback for every descendant node. Doesn't
// descend into a node when the callback returns `false`.
Node.prototype.descendants = function descendants (f) {
  this.nodesBetween(0, this.content.size, f);
};

// :: string
// Concatenates all the text nodes found in this fragment and its
// children.
prototypeAccessors.textContent.get = function () { return this.textBetween(0, this.content.size, "") };

// :: (number, number, ?string, ?string) → string
// Get all text between positions `from` and `to`. When
// `blockSeparator` is given, it will be inserted whenever a new
// block node is started. When `leafText` is given, it'll be
// inserted for every non-text leaf node encountered.
Node.prototype.textBetween = function textBetween (from, to, blockSeparator, leafText) {
  return this.content.textBetween(from, to, blockSeparator, leafText)
};

// :: ?Node
// Returns this node's first child, or `null` if there are no
// children.
prototypeAccessors.firstChild.get = function () { return this.content.firstChild };

// :: ?Node
// Returns this node's last child, or `null` if there are no
// children.
prototypeAccessors.lastChild.get = function () { return this.content.lastChild };

// :: (Node) → bool
// Test whether two nodes represent the same piece of document.
Node.prototype.eq = function eq (other) {
  return this == other || (this.sameMarkup(other) && this.content.eq(other.content))
};

// :: (Node) → bool
// Compare the markup (type, attributes, and marks) of this node to
// those of another. Returns `true` if both have the same markup.
Node.prototype.sameMarkup = function sameMarkup (other) {
  return this.hasMarkup(other.type, other.attrs, other.marks)
};

// :: (NodeType, ?Object, ?[Mark]) → bool
// Check whether this node's markup correspond to the given type,
// attributes, and marks.
Node.prototype.hasMarkup = function hasMarkup (type, attrs, marks) {
  return this.type == type &&
    compareDeep(this.attrs, attrs || type.defaultAttrs || emptyAttrs) &&
    Mark.sameSet(this.marks, marks || Mark.none)
};

// :: (?Fragment) → Node
// Create a new node with the same markup as this node, containing
// the given content (or empty, if no content is given).
Node.prototype.copy = function copy (content) {
    if ( content === void 0 ) content = null;

  if (content == this.content) { return this }
  return new this.constructor(this.type, this.attrs, content, this.marks)
};

// :: ([Mark]) → Node
// Create a copy of this node, with the given set of marks instead
// of the node's own marks.
Node.prototype.mark = function mark (marks) {
  return marks == this.marks ? this : new this.constructor(this.type, this.attrs, this.content, marks)
};

// :: (number, ?number) → Node
// Create a copy of this node with only the content between the
// given positions. If `to` is not given, it defaults to the end of
// the node.
Node.prototype.cut = function cut (from, to) {
  if (from == 0 && to == this.content.size) { return this }
  return this.copy(this.content.cut(from, to))
};

// :: (number, ?number) → Slice
// Cut out the part of the document between the given positions, and
// return it as a `Slice` object.
Node.prototype.slice = function slice (from, to, includeParents) {
    if ( to === void 0 ) to = this.content.size;
    if ( includeParents === void 0 ) includeParents = false;

  if (from == to) { return Slice.empty }

  var $from = this.resolve(from), $to = this.resolve(to);
  var depth = includeParents ? 0 : $from.sharedDepth(to);
  var start = $from.start(depth), node = $from.node(depth);
  var content = node.content.cut($from.pos - start, $to.pos - start);
  return new Slice(content, $from.depth - depth, $to.depth - depth)
};

// :: (number, number, Slice) → Node
// Replace the part of the document between the given positions with
// the given slice. The slice must 'fit', meaning its open sides
// must be able to connect to the surrounding content, and its
// content nodes must be valid children for the node they are placed
// into. If any of this is violated, an error of type
// [`ReplaceError`](#model.ReplaceError) is thrown.
Node.prototype.replace = function replace$1 (from, to, slice) {
  return replace(this.resolve(from), this.resolve(to), slice)
};

// :: (number) → ?Node
// Find the node directly after the given position.
Node.prototype.nodeAt = function nodeAt (pos) {
  for (var node = this;;) {
    var ref = node.content.findIndex(pos);
      var index = ref.index;
      var offset = ref.offset;
    node = node.maybeChild(index);
    if (!node) { return null }
    if (offset == pos || node.isText) { return node }
    pos -= offset + 1;
  }
};

// :: (number) → {node: ?Node, index: number, offset: number}
// Find the (direct) child node after the given offset, if any,
// and return it along with its index and offset relative to this
// node.
Node.prototype.childAfter = function childAfter (pos) {
  var ref = this.content.findIndex(pos);
    var index = ref.index;
    var offset = ref.offset;
  return {node: this.content.maybeChild(index), index: index, offset: offset}
};

// :: (number) → {node: ?Node, index: number, offset: number}
// Find the (direct) child node before the given offset, if any,
// and return it along with its index and offset relative to this
// node.
Node.prototype.childBefore = function childBefore (pos) {
  if (pos == 0) { return {node: null, index: 0, offset: 0} }
  var ref = this.content.findIndex(pos);
    var index = ref.index;
    var offset = ref.offset;
  if (offset < pos) { return {node: this.content.child(index), index: index, offset: offset} }
  var node = this.content.child(index - 1);
  return {node: node, index: index - 1, offset: offset - node.nodeSize}
};

// :: (number) → ResolvedPos
// Resolve the given position in the document, returning an
// [object](#model.ResolvedPos) with information about its context.
Node.prototype.resolve = function resolve (pos) { return ResolvedPos.resolveCached(this, pos) };

Node.prototype.resolveNoCache = function resolveNoCache (pos) { return ResolvedPos.resolve(this, pos) };

// :: (number, number, MarkType) → bool
// Test whether a mark of the given type occurs in this document
// between the two given positions.
Node.prototype.rangeHasMark = function rangeHasMark (from, to, type) {
  var found = false;
  if (to > from) { this.nodesBetween(from, to, function (node) {
    if (type.isInSet(node.marks)) { found = true; }
    return !found
  }); }
  return found
};

// :: bool
// True when this is a block (non-inline node)
prototypeAccessors.isBlock.get = function () { return this.type.isBlock };

// :: bool
// True when this is a textblock node, a block node with inline
// content.
prototypeAccessors.isTextblock.get = function () { return this.type.isTextblock };

// :: bool
// True when this node has inline content.
prototypeAccessors.inlineContent.get = function () { return this.type.inlineContent };

// :: bool
// True when this is an inline node (a text node or a node that can
// appear among text).
prototypeAccessors.isInline.get = function () { return this.type.isInline };

// :: bool
// True when this is a text node.
prototypeAccessors.isText.get = function () { return this.type.isText };

// :: bool
// True when this is a leaf node.
prototypeAccessors.isLeaf.get = function () { return this.type.isLeaf };

// :: bool
// True when this is an atom, i.e. when it does not have directly
// editable content. This is usually the same as `isLeaf`, but can
// be configured with the [`atom` property](#model.NodeSpec.atom) on
// a node's spec (typically used when the node is displayed as an
// uneditable [node view](#view.NodeView)).
prototypeAccessors.isAtom.get = function () { return this.type.isAtom };

// :: () → string
// Return a string representation of this node for debugging
// purposes.
Node.prototype.toString = function toString () {
  var name = this.type.name;
  if (this.content.size)
    { name += "(" + this.content.toStringInner() + ")"; }
  return wrapMarks(this.marks, name)
};

// :: (number) → ContentMatch
// Get the content match in this node at the given index.
Node.prototype.contentMatchAt = function contentMatchAt (index) {
  return this.type.contentMatch.matchFragment(this.content, 0, index)
};

// :: (number, number, ?Fragment, ?number, ?number) → bool
// Test whether replacing the range between `from` and `to` (by
// child index) with the given replacement fragment (which defaults
// to the empty fragment) would leave the node's content valid. You
// can optionally pass `start` and `end` indices into the
// replacement fragment.
Node.prototype.canReplace = function canReplace (from, to, replacement, start, end) {
    var this$1 = this;
    if ( replacement === void 0 ) replacement = Fragment.empty;
    if ( start === void 0 ) start = 0;
    if ( end === void 0 ) end = replacement.childCount;

  var one = this.contentMatchAt(from).matchFragment(replacement, start, end);
  var two = one && one.matchFragment(this.content, to);
  if (!two || !two.validEnd) { return false }
  for (var i = start; i < end; i++) { if (!this$1.type.allowsMarks(replacement.child(i).marks)) { return false } }
  return true
};

// :: (number, number, NodeType, ?[Mark]) → bool
// Test whether replacing the range `from` to `to` (by index) with a
// node of the given type would leave the node's content valid.
Node.prototype.canReplaceWith = function canReplaceWith (from, to, type, marks) {
  if (marks && !this.type.allowsMarks(marks)) { return false }
  var start = this.contentMatchAt(from).matchType(type);
  var end = start && start.matchFragment(this.content, to);
  return end ? end.validEnd : false
};

// :: (Node) → bool
// Test whether the given node's content could be appended to this
// node. If that node is empty, this will only return true if there
// is at least one node type that can appear in both nodes (to avoid
// merging completely incompatible nodes).
Node.prototype.canAppend = function canAppend (other) {
  if (other.content.size) { return this.canReplace(this.childCount, this.childCount, other.content) }
  else { return this.type.compatibleContent(other.type) }
};

// Unused. Left for backwards compatibility.
Node.prototype.defaultContentType = function defaultContentType (at) {
  return this.contentMatchAt(at).defaultType
};

// :: ()
// Check whether this node and its descendants conform to the
// schema, and raise error when they do not.
Node.prototype.check = function check () {
  if (!this.type.validContent(this.content))
    { throw new RangeError(("Invalid content for node " + (this.type.name) + ": " + (this.content.toString().slice(0, 50)))) }
  this.content.forEach(function (node) { return node.check(); });
};

// :: () → Object
// Return a JSON-serializeable representation of this node.
Node.prototype.toJSON = function toJSON () {
    var this$1 = this;

  var obj = {type: this.type.name};
  for (var _ in this$1.attrs) {
    obj.attrs = this$1.attrs;
    break
  }
  if (this.content.size)
    { obj.content = this.content.toJSON(); }
  if (this.marks.length)
    { obj.marks = this.marks.map(function (n) { return n.toJSON(); }); }
  return obj
};

// :: (Schema, Object) → Node
// Deserialize a node from its JSON representation.
Node.fromJSON = function fromJSON (schema, json) {
  if (!json) { throw new RangeError("Invalid input for Node.fromJSON") }
  var marks = null;
  if (json.marks) {
    if (!Array.isArray(json.marks)) { throw new RangeError("Invalid mark data for Node.fromJSON") }
    marks = json.marks.map(schema.markFromJSON);
  }
  if (json.type == "text") {
    if (typeof json.text != "string") { throw new RangeError("Invalid text node in JSON") }
    return schema.text(json.text, marks)
  }
  var content = Fragment.fromJSON(schema, json.content);
  return schema.nodeType(json.type).create(json.attrs, content, marks)
};

Object.defineProperties( Node.prototype, prototypeAccessors );

var TextNode = (function (Node) {
  function TextNode(type, attrs, content, marks) {
    Node.call(this, type, attrs, null, marks);

    if (!content) { throw new RangeError("Empty text nodes are not allowed") }

    this.text = content;
  }

  if ( Node ) TextNode.__proto__ = Node;
  TextNode.prototype = Object.create( Node && Node.prototype );
  TextNode.prototype.constructor = TextNode;

  var prototypeAccessors$1 = { textContent: {},nodeSize: {} };

  TextNode.prototype.toString = function toString () { return wrapMarks(this.marks, JSON.stringify(this.text)) };

  prototypeAccessors$1.textContent.get = function () { return this.text };

  TextNode.prototype.textBetween = function textBetween (from, to) { return this.text.slice(from, to) };

  prototypeAccessors$1.nodeSize.get = function () { return this.text.length };

  TextNode.prototype.mark = function mark (marks) {
    return marks == this.marks ? this : new TextNode(this.type, this.attrs, this.text, marks)
  };

  TextNode.prototype.withText = function withText (text) {
    if (text == this.text) { return this }
    return new TextNode(this.type, this.attrs, text, this.marks)
  };

  TextNode.prototype.cut = function cut (from, to) {
    if ( from === void 0 ) from = 0;
    if ( to === void 0 ) to = this.text.length;

    if (from == 0 && to == this.text.length) { return this }
    return this.withText(this.text.slice(from, to))
  };

  TextNode.prototype.eq = function eq (other) {
    return this.sameMarkup(other) && this.text == other.text
  };

  TextNode.prototype.toJSON = function toJSON () {
    var base = Node.prototype.toJSON.call(this);
    base.text = this.text;
    return base
  };

  Object.defineProperties( TextNode.prototype, prototypeAccessors$1 );

  return TextNode;
}(Node));

function wrapMarks(marks, str) {
  for (var i = marks.length - 1; i >= 0; i--)
    { str = marks[i].type.name + "(" + str + ")"; }
  return str
}

// ::- Instances of this class represent a match state of a node
// type's [content expression](#model.NodeSpec.content), and can be
// used to find out whether further content matches here, and whether
// a given position is a valid end of the node.
var ContentMatch = function ContentMatch(validEnd) {
  // :: bool
  // True when this match state represents a valid end of the node.
  this.validEnd = validEnd;
  this.next = [];
  this.wrapCache = [];
};

var prototypeAccessors$5 = { inlineContent: {},defaultType: {},edgeCount: {} };

ContentMatch.parse = function parse (string, nodeTypes) {
  var stream = new TokenStream(string, nodeTypes);
  if (stream.next == null) { return ContentMatch.empty }
  var expr = parseExpr(stream);
  if (stream.next) { stream.err("Unexpected trailing text"); }
  var match = dfa(nfa(expr));
  checkForDeadEnds(match, stream);
  return match
};

// :: (NodeType) → ?ContentMatch
// Match a node type, returning a match after that node if
// successful.
ContentMatch.prototype.matchType = function matchType (type) {
    var this$1 = this;

  for (var i = 0; i < this.next.length; i += 2)
    { if (this$1.next[i] == type) { return this$1.next[i + 1] } }
  return null
};

// :: (Fragment, ?number, ?number) → ?ContentMatch
// Try to match a fragment. Returns the resulting match when
// successful.
ContentMatch.prototype.matchFragment = function matchFragment (frag, start, end) {
    if ( start === void 0 ) start = 0;
    if ( end === void 0 ) end = frag.childCount;

  var cur = this;
  for (var i = start; cur && i < end; i++)
    { cur = cur.matchType(frag.child(i).type); }
  return cur
};

prototypeAccessors$5.inlineContent.get = function () {
  var first = this.next[0];
  return first ? first.isInline : false
};

// :: ?NodeType
// Get the first matching node type at this match position that can
// be generated.
prototypeAccessors$5.defaultType.get = function () {
    var this$1 = this;

  for (var i = 0; i < this.next.length; i += 2) {
    var type = this$1.next[i];
    if (!(type.isText || type.hasRequiredAttrs())) { return type }
  }
};

ContentMatch.prototype.compatible = function compatible (other) {
    var this$1 = this;

  for (var i = 0; i < this.next.length; i += 2)
    { for (var j = 0; j < other.next.length; j += 2)
      { if (this$1.next[i] == other.next[j]) { return true } } }
  return false
};

// :: (Fragment, bool, ?number) → ?Fragment
// Try to match the given fragment, and if that fails, see if it can
// be made to match by inserting nodes in front of it. When
// successful, return a fragment of inserted nodes (which may be
// empty if nothing had to be inserted). When `toEnd` is true, only
// return a fragment if the resulting match goes to the end of the
// content expression.
ContentMatch.prototype.fillBefore = function fillBefore (after, toEnd, startIndex) {
    if ( toEnd === void 0 ) toEnd = false;
    if ( startIndex === void 0 ) startIndex = 0;

  var seen = [this];
  function search(match, types) {
    var finished = match.matchFragment(after, startIndex);
    if (finished && (!toEnd || finished.validEnd))
      { return Fragment.from(types.map(function (tp) { return tp.createAndFill(); })) }

    for (var i = 0; i < match.next.length; i += 2) {
      var type = match.next[i], next = match.next[i + 1];
      if (!(type.isText || type.hasRequiredAttrs()) && seen.indexOf(next) == -1) {
        seen.push(next);
        var found = search(next, types.concat(type));
        if (found) { return found }
      }
    }
  }

  return search(this, [])
};

// :: (NodeType) → ?[NodeType]
// Find a set of wrapping node types that would allow a node of the
// given type to appear at this position. The result may be empty
// (when it fits directly) and will be null when no such wrapping
// exists.
ContentMatch.prototype.findWrapping = function findWrapping (target) {
    var this$1 = this;

  for (var i = 0; i < this.wrapCache.length; i += 2)
    { if (this$1.wrapCache[i] == target) { return this$1.wrapCache[i + 1] } }
  var computed = this.computeWrapping(target);
  this.wrapCache.push(target, computed);
  return computed
};

ContentMatch.prototype.computeWrapping = function computeWrapping (target) {
  var seen = Object.create(null), active = [{match: this, type: null, via: null}];
  while (active.length) {
    var current = active.shift(), match = current.match;
    if (match.matchType(target)) {
      var result = [];
      for (var obj = current; obj.type; obj = obj.via)
        { result.push(obj.type); }
      return result.reverse()
    }
    for (var i = 0; i < match.next.length; i += 2) {
      var type = match.next[i];
      if (!type.isLeaf && !(type.name in seen) && (!current.type || match.next[i + 1].validEnd)) {
        active.push({match: type.contentMatch, type: type, via: current});
        seen[type.name] = true;
      }
    }
  }
};

// :: number
// The number of outgoing edges this node has in the finite
// automaton that describes the content expression.
prototypeAccessors$5.edgeCount.get = function () {
  return this.next.length >> 1
};

// :: (number) → {type: NodeType, next: ContentMatch}
// Get the _n_th outgoing edge from this node in the finite
// automaton that describes the content expression.
ContentMatch.prototype.edge = function edge (n) {
  var i = n << 1;
  if (i > this.next.length) { throw new RangeError(("There's no " + n + "th edge in this content match")) }
  return {type: this.next[i], next: this.next[i + 1]}
};

ContentMatch.prototype.toString = function toString () {
  var seen = [];
  function scan(m) {
    seen.push(m);
    for (var i = 1; i < m.next.length; i += 2)
      { if (seen.indexOf(m.next[i]) == -1) { scan(m.next[i]); } }
  }
  scan(this);
  return seen.map(function (m, i) {
    var out = i + (m.validEnd ? "*" : " ") + " ";
    for (var i$1 = 0; i$1 < m.next.length; i$1 += 2)
      { out += (i$1 ? ", " : "") + m.next[i$1].name + "->" + seen.indexOf(m.next[i$1 + 1]); }
    return out
  }).join("\n")
};

Object.defineProperties( ContentMatch.prototype, prototypeAccessors$5 );

ContentMatch.empty = new ContentMatch(true);

var TokenStream = function TokenStream(string, nodeTypes) {
  this.string = string;
  this.nodeTypes = nodeTypes;
  this.inline = null;
  this.pos = 0;
  this.tokens = string.split(/\s*(?=\b|\W|$)/);
  if (this.tokens[this.tokens.length - 1] == "") { this.tokens.pop(); }
  if (this.tokens[0] == "") { this.tokens.unshift(); }
};

var prototypeAccessors$1$3 = { next: {} };

prototypeAccessors$1$3.next.get = function () { return this.tokens[this.pos] };

TokenStream.prototype.eat = function eat (tok) { return this.next == tok && (this.pos++ || true) };

TokenStream.prototype.err = function err (str) { throw new SyntaxError(str + " (in content expression '" + this.string + "')") };

Object.defineProperties( TokenStream.prototype, prototypeAccessors$1$3 );

function parseExpr(stream) {
  var exprs = [];
  do { exprs.push(parseExprSeq(stream)); }
  while (stream.eat("|"))
  return exprs.length == 1 ? exprs[0] : {type: "choice", exprs: exprs}
}

function parseExprSeq(stream) {
  var exprs = [];
  do { exprs.push(parseExprSubscript(stream)); }
  while (stream.next && stream.next != ")" && stream.next != "|")
  return exprs.length == 1 ? exprs[0] : {type: "seq", exprs: exprs}
}

function parseExprSubscript(stream) {
  var expr = parseExprAtom(stream);
  for (;;) {
    if (stream.eat("+"))
      { expr = {type: "plus", expr: expr}; }
    else if (stream.eat("*"))
      { expr = {type: "star", expr: expr}; }
    else if (stream.eat("?"))
      { expr = {type: "opt", expr: expr}; }
    else if (stream.eat("{"))
      { expr = parseExprRange(stream, expr); }
    else { break }
  }
  return expr
}

function parseNum(stream) {
  if (/\D/.test(stream.next)) { stream.err("Expected number, got '" + stream.next + "'"); }
  var result = Number(stream.next);
  stream.pos++;
  return result
}

function parseExprRange(stream, expr) {
  var min = parseNum(stream), max = min;
  if (stream.eat(",")) {
    if (stream.next != "}") { max = parseNum(stream); }
    else { max = -1; }
  }
  if (!stream.eat("}")) { stream.err("Unclosed braced range"); }
  return {type: "range", min: min, max: max, expr: expr}
}

function resolveName(stream, name) {
  var types = stream.nodeTypes, type = types[name];
  if (type) { return [type] }
  var result = [];
  for (var typeName in types) {
    var type$1 = types[typeName];
    if (type$1.groups.indexOf(name) > -1) { result.push(type$1); }
  }
  if (result.length == 0) { stream.err("No node type or group '" + name + "' found"); }
  return result
}

function parseExprAtom(stream) {
  if (stream.eat("(")) {
    var expr = parseExpr(stream);
    if (!stream.eat(")")) { stream.err("Missing closing paren"); }
    return expr
  } else if (!/\W/.test(stream.next)) {
    var exprs = resolveName(stream, stream.next).map(function (type) {
      if (stream.inline == null) { stream.inline = type.isInline; }
      else if (stream.inline != type.isInline) { stream.err("Mixing inline and block content"); }
      return {type: "name", value: type}
    });
    stream.pos++;
    return exprs.length == 1 ? exprs[0] : {type: "choice", exprs: exprs}
  } else {
    stream.err("Unexpected token '" + stream.next + "'");
  }
}

// The code below helps compile a regular-expression-like language
// into a deterministic finite automaton. For a good introduction to
// these concepts, see https://swtch.com/~rsc/regexp/regexp1.html

// : (Object) → [[{term: ?any, to: number}]]
// Construct an NFA from an expression as returned by the parser. The
// NFA is represented as an array of states, which are themselves
// arrays of edges, which are `{term, to}` objects. The first state is
// the entry state and the last node is the success state.
//
// Note that unlike typical NFAs, the edge ordering in this one is
// significant, in that it is used to contruct filler content when
// necessary.
function nfa(expr) {
  var nfa = [[]];
  connect(compile(expr, 0), node());
  return nfa

  function node() { return nfa.push([]) - 1 }
  function edge(from, to, term) {
    var edge = {term: term, to: to};
    nfa[from].push(edge);
    return edge
  }
  function connect(edges, to) { edges.forEach(function (edge) { return edge.to = to; }); }

  function compile(expr, from) {
    if (expr.type == "choice") {
      return expr.exprs.reduce(function (out, expr) { return out.concat(compile(expr, from)); }, [])
    } else if (expr.type == "seq") {
      for (var i = 0;; i++) {
        var next = compile(expr.exprs[i], from);
        if (i == expr.exprs.length - 1) { return next }
        connect(next, from = node());
      }
    } else if (expr.type == "star") {
      var loop = node();
      edge(from, loop);
      connect(compile(expr.expr, loop), loop);
      return [edge(loop)]
    } else if (expr.type == "plus") {
      var loop$1 = node();
      connect(compile(expr.expr, from), loop$1);
      connect(compile(expr.expr, loop$1), loop$1);
      return [edge(loop$1)]
    } else if (expr.type == "opt") {
      return [edge(from)].concat(compile(expr.expr, from))
    } else if (expr.type == "range") {
      var cur = from;
      for (var i$1 = 0; i$1 < expr.min; i$1++) {
        var next$1 = node();
        connect(compile(expr.expr, cur), next$1);
        cur = next$1;
      }
      if (expr.max == -1) {
        connect(compile(expr.expr, cur), cur);
      } else {
        for (var i$2 = expr.min; i$2 < expr.max; i$2++) {
          var next$2 = node();
          edge(cur, next$2);
          connect(compile(expr.expr, cur), next$2);
          cur = next$2;
        }
      }
      return [edge(cur)]
    } else if (expr.type == "name") {
      return [edge(from, null, expr.value)]
    }
  }
}

function cmp(a, b) { return a - b }

// Get the set of nodes reachable by null edges from `node`. Omit
// nodes with only a single null-out-edge, since they may lead to
// needless duplicated nodes.
function nullFrom(nfa, node) {
  var result = [];
  scan(node);
  return result.sort(cmp)

  function scan(node) {
    var edges = nfa[node];
    if (edges.length == 1 && !edges[0].term) { return scan(edges[0].to) }
    result.push(node);
    for (var i = 0; i < edges.length; i++) {
      var ref = edges[i];
      var term = ref.term;
      var to = ref.to;
      if (!term && result.indexOf(to) == -1) { scan(to); }
    }
  }
}

// : ([[{term: ?any, to: number}]]) → ContentMatch
// Compiles an NFA as produced by `nfa` into a DFA, modeled as a set
// of state objects (`ContentMatch` instances) with transitions
// between them.
function dfa(nfa) {
  var labeled = Object.create(null);
  return explore(nullFrom(nfa, 0))

  function explore(states) {
    var out = [];
    states.forEach(function (node) {
      nfa[node].forEach(function (ref) {
        var term = ref.term;
        var to = ref.to;

        if (!term) { return }
        var known = out.indexOf(term), set = known > -1 && out[known + 1];
        nullFrom(nfa, to).forEach(function (node) {
          if (!set) { out.push(term, set = []); }
          if (set.indexOf(node) == -1) { set.push(node); }
        });
      });
    });
    var state = labeled[states.join(",")] = new ContentMatch(states.indexOf(nfa.length - 1) > -1);
    for (var i = 0; i < out.length; i += 2) {
      var states$1 = out[i + 1].sort(cmp);
      state.next.push(out[i], labeled[states$1.join(",")] || explore(states$1));
    }
    return state
  }
}

function checkForDeadEnds(match, stream) {
  for (var i = 0, work = [match]; i < work.length; i++) {
    var state = work[i], dead = !state.validEnd, nodes = [];
    for (var j = 0; j < state.next.length; j += 2) {
      var node = state.next[j], next = state.next[j + 1];
      nodes.push(node.name);
      if (dead && !(node.isText || node.hasRequiredAttrs())) { dead = false; }
      if (work.indexOf(next) == -1) { work.push(next); }
    }
    if (dead) { stream.err("Only non-generatable nodes (" + nodes.join(", ") + ") in a required position"); }
  }
}

// For node types where all attrs have a default value (or which don't
// have any attributes), build up a single reusable default attribute
// object, and use it for all nodes that don't specify specific
// attributes.
function defaultAttrs(attrs) {
  var defaults = Object.create(null);
  for (var attrName in attrs) {
    var attr = attrs[attrName];
    if (!attr.hasDefault) { return null }
    defaults[attrName] = attr.default;
  }
  return defaults
}

function computeAttrs(attrs, value) {
  var built = Object.create(null);
  for (var name in attrs) {
    var given = value && value[name];
    if (given === undefined) {
      var attr = attrs[name];
      if (attr.hasDefault) { given = attr.default; }
      else { throw new RangeError("No value supplied for attribute " + name) }
    }
    built[name] = given;
  }
  return built
}

function initAttrs(attrs) {
  var result = Object.create(null);
  if (attrs) { for (var name in attrs) { result[name] = new Attribute(attrs[name]); } }
  return result
}

// ::- Node types are objects allocated once per `Schema` and used to
// [tag](#model.Node.type) `Node` instances. They contain information
// about the node type, such as its name and what kind of node it
// represents.
var NodeType = function NodeType(name, schema, spec) {
  // :: string
  // The name the node type has in this schema.
  this.name = name;

  // :: Schema
  // A link back to the `Schema` the node type belongs to.
  this.schema = schema;

  // :: NodeSpec
  // The spec that this type is based on
  this.spec = spec;

  this.groups = spec.group ? spec.group.split(" ") : [];
  this.attrs = initAttrs(spec.attrs);

  this.defaultAttrs = defaultAttrs(this.attrs);

  // :: ContentMatch
  // The starting match of the node type's content expression.
  this.contentMatch = null;

  // : ?[MarkType]
  // The set of marks allowed in this node. `null` means all marks
  // are allowed.
  this.markSet = null;

  // :: bool
  // True if this node type has inline content.
  this.inlineContent = null;

  // :: bool
  // True if this is a block type
  this.isBlock = !(spec.inline || name == "text");

  // :: bool
  // True if this is the text node type.
  this.isText = name == "text";
};

var prototypeAccessors$4 = { isInline: {},isTextblock: {},isLeaf: {},isAtom: {} };

// :: bool
// True if this is an inline type.
prototypeAccessors$4.isInline.get = function () { return !this.isBlock };

// :: bool
// True if this is a textblock type, a block that contains inline
// content.
prototypeAccessors$4.isTextblock.get = function () { return this.isBlock && this.inlineContent };

// :: bool
// True for node types that allow no content.
prototypeAccessors$4.isLeaf.get = function () { return this.contentMatch == ContentMatch.empty };

// :: bool
// True when this node is an atom, i.e. when it does not have
// directly editable content.
prototypeAccessors$4.isAtom.get = function () { return this.isLeaf || this.spec.atom };

NodeType.prototype.hasRequiredAttrs = function hasRequiredAttrs (ignore) {
    var this$1 = this;

  for (var n in this$1.attrs)
    { if (this$1.attrs[n].isRequired && (!ignore || !(n in ignore))) { return true } }
  return false
};

NodeType.prototype.compatibleContent = function compatibleContent (other) {
  return this == other || this.contentMatch.compatible(other.contentMatch)
};

NodeType.prototype.computeAttrs = function computeAttrs$1 (attrs) {
  if (!attrs && this.defaultAttrs) { return this.defaultAttrs }
  else { return computeAttrs(this.attrs, attrs) }
};

// :: (?Object, ?union<Fragment, Node, [Node]>, ?[Mark]) → Node
// Create a `Node` of this type. The given attributes are
// checked and defaulted (you can pass `null` to use the type's
// defaults entirely, if no required attributes exist). `content`
// may be a `Fragment`, a node, an array of nodes, or
// `null`. Similarly `marks` may be `null` to default to the empty
// set of marks.
NodeType.prototype.create = function create (attrs, content, marks) {
  if (this.isText) { throw new Error("NodeType.create can't construct text nodes") }
  return new Node(this, this.computeAttrs(attrs), Fragment.from(content), Mark.setFrom(marks))
};

// :: (?Object, ?union<Fragment, Node, [Node]>, ?[Mark]) → Node
// Like [`create`](#model.NodeType.create), but check the given content
// against the node type's content restrictions, and throw an error
// if it doesn't match.
NodeType.prototype.createChecked = function createChecked (attrs, content, marks) {
  content = Fragment.from(content);
  if (!this.validContent(content))
    { throw new RangeError("Invalid content for node " + this.name) }
  return new Node(this, this.computeAttrs(attrs), content, Mark.setFrom(marks))
};

// :: (?Object, ?union<Fragment, Node, [Node]>, ?[Mark]) → ?Node
// Like [`create`](#model.NodeType.create), but see if it is necessary to
// add nodes to the start or end of the given fragment to make it
// fit the node. If no fitting wrapping can be found, return null.
// Note that, due to the fact that required nodes can always be
// created, this will always succeed if you pass null or
// `Fragment.empty` as content.
NodeType.prototype.createAndFill = function createAndFill (attrs, content, marks) {
  attrs = this.computeAttrs(attrs);
  content = Fragment.from(content);
  if (content.size) {
    var before = this.contentMatch.fillBefore(content);
    if (!before) { return null }
    content = before.append(content);
  }
  var after = this.contentMatch.matchFragment(content).fillBefore(Fragment.empty, true);
  if (!after) { return null }
  return new Node(this, attrs, content.append(after), Mark.setFrom(marks))
};

// :: (Fragment) → bool
// Returns true if the given fragment is valid content for this node
// type with the given attributes.
NodeType.prototype.validContent = function validContent (content) {
    var this$1 = this;

  var result = this.contentMatch.matchFragment(content);
  if (!result || !result.validEnd) { return false }
  for (var i = 0; i < content.childCount; i++)
    { if (!this$1.allowsMarks(content.child(i).marks)) { return false } }
  return true
};

// :: (MarkType) → bool
// Check whether the given mark type is allowed in this node.
NodeType.prototype.allowsMarkType = function allowsMarkType (markType) {
  return this.markSet == null || this.markSet.indexOf(markType) > -1
};

// :: ([Mark]) → bool
// Test whether the given set of marks are allowed in this node.
NodeType.prototype.allowsMarks = function allowsMarks (marks) {
    var this$1 = this;

  if (this.markSet == null) { return true }
  for (var i = 0; i < marks.length; i++) { if (!this$1.allowsMarkType(marks[i].type)) { return false } }
  return true
};

// :: ([Mark]) → [Mark]
// Removes the marks that are not allowed in this node from the given set.
NodeType.prototype.allowedMarks = function allowedMarks (marks) {
    var this$1 = this;

  if (this.markSet == null) { return marks }
  var copy;
  for (var i = 0; i < marks.length; i++) {
    if (!this$1.allowsMarkType(marks[i].type)) {
      if (!copy) { copy = marks.slice(0, i); }
    } else if (copy) {
      copy.push(marks[i]);
    }
  }
  return !copy ? marks : copy.length ? copy : Mark.empty
};

NodeType.compile = function compile (nodes, schema) {
  var result = Object.create(null);
  nodes.forEach(function (name, spec) { return result[name] = new NodeType(name, schema, spec); });

  var topType = schema.spec.topNode || "doc";
  if (!result[topType]) { throw new RangeError("Schema is missing its top node type ('" + topType + "')") }
  if (!result.text) { throw new RangeError("Every schema needs a 'text' type") }
  for (var _ in result.text.attrs) { throw new RangeError("The text node type should not have attributes") }

  return result
};

Object.defineProperties( NodeType.prototype, prototypeAccessors$4 );

// Attribute descriptors

var Attribute = function Attribute(options) {
  this.hasDefault = Object.prototype.hasOwnProperty.call(options, "default");
  this.default = options.default;
};

var prototypeAccessors$1$2 = { isRequired: {} };

prototypeAccessors$1$2.isRequired.get = function () {
  return !this.hasDefault
};

Object.defineProperties( Attribute.prototype, prototypeAccessors$1$2 );

// Marks

// ::- Like nodes, marks (which are associated with nodes to signify
// things like emphasis or being part of a link) are
// [tagged](#model.Mark.type) with type objects, which are
// instantiated once per `Schema`.
var MarkType = function MarkType(name, rank, schema, spec) {
  // :: string
  // The name of the mark type.
  this.name = name;

  // :: Schema
  // The schema that this mark type instance is part of.
  this.schema = schema;

  // :: MarkSpec
  // The spec on which the type is based.
  this.spec = spec;

  this.attrs = initAttrs(spec.attrs);

  this.rank = rank;
  this.excluded = null;
  var defaults = defaultAttrs(this.attrs);
  this.instance = defaults && new Mark(this, defaults);
};

// :: (?Object) → Mark
// Create a mark of this type. `attrs` may be `null` or an object
// containing only some of the mark's attributes. The others, if
// they have defaults, will be added.
MarkType.prototype.create = function create (attrs) {
  if (!attrs && this.instance) { return this.instance }
  return new Mark(this, computeAttrs(this.attrs, attrs))
};

MarkType.compile = function compile (marks, schema) {
  var result = Object.create(null), rank = 0;
  marks.forEach(function (name, spec) { return result[name] = new MarkType(name, rank++, schema, spec); });
  return result
};

// :: ([Mark]) → [Mark]
// When there is a mark of this type in the given set, a new set
// without it is returned. Otherwise, the input set is returned.
MarkType.prototype.removeFromSet = function removeFromSet (set) {
    var this$1 = this;

  for (var i = 0; i < set.length; i++)
    { if (set[i].type == this$1)
      { return set.slice(0, i).concat(set.slice(i + 1)) } }
  return set
};

// :: ([Mark]) → ?Mark
// Tests whether there is a mark of this type in the given set.
MarkType.prototype.isInSet = function isInSet (set) {
    var this$1 = this;

  for (var i = 0; i < set.length; i++)
    { if (set[i].type == this$1) { return set[i] } }
};

// :: (MarkType) → bool
// Queries whether a given mark type is
// [excluded](#model.MarkSpec.excludes) by this one.
MarkType.prototype.excludes = function excludes (other) {
  return this.excluded.indexOf(other) > -1
};

// SchemaSpec:: interface
// An object describing a schema, as passed to the [`Schema`](#model.Schema)
// constructor.
//
//   nodes:: union<Object<NodeSpec>, OrderedMap<NodeSpec>>
//   The node types in this schema. Maps names to
//   [`NodeSpec`](#model.NodeSpec) objects that describe the node type
//   associated with that name. Their order is significant—it
//   determines which [parse rules](#model.NodeSpec.parseDOM) take
//   precedence by default, and which nodes come first in a given
//   [group](#model.NodeSpec.group).
//
//   marks:: ?union<Object<MarkSpec>, OrderedMap<MarkSpec>>
//   The mark types that exist in this schema. The order in which they
//   are provided determines the order in which [mark
//   sets](#model.Mark.addToSet) are sorted and in which [parse
//   rules](#model.MarkSpec.parseDOM) are tried.
//
//   topNode:: ?string
//   The name of the default top-level node for the schema. Defaults
//   to `"doc"`.

// NodeSpec:: interface
//
//   content:: ?string
//   The content expression for this node, as described in the [schema
//   guide](/docs/guide/#schema.content_expressions). When not given,
//   the node does not allow any content.
//
//   marks:: ?string
//   The marks that are allowed inside of this node. May be a
//   space-separated string referring to mark names or groups, `"_"`
//   to explicitly allow all marks, or `""` to disallow marks. When
//   not given, nodes with inline content default to allowing all
//   marks, other nodes default to not allowing marks.
//
//   group:: ?string
//   The group or space-separated groups to which this node belongs,
//   which can be referred to in the content expressions for the
//   schema.
//
//   inline:: ?bool
//   Should be set to true for inline nodes. (Implied for text nodes.)
//
//   atom:: ?bool
//   Can be set to true to indicate that, though this isn't a [leaf
//   node](#model.NodeType.isLeaf), it doesn't have directly editable
//   content and should be treated as a single unit in the view.
//
//   attrs:: ?Object<AttributeSpec>
//   The attributes that nodes of this type get.
//
//   selectable:: ?bool
//   Controls whether nodes of this type can be selected as a [node
//   selection](#state.NodeSelection). Defaults to true for non-text
//   nodes.
//
//   draggable:: ?bool
//   Determines whether nodes of this type can be dragged without
//   being selected. Defaults to false.
//
//   code:: ?bool
//   Can be used to indicate that this node contains code, which
//   causes some commands to behave differently.
//
//   defining:: ?bool
//   Determines whether this node is considered an important parent
//   node during replace operations (such as paste). Non-defining (the
//   default) nodes get dropped when their entire content is replaced,
//   whereas defining nodes persist and wrap the inserted content.
//   Likewise, in _inserted_ content the defining parents of the
//   content are preserved when possible. Typically,
//   non-default-paragraph textblock types, and possibly list items,
//   are marked as defining.
//
//   isolating:: ?bool
//   When enabled (default is false), the sides of nodes of this type
//   count as boundaries that regular editing operations, like
//   backspacing or lifting, won't cross. An example of a node that
//   should probably have this enabled is a table cell.
//
//   toDOM:: ?(node: Node) → DOMOutputSpec
//   Defines the default way a node of this type should be serialized
//   to DOM/HTML (as used by
//   [`DOMSerializer.fromSchema`](#model.DOMSerializer^fromSchema)).
//   Should return a DOM node or an [array
//   structure](#model.DOMOutputSpec) that describes one, with an
//   optional number zero (“hole”) in it to indicate where the node's
//   content should be inserted.
//
//   For text nodes, the default is to create a text DOM node. Though
//   it is possible to create a serializer where text is rendered
//   differently, this is not supported inside the editor, so you
//   shouldn't override that in your text node spec.
//
//   parseDOM:: ?[ParseRule]
//   Associates DOM parser information with this node, which can be
//   used by [`DOMParser.fromSchema`](#model.DOMParser^fromSchema) to
//   automatically derive a parser. The `node` field in the rules is
//   implied (the name of this node will be filled in automatically).
//   If you supply your own parser, you do not need to also specify
//   parsing rules in your schema.

// MarkSpec:: interface
//
//   attrs:: ?Object<AttributeSpec>
//   The attributes that marks of this type get.
//
//   inclusive:: ?bool
//   Whether this mark should be active when the cursor is positioned
//   at its end (or at its start when that is also the start of the
//   parent node). Defaults to true.
//
//   excludes:: ?string
//   Determines which other marks this mark can coexist with. Should
//   be a space-separated strings naming other marks or groups of marks.
//   When a mark is [added](#model.Mark.addToSet) to a set, all marks
//   that it excludes are removed in the process. If the set contains
//   any mark that excludes the new mark but is not, itself, excluded
//   by the new mark, the mark can not be added an the set. You can
//   use the value `"_"` to indicate that the mark excludes all
//   marks in the schema.
//
//   Defaults to only being exclusive with marks of the same type. You
//   can set it to an empty string (or any string not containing the
//   mark's own name) to allow multiple marks of a given type to
//   coexist (as long as they have different attributes).
//
//   group:: ?string
//   The group or space-separated groups to which this mark belongs.
//
//   toDOM:: ?(mark: Mark, inline: bool) → DOMOutputSpec
//   Defines the default way marks of this type should be serialized
//   to DOM/HTML. When the resulting spec contains a hole, that is
//   where the marked content is placed. Otherwise, it is appended to
//   the top node.
//
//   parseDOM:: ?[ParseRule]
//   Associates DOM parser information with this mark (see the
//   corresponding [node spec field](#model.NodeSpec.parseDOM)). The
//   `mark` field in the rules is implied.

// AttributeSpec:: interface
//
// Used to [define](#model.NodeSpec.attrs) attributes on nodes or
// marks.
//
//   default:: ?any
//   The default value for this attribute, to use when no explicit
//   value is provided. Attributes that have no default must be
//   provided whenever a node or mark of a type that has them is
//   created.

// ::- A document schema. Holds [node](#model.NodeType) and [mark
// type](#model.MarkType) objects for the nodes and marks that may
// occur in conforming documents, and provides functionality for
// creating and deserializing such documents.
var Schema = function Schema(spec) {
  var this$1 = this;

  // :: SchemaSpec
  // The [spec](#model.SchemaSpec) on which the schema is based,
  // with the added guarantee that its `nodes` and `marks`
  // properties are
  // [`OrderedMap`](https://github.com/marijnh/orderedmap) instances
  // (not raw objects).
  this.spec = {};
  for (var prop in spec) { this$1.spec[prop] = spec[prop]; }
  this.spec.nodes = OrderedMap.from(spec.nodes);
  this.spec.marks = OrderedMap.from(spec.marks);

  // :: Object<NodeType>
  // An object mapping the schema's node names to node type objects.
  this.nodes = NodeType.compile(this.spec.nodes, this);

  // :: Object<MarkType>
  // A map from mark names to mark type objects.
  this.marks = MarkType.compile(this.spec.marks, this);

  var contentExprCache = Object.create(null);
  for (var prop$1 in this$1.nodes) {
    if (prop$1 in this$1.marks)
      { throw new RangeError(prop$1 + " can not be both a node and a mark") }
    var type = this$1.nodes[prop$1], contentExpr = type.spec.content || "", markExpr = type.spec.marks;
    type.contentMatch = contentExprCache[contentExpr] ||
      (contentExprCache[contentExpr] = ContentMatch.parse(contentExpr, this$1.nodes));
    type.inlineContent = type.contentMatch.inlineContent;
    type.markSet = markExpr == "_" ? null :
      markExpr ? gatherMarks(this$1, markExpr.split(" ")) :
      markExpr == "" || !type.inlineContent ? [] : null;
  }
  for (var prop$2 in this$1.marks) {
    var type$1 = this$1.marks[prop$2], excl = type$1.spec.excludes;
    type$1.excluded = excl == null ? [type$1] : excl == "" ? [] : gatherMarks(this$1, excl.split(" "));
  }

  this.nodeFromJSON = this.nodeFromJSON.bind(this);
  this.markFromJSON = this.markFromJSON.bind(this);

  // :: NodeType
  // The type of the [default top node](#model.SchemaSpec.topNode)
  // for this schema.
  this.topNodeType = this.nodes[this.spec.topNode || "doc"];

  // :: Object
  // An object for storing whatever values modules may want to
  // compute and cache per schema. (If you want to store something
  // in it, try to use property names unlikely to clash.)
  this.cached = Object.create(null);
  this.cached.wrappings = Object.create(null);
};

// :: (union<string, NodeType>, ?Object, ?union<Fragment, Node, [Node]>, ?[Mark]) → Node
// Create a node in this schema. The `type` may be a string or a
// `NodeType` instance. Attributes will be extended
// with defaults, `content` may be a `Fragment`,
// `null`, a `Node`, or an array of nodes.
Schema.prototype.node = function node (type, attrs, content, marks) {
  if (typeof type == "string")
    { type = this.nodeType(type); }
  else if (!(type instanceof NodeType))
    { throw new RangeError("Invalid node type: " + type) }
  else if (type.schema != this)
    { throw new RangeError("Node type from different schema used (" + type.name + ")") }

  return type.createChecked(attrs, content, marks)
};

// :: (string, ?[Mark]) → Node
// Create a text node in the schema. Empty text nodes are not
// allowed.
Schema.prototype.text = function text (text$1, marks) {
  var type = this.nodes.text;
  return new TextNode(type, type.defaultAttrs, text$1, Mark.setFrom(marks))
};

// :: (union<string, MarkType>, ?Object) → Mark
// Create a mark with the given type and attributes.
Schema.prototype.mark = function mark (type, attrs) {
  if (typeof type == "string") { type = this.marks[type]; }
  return type.create(attrs)
};

// :: (Object) → Node
// Deserialize a node from its JSON representation. This method is
// bound.
Schema.prototype.nodeFromJSON = function nodeFromJSON (json) {
  return Node.fromJSON(this, json)
};

// :: (Object) → Mark
// Deserialize a mark from its JSON representation. This method is
// bound.
Schema.prototype.markFromJSON = function markFromJSON (json) {
  return Mark.fromJSON(this, json)
};

Schema.prototype.nodeType = function nodeType (name) {
  var found = this.nodes[name];
  if (!found) { throw new RangeError("Unknown node type: " + name) }
  return found
};

function gatherMarks(schema, marks) {
  var found = [];
  for (var i = 0; i < marks.length; i++) {
    var name = marks[i], mark = schema.marks[name], ok = mark;
    if (mark) {
      found.push(mark);
    } else {
      for (var prop in schema.marks) {
        var mark$1 = schema.marks[prop];
        if (name == "_" || (mark$1.spec.group && mark$1.spec.group.split(" ").indexOf(name) > -1))
          { found.push(ok = mark$1); }
      }
    }
    if (!ok) { throw new SyntaxError("Unknown mark type: '" + marks[i] + "'") }
  }
  return found
}

// ParseOptions:: interface
// These are the options recognized by the
// [`parse`](#model.DOMParser.parse) and
// [`parseSlice`](#model.DOMParser.parseSlice) methods.
//
//   preserveWhitespace:: ?union<bool, "full">
//   By default, whitespace is collapsed as per HTML's rules. Pass
//   `true` to preserve whitespace, but normalize newlines to
//   spaces, and `"full"` to preserve whitespace entirely.
//
//   findPositions:: ?[{node: dom.Node, offset: number}]
//   When given, the parser will, beside parsing the content,
//   record the document positions of the given DOM positions. It
//   will do so by writing to the objects, adding a `pos` property
//   that holds the document position. DOM positions that are not
//   in the parsed content will not be written to.
//
//   from:: ?number
//   The child node index to start parsing from.
//
//   to:: ?number
//   The child node index to stop parsing at.
//
//   topNode:: ?Node
//   By default, the content is parsed into the schema's default
//   [top node type](#model.Schema.topNodeType). You can pass this
//   option to use the type and attributes from a different node
//   as the top container.
//
//   topMatch:: ?ContentMatch
//   Provide the starting content match that content parsed into the
//   top node is matched against.
//
//   context:: ?ResolvedPos
//   A set of additional nodes to count as
//   [context](#model.ParseRule.context) when parsing, above the
//   given [top node](#model.ParseOptions.topNode).

// ParseRule:: interface
// A value that describes how to parse a given DOM node or inline
// style as a ProseMirror node or mark.
//
//   tag:: ?string
//   A CSS selector describing the kind of DOM elements to match. A
//   single rule should have _either_ a `tag` or a `style` property.
//
//   namespace:: ?string
//   The namespace to match. This should be used with `tag`.
//   Nodes are only matched when the namespace matches or this property
//   is null.
//
//   style:: ?string
//   A CSS property name to match. When given, this rule matches
//   inline styles that list that property. May also have the form
//   `"property=value"`, in which case the rule only matches if the
//   propery's value exactly matches the given value. (For more
//   complicated filters, use [`getAttrs`](#model.ParseRule.getAttrs)
//   and return undefined to indicate that the match failed.)
//
//   priority:: ?number
//   Can be used to change the order in which the parse rules in a
//   schema are tried. Those with higher priority come first. Rules
//   without a priority are counted as having priority 50. This
//   property is only meaningful in a schema—when directly
//   constructing a parser, the order of the rule array is used.
//
//   context:: ?string
//   When given, restricts this rule to only match when the current
//   context—the parent nodes into which the content is being
//   parsed—matches this expression. Should contain one or more node
//   names or node group names followed by single or double slashes.
//   For example `"paragraph/"` means the rule only matches when the
//   parent node is a paragraph, `"blockquote/paragraph/"` restricts
//   it to be in a paragraph that is inside a blockquote, and
//   `"section//"` matches any position inside a section—a double
//   slash matches any sequence of ancestor nodes. To allow multiple
//   different contexts, they can be separated by a pipe (`|`)
//   character, as in `"blockquote/|list_item/"`.
//
//   node:: ?string
//   The name of the node type to create when this rule matches. Only
//   valid for rules with a `tag` property, not for style rules. Each
//   rule should have one of a `node`, `mark`, or `ignore` property
//   (except when it appears in a [node](#model.NodeSpec.parseDOM) or
//   [mark spec](#model.MarkSpec.parseDOM), in which case the `node`
//   or `mark` property will be derived from its position).
//
//   mark:: ?string
//   The name of the mark type to wrap the matched content in.
//
//   ignore:: ?bool
//   When true, ignore content that matches this rule.
//
//   skip:: ?bool
//   When true, ignore the node that matches this rule, but do parse
//   its content.
//
//   attrs:: ?Object
//   Attributes for the node or mark created by this rule. When
//   `getAttrs` is provided, it takes precedence.
//
//   getAttrs:: ?(union<dom.Node, string>) → ?union<Object, false>
//   A function used to compute the attributes for the node or mark
//   created by this rule. Can also be used to describe further
//   conditions the DOM element or style must match. When it returns
//   `false`, the rule won't match. When it returns null or undefined,
//   that is interpreted as an empty/default set of attributes.
//
//   Called with a DOM Element for `tag` rules, and with a string (the
//   style's value) for `style` rules.
//
//   contentElement:: ?union<string, (dom.Node) → dom.Node>
//   For `tag` rules that produce non-leaf nodes or marks, by default
//   the content of the DOM element is parsed as content of the mark
//   or node. If the child nodes are in a descendent node, this may be
//   a CSS selector string that the parser must use to find the actual
//   content element, or a function that returns the actual content
//   element to the parser.
//
//   getContent:: ?(dom.Node, schema: Schema) → Fragment
//   Can be used to override the content of a matched node. When
//   present, instead of parsing the node's child nodes, the result of
//   this function is used.
//
//   preserveWhitespace:: ?union<bool, "full">
//   Controls whether whitespace should be preserved when parsing the
//   content inside the matched element. `false` means whitespace may
//   be collapsed, `true` means that whitespace should be preserved
//   but newlines normalized to spaces, and `"full"` means that
//   newlines should also be preserved.

// ::- A DOM parser represents a strategy for parsing DOM content into
// a ProseMirror document conforming to a given schema. Its behavior
// is defined by an array of [rules](#model.ParseRule).
var DOMParser = function DOMParser(schema, rules) {
  var this$1 = this;

  // :: Schema
  // The schema into which the parser parses.
  this.schema = schema;
  // :: [ParseRule]
  // The set of [parse rules](#model.ParseRule) that the parser
  // uses, in order of precedence.
  this.rules = rules;
  this.tags = [];
  this.styles = [];

  rules.forEach(function (rule) {
    if (rule.tag) { this$1.tags.push(rule); }
    else if (rule.style) { this$1.styles.push(rule); }
  });
};

// :: (dom.Node, ?ParseOptions) → Node
// Parse a document from the content of a DOM node.
DOMParser.prototype.parse = function parse (dom, options) {
    if ( options === void 0 ) options = {};

  var context = new ParseContext(this, options, false);
  context.addAll(dom, null, options.from, options.to);
  return context.finish()
};

// :: (dom.Node, ?ParseOptions) → Slice
// Parses the content of the given DOM node, like
// [`parse`](#model.DOMParser.parse), and takes the same set of
// options. But unlike that method, which produces a whole node,
// this one returns a slice that is open at the sides, meaning that
// the schema constraints aren't applied to the start of nodes to
// the left of the input and the end of nodes at the end.
DOMParser.prototype.parseSlice = function parseSlice (dom, options) {
    if ( options === void 0 ) options = {};

  var context = new ParseContext(this, options, true);
  context.addAll(dom, null, options.from, options.to);
  return Slice.maxOpen(context.finish())
};

DOMParser.prototype.matchTag = function matchTag (dom, context) {
    var this$1 = this;

  for (var i = 0; i < this.tags.length; i++) {
    var rule = this$1.tags[i];
    if (matches(dom, rule.tag) &&
        (rule.namespace === undefined || dom.namespaceURI == rule.namespace) &&
        (!rule.context || context.matchesContext(rule.context))) {
      if (rule.getAttrs) {
        var result = rule.getAttrs(dom);
        if (result === false) { continue }
        rule.attrs = result;
      }
      return rule
    }
  }
};

DOMParser.prototype.matchStyle = function matchStyle (prop, value, context) {
    var this$1 = this;

  for (var i = 0; i < this.styles.length; i++) {
    var rule = this$1.styles[i];
    if (rule.style.indexOf(prop) != 0 ||
        rule.context && !context.matchesContext(rule.context) ||
        // Test that the style string either precisely matches the prop,
        // or has an '=' sign after the prop, followed by the given
        // value.
        rule.style.length > prop.length &&
        (rule.style.charCodeAt(prop.length) != 61 || rule.style.slice(prop.length + 1) != value))
      { continue }
    if (rule.getAttrs) {
      var result = rule.getAttrs(value);
      if (result === false) { continue }
      rule.attrs = result;
    }
    return rule
  }
};

// : (Schema) → [ParseRule]
DOMParser.schemaRules = function schemaRules (schema) {
  var result = [];
  function insert(rule) {
    var priority = rule.priority == null ? 50 : rule.priority, i = 0;
    for (; i < result.length; i++) {
      var next = result[i], nextPriority = next.priority == null ? 50 : next.priority;
      if (nextPriority < priority) { break }
    }
    result.splice(i, 0, rule);
  }

  var loop = function ( name ) {
    var rules = schema.marks[name].spec.parseDOM;
    if (rules) { rules.forEach(function (rule) {
      insert(rule = copy(rule));
      rule.mark = name;
    }); }
  };

    for (var name in schema.marks) loop( name );
  var loop$1 = function ( name ) {
    var rules$1 = schema.nodes[name$1].spec.parseDOM;
    if (rules$1) { rules$1.forEach(function (rule) {
      insert(rule = copy(rule));
      rule.node = name$1;
    }); }
  };

    for (var name$1 in schema.nodes) loop$1( name );
  return result
};

// :: (Schema) → DOMParser
// Construct a DOM parser using the parsing rules listed in a
// schema's [node specs](#model.NodeSpec.parseDOM), reordered by
// [priority](#model.ParseRule.priority).
DOMParser.fromSchema = function fromSchema (schema) {
  return schema.cached.domParser ||
    (schema.cached.domParser = new DOMParser(schema, DOMParser.schemaRules(schema)))
};

// : Object<bool> The block-level tags in HTML5
var blockTags = {
  address: true, article: true, aside: true, blockquote: true, canvas: true,
  dd: true, div: true, dl: true, fieldset: true, figcaption: true, figure: true,
  footer: true, form: true, h1: true, h2: true, h3: true, h4: true, h5: true,
  h6: true, header: true, hgroup: true, hr: true, li: true, noscript: true, ol: true,
  output: true, p: true, pre: true, section: true, table: true, tfoot: true, ul: true
};

// : Object<bool> The tags that we normally ignore.
var ignoreTags = {
  head: true, noscript: true, object: true, script: true, style: true, title: true
};

// : Object<bool> List tags.
var listTags = {ol: true, ul: true};

// Using a bitfield for node context options
var OPT_PRESERVE_WS = 1;
var OPT_PRESERVE_WS_FULL = 2;
var OPT_OPEN_LEFT = 4;

function wsOptionsFor(preserveWhitespace) {
  return (preserveWhitespace ? OPT_PRESERVE_WS : 0) | (preserveWhitespace === "full" ? OPT_PRESERVE_WS_FULL : 0)
}

var NodeContext = function NodeContext(type, attrs, marks, solid, match, options) {
  this.type = type;
  this.attrs = attrs;
  this.solid = solid;
  this.match = match || (options & OPT_OPEN_LEFT ? null : type.contentMatch);
  this.options = options;
  this.content = [];
  this.marks = marks;
  this.activeMarks = Mark.none;
};

NodeContext.prototype.findWrapping = function findWrapping (node) {
  if (!this.match) {
    if (!this.type) { return [] }
    var fill = this.type.contentMatch.fillBefore(Fragment.from(node));
    if (fill) {
      this.match = this.type.contentMatch.matchFragment(fill);
    } else {
      var start = this.type.contentMatch, wrap;
      if (wrap = start.findWrapping(node.type)) {
        this.match = start;
        return wrap
      } else {
        return null
      }
    }
  }
  return this.match.findWrapping(node.type)
};

NodeContext.prototype.finish = function finish (openEnd) {
  if (!(this.options & OPT_PRESERVE_WS)) { // Strip trailing whitespace
    var last = this.content[this.content.length - 1], m;
    if (last && last.isText && (m = /\s+$/.exec(last.text))) {
      if (last.text.length == m[0].length) { this.content.pop(); }
      else { this.content[this.content.length - 1] = last.withText(last.text.slice(0, last.text.length - m[0].length)); }
    }
  }
  var content = Fragment.from(this.content);
  if (!openEnd && this.match)
    { content = content.append(this.match.fillBefore(Fragment.empty, true)); }
  return this.type ? this.type.create(this.attrs, content, this.marks) : content
};

var ParseContext = function ParseContext(parser, options, open) {
  // : DOMParser The parser we are using.
  this.parser = parser;
  // : Object The options passed to this parse.
  this.options = options;
  this.isOpen = open;
  this.pendingMarks = [];
  var topNode = options.topNode, topContext;
  var topOptions = wsOptionsFor(options.preserveWhitespace) | (open ? OPT_OPEN_LEFT : 0);
  if (topNode)
    { topContext = new NodeContext(topNode.type, topNode.attrs, Mark.none, true,
                                 options.topMatch || topNode.type.contentMatch, topOptions); }
  else if (open)
    { topContext = new NodeContext(null, null, Mark.none, true, null, topOptions); }
  else
    { topContext = new NodeContext(parser.schema.topNodeType, null, Mark.none, true, null, topOptions); }
  this.nodes = [topContext];
  // : [Mark] The current set of marks
  this.open = 0;
  this.find = options.findPositions;
  this.needsBlock = false;
};

var prototypeAccessors$6 = { top: {},currentPos: {} };

prototypeAccessors$6.top.get = function () {
  return this.nodes[this.open]
};

// : (dom.Node)
// Add a DOM node to the content. Text is inserted as text node,
// otherwise, the node is passed to `addElement` or, if it has a
// `style` attribute, `addElementWithStyles`.
ParseContext.prototype.addDOM = function addDOM (dom) {
    var this$1 = this;

  if (dom.nodeType == 3) {
    this.addTextNode(dom);
  } else if (dom.nodeType == 1) {
    var style = dom.getAttribute("style");
    if (!style) {
      this.addElement(dom);
    } else {
      var marks = this.readStyles(parseStyles(style));
      if (marks != null) {
        for (var i = 0; i < marks.length; i++) { this$1.addPendingMark(marks[i]); }
        this.addElement(dom);
        for (var i$1 = 0; i$1 < marks.length; i$1++) { this$1.removePendingMark(marks[i$1]); }
      }
    }
  }
};

ParseContext.prototype.addTextNode = function addTextNode (dom) {
  var value = dom.nodeValue;
  var top = this.top;
  if ((top.type ? top.type.inlineContent : top.content.length && top.content[0].isInline) || /\S/.test(value)) {
    if (!(top.options & OPT_PRESERVE_WS)) {
      value = value.replace(/\s+/g, " ");
      // If this starts with whitespace, and there is either no node
      // before it or a node that ends with whitespace, strip the
      // leading space.
      if (/^\s/.test(value) && this.open == this.nodes.length - 1) {
        var nodeBefore = top.content[top.content.length - 1];
        if (!nodeBefore || nodeBefore.isText && /\s$/.test(nodeBefore.text))
          { value = value.slice(1); }
      }
    } else if (!(top.options & OPT_PRESERVE_WS_FULL)) {
      value = value.replace(/\r?\n|\r/g, " ");
    }
    if (value) { this.insertNode(this.parser.schema.text(value)); }
    this.findInText(dom);
  } else {
    this.findInside(dom);
  }
};

// : (dom.Element)
// Try to find a handler for the given tag and use that to parse. If
// none is found, the element's content nodes are added directly.
ParseContext.prototype.addElement = function addElement (dom) {
  var name = dom.nodeName.toLowerCase();
  if (listTags.hasOwnProperty(name)) { normalizeList(dom); }
  var rule = (this.options.ruleFromNode && this.options.ruleFromNode(dom)) || this.parser.matchTag(dom, this);
  if (rule ? rule.ignore : ignoreTags.hasOwnProperty(name)) {
    this.findInside(dom);
  } else if (!rule || rule.skip) {
    if (rule && rule.skip.nodeType) { dom = rule.skip; }
    var sync, top = this.top, oldMarks = top.activeMarks, oldNeedsBlock = this.needsBlock;
    if (blockTags.hasOwnProperty(name)) {
      sync = true;
      if (!top.type) { this.needsBlock = true; }
    }
    this.addAll(dom);
    if (sync) { this.sync(top); }
    top.activeMarks = oldMarks;
    this.needsBlock = oldNeedsBlock;
  } else {
    this.addElementByRule(dom, rule);
  }
};

// Run any style parser associated with the node's styles. Either
// return an array of marks, or null to indicate some of the styles
// had a rule with `ignore` set.
ParseContext.prototype.readStyles = function readStyles (styles) {
    var this$1 = this;

  var marks = Mark.none;
  for (var i = 0; i < styles.length; i += 2) {
    var rule = this$1.parser.matchStyle(styles[i], styles[i + 1], this$1);
    if (!rule) { continue }
    if (rule.ignore) { return null }
    marks = this$1.parser.schema.marks[rule.mark].create(rule.attrs).addToSet(marks);
  }
  return marks
};

// : (dom.Element, ParseRule) → bool
// Look up a handler for the given node. If none are found, return
// false. Otherwise, apply it, use its return value to drive the way
// the node's content is wrapped, and return true.
ParseContext.prototype.addElementByRule = function addElementByRule (dom, rule) {
    var this$1 = this;

  var sync, nodeType, markType, mark;
  if (rule.node) {
    nodeType = this.parser.schema.nodes[rule.node];
    if (nodeType.isLeaf) { this.insertNode(nodeType.create(rule.attrs)); }
    else { sync = this.enter(nodeType, rule.attrs, rule.preserveWhitespace); }
  } else {
    markType = this.parser.schema.marks[rule.mark];
    mark = markType.create(rule.attrs);
    this.addPendingMark(mark);
  }
  var startIn = this.top;

  if (nodeType && nodeType.isLeaf) {
    this.findInside(dom);
  } else if (rule.getContent) {
    this.findInside(dom);
    rule.getContent(dom, this.parser.schema).forEach(function (node) { return this$1.insertNode(node); });
  } else {
    var contentDOM = rule.contentElement;
    if (typeof contentDOM == "string") { contentDOM = dom.querySelector(contentDOM); }
    else if (typeof contentDOM == "function") { contentDOM = contentDOM(dom); }
    if (!contentDOM) { contentDOM = dom; }
    this.findAround(dom, contentDOM, true);
    this.addAll(contentDOM, sync);
  }
  if (sync) { this.sync(startIn); this.open--; }
  if (mark) { this.removePendingMark(mark); }
  return true
};

// : (dom.Node, ?NodeBuilder, ?number, ?number)
// Add all child nodes between `startIndex` and `endIndex` (or the
// whole node, if not given). If `sync` is passed, use it to
// synchronize after every block element.
ParseContext.prototype.addAll = function addAll (parent, sync, startIndex, endIndex) {
    var this$1 = this;

  var index = startIndex || 0;
  for (var dom = startIndex ? parent.childNodes[startIndex] : parent.firstChild,
           end = endIndex == null ? null : parent.childNodes[endIndex];
       dom != end; dom = dom.nextSibling, ++index) {
    this$1.findAtPoint(parent, index);
    this$1.addDOM(dom);
    if (sync && blockTags.hasOwnProperty(dom.nodeName.toLowerCase()))
      { this$1.sync(sync); }
  }
  this.findAtPoint(parent, index);
};

// Try to find a way to fit the given node type into the current
// context. May add intermediate wrappers and/or leave non-solid
// nodes that we're in.
ParseContext.prototype.findPlace = function findPlace (node) {
    var this$1 = this;

  var route, sync;
  for (var depth = this.open; depth >= 0; depth--) {
    var cx = this$1.nodes[depth];
    var found = cx.findWrapping(node);
    if (found && (!route || route.length > found.length)) {
      route = found;
      sync = cx;
      if (!found.length) { break }
    }
    if (cx.solid) { break }
  }
  if (!route) { return false }
  this.sync(sync);
  for (var i = 0; i < route.length; i++)
    { this$1.enterInner(route[i], null, false); }
  return true
};

// : (Node) → ?Node
// Try to insert the given node, adjusting the context when needed.
ParseContext.prototype.insertNode = function insertNode (node) {
  if (node.isInline && this.needsBlock && !this.top.type) {
    var block = this.textblockFromContext();
    if (block) { this.enter(block); }
  }
  if (this.findPlace(node)) {
    this.closeExtra();
    var top = this.top;
    this.applyPendingMarks(top);
    if (top.match) { top.match = top.match.matchType(node.type); }
    var marks = top.activeMarks;
    for (var i = 0; i < node.marks.length; i++)
      { if (!top.type || top.type.allowsMarkType(node.marks[i].type))
        { marks = node.marks[i].addToSet(marks); } }
    top.content.push(node.mark(marks));
  }
};

ParseContext.prototype.applyPendingMarks = function applyPendingMarks (top) {
    var this$1 = this;

  for (var i = 0; i < this.pendingMarks.length; i++) {
    var mark = this$1.pendingMarks[i];
    if ((!top.type || top.type.allowsMarkType(mark.type)) && !mark.type.isInSet(top.activeMarks)) {
      top.activeMarks = mark.addToSet(top.activeMarks);
      this$1.pendingMarks.splice(i--, 1);
    }
  }
};

// : (NodeType, ?Object) → bool
// Try to start a node of the given type, adjusting the context when
// necessary.
ParseContext.prototype.enter = function enter (type, attrs, preserveWS) {
  var ok = this.findPlace(type.create(attrs));
  if (ok) {
    this.applyPendingMarks(this.top);
    this.enterInner(type, attrs, true, preserveWS);
  }
  return ok
};

// Open a node of the given type
ParseContext.prototype.enterInner = function enterInner (type, attrs, solid, preserveWS) {
  this.closeExtra();
  var top = this.top;
  top.match = top.match && top.match.matchType(type, attrs);
  var options = preserveWS == null ? top.options & ~OPT_OPEN_LEFT : wsOptionsFor(preserveWS);
  if ((top.options & OPT_OPEN_LEFT) && top.content.length == 0) { options |= OPT_OPEN_LEFT; }
  this.nodes.push(new NodeContext(type, attrs, top.activeMarks, solid, null, options));
  this.open++;
};

// Make sure all nodes above this.open are finished and added to
// their parents
ParseContext.prototype.closeExtra = function closeExtra (openEnd) {
    var this$1 = this;

  var i = this.nodes.length - 1;
  if (i > this.open) {
    for (; i > this.open; i--) { this$1.nodes[i - 1].content.push(this$1.nodes[i].finish(openEnd)); }
    this.nodes.length = this.open + 1;
  }
};

ParseContext.prototype.finish = function finish () {
  this.open = 0;
  this.closeExtra(this.isOpen);
  return this.nodes[0].finish(this.isOpen || this.options.topOpen)
};

ParseContext.prototype.sync = function sync (to) {
    var this$1 = this;

  for (var i = this.open; i >= 0; i--) { if (this$1.nodes[i] == to) {
    this$1.open = i;
    return
  } }
};

ParseContext.prototype.addPendingMark = function addPendingMark (mark) {
  this.pendingMarks.push(mark);
};

ParseContext.prototype.removePendingMark = function removePendingMark (mark) {
  var found = this.pendingMarks.lastIndexOf(mark);
  if (found > -1) {
    this.pendingMarks.splice(mark, 1);
  } else {
    var top = this.top;
    top.activeMarks = mark.removeFromSet(top.activeMarks);
  }
};

prototypeAccessors$6.currentPos.get = function () {
    var this$1 = this;

  this.closeExtra();
  var pos = 0;
  for (var i = this.open; i >= 0; i--) {
    var content = this$1.nodes[i].content;
    for (var j = content.length - 1; j >= 0; j--)
      { pos += content[j].nodeSize; }
    if (i) { pos++; }
  }
  return pos
};

ParseContext.prototype.findAtPoint = function findAtPoint (parent, offset) {
    var this$1 = this;

  if (this.find) { for (var i = 0; i < this.find.length; i++) {
    if (this$1.find[i].node == parent && this$1.find[i].offset == offset)
      { this$1.find[i].pos = this$1.currentPos; }
  } }
};

ParseContext.prototype.findInside = function findInside (parent) {
    var this$1 = this;

  if (this.find) { for (var i = 0; i < this.find.length; i++) {
    if (this$1.find[i].pos == null && parent.nodeType == 1 && parent.contains(this$1.find[i].node))
      { this$1.find[i].pos = this$1.currentPos; }
  } }
};

ParseContext.prototype.findAround = function findAround (parent, content, before) {
    var this$1 = this;

  if (parent != content && this.find) { for (var i = 0; i < this.find.length; i++) {
    if (this$1.find[i].pos == null && parent.nodeType == 1 && parent.contains(this$1.find[i].node)) {
      var pos = content.compareDocumentPosition(this$1.find[i].node);
      if (pos & (before ? 2 : 4))
        { this$1.find[i].pos = this$1.currentPos; }
    }
  } }
};

ParseContext.prototype.findInText = function findInText (textNode) {
    var this$1 = this;

  if (this.find) { for (var i = 0; i < this.find.length; i++) {
    if (this$1.find[i].node == textNode)
      { this$1.find[i].pos = this$1.currentPos - (textNode.nodeValue.length - this$1.find[i].offset); }
  } }
};

// : (string) → bool
// Determines whether the given [context
// string](#ParseRule.context) matches this context.
ParseContext.prototype.matchesContext = function matchesContext (context) {
    var this$1 = this;

  if (context.indexOf("|") > -1)
    { return context.split(/\s*\|\s*/).some(this.matchesContext, this) }

  var parts = context.split("/");
  var option = this.options.context;
  var useRoot = !this.isOpen && (!option || option.parent.type == this.nodes[0].type);
  var minDepth = -(option ? option.depth + 1 : 0) + (useRoot ? 0 : 1);
  var match = function (i, depth) {
    for (; i >= 0; i--) {
      var part = parts[i];
      if (part == "") {
        if (i == parts.length - 1 || i == 0) { continue }
        for (; depth >= minDepth; depth--)
          { if (match(i - 1, depth)) { return true } }
        return false
      } else {
        var next = depth > 0 || (depth == 0 && useRoot) ? this$1.nodes[depth].type
            : option && depth >= minDepth ? option.node(depth - minDepth).type
            : null;
        if (!next || (next.name != part && next.groups.indexOf(part) == -1))
          { return false }
        depth--;
      }
    }
    return true
  };
  return match(parts.length - 1, this.open)
};

ParseContext.prototype.textblockFromContext = function textblockFromContext () {
    var this$1 = this;

  var $context = this.options.context;
  if ($context) { for (var d = $context.depth; d >= 0; d--) {
    var deflt = $context.node(d).contentMatchAt($context.indexAfter(d)).defaultType;
    if (deflt && deflt.isTextblock && deflt.defaultAttrs) { return deflt }
  } }
  for (var name in this$1.parser.schema.nodes) {
    var type = this$1.parser.schema.nodes[name];
    if (type.isTextblock && type.defaultAttrs) { return type }
  }
};

Object.defineProperties( ParseContext.prototype, prototypeAccessors$6 );

// Kludge to work around directly nested list nodes produced by some
// tools and allowed by browsers to mean that the nested list is
// actually part of the list item above it.
function normalizeList(dom) {
  for (var child = dom.firstChild, prevItem = null; child; child = child.nextSibling) {
    var name = child.nodeType == 1 ? child.nodeName.toLowerCase() : null;
    if (name && listTags.hasOwnProperty(name) && prevItem) {
      prevItem.appendChild(child);
      child = prevItem;
    } else if (name == "li") {
      prevItem = child;
    } else if (name) {
      prevItem = null;
    }
  }
}

// Apply a CSS selector.
function matches(dom, selector) {
  return (dom.matches || dom.msMatchesSelector || dom.webkitMatchesSelector || dom.mozMatchesSelector).call(dom, selector)
}

// : (string) → [string]
// Tokenize a style attribute into property/value pairs.
function parseStyles(style) {
  var re = /\s*([\w-]+)\s*:\s*([^;]+)/g, m, result = [];
  while (m = re.exec(style)) { result.push(m[1], m[2].trim()); }
  return result
}

function copy(obj) {
  var copy = {};
  for (var prop in obj) { copy[prop] = obj[prop]; }
  return copy
}

// DOMOutputSpec:: interface
// A description of a DOM structure. Can be either a string, which is
// interpreted as a text node, a DOM node, which is interpreted as
// itself, or an array.
//
// An array describes a DOM element. The first value in the array
// should be a string—the name of the DOM element. If the second
// element is plain object, it is interpreted as a set of attributes
// for the element. Any elements after that (including the 2nd if it's
// not an attribute object) are interpreted as children of the DOM
// elements, and must either be valid `DOMOutputSpec` values, or the
// number zero.
//
// The number zero (pronounced “hole”) is used to indicate the place
// where a node's child nodes should be inserted. It it occurs in an
// output spec, it should be the only child element in its parent
// node.

// ::- A DOM serializer knows how to convert ProseMirror nodes and
// marks of various types to DOM nodes.
var DOMSerializer = function DOMSerializer(nodes, marks) {
  // :: Object<(node: Node) → DOMOutputSpec>
  // The node serialization functions.
  this.nodes = nodes || {};
  // :: Object<?(mark: Mark, inline: bool) → DOMOutputSpec>
  // The mark serialization functions.
  this.marks = marks || {};
};

// :: (Fragment, ?Object) → dom.DocumentFragment
// Serialize the content of this fragment to a DOM fragment. When
// not in the browser, the `document` option, containing a DOM
// document, should be passed so that the serializer can create
// nodes.
DOMSerializer.prototype.serializeFragment = function serializeFragment (fragment, options, target) {
    var this$1 = this;
    if ( options === void 0 ) options = {};

  if (!target) { target = doc(options).createDocumentFragment(); }

  var top = target, active = null;
  fragment.forEach(function (node) {
    if (active || node.marks.length) {
      if (!active) { active = []; }
      var keep = 0, rendered = 0;
      while (keep < active.length && rendered < node.marks.length) {
        var next = node.marks[rendered];
        if (!this$1.marks[next.type.name]) { rendered++; continue }
        if (!next.eq(active[keep])) { break }
        keep += 2; rendered++;
      }
      while (keep < active.length) {
        top = active.pop();
        active.pop();
      }
      while (rendered < node.marks.length) {
        var add = node.marks[rendered++];
        var markDOM = this$1.serializeMark(add, node.isInline, options);
        if (markDOM) {
          active.push(add, top);
          top.appendChild(markDOM.dom);
          top = markDOM.contentDOM || markDOM.dom;
        }
      }
    }
    top.appendChild(this$1.serializeNode(node, options));
  });

  return target
};

// :: (Node, ?Object) → dom.Node
// Serialize this node to a DOM node. This can be useful when you
// need to serialize a part of a document, as opposed to the whole
// document. To serialize a whole document, use
// [`serializeFragment`](#model.DOMSerializer.serializeFragment) on
// its [content](#model.Node.content).
DOMSerializer.prototype.serializeNode = function serializeNode (node, options) {
    if ( options === void 0 ) options = {};

  var ref =
      DOMSerializer.renderSpec(doc(options), this.nodes[node.type.name](node));
    var dom = ref.dom;
    var contentDOM = ref.contentDOM;
  if (contentDOM) {
    if (node.isLeaf)
      { throw new RangeError("Content hole not allowed in a leaf node spec") }
    if (options.onContent)
      { options.onContent(node, contentDOM, options); }
    else
      { this.serializeFragment(node.content, options, contentDOM); }
  }
  return dom
};

DOMSerializer.prototype.serializeNodeAndMarks = function serializeNodeAndMarks (node, options) {
    var this$1 = this;
    if ( options === void 0 ) options = {};

  var dom = this.serializeNode(node, options);
  for (var i = node.marks.length - 1; i >= 0; i--) {
    var wrap = this$1.serializeMark(node.marks[i], node.isInline, options);
    if (wrap) {
      (wrap.contentDOM || wrap.dom).appendChild(dom);
      dom = wrap.dom;
    }
  }
  return dom
};

DOMSerializer.prototype.serializeMark = function serializeMark (mark, inline, options) {
    if ( options === void 0 ) options = {};

  var toDOM = this.marks[mark.type.name];
  return toDOM && DOMSerializer.renderSpec(doc(options), toDOM(mark, inline))
};

// :: (dom.Document, DOMOutputSpec) → {dom: dom.Node, contentDOM: ?dom.Node}
// Render an [output spec](#model.DOMOutputSpec) to a DOM node. If
// the spec has a hole (zero) in it, `contentDOM` will point at the
// node with the hole.
DOMSerializer.renderSpec = function renderSpec (doc, structure) {
  if (typeof structure == "string")
    { return {dom: doc.createTextNode(structure)} }
  if (structure.nodeType != null)
    { return {dom: structure} }
  var dom = doc.createElement(structure[0]), contentDOM = null;
  var attrs = structure[1], start = 1;
  if (attrs && typeof attrs == "object" && attrs.nodeType == null && !Array.isArray(attrs)) {
    start = 2;
    for (var name in attrs) {
      if (name == "style") { dom.style.cssText = attrs[name]; }
      else if (attrs[name] != null) { dom.setAttribute(name, attrs[name]); }
    }
  }
  for (var i = start; i < structure.length; i++) {
    var child = structure[i];
    if (child === 0) {
      if (i < structure.length - 1 || i > start)
        { throw new RangeError("Content hole must be the only child of its parent node") }
      return {dom: dom, contentDOM: dom}
    } else {
      var ref = DOMSerializer.renderSpec(doc, child);
        var inner = ref.dom;
        var innerContent = ref.contentDOM;
      dom.appendChild(inner);
      if (innerContent) {
        if (contentDOM) { throw new RangeError("Multiple content holes") }
        contentDOM = innerContent;
      }
    }
  }
  return {dom: dom, contentDOM: contentDOM}
};

// :: (Schema) → DOMSerializer
// Build a serializer using the [`toDOM`](#model.NodeSpec.toDOM)
// properties in a schema's node and mark specs.
DOMSerializer.fromSchema = function fromSchema (schema) {
  return schema.cached.domSerializer ||
    (schema.cached.domSerializer = new DOMSerializer(this.nodesFromSchema(schema), this.marksFromSchema(schema)))
};

// : (Schema) → Object<(node: Node) → DOMOutputSpec>
// Gather the serializers in a schema's node specs into an object.
// This can be useful as a base to build a custom serializer from.
DOMSerializer.nodesFromSchema = function nodesFromSchema (schema) {
  var result = gatherToDOM(schema.nodes);
  if (!result.text) { result.text = function (node) { return node.text; }; }
  return result
};

// : (Schema) → Object<(mark: Mark) → DOMOutputSpec>
// Gather the serializers in a schema's mark specs into an object.
DOMSerializer.marksFromSchema = function marksFromSchema (schema) {
  return gatherToDOM(schema.marks)
};

function gatherToDOM(obj) {
  var result = {};
  for (var name in obj) {
    var toDOM = obj[name].spec.toDOM;
    if (toDOM) { result[name] = toDOM; }
  }
  return result
}

function doc(options) {
  // declare global: window
  return options.document || window.document
}

exports.Node = Node;
exports.ResolvedPos = ResolvedPos;
exports.NodeRange = NodeRange;
exports.Fragment = Fragment;
exports.Slice = Slice;
exports.ReplaceError = ReplaceError;
exports.Mark = Mark;
exports.Schema = Schema;
exports.NodeType = NodeType;
exports.MarkType = MarkType;
exports.ContentMatch = ContentMatch;
exports.DOMParser = DOMParser;
exports.DOMSerializer = DOMSerializer;
//# sourceMappingURL=index.js.map
});

unwrapExports(dist$2);
var dist_1$1 = dist$2.Node;
var dist_8$1 = dist$2.Schema;
var dist_12 = dist$2.DOMParser;

var dist$3 = createCommonjsModule(function (module, exports) {
'use strict';

Object.defineProperty(exports, '__esModule', { value: true });



// Mappable:: interface
// There are several things that positions can be mapped through.
// Such objects conform to this interface.
//
//   map:: (pos: number, assoc: ?number) → number
//   Map a position through this object. When given, `assoc` (should
//   be -1 or 1, defaults to 1) determines with which side the
//   position is associated, which determines in which direction to
//   move when a chunk of content is inserted at the mapped position.
//
//   mapResult:: (pos: number, assoc: ?number) → MapResult
//   Map a position, and return an object containing additional
//   information about the mapping. The result's `deleted` field tells
//   you whether the position was deleted (completely enclosed in a
//   replaced range) during the mapping. When content on only one side
//   is deleted, the position itself is only considered deleted when
//   `assoc` points in the direction of the deleted content.

// Recovery values encode a range index and an offset. They are
// represented as numbers, because tons of them will be created when
// mapping, for example, a large number of decorations. The number's
// lower 16 bits provide the index, the remaining bits the offset.
//
// Note: We intentionally don't use bit shift operators to en- and
// decode these, since those clip to 32 bits, which we might in rare
// cases want to overflow. A 64-bit float can represent 48-bit
// integers precisely.

var lower16 = 0xffff;
var factor16 = Math.pow(2, 16);

function makeRecover(index, offset) { return index + offset * factor16 }
function recoverIndex(value) { return value & lower16 }
function recoverOffset(value) { return (value - (value & lower16)) / factor16 }

// ::- An object representing a mapped position with extra
// information.
var MapResult = function MapResult(pos, deleted, recover) {
  if ( deleted === void 0 ) deleted = false;
  if ( recover === void 0 ) recover = null;

  // :: number The mapped version of the position.
  this.pos = pos;
  // :: bool Tells you whether the position was deleted, that is,
  // whether the step removed its surroundings from the document.
  this.deleted = deleted;
  this.recover = recover;
};

// :: class extends Mappable
// A map describing the deletions and insertions made by a step, which
// can be used to find the correspondence between positions in the
// pre-step version of a document and the same position in the
// post-step version.
var StepMap = function StepMap(ranges, inverted) {
  if ( inverted === void 0 ) inverted = false;

  this.ranges = ranges;
  this.inverted = inverted;
};

StepMap.prototype.recover = function recover (value) {
    var this$1 = this;

  var diff = 0, index = recoverIndex(value);
  if (!this.inverted) { for (var i = 0; i < index; i++)
    { diff += this$1.ranges[i * 3 + 2] - this$1.ranges[i * 3 + 1]; } }
  return this.ranges[index * 3] + diff + recoverOffset(value)
};

// : (number, ?number) → MapResult
StepMap.prototype.mapResult = function mapResult (pos, assoc) {
  if ( assoc === void 0 ) assoc = 1;
 return this._map(pos, assoc, false) };

// : (number, ?number) → number
StepMap.prototype.map = function map (pos, assoc) {
  if ( assoc === void 0 ) assoc = 1;
 return this._map(pos, assoc, true) };

StepMap.prototype._map = function _map (pos, assoc, simple) {
    var this$1 = this;

  var diff = 0, oldIndex = this.inverted ? 2 : 1, newIndex = this.inverted ? 1 : 2;
  for (var i = 0; i < this.ranges.length; i += 3) {
    var start = this$1.ranges[i] - (this$1.inverted ? diff : 0);
    if (start > pos) { break }
    var oldSize = this$1.ranges[i + oldIndex], newSize = this$1.ranges[i + newIndex], end = start + oldSize;
    if (pos <= end) {
      var side = !oldSize ? assoc : pos == start ? -1 : pos == end ? 1 : assoc;
      var result = start + diff + (side < 0 ? 0 : newSize);
      if (simple) { return result }
      var recover = makeRecover(i / 3, pos - start);
      return new MapResult(result, assoc < 0 ? pos != start : pos != end, recover)
    }
    diff += newSize - oldSize;
  }
  return simple ? pos + diff : new MapResult(pos + diff)
};

StepMap.prototype.touches = function touches (pos, recover) {
    var this$1 = this;

  var diff = 0, index = recoverIndex(recover);
  var oldIndex = this.inverted ? 2 : 1, newIndex = this.inverted ? 1 : 2;
  for (var i = 0; i < this.ranges.length; i += 3) {
    var start = this$1.ranges[i] - (this$1.inverted ? diff : 0);
    if (start > pos) { break }
    var oldSize = this$1.ranges[i + oldIndex], end = start + oldSize;
    if (pos <= end && i == index * 3) { return true }
    diff += this$1.ranges[i + newIndex] - oldSize;
  }
  return false
};

// :: ((oldStart: number, oldEnd: number, newStart: number, newEnd: number))
// Calls the given function on each of the changed ranges included in
// this map.
StepMap.prototype.forEach = function forEach (f) {
    var this$1 = this;

  var oldIndex = this.inverted ? 2 : 1, newIndex = this.inverted ? 1 : 2;
  for (var i = 0, diff = 0; i < this.ranges.length; i += 3) {
    var start = this$1.ranges[i], oldStart = start - (this$1.inverted ? diff : 0), newStart = start + (this$1.inverted ? 0 : diff);
    var oldSize = this$1.ranges[i + oldIndex], newSize = this$1.ranges[i + newIndex];
    f(oldStart, oldStart + oldSize, newStart, newStart + newSize);
    diff += newSize - oldSize;
  }
};

// :: () → StepMap
// Create an inverted version of this map. The result can be used to
// map positions in the post-step document to the pre-step document.
StepMap.prototype.invert = function invert () {
  return new StepMap(this.ranges, !this.inverted)
};

StepMap.prototype.toString = function toString () {
  return (this.inverted ? "-" : "") + JSON.stringify(this.ranges)
};

// :: (n: number) → StepMap
// Create a map that moves all positions by offset `n` (which may be
// negative). This can be useful when applying steps meant for a
// sub-document to a larger document, or vice-versa.
StepMap.offset = function offset (n) {
  return n == 0 ? StepMap.empty : new StepMap(n < 0 ? [0, -n, 0] : [0, 0, n])
};

StepMap.empty = new StepMap([]);

// :: class extends Mappable
// A mapping represents a pipeline of zero or more [step
// maps](#transform.StepMap). It has special provisions for losslessly
// handling mapping positions through a series of steps in which some
// steps are inverted versions of earlier steps. (This comes up when
// ‘[rebasing](/docs/guide/#transform.rebasing)’ steps for
// collaboration or history management.)
var Mapping = function Mapping(maps, mirror, from, to) {
  // :: [StepMap]
  // The step maps in this mapping.
  this.maps = maps || [];
  // :: number
  // The starting position in the `maps` array, used when `map` or
  // `mapResult` is called.
  this.from = from || 0;
  // :: number
  // The end position in the `maps` array.
  this.to = to == null ? this.maps.length : to;
  this.mirror = mirror;
};

// :: (?number, ?number) → Mapping
// Create a mapping that maps only through a part of this one.
Mapping.prototype.slice = function slice (from, to) {
    if ( from === void 0 ) from = 0;
    if ( to === void 0 ) to = this.maps.length;

  return new Mapping(this.maps, this.mirror, from, to)
};

Mapping.prototype.copy = function copy () {
  return new Mapping(this.maps.slice(), this.mirror && this.mirror.slice(), this.from, this.to)
};

Mapping.prototype.getMirror = function getMirror (n) {
    var this$1 = this;

  if (this.mirror) { for (var i = 0; i < this.mirror.length; i++)
    { if (this$1.mirror[i] == n) { return this$1.mirror[i + (i % 2 ? -1 : 1)] } } }
};

Mapping.prototype.setMirror = function setMirror (n, m) {
  if (!this.mirror) { this.mirror = []; }
  this.mirror.push(n, m);
};

// :: (StepMap, ?number)
// Add a step map to the end of this mapping. If `mirrors` is
// given, it should be the index of the step map that is the mirror
// image of this one.
Mapping.prototype.appendMap = function appendMap (map, mirrors) {
  this.to = this.maps.push(map);
  if (mirrors != null) { this.setMirror(this.maps.length - 1, mirrors); }
};

// :: (Mapping)
// Add all the step maps in a given mapping to this one (preserving
// mirroring information).
Mapping.prototype.appendMapping = function appendMapping (mapping) {
    var this$1 = this;

  for (var i = 0, startSize = this.maps.length; i < mapping.maps.length; i++) {
    var mirr = mapping.getMirror(i);
    this$1.appendMap(mapping.maps[i], mirr != null && mirr < i ? startSize + mirr : null);
  }
};

// :: (Mapping)
// Append the inverse of the given mapping to this one.
Mapping.prototype.appendMappingInverted = function appendMappingInverted (mapping) {
    var this$1 = this;

  for (var i = mapping.maps.length - 1, totalSize = this.maps.length + mapping.maps.length; i >= 0; i--) {
    var mirr = mapping.getMirror(i);
    this$1.appendMap(mapping.maps[i].invert(), mirr != null && mirr > i ? totalSize - mirr - 1 : null);
  }
};

// () → Mapping
// Create an inverted version of this mapping.
Mapping.prototype.invert = function invert () {
  var inverse = new Mapping;
  inverse.appendMappingInverted(this);
  return inverse
};

// : (number, ?number) → number
// Map a position through this mapping.
Mapping.prototype.map = function map (pos, assoc) {
    var this$1 = this;
    if ( assoc === void 0 ) assoc = 1;

  if (this.mirror) { return this._map(pos, assoc, true) }
  for (var i = this.from; i < this.to; i++)
    { pos = this$1.maps[i].map(pos, assoc); }
  return pos
};

// : (number, ?number) → MapResult
// Map a position through this mapping, returning a mapping
// result.
Mapping.prototype.mapResult = function mapResult (pos, assoc) {
  if ( assoc === void 0 ) assoc = 1;
 return this._map(pos, assoc, false) };

Mapping.prototype._map = function _map (pos, assoc, simple) {
    var this$1 = this;

  var deleted = false, recoverables = null;

  for (var i = this.from; i < this.to; i++) {
    var map = this$1.maps[i], rec = recoverables && recoverables[i];
    if (rec != null && map.touches(pos, rec)) {
      pos = map.recover(rec);
      continue
    }

    var result = map.mapResult(pos, assoc);
    if (result.recover != null) {
      var corr = this$1.getMirror(i);
      if (corr != null && corr > i && corr < this$1.to) {
        if (result.deleted) {
          i = corr;
          pos = this$1.maps[corr].recover(result.recover);
          continue
        } else {
          (recoverables || (recoverables = Object.create(null)))[corr] = result.recover;
        }
      }
    }

    if (result.deleted) { deleted = true; }
    pos = result.pos;
  }

  return simple ? pos : new MapResult(pos, deleted)
};

function TransformError(message) {
  var err = Error.call(this, message);
  err.__proto__ = TransformError.prototype;
  return err
}

TransformError.prototype = Object.create(Error.prototype);
TransformError.prototype.constructor = TransformError;
TransformError.prototype.name = "TransformError";

// ::- Abstraction to build up and track an array of
// [steps](#transform.Step) representing a document transformation.
//
// Most transforming methods return the `Transform` object itself, so
// that they can be chained.
var Transform = function Transform(doc) {
  // :: Node
  // The current document (the result of applying the steps in the
  // transform).
  this.doc = doc;
  // :: [Step]
  // The steps in this transform.
  this.steps = [];
  // :: [Node]
  // The documents before each of the steps.
  this.docs = [];
  // :: Mapping
  // A mapping with the maps for each of the steps in this transform.
  this.mapping = new Mapping;
};

var prototypeAccessors = { before: {},docChanged: {} };

// :: Node The starting document.
prototypeAccessors.before.get = function () { return this.docs.length ? this.docs[0] : this.doc };

// :: (step: Step) → this
// Apply a new step in this transform, saving the result. Throws an
// error when the step fails.
Transform.prototype.step = function step (object) {
  var result = this.maybeStep(object);
  if (result.failed) { throw new TransformError(result.failed) }
  return this
};

// :: (Step) → StepResult
// Try to apply a step in this transformation, ignoring it if it
// fails. Returns the step result.
Transform.prototype.maybeStep = function maybeStep (step) {
  var result = step.apply(this.doc);
  if (!result.failed) { this.addStep(step, result.doc); }
  return result
};

// :: bool
// True when the document has been changed (when there are any
// steps).
prototypeAccessors.docChanged.get = function () {
  return this.steps.length > 0
};

Transform.prototype.addStep = function addStep (step, doc) {
  this.docs.push(this.doc);
  this.steps.push(step);
  this.mapping.appendMap(step.getMap());
  this.doc = doc;
};

Object.defineProperties( Transform.prototype, prototypeAccessors );

function mustOverride() { throw new Error("Override me") }

var stepsByID = Object.create(null);

// ::- A step object represents an atomic change. It generally applies
// only to the document it was created for, since the positions
// stored in it will only make sense for that document.
//
// New steps are defined by creating classes that extend `Step`,
// overriding the `apply`, `invert`, `map`, `getMap` and `fromJSON`
// methods, and registering your class with a unique
// JSON-serialization identifier using
// [`Step.jsonID`](#transform.Step^jsonID).
var Step = function Step () {};

Step.prototype.apply = function apply (_doc) { return mustOverride() };

// :: () → StepMap
// Get the step map that represents the changes made by this step,
// and which can be used to transform between positions in the old
// and the new document.
Step.prototype.getMap = function getMap () { return StepMap.empty };

// :: (doc: Node) → Step
// Create an inverted version of this step. Needs the document as it
// was before the step as argument.
Step.prototype.invert = function invert (_doc) { return mustOverride() };

// :: (mapping: Mappable) → ?Step
// Map this step through a mappable thing, returning either a
// version of that step with its positions adjusted, or `null` if
// the step was entirely deleted by the mapping.
Step.prototype.map = function map (_mapping) { return mustOverride() };

// :: (other: Step) → ?Step
// Try to merge this step with another one, to be applied directly
// after it. Returns the merged step when possible, null if the
// steps can't be merged.
Step.prototype.merge = function merge (_other) { return null };

// :: () → Object
// Create a JSON-serializeable representation of this step. When
// defining this for a custom subclass, make sure the result object
// includes the step type's [JSON id](#transform.Step^jsonID) under
// the `stepType` property.
Step.prototype.toJSON = function toJSON () { return mustOverride() };

// :: (Schema, Object) → Step
// Deserialize a step from its JSON representation. Will call
// through to the step class' own implementation of this method.
Step.fromJSON = function fromJSON (schema, json) {
  if (!json || !json.stepType) { throw new RangeError("Invalid input for Step.fromJSON") }
  var type = stepsByID[json.stepType];
  if (!type) { throw new RangeError(("No step type " + (json.stepType) + " defined")) }
  return type.fromJSON(schema, json)
};

// :: (string, constructor<Step>)
// To be able to serialize steps to JSON, each step needs a string
// ID to attach to its JSON representation. Use this method to
// register an ID for your step classes. Try to pick something
// that's unlikely to clash with steps from other modules.
Step.jsonID = function jsonID (id, stepClass) {
  if (id in stepsByID) { throw new RangeError("Duplicate use of step JSON ID " + id) }
  stepsByID[id] = stepClass;
  stepClass.prototype.jsonID = id;
  return stepClass
};

// ::- The result of [applying](#transform.Step.apply) a step. Contains either a
// new document or a failure value.
var StepResult = function StepResult(doc, failed) {
  // :: ?Node The transformed document.
  this.doc = doc;
  // :: ?string Text providing information about a failed step.
  this.failed = failed;
};

// :: (Node) → StepResult
// Create a successful step result.
StepResult.ok = function ok (doc) { return new StepResult(doc, null) };

// :: (string) → StepResult
// Create a failed step result.
StepResult.fail = function fail (message) { return new StepResult(null, message) };

// :: (Node, number, number, Slice) → StepResult
// Call [`Node.replace`](#model.Node.replace) with the given
// arguments. Create a successful result if it succeeds, and a
// failed one if it throws a `ReplaceError`.
StepResult.fromReplace = function fromReplace (doc, from, to, slice) {
  try {
    return StepResult.ok(doc.replace(from, to, slice))
  } catch (e) {
    if (e instanceof dist$2.ReplaceError) { return StepResult.fail(e.message) }
    throw e
  }
};

// ::- Replace a part of the document with a slice of new content.
var ReplaceStep = (function (Step$$1) {
  function ReplaceStep(from, to, slice, structure) {
    Step$$1.call(this);
    this.from = from;
    this.to = to;
    this.slice = slice;
    this.structure = !!structure;
  }

  if ( Step$$1 ) ReplaceStep.__proto__ = Step$$1;
  ReplaceStep.prototype = Object.create( Step$$1 && Step$$1.prototype );
  ReplaceStep.prototype.constructor = ReplaceStep;

  ReplaceStep.prototype.apply = function apply (doc) {
    if (this.structure && contentBetween(doc, this.from, this.to))
      { return StepResult.fail("Structure replace would overwrite content") }
    return StepResult.fromReplace(doc, this.from, this.to, this.slice)
  };

  ReplaceStep.prototype.getMap = function getMap () {
    return new StepMap([this.from, this.to - this.from, this.slice.size])
  };

  ReplaceStep.prototype.invert = function invert (doc) {
    return new ReplaceStep(this.from, this.from + this.slice.size, doc.slice(this.from, this.to))
  };

  ReplaceStep.prototype.map = function map (mapping) {
    var from = mapping.mapResult(this.from, 1), to = mapping.mapResult(this.to, -1);
    if (from.deleted && to.deleted) { return null }
    return new ReplaceStep(from.pos, Math.max(from.pos, to.pos), this.slice)
  };

  ReplaceStep.prototype.merge = function merge (other) {
    if (!(other instanceof ReplaceStep) || other.structure != this.structure) { return null }

    if (this.from + this.slice.size == other.from && !this.slice.openEnd && !other.slice.openStart) {
      var slice = this.slice.size + other.slice.size == 0 ? dist$2.Slice.empty
          : new dist$2.Slice(this.slice.content.append(other.slice.content), this.slice.openStart, other.slice.openEnd);
      return new ReplaceStep(this.from, this.to + (other.to - other.from), slice, this.structure)
    } else if (other.to == this.from && !this.slice.openStart && !other.slice.openEnd) {
      var slice$1 = this.slice.size + other.slice.size == 0 ? dist$2.Slice.empty
          : new dist$2.Slice(other.slice.content.append(this.slice.content), other.slice.openStart, this.slice.openEnd);
      return new ReplaceStep(other.from, this.to, slice$1, this.structure)
    } else {
      return null
    }
  };

  ReplaceStep.prototype.toJSON = function toJSON () {
    var json = {stepType: "replace", from: this.from, to: this.to};
    if (this.slice.size) { json.slice = this.slice.toJSON(); }
    if (this.structure) { json.structure = true; }
    return json
  };

  ReplaceStep.fromJSON = function fromJSON (schema, json) {
    if (typeof json.from != "number" || typeof json.to != "number")
      { throw new RangeError("Invalid input for ReplaceStep.fromJSON") }
    return new ReplaceStep(json.from, json.to, dist$2.Slice.fromJSON(schema, json.slice), !!json.structure)
  };

  return ReplaceStep;
}(Step));

Step.jsonID("replace", ReplaceStep);

// ::- Replace a part of the document with a slice of content, but
// preserve a range of the replaced content by moving it into the
// slice.
var ReplaceAroundStep = (function (Step$$1) {
  function ReplaceAroundStep(from, to, gapFrom, gapTo, slice, insert, structure) {
    Step$$1.call(this);
    this.from = from;
    this.to = to;
    this.gapFrom = gapFrom;
    this.gapTo = gapTo;
    this.slice = slice;
    this.insert = insert;
    this.structure = !!structure;
  }

  if ( Step$$1 ) ReplaceAroundStep.__proto__ = Step$$1;
  ReplaceAroundStep.prototype = Object.create( Step$$1 && Step$$1.prototype );
  ReplaceAroundStep.prototype.constructor = ReplaceAroundStep;

  ReplaceAroundStep.prototype.apply = function apply (doc) {
    if (this.structure && (contentBetween(doc, this.from, this.gapFrom) ||
                           contentBetween(doc, this.gapTo, this.to)))
      { return StepResult.fail("Structure gap-replace would overwrite content") }

    var gap = doc.slice(this.gapFrom, this.gapTo);
    if (gap.openStart || gap.openEnd)
      { return StepResult.fail("Gap is not a flat range") }
    var inserted = this.slice.insertAt(this.insert, gap.content);
    if (!inserted) { return StepResult.fail("Content does not fit in gap") }
    return StepResult.fromReplace(doc, this.from, this.to, inserted)
  };

  ReplaceAroundStep.prototype.getMap = function getMap () {
    return new StepMap([this.from, this.gapFrom - this.from, this.insert,
                        this.gapTo, this.to - this.gapTo, this.slice.size - this.insert])
  };

  ReplaceAroundStep.prototype.invert = function invert (doc) {
    var gap = this.gapTo - this.gapFrom;
    return new ReplaceAroundStep(this.from, this.from + this.slice.size + gap,
                                 this.from + this.insert, this.from + this.insert + gap,
                                 doc.slice(this.from, this.to).removeBetween(this.gapFrom - this.from, this.gapTo - this.from),
                                 this.gapFrom - this.from, this.structure)
  };

  ReplaceAroundStep.prototype.map = function map (mapping) {
    var from = mapping.mapResult(this.from, 1), to = mapping.mapResult(this.to, -1);
    var gapFrom = mapping.map(this.gapFrom, -1), gapTo = mapping.map(this.gapTo, 1);
    if ((from.deleted && to.deleted) || gapFrom < from.pos || gapTo > to.pos) { return null }
    return new ReplaceAroundStep(from.pos, to.pos, gapFrom, gapTo, this.slice, this.insert, this.structure)
  };

  ReplaceAroundStep.prototype.toJSON = function toJSON () {
    var json = {stepType: "replaceAround", from: this.from, to: this.to,
                gapFrom: this.gapFrom, gapTo: this.gapTo, insert: this.insert};
    if (this.slice.size) { json.slice = this.slice.toJSON(); }
    if (this.structure) { json.structure = true; }
    return json
  };

  ReplaceAroundStep.fromJSON = function fromJSON (schema, json) {
    if (typeof json.from != "number" || typeof json.to != "number" ||
        typeof json.gapFrom != "number" || typeof json.gapTo != "number" || typeof json.insert != "number")
      { throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON") }
    return new ReplaceAroundStep(json.from, json.to, json.gapFrom, json.gapTo,
                                 dist$2.Slice.fromJSON(schema, json.slice), json.insert, !!json.structure)
  };

  return ReplaceAroundStep;
}(Step));

Step.jsonID("replaceAround", ReplaceAroundStep);

function contentBetween(doc, from, to) {
  var $from = doc.resolve(from), dist = to - from, depth = $from.depth;
  while (dist > 0 && depth > 0 && $from.indexAfter(depth) == $from.node(depth).childCount) {
    depth--;
    dist--;
  }
  if (dist > 0) {
    var next = $from.node(depth).maybeChild($from.indexAfter(depth));
    while (dist > 0) {
      if (!next || next.isLeaf) { return true }
      next = next.firstChild;
      dist--;
    }
  }
  return false
}

function canCut(node, start, end) {
  return (start == 0 || node.canReplace(start, node.childCount)) &&
    (end == node.childCount || node.canReplace(0, end))
}

// :: (NodeRange) → ?number
// Try to find a target depth to which the content in the given range
// can be lifted. Will not go across
// [isolating](#model.NodeSpec.isolating) parent nodes.
function liftTarget(range) {
  var parent = range.parent;
  var content = parent.content.cutByIndex(range.startIndex, range.endIndex);
  for (var depth = range.depth;; --depth) {
    var node = range.$from.node(depth);
    var index = range.$from.index(depth), endIndex = range.$to.indexAfter(depth);
    if (depth < range.depth && node.canReplace(index, endIndex, content))
      { return depth }
    if (depth == 0 || node.type.spec.isolating || !canCut(node, index, endIndex)) { break }
  }
}

// :: (NodeRange, number) → this
// Split the content in the given range off from its parent, if there
// is sibling content before or after it, and move it up the tree to
// the depth specified by `target`. You'll probably want to use
// [`liftTarget`](#transform.liftTarget) to compute `target`, to make
// sure the lift is valid.
Transform.prototype.lift = function(range, target) {
  var $from = range.$from;
  var $to = range.$to;
  var depth = range.depth;

  var gapStart = $from.before(depth + 1), gapEnd = $to.after(depth + 1);
  var start = gapStart, end = gapEnd;

  var before = dist$2.Fragment.empty, openStart = 0;
  for (var d = depth, splitting = false; d > target; d--)
    { if (splitting || $from.index(d) > 0) {
      splitting = true;
      before = dist$2.Fragment.from($from.node(d).copy(before));
      openStart++;
    } else {
      start--;
    } }
  var after = dist$2.Fragment.empty, openEnd = 0;
  for (var d$1 = depth, splitting$1 = false; d$1 > target; d$1--)
    { if (splitting$1 || $to.after(d$1 + 1) < $to.end(d$1)) {
      splitting$1 = true;
      after = dist$2.Fragment.from($to.node(d$1).copy(after));
      openEnd++;
    } else {
      end++;
    } }

  return this.step(new ReplaceAroundStep(start, end, gapStart, gapEnd,
                                         new dist$2.Slice(before.append(after), openStart, openEnd),
                                         before.size - openStart, true))
};

// :: (NodeRange, NodeType, ?Object, ?NodeRange) → ?[{type: NodeType, attrs: ?Object}]
// Try to find a valid way to wrap the content in the given range in a
// node of the given type. May introduce extra nodes around and inside
// the wrapper node, if necessary. Returns null if no valid wrapping
// could be found. When `innerRange` is given, that range's content is
// used as the content to fit into the wrapping, instead of the
// content of `range`.
function findWrapping(range, nodeType, attrs, innerRange) {
  if ( innerRange === void 0 ) innerRange = range;

  var around = findWrappingOutside(range, nodeType);
  var inner = around && findWrappingInside(innerRange, nodeType);
  if (!inner) { return null }
  return around.map(withAttrs).concat({type: nodeType, attrs: attrs}).concat(inner.map(withAttrs))
}

function withAttrs(type) { return {type: type, attrs: null} }

function findWrappingOutside(range, type) {
  var parent = range.parent;
  var startIndex = range.startIndex;
  var endIndex = range.endIndex;
  var around = parent.contentMatchAt(startIndex).findWrapping(type);
  if (!around) { return null }
  var outer = around.length ? around[0] : type;
  return parent.canReplaceWith(startIndex, endIndex, outer) ? around : null
}

function findWrappingInside(range, type) {
  var parent = range.parent;
  var startIndex = range.startIndex;
  var endIndex = range.endIndex;
  var inner = parent.child(startIndex);
  var inside = type.contentMatch.findWrapping(inner.type);
  if (!inside) { return null }
  var lastType = inside.length ? inside[inside.length - 1] : type;
  var innerMatch = lastType.contentMatch;
  for (var i = startIndex; innerMatch && i < endIndex; i++)
    { innerMatch = innerMatch.matchType(parent.child(i).type); }
  if (!innerMatch || !innerMatch.validEnd) { return null }
  return inside
}

// :: (NodeRange, [{type: NodeType, attrs: ?Object}]) → this
// Wrap the given [range](#model.NodeRange) in the given set of wrappers.
// The wrappers are assumed to be valid in this position, and should
// probably be computed with [`findWrapping`](#transform.findWrapping).
Transform.prototype.wrap = function(range, wrappers) {
  var content = dist$2.Fragment.empty;
  for (var i = wrappers.length - 1; i >= 0; i--)
    { content = dist$2.Fragment.from(wrappers[i].type.create(wrappers[i].attrs, content)); }

  var start = range.start, end = range.end;
  return this.step(new ReplaceAroundStep(start, end, start, end, new dist$2.Slice(content, 0, 0), wrappers.length, true))
};

// :: (number, ?number, NodeType, ?Object) → this
// Set the type of all textblocks (partly) between `from` and `to` to
// the given node type with the given attributes.
Transform.prototype.setBlockType = function(from, to, type, attrs) {
  var this$1 = this;
  if ( to === void 0 ) to = from;

  if (!type.isTextblock) { throw new RangeError("Type given to setBlockType should be a textblock") }
  var mapFrom = this.steps.length;
  this.doc.nodesBetween(from, to, function (node, pos) {
    if (node.isTextblock && !node.hasMarkup(type, attrs) && canChangeType(this$1.doc, this$1.mapping.slice(mapFrom).map(pos), type)) {
      // Ensure all markup that isn't allowed in the new node type is cleared
      this$1.clearIncompatible(this$1.mapping.slice(mapFrom).map(pos, 1), type);
      var mapping = this$1.mapping.slice(mapFrom);
      var startM = mapping.map(pos, 1), endM = mapping.map(pos + node.nodeSize, 1);
      this$1.step(new ReplaceAroundStep(startM, endM, startM + 1, endM - 1,
                                      new dist$2.Slice(dist$2.Fragment.from(type.create(attrs, null, node.marks)), 0, 0), 1, true));
      return false
    }
  });
  return this
};

function canChangeType(doc, pos, type) {
  var $pos = doc.resolve(pos), index = $pos.index();
  return $pos.parent.canReplaceWith(index, index + 1, type)
}

// :: (number, ?NodeType, ?Object, ?[Mark]) → this
// Change the type, attributes, and/or marks of the node at `pos`.
// When `type` isn't given, the existing node type is preserved,
Transform.prototype.setNodeMarkup = function(pos, type, attrs, marks) {
  var node = this.doc.nodeAt(pos);
  if (!node) { throw new RangeError("No node at given position") }
  if (!type) { type = node.type; }
  var newNode = type.create(attrs, null, marks || node.marks);
  if (node.isLeaf)
    { return this.replaceWith(pos, pos + node.nodeSize, newNode) }

  if (!type.validContent(node.content))
    { throw new RangeError("Invalid content for node type " + type.name) }

  return this.step(new ReplaceAroundStep(pos, pos + node.nodeSize, pos + 1, pos + node.nodeSize - 1,
                                         new dist$2.Slice(dist$2.Fragment.from(newNode), 0, 0), 1, true))
};

// :: (Node, number, number, ?[?{type: NodeType, attrs: ?Object}]) → bool
// Check whether splitting at the given position is allowed.
function canSplit(doc, pos, depth, typesAfter) {
  if ( depth === void 0 ) depth = 1;

  var $pos = doc.resolve(pos), base = $pos.depth - depth;
  var innerType = (typesAfter && typesAfter[typesAfter.length - 1]) || $pos.parent;
  if (base < 0 || $pos.parent.type.spec.isolating ||
      !$pos.parent.canReplace($pos.index(), $pos.parent.childCount) ||
      !innerType.type.validContent($pos.parent.content.cutByIndex($pos.index(), $pos.parent.childCount)))
    { return false }
  for (var d = $pos.depth - 1, i = depth - 2; d > base; d--, i--) {
    var node = $pos.node(d), index$1 = $pos.index(d);
    if (node.type.spec.isolating) { return false }
    var rest = node.content.cutByIndex(index$1, node.childCount);
    var after = (typesAfter && typesAfter[i]) || node;
    if (after != node) { rest = rest.replaceChild(0, after.type.create(after.attrs)); }
    if (!node.canReplace(index$1 + 1, node.childCount) || !after.type.validContent(rest))
      { return false }
  }
  var index = $pos.indexAfter(base);
  var baseType = typesAfter && typesAfter[0];
  return $pos.node(base).canReplaceWith(index, index, baseType ? baseType.type : $pos.node(base + 1).type)
}

// :: (number, ?number, ?[?{type: NodeType, attrs: ?Object}]) → this
// Split the node at the given position, and optionally, if `depth` is
// greater than one, any number of nodes above that. By default, the
// parts split off will inherit the node type of the original node.
// This can be changed by passing an array of types and attributes to
// use after the split.
Transform.prototype.split = function(pos, depth, typesAfter) {
  if ( depth === void 0 ) depth = 1;

  var $pos = this.doc.resolve(pos), before = dist$2.Fragment.empty, after = dist$2.Fragment.empty;
  for (var d = $pos.depth, e = $pos.depth - depth, i = depth - 1; d > e; d--, i--) {
    before = dist$2.Fragment.from($pos.node(d).copy(before));
    var typeAfter = typesAfter && typesAfter[i];
    after = dist$2.Fragment.from(typeAfter ? typeAfter.type.create(typeAfter.attrs, after) : $pos.node(d).copy(after));
  }
  return this.step(new ReplaceStep(pos, pos, new dist$2.Slice(before.append(after), depth, depth, true)))
};

// :: (Node, number) → bool
// Test whether the blocks before and after a given position can be
// joined.
function canJoin(doc, pos) {
  var $pos = doc.resolve(pos), index = $pos.index();
  return joinable($pos.nodeBefore, $pos.nodeAfter) &&
    $pos.parent.canReplace(index, index + 1)
}

function joinable(a, b) {
  return a && b && !a.isLeaf && a.canAppend(b)
}

// :: (Node, number, ?number) → ?number
// Find an ancestor of the given position that can be joined to the
// block before (or after if `dir` is positive). Returns the joinable
// point, if any.
function joinPoint(doc, pos, dir) {
  if ( dir === void 0 ) dir = -1;

  var $pos = doc.resolve(pos);
  for (var d = $pos.depth;; d--) {
    var before = (void 0), after = (void 0);
    if (d == $pos.depth) {
      before = $pos.nodeBefore;
      after = $pos.nodeAfter;
    } else if (dir > 0) {
      before = $pos.node(d + 1);
      after = $pos.node(d).maybeChild($pos.index(d) + 1);
    } else {
      before = $pos.node(d).maybeChild($pos.index(d) - 1);
      after = $pos.node(d + 1);
    }
    if (before && !before.isTextblock && joinable(before, after)) { return pos }
    if (d == 0) { break }
    pos = dir < 0 ? $pos.before(d) : $pos.after(d);
  }
}

// :: (number, ?number) → this
// Join the blocks around the given position. If depth is 2, their
// last and first siblings are also joined, and so on.
Transform.prototype.join = function(pos, depth) {
  if ( depth === void 0 ) depth = 1;

  var step = new ReplaceStep(pos - depth, pos + depth, dist$2.Slice.empty, true);
  return this.step(step)
};

// :: (Node, number, NodeType) → ?number
// Try to find a point where a node of the given type can be inserted
// near `pos`, by searching up the node hierarchy when `pos` itself
// isn't a valid place but is at the start or end of a node. Return
// null if no position was found.
function insertPoint(doc, pos, nodeType) {
  var $pos = doc.resolve(pos);
  if ($pos.parent.canReplaceWith($pos.index(), $pos.index(), nodeType)) { return pos }

  if ($pos.parentOffset == 0)
    { for (var d = $pos.depth - 1; d >= 0; d--) {
      var index = $pos.index(d);
      if ($pos.node(d).canReplaceWith(index, index, nodeType)) { return $pos.before(d + 1) }
      if (index > 0) { return null }
    } }
  if ($pos.parentOffset == $pos.parent.content.size)
    { for (var d$1 = $pos.depth - 1; d$1 >= 0; d$1--) {
      var index$1 = $pos.indexAfter(d$1);
      if ($pos.node(d$1).canReplaceWith(index$1, index$1, nodeType)) { return $pos.after(d$1 + 1) }
      if (index$1 < $pos.node(d$1).childCount) { return null }
    } }
}

function mapFragment(fragment, f, parent) {
  var mapped = [];
  for (var i = 0; i < fragment.childCount; i++) {
    var child = fragment.child(i);
    if (child.content.size) { child = child.copy(mapFragment(child.content, f, child)); }
    if (child.isInline) { child = f(child, parent, i); }
    mapped.push(child);
  }
  return dist$2.Fragment.fromArray(mapped)
}

// ::- Add a mark to all inline content between two positions.
var AddMarkStep = (function (Step$$1) {
  function AddMarkStep(from, to, mark) {
    Step$$1.call(this);
    this.from = from;
    this.to = to;
    this.mark = mark;
  }

  if ( Step$$1 ) AddMarkStep.__proto__ = Step$$1;
  AddMarkStep.prototype = Object.create( Step$$1 && Step$$1.prototype );
  AddMarkStep.prototype.constructor = AddMarkStep;

  AddMarkStep.prototype.apply = function apply (doc) {
    var this$1 = this;

    var oldSlice = doc.slice(this.from, this.to), $from = doc.resolve(this.from);
    var parent = $from.node($from.sharedDepth(this.to));
    var slice = new dist$2.Slice(mapFragment(oldSlice.content, function (node, parent) {
      if (!parent.type.allowsMarkType(this$1.mark.type)) { return node }
      return node.mark(this$1.mark.addToSet(node.marks))
    }, parent), oldSlice.openStart, oldSlice.openEnd);
    return StepResult.fromReplace(doc, this.from, this.to, slice)
  };

  AddMarkStep.prototype.invert = function invert () {
    return new RemoveMarkStep(this.from, this.to, this.mark)
  };

  AddMarkStep.prototype.map = function map (mapping) {
    var from = mapping.mapResult(this.from, 1), to = mapping.mapResult(this.to, -1);
    if (from.deleted && to.deleted || from.pos >= to.pos) { return null }
    return new AddMarkStep(from.pos, to.pos, this.mark)
  };

  AddMarkStep.prototype.merge = function merge (other) {
    if (other instanceof AddMarkStep &&
        other.mark.eq(this.mark) &&
        this.from <= other.to && this.to >= other.from)
      { return new AddMarkStep(Math.min(this.from, other.from),
                             Math.max(this.to, other.to), this.mark) }
  };

  AddMarkStep.prototype.toJSON = function toJSON () {
    return {stepType: "addMark", mark: this.mark.toJSON(),
            from: this.from, to: this.to}
  };

  AddMarkStep.fromJSON = function fromJSON (schema, json) {
    if (typeof json.from != "number" || typeof json.to != "number")
      { throw new RangeError("Invalid input for AddMarkStep.fromJSON") }
    return new AddMarkStep(json.from, json.to, schema.markFromJSON(json.mark))
  };

  return AddMarkStep;
}(Step));

Step.jsonID("addMark", AddMarkStep);

// ::- Remove a mark from all inline content between two positions.
var RemoveMarkStep = (function (Step$$1) {
  function RemoveMarkStep(from, to, mark) {
    Step$$1.call(this);
    this.from = from;
    this.to = to;
    this.mark = mark;
  }

  if ( Step$$1 ) RemoveMarkStep.__proto__ = Step$$1;
  RemoveMarkStep.prototype = Object.create( Step$$1 && Step$$1.prototype );
  RemoveMarkStep.prototype.constructor = RemoveMarkStep;

  RemoveMarkStep.prototype.apply = function apply (doc) {
    var this$1 = this;

    var oldSlice = doc.slice(this.from, this.to);
    var slice = new dist$2.Slice(mapFragment(oldSlice.content, function (node) {
      return node.mark(this$1.mark.removeFromSet(node.marks))
    }), oldSlice.openStart, oldSlice.openEnd);
    return StepResult.fromReplace(doc, this.from, this.to, slice)
  };

  RemoveMarkStep.prototype.invert = function invert () {
    return new AddMarkStep(this.from, this.to, this.mark)
  };

  RemoveMarkStep.prototype.map = function map (mapping) {
    var from = mapping.mapResult(this.from, 1), to = mapping.mapResult(this.to, -1);
    if (from.deleted && to.deleted || from.pos >= to.pos) { return null }
    return new RemoveMarkStep(from.pos, to.pos, this.mark)
  };

  RemoveMarkStep.prototype.merge = function merge (other) {
    if (other instanceof RemoveMarkStep &&
        other.mark.eq(this.mark) &&
        this.from <= other.to && this.to >= other.from)
      { return new RemoveMarkStep(Math.min(this.from, other.from),
                                Math.max(this.to, other.to), this.mark) }
  };

  RemoveMarkStep.prototype.toJSON = function toJSON () {
    return {stepType: "removeMark", mark: this.mark.toJSON(),
            from: this.from, to: this.to}
  };

  RemoveMarkStep.fromJSON = function fromJSON (schema, json) {
    if (typeof json.from != "number" || typeof json.to != "number")
      { throw new RangeError("Invalid input for RemoveMarkStep.fromJSON") }
    return new RemoveMarkStep(json.from, json.to, schema.markFromJSON(json.mark))
  };

  return RemoveMarkStep;
}(Step));

Step.jsonID("removeMark", RemoveMarkStep);

// :: (number, number, Mark) → this
// Add the given mark to the inline content between `from` and `to`.
Transform.prototype.addMark = function(from, to, mark) {
  var this$1 = this;

  var removed = [], added = [], removing = null, adding = null;
  this.doc.nodesBetween(from, to, function (node, pos, parent) {
    if (!node.isInline) { return }
    var marks = node.marks;
    if (!mark.isInSet(marks) && parent.type.allowsMarkType(mark.type)) {
      var start = Math.max(pos, from), end = Math.min(pos + node.nodeSize, to);
      var newSet = mark.addToSet(marks);

      for (var i = 0; i < marks.length; i++) {
        if (!marks[i].isInSet(newSet)) {
          if (removing && removing.to == start && removing.mark.eq(marks[i]))
            { removing.to = end; }
          else
            { removed.push(removing = new RemoveMarkStep(start, end, marks[i])); }
        }
      }

      if (adding && adding.to == start)
        { adding.to = end; }
      else
        { added.push(adding = new AddMarkStep(start, end, mark)); }
    }
  });

  removed.forEach(function (s) { return this$1.step(s); });
  added.forEach(function (s) { return this$1.step(s); });
  return this
};

// :: (number, number, ?union<Mark, MarkType>) → this
// Remove marks from inline nodes between `from` and `to`. When `mark`
// is a single mark, remove precisely that mark. When it is a mark type,
// remove all marks of that type. When it is null, remove all marks of
// any type.
Transform.prototype.removeMark = function(from, to, mark) {
  var this$1 = this;
  if ( mark === void 0 ) mark = null;

  var matched = [], step = 0;
  this.doc.nodesBetween(from, to, function (node, pos) {
    if (!node.isInline) { return }
    step++;
    var toRemove = null;
    if (mark instanceof dist$2.MarkType) {
      var found = mark.isInSet(node.marks);
      if (found) { toRemove = [found]; }
    } else if (mark) {
      if (mark.isInSet(node.marks)) { toRemove = [mark]; }
    } else {
      toRemove = node.marks;
    }
    if (toRemove && toRemove.length) {
      var end = Math.min(pos + node.nodeSize, to);
      for (var i = 0; i < toRemove.length; i++) {
        var style = toRemove[i], found$1 = (void 0);
        for (var j = 0; j < matched.length; j++) {
          var m = matched[j];
          if (m.step == step - 1 && style.eq(matched[j].style)) { found$1 = m; }
        }
        if (found$1) {
          found$1.to = end;
          found$1.step = step;
        } else {
          matched.push({style: style, from: Math.max(pos, from), to: end, step: step});
        }
      }
    }
  });
  matched.forEach(function (m) { return this$1.step(new RemoveMarkStep(m.from, m.to, m.style)); });
  return this
};

// :: (number, NodeType, ?ContentMatch) → this
// Removes all marks and nodes from the content of the node at `pos`
// that don't match the given new parent node type. Accepts an
// optional starting [content match](#model.ContentMatch) as third
// argument.
Transform.prototype.clearIncompatible = function(pos, parentType, match) {
  var this$1 = this;
  if ( match === void 0 ) match = parentType.contentMatch;

  var node = this.doc.nodeAt(pos);
  var delSteps = [], cur = pos + 1;
  for (var i = 0; i < node.childCount; i++) {
    var child = node.child(i), end = cur + child.nodeSize;
    var allowed = match.matchType(child.type, child.attrs);
    if (!allowed) {
      delSteps.push(new ReplaceStep(cur, end, dist$2.Slice.empty));
    } else {
      match = allowed;
      for (var j = 0; j < child.marks.length; j++) { if (!parentType.allowsMarkType(child.marks[j].type))
        { this$1.step(new RemoveMarkStep(cur, end, child.marks[j])); } }
    }
    cur = end;
  }
  if (!match.validEnd) {
    var fill = match.fillBefore(dist$2.Fragment.empty, true);
    this.replace(cur, cur, new dist$2.Slice(fill, 0, 0));
  }
  for (var i$1 = delSteps.length - 1; i$1 >= 0; i$1--) { this$1.step(delSteps[i$1]); }
  return this
};

// :: (Node, number, ?number, ?Slice) → ?Step
// ‘Fit’ a slice into a given position in the document, producing a
// [step](#transform.Step) that inserts it. Will return null if
// there's no meaningful way to insert the slice here, or inserting it
// would be a no-op (an empty slice over an empty range).
function replaceStep(doc, from, to, slice) {
  if ( to === void 0 ) to = from;
  if ( slice === void 0 ) slice = dist$2.Slice.empty;

  if (from == to && !slice.size) { return null }

  var $from = doc.resolve(from), $to = doc.resolve(to);
  // Optimization -- avoid work if it's obvious that it's not needed.
  if (fitsTrivially($from, $to, slice)) { return new ReplaceStep(from, to, slice) }
  var placed = placeSlice($from, slice);

  var fittedLeft = fitLeft($from, placed);
  var fitted = fitRight($from, $to, fittedLeft);
  if (!fitted) { return null }
  if (fittedLeft.size != fitted.size && canMoveText($from, $to, fittedLeft)) {
    var d = $to.depth, after = $to.after(d);
    while (d > 1 && after == $to.end(--d)) { ++after; }
    var fittedAfter = fitRight($from, doc.resolve(after), fittedLeft);
    if (fittedAfter)
      { return new ReplaceAroundStep(from, after, to, $to.end(), fittedAfter, fittedLeft.size) }
  }
  return fitted.size || from != to ? new ReplaceStep(from, to, fitted) : null
}

// :: (number, ?number, ?Slice) → this
// Replace the part of the document between `from` and `to` with the
// given `slice`.
Transform.prototype.replace = function(from, to, slice) {
  if ( to === void 0 ) to = from;
  if ( slice === void 0 ) slice = dist$2.Slice.empty;

  var step = replaceStep(this.doc, from, to, slice);
  if (step) { this.step(step); }
  return this
};

// :: (number, number, union<Fragment, Node, [Node]>) → this
// Replace the given range with the given content, which may be a
// fragment, node, or array of nodes.
Transform.prototype.replaceWith = function(from, to, content) {
  return this.replace(from, to, new dist$2.Slice(dist$2.Fragment.from(content), 0, 0))
};

// :: (number, number) → this
// Delete the content between the given positions.
Transform.prototype.delete = function(from, to) {
  return this.replace(from, to, dist$2.Slice.empty)
};

// :: (number, union<Fragment, Node, [Node]>) → this
// Insert the given content at the given position.
Transform.prototype.insert = function(pos, content) {
  return this.replaceWith(pos, pos, content)
};



function fitLeftInner($from, depth, placed, placedBelow) {
  var content = dist$2.Fragment.empty, openEnd = 0, placedHere = placed[depth];
  if ($from.depth > depth) {
    var inner = fitLeftInner($from, depth + 1, placed, placedBelow || placedHere);
    openEnd = inner.openEnd + 1;
    content = dist$2.Fragment.from($from.node(depth + 1).copy(inner.content));
  }

  if (placedHere) {
    content = content.append(placedHere.content);
    openEnd = placedHere.openEnd;
  }
  if (placedBelow) {
    content = content.append($from.node(depth).contentMatchAt($from.indexAfter(depth)).fillBefore(dist$2.Fragment.empty, true));
    openEnd = 0;
  }

  return {content: content, openEnd: openEnd}
}

function fitLeft($from, placed) {
  var ref = fitLeftInner($from, 0, placed, false);
  var content = ref.content;
  var openEnd = ref.openEnd;
  return new dist$2.Slice(content, $from.depth, openEnd || 0)
}

function fitRightJoin(content, parent, $from, $to, depth, openStart, openEnd) {
  var match, count = content.childCount, matchCount = count - (openEnd > 0 ? 1 : 0);
  if (openStart < 0)
    { match = parent.contentMatchAt(matchCount); }
  else if (count == 1 && openEnd > 0)
    { match = $from.node(depth).contentMatchAt(openStart ? $from.index(depth) : $from.indexAfter(depth)); }
  else
    { match = $from.node(depth).contentMatchAt($from.indexAfter(depth))
      .matchFragment(content, count > 0 && openStart ? 1 : 0, matchCount); }

  var toNode = $to.node(depth);
  if (openEnd > 0 && depth < $to.depth) {
    var after = toNode.content.cutByIndex($to.indexAfter(depth)).addToStart(content.lastChild);
    var joinable$1 = match.fillBefore(after, true);
    // Can't insert content if there's a single node stretched across this gap
    if (joinable$1 && joinable$1.size && openStart > 0 && count == 1) { joinable$1 = null; }

    if (joinable$1) {
      var inner = fitRightJoin(content.lastChild.content, content.lastChild, $from, $to,
                               depth + 1, count == 1 ? openStart - 1 : -1, openEnd - 1);
      if (inner) {
        var last = content.lastChild.copy(inner);
        if (joinable$1.size)
          { return content.cutByIndex(0, count - 1).append(joinable$1).addToEnd(last) }
        else
          { return content.replaceChild(count - 1, last) }
      }
    }
  }
  if (openEnd > 0)
    { match = match.matchType((count == 1 && openStart > 0 ? $from.node(depth + 1) : content.lastChild).type); }

  // If we're here, the next level can't be joined, so we see what
  // happens if we leave it open.
  var toIndex = $to.index(depth);
  if (toIndex == toNode.childCount && !toNode.type.compatibleContent(parent.type)) { return null }
  var joinable = match.fillBefore(toNode.content, true, toIndex);
  if (!joinable) { return null }

  if (openEnd > 0) {
    var closed = fitRightClosed(content.lastChild, openEnd - 1, $from, depth + 1,
                                count == 1 ? openStart - 1 : -1);
    content = content.replaceChild(count - 1, closed);
  }
  content = content.append(joinable);
  if ($to.depth > depth)
    { content = content.addToEnd(fitRightSeparate($to, depth + 1)); }
  return content
}

function fitRightClosed(node, openEnd, $from, depth, openStart) {
  var match, content = node.content, count = content.childCount;
  if (openStart >= 0)
    { match = $from.node(depth).contentMatchAt($from.indexAfter(depth))
      .matchFragment(content, openStart > 0 ? 1 : 0, count); }
  else
    { match = node.contentMatchAt(count); }

  if (openEnd > 0) {
    var closed = fitRightClosed(content.lastChild, openEnd - 1, $from, depth + 1,
                                count == 1 ? openStart - 1 : -1);
    content = content.replaceChild(count - 1, closed);
  }

  return node.copy(content.append(match.fillBefore(dist$2.Fragment.empty, true)))
}

function fitRightSeparate($to, depth) {
  var node = $to.node(depth);
  var fill = node.contentMatchAt(0).fillBefore(node.content, true, $to.index(depth));
  if ($to.depth > depth) { fill = fill.addToEnd(fitRightSeparate($to, depth + 1)); }
  return node.copy(fill)
}

function normalizeSlice(content, openStart, openEnd) {
  while (openStart > 0 && openEnd > 0 && content.childCount == 1) {
    content = content.firstChild.content;
    openStart--;
    openEnd--;
  }
  return new dist$2.Slice(content, openStart, openEnd)
}

// : (ResolvedPos, ResolvedPos, number, Slice) → Slice
function fitRight($from, $to, slice) {
  var fitted = fitRightJoin(slice.content, $from.node(0), $from, $to, 0, slice.openStart, slice.openEnd);
  if (!fitted) { return null }
  return normalizeSlice(fitted, slice.openStart, $to.depth)
}

function fitsTrivially($from, $to, slice) {
  return !slice.openStart && !slice.openEnd && $from.start() == $to.start() &&
    $from.parent.canReplace($from.index(), $to.index(), slice.content)
}

function canMoveText($from, $to, slice) {
  if (!$to.parent.isTextblock) { return false }

  var match;
  if (!slice.openEnd) {
    var parent = $from.node($from.depth - (slice.openStart - slice.openEnd));
    if (!parent.isTextblock) { return false }
    match = parent.contentMatchAt(parent.childCount);
    if (slice.size)
      { match = match.matchFragment(slice.content, slice.openStart ? 1 : 0); }
  } else {
    var parent$1 = nodeRight(slice.content, slice.openEnd);
    if (!parent$1.isTextblock) { return false }
    match = parent$1.contentMatchAt(parent$1.childCount);
  }
  match = match.matchFragment($to.parent.content, $to.index());
  return match && match.validEnd
}

function nodeRight(content, depth) {
  for (var i = 1; i < depth; i++) { content = content.lastChild.content; }
  return content.lastChild
}

// Algorithm for 'placing' the elements of a slice into a gap:
//
// We consider the content of each node that is open to the left to be
// independently placeable. I.e. in <p("foo"), p("bar")>, when the
// paragraph on the left is open, "foo" can be placed (somewhere on
// the left side of the replacement gap) independently from p("bar").
//
// So placeSlice splits up a slice into a number of sub-slices,
// along with information on where they can be placed on the given
// left-side edge. It works by walking the open side of the slice,
// from the inside out, and trying to find a landing spot for each
// element, by simultaneously scanning over the gap side. When no
// place is found for an open node's content, it is left in that node.

// : (ResolvedPos, Slice) → [{content: Fragment, openEnd: number, depth: number}]
function placeSlice($from, slice) {
  var frontier = new Frontier($from);
  for (var pass = 1; slice.size && pass <= 3; pass++)
    { slice = frontier.placeSlice(slice.content, slice.openStart, slice.openEnd, pass); }
  while (frontier.open.length) { frontier.closeNode(); }
  return frontier.placed
}

// Helper class that models the open side of the insert position,
// keeping track of the content match and already inserted content
// at each depth.
var Frontier = function Frontier($pos) {
  var this$1 = this;

  // : [{parent: Node, match: ContentMatch, content: Fragment, wrapper: bool, openEnd: number, depth: number}]
  this.open = [];
  for (var d = 0; d <= $pos.depth; d++) {
    var parent = $pos.node(d), match = parent.contentMatchAt($pos.indexAfter(d));
    this$1.open.push({parent: parent, match: match, content: dist$2.Fragment.empty, wrapper: false, openEnd: 0, depth: d});
  }
  this.placed = [];
};

// : (Fragment, number, number, number, ?Node) → Slice
// Tries to place the content of the given slice, and returns a
// slice containing unplaced content.
//
// pass 1: try to fit directly
// pass 2: allow wrapper nodes to be introduced
// pass 3: allow unwrapping of nodes that aren't open
Frontier.prototype.placeSlice = function placeSlice (fragment, openStart, openEnd, pass, parent) {
    var this$1 = this;

  if (openStart > 0) {
    var first = fragment.firstChild;
    var inner = this.placeSlice(first.content, Math.max(0, openStart - 1),
                                openEnd && fragment.childCount == 1 ? openEnd - 1 : 0,
                                pass, first);
    if (inner.content != first.content) {
      if (inner.content.size) {
        fragment = fragment.replaceChild(0, first.copy(inner.content));
        openStart = inner.openStart + 1;
      } else {
        if (fragment.childCount == 1) { openEnd = 0; }
        fragment = fragment.cutByIndex(1);
        openStart = 0;
      }
    }
  }
  var result = this.placeContent(fragment, openStart, openEnd, pass, parent);
  if (pass > 2 && result.size && openStart == 0) {
    for (var i = 0; i < result.content.childCount; i++) {
      var child = result.content.child(i);
      this$1.placeContent(child.content, 0,
                        openEnd && i == result.content.childCount.length - 1 ? openEnd - 1 : 0,
                        pass, child);
    }
    result = dist$2.Fragment.empty;
  }
  return result
};

Frontier.prototype.placeContent = function placeContent (fragment, openStart, openEnd, pass, parent) {
    var this$1 = this;

  var i = 0;
  // Go over the fragment's children
  for (; i < fragment.childCount; i++) {
    var child = fragment.child(i), placed = false, last = i == fragment.childCount - 1;
    // Try each open node in turn, starting from the innermost
    for (var d = this.open.length - 1; d >= 0; d--) {
      var open = this$1.open[d], wrap = (void 0);

      // If pass > 1, it is allowed to wrap the node to help find a
      // fit, so if findWrappeing returns something, we add open
      // nodes to the frontier for that wrapping.
      if (pass > 1 && (wrap = open.match.findWrapping(child.type)) &&
          !(parent && wrap.length && wrap[wrap.length - 1] == parent.type)) {
        while (this.open.length - 1 > d) { this$1.closeNode(); }
        for (var w = 0; w < wrap.length; w++) {
          open.match = open.match.matchType(wrap[w]);
          d++;
          open = {parent: wrap[w].create(),
                  match: wrap[w].contentMatch,
                  content: dist$2.Fragment.empty, wrapper: true, openEnd: 0, depth: d + w};
          this$1.open.push(open);
        }
      }

      // See if the child fits here
      var match = open.match.matchType(child.type);
      if (!match) {
        var fill = open.match.fillBefore(dist$2.Fragment.from(child));
        if (fill) {
          for (var j = 0; j < fill.childCount; j++) {
            var ch = fill.child(j);
            this$1.addNode(open, ch, 0);
            match = open.match.matchFragment(ch);
          }
        } else if (parent && open.match.matchType(parent.type)) {
          // Don't continue looking further up if the parent node
          // would fit here.
          break
        } else {
          continue
        }
      }

      // Close open nodes above this one, since we're starting to
      // add to this.
      while (this.open.length - 1 > d) { this$1.closeNode(); }
      // Strip marks from the child or close its start when necessary
      child = child.mark(open.parent.type.allowedMarks(child.marks));
      if (openStart) {
        child = closeNodeStart(child, openStart, last ? openEnd : 0);
        openStart = 0;
      }
      // Add the child to this open node and adjust its metadata
      this$1.addNode(open, child, last ? openEnd : 0);
      open.match = match;
      if (last) { openEnd = 0; }
      placed = true;
      break
    }
    // As soon as we've failed to place a node we stop looking at
    // later nodes
    if (!placed) { break }
  }
  // Close the current open node if it's not the the root and we
  // either placed up to the end of the node or the the current
  // slice depth's node type matches the open node's type
  if (this.open.length > 1 &&
      (i > 0 && i == fragment.childCount ||
       parent && this.open[this.open.length - 1].parent.type == parent.type))
    { this.closeNode(); }

  return new dist$2.Slice(fragment.cutByIndex(i), openStart, openEnd)
};

Frontier.prototype.addNode = function addNode (open, node, openEnd) {
  open.content = closeFragmentEnd(open.content, open.openEnd).addToEnd(node);
  open.openEnd = openEnd;
};

Frontier.prototype.closeNode = function closeNode () {
  var open = this.open.pop();
  if (open.content.size == 0) {
    // Nothing here
  } else if (open.wrapper) {
    this.addNode(this.open[this.open.length - 1], open.parent.copy(open.content), open.openEnd + 1);
  } else {
    this.placed[open.depth] = {depth: open.depth, content: open.content, openEnd: open.openEnd};
  }
};

function closeNodeStart(node, openStart, openEnd) {
  var content = node.content;
  if (openStart > 1) {
    var first = closeNodeStart(node.firstChild, openStart - 1, node.childCount == 1 ? openEnd - 1 : 0);
    content = node.content.replaceChild(0, first);
  }
  var fill = node.type.contentMatch.fillBefore(content, openEnd == 0);
  return node.copy(fill.append(content))
}

function closeNodeEnd(node, depth) {
  var content = node.content;
  if (depth > 1) {
    var last = closeNodeEnd(node.lastChild, depth - 1);
    content = node.content.replaceChild(node.childCount - 1, last);
  }
  var fill = node.contentMatchAt(node.childCount).fillBefore(dist$2.Fragment.empty, true);
  return node.copy(content.append(fill))
}

function closeFragmentEnd(fragment, depth) {
  return depth ? fragment.replaceChild(fragment.childCount - 1, closeNodeEnd(fragment.lastChild, depth)) : fragment
}

// :: (number, number, Slice) → this
// Replace a range of the document with a given slice, using `from`,
// `to`, and the slice's [`openStart`](#model.Slice.openStart) property
// as hints, rather than fixed start and end points. This method may
// grow the replaced area or close open nodes in the slice in order to
// get a fit that is more in line with WYSIWYG expectations, by
// dropping fully covered parent nodes of the replaced region when
// they are marked [non-defining](#model.NodeSpec.defining), or
// including an open parent node from the slice that _is_ marked as
// [defining](#model.NodeSpec.defining).
//
// This is the method, for example, to handle paste. The similar
// [`replace`](#transform.Transform.replace) method is a more
// primitive tool which will _not_ move the start and end of its given
// range, and is useful in situations where you need more precise
// control over what happens.
Transform.prototype.replaceRange = function(from, to, slice) {
  var this$1 = this;

  if (!slice.size) { return this.deleteRange(from, to) }

  var $from = this.doc.resolve(from), $to = this.doc.resolve(to);
  if (fitsTrivially($from, $to, slice))
    { return this.step(new ReplaceStep(from, to, slice)) }

  var targetDepths = coveredDepths($from, this.doc.resolve(to));
  // Can't replace the whole document, so remove 0 if it's present
  if (targetDepths[targetDepths.length - 1] == 0) { targetDepths.pop(); }
  // Negative numbers represent not expansion over the whole node at
  // that depth, but replacing from $from.before(-D) to $to.pos.
  var preferredTarget = -($from.depth + 1);
  targetDepths.unshift(preferredTarget);
  // This loop picks a preferred target depth, if one of the covering
  // depths is not outside of a defining node, and adds negative
  // depths for any depth that has $from at its start and does not
  // cross a defining node.
  for (var d = $from.depth, pos = $from.pos - 1; d > 0; d--, pos--) {
    var spec = $from.node(d).type.spec;
    if (spec.defining || spec.isolating) { break }
    if (targetDepths.indexOf(d) > -1) { preferredTarget = d; }
    else if ($from.before(d) == pos) { targetDepths.splice(1, 0, -d); }
  }
  // Try to fit each possible depth of the slice into each possible
  // target depth, starting with the preferred depths.
  var preferredTargetIndex = targetDepths.indexOf(preferredTarget);

  var leftNodes = [], preferredDepth = slice.openStart;
  for (var content = slice.content, i = 0;; i++) {
    var node = content.firstChild;
    leftNodes.push(node);
    if (i == slice.openStart) { break }
    content = node.content;
  }
  // Back up if the node directly above openStart, or the node above
  // that separated only by a non-defining textblock node, is defining.
  if (preferredDepth > 0 && leftNodes[preferredDepth - 1].type.spec.defining &&
      $from.node(preferredTargetIndex).type != leftNodes[preferredDepth - 1].type)
    { preferredDepth -= 1; }
  else if (preferredDepth >= 2 && leftNodes[preferredDepth - 1].isTextblock && leftNodes[preferredDepth - 2].type.spec.defining &&
           $from.node(preferredTargetIndex).type != leftNodes[preferredDepth - 2].type)
    { preferredDepth -= 2; }

  for (var j = slice.openStart; j >= 0; j--) {
    var openDepth = (j + preferredDepth + 1) % (slice.openStart + 1);
    var insert = leftNodes[openDepth];
    if (!insert) { continue }
    for (var i$1 = 0; i$1 < targetDepths.length; i$1++) {
      // Loop over possible expansion levels, starting with the
      // preferred one
      var targetDepth = targetDepths[(i$1 + preferredTargetIndex) % targetDepths.length], expand = true;
      if (targetDepth < 0) { expand = false; targetDepth = -targetDepth; }
      var parent = $from.node(targetDepth - 1), index = $from.index(targetDepth - 1);
      if (parent.canReplaceWith(index, index, insert.type, insert.marks))
        { return this$1.replace($from.before(targetDepth), expand ? $to.after(targetDepth) : to,
                            new dist$2.Slice(closeFragment(slice.content, 0, slice.openStart, openDepth),
                                      openDepth, slice.openEnd)) }
    }
  }

  return this.replace(from, to, slice)
};

function closeFragment(fragment, depth, oldOpen, newOpen, parent) {
  if (depth < oldOpen) {
    var first = fragment.firstChild;
    fragment = fragment.replaceChild(0, first.copy(closeFragment(first.content, depth + 1, oldOpen, newOpen, first)));
  }
  if (depth > newOpen)
    { fragment = parent.contentMatchAt(0).fillBefore(fragment).append(fragment); }
  return fragment
}

// :: (number, number, Node) → this
// Replace the given range with a node, but use `from` and `to` as
// hints, rather than precise positions. When from and to are the same
// and are at the start or end of a parent node in which the given
// node doesn't fit, this method may _move_ them out towards a parent
// that does allow the given node to be placed. When the given range
// completely covers a parent node, this method may completely replace
// that parent node.
Transform.prototype.replaceRangeWith = function(from, to, node) {
  if (!node.isInline && from == to && this.doc.resolve(from).parent.content.size) {
    var point = insertPoint(this.doc, from, node.type);
    if (point != null) { from = to = point; }
  }
  return this.replaceRange(from, to, new dist$2.Slice(dist$2.Fragment.from(node), 0, 0))
};

// :: (number, number) → this
// Delete the given range, expanding it to cover fully covered
// parent nodes until a valid replace is found.
Transform.prototype.deleteRange = function(from, to) {
  var this$1 = this;

  var $from = this.doc.resolve(from), $to = this.doc.resolve(to);
  var covered = coveredDepths($from, $to);
  for (var i = 0; i < covered.length; i++) {
    var depth = covered[i], last = i == covered.length - 1;
    if ((last && depth == 0) || $from.node(depth).type.contentMatch.validEnd)
      { return this$1.delete($from.start(depth), $to.end(depth)) }
    if (depth > 0 && (last || $from.node(depth - 1).canReplace($from.index(depth - 1), $to.indexAfter(depth - 1))))
      { return this$1.delete($from.before(depth), $to.after(depth)) }
  }
  for (var d = 1; d <= $from.depth; d++) {
    if (from - $from.start(d) == $from.depth - d && to > $from.end(d))
      { return this$1.delete($from.before(d), to) }
  }
  return this.delete(from, to)
};

// : (ResolvedPos, ResolvedPos) → [number]
// Returns an array of all depths for which $from - $to spans the
// whole content of the nodes at that depth.
function coveredDepths($from, $to) {
  var result = [], minDepth = Math.min($from.depth, $to.depth);
  for (var d = minDepth; d >= 0; d--) {
    var start = $from.start(d);
    if (start < $from.pos - ($from.depth - d) ||
        $to.end(d) > $to.pos + ($to.depth - d) ||
        $from.node(d).type.spec.isolating ||
        $to.node(d).type.spec.isolating) { break }
    if (start == $to.start(d)) { result.push(d); }
  }
  return result
}

exports.Transform = Transform;
exports.TransformError = TransformError;
exports.Step = Step;
exports.StepResult = StepResult;
exports.joinPoint = joinPoint;
exports.canJoin = canJoin;
exports.canSplit = canSplit;
exports.insertPoint = insertPoint;
exports.liftTarget = liftTarget;
exports.findWrapping = findWrapping;
exports.StepMap = StepMap;
exports.MapResult = MapResult;
exports.Mapping = Mapping;
exports.AddMarkStep = AddMarkStep;
exports.RemoveMarkStep = RemoveMarkStep;
exports.ReplaceStep = ReplaceStep;
exports.ReplaceAroundStep = ReplaceAroundStep;
exports.replaceStep = replaceStep;
//# sourceMappingURL=index.js.map
});

unwrapExports(dist$3);

var dist$1 = createCommonjsModule(function (module, exports) {
'use strict';

Object.defineProperty(exports, '__esModule', { value: true });




var classesById = Object.create(null);

// ::- Superclass for editor selections. Every selection type should
// extend this. Should not be instantiated directly.
var Selection = function Selection($anchor, $head, ranges) {
  // :: [SelectionRange]
  // The ranges covered by the selection.
  this.ranges = ranges || [new SelectionRange($anchor.min($head), $anchor.max($head))];
  // :: ResolvedPos
  // The resolved anchor of the selection (the side that stays in
  // place when the selection is modified).
  this.$anchor = $anchor;
  // :: ResolvedPos
  // The resolved head of the selection (the side that moves when
  // the selection is modified).
  this.$head = $head;
};

var prototypeAccessors = { anchor: {},head: {},from: {},to: {},$from: {},$to: {},empty: {} };

// :: number
// The selection's anchor, as an unresolved position.
prototypeAccessors.anchor.get = function () { return this.$anchor.pos };

// :: number
// The selection's head.
prototypeAccessors.head.get = function () { return this.$head.pos };

// :: number
// The lower bound of the selection's main range.
prototypeAccessors.from.get = function () { return this.$from.pos };

// :: number
// The upper bound of the selection's main range.
prototypeAccessors.to.get = function () { return this.$to.pos };

// :: ResolvedPos
// The resolved lowerbound of the selection's main range.
prototypeAccessors.$from.get = function () {
  return this.ranges[0].$from
};

// :: ResolvedPos
// The resolved upper bound of the selection's main range.
prototypeAccessors.$to.get = function () {
  return this.ranges[0].$to
};

// :: bool
// Indicates whether the selection contains any content.
prototypeAccessors.empty.get = function () {
  var ranges = this.ranges;
  for (var i = 0; i < ranges.length; i++)
    { if (ranges[i].$from.pos != ranges[i].$to.pos) { return false } }
  return true
};

// eq:: (Selection) → bool
// Test whether the selection is the same as another selection.

// map:: (doc: Node, mapping: Mappable) → Selection
// Map this selection through a [mappable](#transform.Mappable) thing. `doc`
// should be the new document to which we are mapping.

// :: () → Slice
// Get the content of this selection as a slice.
Selection.prototype.content = function content () {
  return this.$from.node(0).slice(this.from, this.to, true)
};

// :: (Transaction, ?Slice)
// Replace the selection with a slice or, if no slice is given,
// delete the selection. Will append to the given transaction.
Selection.prototype.replace = function replace (tr, content) {
    if ( content === void 0 ) content = dist$2.Slice.empty;

  // Put the new selection at the position after the inserted
  // content. When that ended in an inline node, search backwards,
  // to get the position after that node. If not, search forward.
  var lastNode = content.content.lastChild, lastParent = null;
  for (var i = 0; i < content.openEnd; i++) {
    lastParent = lastNode;
    lastNode = lastNode.lastChild;
  }

  var mapFrom = tr.steps.length, ranges = this.ranges;
  for (var i$1 = 0; i$1 < ranges.length; i$1++) {
    var ref = ranges[i$1];
      var $from = ref.$from;
      var $to = ref.$to;
      var mapping = tr.mapping.slice(mapFrom);
    tr.replaceRange(mapping.map($from.pos), mapping.map($to.pos), i$1 ? dist$2.Slice.empty : content);
    if (i$1 == 0)
      { selectionToInsertionEnd(tr, mapFrom, (lastNode ? lastNode.isInline : lastParent && lastParent.isTextblock) ? -1 : 1); }
  }
};

// :: (Transaction, Node)
// Replace the selection with the given node, appending the changes
// to the given transaction.
Selection.prototype.replaceWith = function replaceWith (tr, node) {
  var mapFrom = tr.steps.length, ranges = this.ranges;
  for (var i = 0; i < ranges.length; i++) {
    var ref = ranges[i];
      var $from = ref.$from;
      var $to = ref.$to;
      var mapping = tr.mapping.slice(mapFrom);
    var from = mapping.map($from.pos), to = mapping.map($to.pos);
    if (i) {
      tr.deleteRange(from, to);
    } else {
      tr.replaceRangeWith(from, to, node);
      selectionToInsertionEnd(tr, mapFrom, node.isInline ? -1 : 1);
    }
  }
};

// toJSON:: () → Object
// Convert the selection to a JSON representation. When implementing
// this for a custom selection class, make sure to give the object a
// `type` property whose value matches the ID under which you
// [registered](#state.Selection^jsonID) your class.

// :: (ResolvedPos, number, ?bool) → ?Selection
// Find a valid cursor or leaf node selection starting at the given
// position and searching back if `dir` is negative, and forward if
// positive. When `textOnly` is true, only consider cursor
// selections. Will return null when no valid selection position is
// found.
Selection.findFrom = function findFrom ($pos, dir, textOnly) {
  var inner = $pos.parent.inlineContent ? new TextSelection($pos)
      : findSelectionIn($pos.node(0), $pos.parent, $pos.pos, $pos.index(), dir, textOnly);
  if (inner) { return inner }

  for (var depth = $pos.depth - 1; depth >= 0; depth--) {
    var found = dir < 0
        ? findSelectionIn($pos.node(0), $pos.node(depth), $pos.before(depth + 1), $pos.index(depth), dir, textOnly)
        : findSelectionIn($pos.node(0), $pos.node(depth), $pos.after(depth + 1), $pos.index(depth) + 1, dir, textOnly);
    if (found) { return found }
  }
};

// :: (ResolvedPos, ?number) → Selection
// Find a valid cursor or leaf node selection near the given
// position. Searches forward first by default, but if `bias` is
// negative, it will search backwards first.
Selection.near = function near ($pos, bias) {
    if ( bias === void 0 ) bias = 1;

  return this.findFrom($pos, bias) || this.findFrom($pos, -bias) || new AllSelection($pos.node(0))
};

// :: (Node) → Selection
// Find the cursor or leaf node selection closest to the start of
// the given document. Will return an
// [`AllSelection`](#state.AllSelection) if no valid position
// exists.
Selection.atStart = function atStart (doc) {
  return findSelectionIn(doc, doc, 0, 0, 1) || new AllSelection(doc)
};

// :: (Node) → Selection
// Find the cursor or leaf node selection closest to the end of the
// given document.
Selection.atEnd = function atEnd (doc) {
  return findSelectionIn(doc, doc, doc.content.size, doc.childCount, -1) || new AllSelection(doc)
};

// :: (Node, Object) → Selection
// Deserialize the JSON representation of a selection. Must be
// implemented for custom classes (as a static class method).
Selection.fromJSON = function fromJSON (doc, json) {
  if (!json || !json.type) { throw new RangeError("Invalid input for Selection.fromJSON") }
  var cls = classesById[json.type];
  if (!cls) { throw new RangeError(("No selection type " + (json.type) + " defined")) }
  return cls.fromJSON(doc, json)
};

// :: (string, constructor<Selection>)
// To be able to deserialize selections from JSON, custom selection
// classes must register themselves with an ID string, so that they
// can be disambiguated. Try to pick something that's unlikely to
// clash with classes from other modules.
Selection.jsonID = function jsonID (id, selectionClass) {
  if (id in classesById) { throw new RangeError("Duplicate use of selection JSON ID " + id) }
  classesById[id] = selectionClass;
  selectionClass.prototype.jsonID = id;
  return selectionClass
};

// :: () → SelectionBookmark
// Get a [bookmark](#state.SelectionBookmark) for this selection,
// which is a value that can be mapped without having access to a
// current document, and later resolved to a real selection for a
// given document again. (This is used mostly by the history to
// track and restore old selections.) The default implementation of
// this method just converts the selection to a text selection and
// returns the bookmark for that.
Selection.prototype.getBookmark = function getBookmark () {
  return TextSelection.between(this.anchor, this.head).getBookmark()
};

Object.defineProperties( Selection.prototype, prototypeAccessors );

// :: bool
// Controls whether, when a selection of this type is active in the
// browser, the selected range should be visible to the user. Defaults
// to `true`.
Selection.prototype.visible = true;

// SelectionBookmark:: interface
// A lightweight, document-independent representation of a selection.
// You can define a custom bookmark type for a custom selection class
// to make the history handle it well.
//
//   map:: (mapping: Mapping) → SelectionBookmark
//   Map the bookmark through a set of changes.
//
//   resolve:: (doc: Node) → Selection
//   Resolve the bookmark to a real selection again. This may need to
//   do some error checking and may fall back to a default (usually
//   [`TextSelection.between`](#state.TextSelection^between)) if
//   mapping made the bookmark invalid.

// ::- Represents a selected range in a document.
var SelectionRange = function SelectionRange($from, $to) {
  // :: ResolvedPos
  // The lower bound of the range.
  this.$from = $from;
  // :: ResolvedPos
  // The upper bound of the range.
  this.$to = $to;
};

// ::- A text selection represents a classical editor selection, with
// a head (the moving side) and anchor (immobile side), both of which
// point into textblock nodes. It can be empty (a regular cursor
// position).
var TextSelection = (function (Selection) {
  function TextSelection($anchor, $head) {
    if ( $head === void 0 ) $head = $anchor;

    Selection.call(this, $anchor, $head);
  }

  if ( Selection ) TextSelection.__proto__ = Selection;
  TextSelection.prototype = Object.create( Selection && Selection.prototype );
  TextSelection.prototype.constructor = TextSelection;

  var prototypeAccessors$1 = { $cursor: {} };

  // :: ?ResolvedPos
  // Returns a resolved position if this is a cursor selection (an
  // empty text selection), and null otherwise.
  prototypeAccessors$1.$cursor.get = function () { return this.$anchor.pos == this.$head.pos ? this.$head : null };

  TextSelection.prototype.map = function map (doc, mapping) {
    var $head = doc.resolve(mapping.map(this.head));
    if (!$head.parent.inlineContent) { return Selection.near($head) }
    var $anchor = doc.resolve(mapping.map(this.anchor));
    return new TextSelection($anchor.parent.inlineContent ? $anchor : $head, $head)
  };

  TextSelection.prototype.replace = function replace (tr, content) {
    if ( content === void 0 ) content = dist$2.Slice.empty;

    Selection.prototype.replace.call(this, tr, content);
    if (content == dist$2.Slice.empty) {
      var marks = this.$from.marksAcross(this.$to);
      if (marks) { tr.ensureMarks(marks); }
    }
  };

  TextSelection.prototype.eq = function eq (other) {
    return other instanceof TextSelection && other.anchor == this.anchor && other.head == this.head
  };

  TextSelection.prototype.getBookmark = function getBookmark () {
    return new TextBookmark(this.anchor, this.head)
  };

  TextSelection.prototype.toJSON = function toJSON () {
    return {type: "text", anchor: this.anchor, head: this.head}
  };

  TextSelection.fromJSON = function fromJSON (doc, json) {
    if (typeof json.anchor != "number" || typeof json.head != "number")
      { throw new RangeError("Invalid input for TextSelection.fromJSON") }
    return new TextSelection(doc.resolve(json.anchor), doc.resolve(json.head))
  };

  // :: (Node, number, ?number) → TextSelection
  // Create a text selection from non-resolved positions.
  TextSelection.create = function create (doc, anchor, head) {
    if ( head === void 0 ) head = anchor;

    var $anchor = doc.resolve(anchor);
    return new this($anchor, head == anchor ? $anchor : doc.resolve(head))
  };

  // :: (ResolvedPos, ResolvedPos, ?number) → Selection
  // Return a text selection that spans the given positions or, if
  // they aren't text positions, find a text selection near them.
  // `bias` determines whether the method searches forward (default)
  // or backwards (negative number) first. Will fall back to calling
  // [`Selection.near`](#state.Selection^near) when the document
  // doesn't contain a valid text position.
  TextSelection.between = function between ($anchor, $head, bias) {
    var dPos = $anchor.pos - $head.pos;
    if (!bias || dPos) { bias = dPos >= 0 ? 1 : -1; }
    if (!$head.parent.inlineContent) {
      var found = Selection.findFrom($head, bias, true) || Selection.findFrom($head, -bias, true);
      if (found) { $head = found.$head; }
      else { return Selection.near($head, bias) }
    }
    if (!$anchor.parent.inlineContent) {
      if (dPos == 0) {
        $anchor = $head;
      } else {
        $anchor = (Selection.findFrom($anchor, -bias, true) || Selection.findFrom($anchor, bias, true)).$anchor;
        if (($anchor.pos < $head.pos) != (dPos < 0)) { $anchor = $head; }
      }
    }
    return new TextSelection($anchor, $head)
  };

  Object.defineProperties( TextSelection.prototype, prototypeAccessors$1 );

  return TextSelection;
}(Selection));

Selection.jsonID("text", TextSelection);

var TextBookmark = function TextBookmark(anchor, head) {
  this.anchor = anchor;
  this.head = head;
};
TextBookmark.prototype.map = function map (mapping) {
  return new TextBookmark(mapping.map(this.anchor), mapping.map(this.head))
};
TextBookmark.prototype.resolve = function resolve (doc) {
  return TextSelection.between(doc.resolve(this.anchor), doc.resolve(this.head))
};

// ::- A node selection is a selection that points at a single node.
// All nodes marked [selectable](#model.NodeSpec.selectable) can be
// the target of a node selection. In such a selection, `from` and
// `to` point directly before and after the selected node, `anchor`
// equals `from`, and `head` equals `to`..
var NodeSelection = (function (Selection) {
  function NodeSelection($pos) {
    var node = $pos.nodeAfter;
    var $end = $pos.node(0).resolve($pos.pos + node.nodeSize);
    Selection.call(this, $pos, $end);
    // :: Node The selected node.
    this.node = node;
  }

  if ( Selection ) NodeSelection.__proto__ = Selection;
  NodeSelection.prototype = Object.create( Selection && Selection.prototype );
  NodeSelection.prototype.constructor = NodeSelection;

  NodeSelection.prototype.map = function map (doc, mapping) {
    var ref = mapping.mapResult(this.anchor);
    var deleted = ref.deleted;
    var pos = ref.pos;
    var $pos = doc.resolve(pos);
    if (deleted) { return Selection.near($pos) }
    return new NodeSelection($pos)
  };

  NodeSelection.prototype.content = function content () {
    return new dist$2.Slice(dist$2.Fragment.from(this.node), 0, 0)
  };

  NodeSelection.prototype.eq = function eq (other) {
    return other instanceof NodeSelection && other.anchor == this.anchor
  };

  NodeSelection.prototype.toJSON = function toJSON () {
    return {type: "node", anchor: this.anchor}
  };

  NodeSelection.prototype.getBookmark = function getBookmark () { return new NodeBookmark(this.anchor) };

  NodeSelection.fromJSON = function fromJSON (doc, json) {
    if (typeof json.anchor != "number")
      { throw new RangeError("Invalid input for NodeSelection.fromJSON") }
    return new NodeSelection(doc.resolve(json.anchor))
  };

  // :: (Node, number) → NodeSelection
  // Create a node selection from non-resolved positions.
  NodeSelection.create = function create (doc, from) {
    return new this(doc.resolve(from))
  };

  // :: (Node) → bool
  // Determines whether the given node may be selected as a node
  // selection.
  NodeSelection.isSelectable = function isSelectable (node) {
    return !node.isText && node.type.spec.selectable !== false
  };

  return NodeSelection;
}(Selection));

NodeSelection.prototype.visible = false;

Selection.jsonID("node", NodeSelection);

var NodeBookmark = function NodeBookmark(anchor) {
  this.anchor = anchor;
};
NodeBookmark.prototype.map = function map (mapping) {
  var ref = mapping.mapResult(this.anchor);
    var deleted = ref.deleted;
    var pos = ref.pos;
  return deleted ? new TextBookmark(pos, pos) : new NodeBookmark(pos)
};
NodeBookmark.prototype.resolve = function resolve (doc) {
  var $pos = doc.resolve(this.anchor), node = $pos.nodeAfter;
  if (node && NodeSelection.isSelectable(node)) { return new NodeSelection($pos) }
  return Selection.near($pos)
};

// ::- A selection type that represents selecting the whole document
// (which can not necessarily be expressed with a text selection, when
// there are for example leaf block nodes at the start or end of the
// document).
var AllSelection = (function (Selection) {
  function AllSelection(doc) {
    Selection.call(this, doc.resolve(0), doc.resolve(doc.content.size));
  }

  if ( Selection ) AllSelection.__proto__ = Selection;
  AllSelection.prototype = Object.create( Selection && Selection.prototype );
  AllSelection.prototype.constructor = AllSelection;

  AllSelection.prototype.toJSON = function toJSON () { return {type: "all"} };

  AllSelection.fromJSON = function fromJSON (doc) { return new AllSelection(doc) };

  AllSelection.prototype.map = function map (doc) { return new AllSelection(doc) };

  AllSelection.prototype.eq = function eq (other) { return other instanceof AllSelection };

  AllSelection.prototype.getBookmark = function getBookmark () { return AllBookmark };

  return AllSelection;
}(Selection));

Selection.jsonID("all", AllSelection);

var AllBookmark = {
  map: function map() { return this },
  resolve: function resolve(doc) { return new AllSelection(doc) }
};

// FIXME we'll need some awareness of text direction when scanning for selections

// Try to find a selection inside the given node. `pos` points at the
// position where the search starts. When `text` is true, only return
// text selections.
function findSelectionIn(doc, node, pos, index, dir, text) {
  if (node.inlineContent) { return TextSelection.create(doc, pos) }
  for (var i = index - (dir > 0 ? 0 : 1); dir > 0 ? i < node.childCount : i >= 0; i += dir) {
    var child = node.child(i);
    if (!child.isAtom) {
      var inner = findSelectionIn(doc, child, pos + dir, dir < 0 ? child.childCount : 0, dir, text);
      if (inner) { return inner }
    } else if (!text && NodeSelection.isSelectable(child)) {
      return NodeSelection.create(doc, pos - (dir < 0 ? child.nodeSize : 0))
    }
    pos += child.nodeSize * dir;
  }
}

function selectionToInsertionEnd(tr, startLen, bias) {
  var last = tr.steps.length - 1;
  if (last < startLen) { return }
  var step = tr.steps[last];
  if (!(step instanceof dist$3.ReplaceStep || step instanceof dist$3.ReplaceAroundStep)) { return }
  var map = tr.mapping.maps[last], end;
  map.forEach(function (_from, _to, _newFrom, newTo) { if (end == null) { end = newTo; } });
  tr.setSelection(Selection.near(tr.doc.resolve(end), bias));
}

var UPDATED_SEL = 1;
var UPDATED_MARKS = 2;
var UPDATED_SCROLL = 4;

// ::- An editor state transaction, which can be applied to a state to
// create an updated state. Use
// [`EditorState.tr`](#state.EditorState.tr) to create an instance.
//
// Transactions track changes to the document (they are a subclass of
// [`Transform`](#transform.Transform)), but also other state changes,
// like selection updates and adjustments of the set of [stored
// marks](#state.EditorState.storedMarks). In addition, you can store
// metadata properties in a transaction, which are extra pieces of
// information that client code or plugins can use to describe what a
// transacion represents, so that they can update their [own
// state](#state.StateField) accordingly.
//
// The [editor view](#view.EditorView) uses a few metadata properties:
// it will attach a property `"pointer"` with the value `true` to
// selection transactions directly caused by mouse or touch input, and
// a `"uiEvent"` property of that may be `"paste"`, `"cut"`, or `"drop"`.
var Transaction = (function (Transform$$1) {
  function Transaction(state) {
    Transform$$1.call(this, state.doc);
    // :: number
    // The timestamp associated with this transaction, in the same
    // format as `Date.now()`.
    this.time = Date.now();
    this.curSelection = state.selection;
    // The step count for which the current selection is valid.
    this.curSelectionFor = 0;
    // :: ?[Mark]
    // The stored marks set by this transaction, if any.
    this.storedMarks = state.storedMarks;
    // Bitfield to track which aspects of the state were updated by
    // this transaction.
    this.updated = 0;
    // Object used to store metadata properties for the transaction.
    this.meta = Object.create(null);
  }

  if ( Transform$$1 ) Transaction.__proto__ = Transform$$1;
  Transaction.prototype = Object.create( Transform$$1 && Transform$$1.prototype );
  Transaction.prototype.constructor = Transaction;

  var prototypeAccessors = { selection: {},selectionSet: {},storedMarksSet: {},isGeneric: {},scrolledIntoView: {} };

  // :: Selection
  // The transaction's current selection. This defaults to the editor
  // selection [mapped](#state.Selection.map) through the steps in the
  // transaction, but can be overwritten with
  // [`setSelection`](#state.Transaction.setSelection).
  prototypeAccessors.selection.get = function () {
    if (this.curSelectionFor < this.steps.length) {
      this.curSelection = this.curSelection.map(this.doc, this.mapping.slice(this.curSelectionFor));
      this.curSelectionFor = this.steps.length;
    }
    return this.curSelection
  };

  // :: (Selection) → Transaction
  // Update the transaction's current selection. Will determine the
  // selection that the editor gets when the transaction is applied.
  Transaction.prototype.setSelection = function setSelection (selection) {
    this.curSelection = selection;
    this.curSelectionFor = this.steps.length;
    this.updated = (this.updated | UPDATED_SEL) & ~UPDATED_MARKS;
    this.storedMarks = null;
    return this
  };

  // :: bool
  // Whether the selection was explicitly updated by this transaction.
  prototypeAccessors.selectionSet.get = function () {
    return (this.updated & UPDATED_SEL) > 0
  };

  // :: (?[Mark]) → Transaction
  // Set the current stored marks.
  Transaction.prototype.setStoredMarks = function setStoredMarks (marks) {
    this.storedMarks = marks;
    this.updated |= UPDATED_MARKS;
    return this
  };

  // :: ([Mark]) → Transaction
  // Make sure the current stored marks or, if that is null, the marks
  // at the selection, match the given set of marks. Does nothing if
  // this is already the case.
  Transaction.prototype.ensureMarks = function ensureMarks (marks) {
    if (!dist$2.Mark.sameSet(this.storedMarks || this.selection.$from.marks(), marks))
      { this.setStoredMarks(marks); }
    return this
  };

  // :: (Mark) → Transaction
  // Add a mark to the set of stored marks.
  Transaction.prototype.addStoredMark = function addStoredMark (mark) {
    return this.ensureMarks(mark.addToSet(this.storedMarks || this.selection.$head.marks()))
  };

  // :: (union<Mark, MarkType>) → Transaction
  // Remove a mark or mark type from the set of stored marks.
  Transaction.prototype.removeStoredMark = function removeStoredMark (mark) {
    return this.ensureMarks(mark.removeFromSet(this.storedMarks || this.selection.$head.marks()))
  };

  // :: bool
  // Whether the stored marks were explicitly set for this transaction.
  prototypeAccessors.storedMarksSet.get = function () {
    return (this.updated & UPDATED_MARKS) > 0
  };

  Transaction.prototype.addStep = function addStep (step, doc) {
    Transform$$1.prototype.addStep.call(this, step, doc);
    this.updated = this.updated & ~UPDATED_MARKS;
    this.storedMarks = null;
  };

  // :: (number) → Transaction
  // Update the timestamp for the transaction.
  Transaction.prototype.setTime = function setTime (time) {
    this.time = time;
    return this
  };

  // :: (Slice) → Transaction
  // Replace the current selection with the given slice.
  Transaction.prototype.replaceSelection = function replaceSelection (slice) {
    this.selection.replace(this, slice);
    return this
  };

  // :: (Node, ?bool) → Transaction
  // Replace the selection with the given node. When `inheritMarks` is
  // true and the content is inline, it inherits the marks from the
  // place where it is inserted.
  Transaction.prototype.replaceSelectionWith = function replaceSelectionWith (node, inheritMarks) {
    var selection = this.selection;
    if (inheritMarks !== false)
      { node = node.mark(this.storedMarks || (selection.empty ? selection.$from.marks() : (selection.$from.marksAcross(selection.$to) || dist$2.Mark.none))); }
    selection.replaceWith(this, node);
    return this
  };

  // :: () → Transaction
  // Delete the selection.
  Transaction.prototype.deleteSelection = function deleteSelection () {
    this.selection.replace(this);
    return this
  };

  // :: (string, from: ?number, to: ?number) → Transaction
  // Replace the given range, or the selection if no range is given,
  // with a text node containing the given string.
  Transaction.prototype.insertText = function insertText (text, from, to) {
    if ( to === void 0 ) to = from;

    var schema = this.doc.type.schema;
    if (from == null) {
      if (!text) { return this.deleteSelection() }
      return this.replaceSelectionWith(schema.text(text), true)
    } else {
      if (!text) { return this.deleteRange(from, to) }
      var marks = this.storedMarks;
      if (!marks) {
        var $from = this.doc.resolve(from);
        marks = to == from ? $from.marks() : $from.marksAcross(this.doc.resolve(to));
      }
      return this.replaceRangeWith(from, to, schema.text(text, marks))
    }
  };

  // :: (union<string, Plugin, PluginKey>, any) → Transaction
  // Store a metadata property in this transaction, keyed either by
  // name or by plugin.
  Transaction.prototype.setMeta = function setMeta (key, value) {
    this.meta[typeof key == "string" ? key : key.key] = value;
    return this
  };

  // :: (union<string, Plugin, PluginKey>) → any
  // Retrieve a metadata property for a given name or plugin.
  Transaction.prototype.getMeta = function getMeta (key) {
    return this.meta[typeof key == "string" ? key : key.key]
  };

  // :: bool
  // Returns true if this transaction doesn't contain any metadata,
  // and can thus safely be extended.
  prototypeAccessors.isGeneric.get = function () {
    var this$1 = this;

    for (var _ in this$1.meta) { return false }
    return true
  };

  // :: () → Transaction
  // Indicate that the editor should scroll the selection into view
  // when updated to the state produced by this transaction.
  Transaction.prototype.scrollIntoView = function scrollIntoView () {
    this.updated |= UPDATED_SCROLL;
    return this
  };

  prototypeAccessors.scrolledIntoView.get = function () {
    return (this.updated & UPDATED_SCROLL) > 0
  };

  Object.defineProperties( Transaction.prototype, prototypeAccessors );

  return Transaction;
}(dist$3.Transform));

function bind(f, self) {
  return !self || !f ? f : f.bind(self)
}

var FieldDesc = function FieldDesc(name, desc, self) {
  this.name = name;
  this.init = bind(desc.init, self);
  this.apply = bind(desc.apply, self);
};

var baseFields = [
  new FieldDesc("doc", {
    init: function init(config) { return config.doc || config.schema.topNodeType.createAndFill() },
    apply: function apply(tr) { return tr.doc }
  }),

  new FieldDesc("selection", {
    init: function init(config, instance) { return config.selection || Selection.atStart(instance.doc) },
    apply: function apply(tr) { return tr.selection }
  }),

  new FieldDesc("storedMarks", {
    init: function init(config) { return config.storedMarks || null },
    apply: function apply(tr, _marks, _old, state) { return state.selection.$cursor ? tr.storedMarks : null }
  }),

  new FieldDesc("scrollToSelection", {
    init: function init() { return 0 },
    apply: function apply(tr, prev) { return tr.scrolledIntoView ? prev + 1 : prev }
  })
];

// Object wrapping the part of a state object that stays the same
// across transactions. Stored in the state's `config` property.
var Configuration = function Configuration(schema, plugins) {
  var this$1 = this;

  this.schema = schema;
  this.fields = baseFields.concat();
  this.plugins = [];
  this.pluginsByKey = Object.create(null);
  if (plugins) { plugins.forEach(function (plugin) {
    if (this$1.pluginsByKey[plugin.key])
      { throw new RangeError("Adding different instances of a keyed plugin (" + plugin.key + ")") }
    this$1.plugins.push(plugin);
    this$1.pluginsByKey[plugin.key] = plugin;
    if (plugin.spec.state)
      { this$1.fields.push(new FieldDesc(plugin.key, plugin.spec.state, plugin)); }
  }); }
};

// ::- The state of a ProseMirror editor is represented by an object
// of this type. A state is a persistent data structure—it isn't
// updated, but rather a new state value is computed from an old one
// using the [`apply`](#state.EditorState.apply) method.
//
// A state holds a number of built-in fields, and plugins can
// [define](#state.PluginSpec.state) additional fields.
var EditorState = function EditorState(config) {
  this.config = config;
};

var prototypeAccessors$1 = { schema: {},plugins: {},tr: {} };

// doc:: Node
// The current document.

// selection:: Selection
// The selection.

// storedMarks:: ?[Mark]
// A set of marks to apply to the next input. Will be null when
// no explicit marks have been set.

// :: Schema
// The schema of the state's document.
prototypeAccessors$1.schema.get = function () {
  return this.config.schema
};

// :: [Plugin]
// The plugins that are active in this state.
prototypeAccessors$1.plugins.get = function () {
  return this.config.plugins
};

// :: (Transaction) → EditorState
// Apply the given transaction to produce a new state.
EditorState.prototype.apply = function apply (tr) {
  return this.applyTransaction(tr).state
};

// : (Transaction) → ?Transaction
EditorState.prototype.filterTransaction = function filterTransaction (tr, ignore) {
    var this$1 = this;
    if ( ignore === void 0 ) ignore = -1;

  for (var i = 0; i < this.config.plugins.length; i++) { if (i != ignore) {
    var plugin = this$1.config.plugins[i];
    if (plugin.spec.filterTransaction && !plugin.spec.filterTransaction.call(plugin, tr, this$1))
      { return false }
  } }
  return true
};

// :: (Transaction) → {state: EditorState, transactions: [Transaction]}
// Verbose variant of [`apply`](#state.EditorState.apply) that
// returns the precise transactions that were applied (which might
// be influenced by the [transaction
// hooks](#state.PluginSpec.filterTransaction) of
// plugins) along with the new state.
EditorState.prototype.applyTransaction = function applyTransaction (tr) {
    var this$1 = this;

  if (!this.filterTransaction(tr)) { return {state: this, transactions: []} }

  var trs = [tr], newState = this.applyInner(tr), seen = null;
  // This loop repeatedly gives plugins a chance to respond to
  // transactions as new transactions are added, making sure to only
  // pass the transactions the plugin did not see before.
  outer: for (;;) {
    var haveNew = false;
    for (var i = 0; i < this.config.plugins.length; i++) {
      var plugin = this$1.config.plugins[i];
      if (plugin.spec.appendTransaction) {
        var n = seen ? seen[i].n : 0, oldState = seen ? seen[i].state : this$1;
        var tr$1 = n < trs.length &&
            plugin.spec.appendTransaction.call(plugin, n ? trs.slice(n) : trs, oldState, newState);
        if (tr$1 && newState.filterTransaction(tr$1, i)) {
          tr$1.setMeta("appendedTransaction", tr$1);
          if (!seen) {
            seen = [];
            for (var j = 0; j < this.config.plugins.length; j++)
              { seen.push(j < i ? {state: newState, n: trs.length} : {state: this$1, n: 0}); }
          }
          trs.push(tr$1);
          newState = newState.applyInner(tr$1);
          haveNew = true;
        }
        if (seen) { seen[i] = {state: newState, n: trs.length}; }
      }
    }
    if (!haveNew) { return {state: newState, transactions: trs} }
  }
};

// : (Transaction) → EditorState
EditorState.prototype.applyInner = function applyInner (tr) {
    var this$1 = this;

  if (!tr.before.eq(this.doc)) { throw new RangeError("Applying a mismatched transaction") }
  var newInstance = new EditorState(this.config), fields = this.config.fields;
  for (var i = 0; i < fields.length; i++) {
    var field = fields[i];
    newInstance[field.name] = field.apply(tr, this$1[field.name], this$1, newInstance);
  }
  for (var i$1 = 0; i$1 < applyListeners.length; i$1++) { applyListeners[i$1](this$1, tr, newInstance); }
  return newInstance
};

// :: Transaction
// Start a [transaction](#state.Transaction) from this state.
prototypeAccessors$1.tr.get = function () { return new Transaction(this) };

// :: (Object) → EditorState
// Create a new state.
//
// config::- Configuration options. Must contain `schema` or `doc` (or both).
//
//    schema:: ?Schema
//    The schema to use.
//
//    doc:: ?Node
//    The starting document.
//
//    selection:: ?Selection
//    A valid selection in the document.
//
//    storedMarks:: ?[Mark]
//    The initial set of [stored marks](#state.EditorState.storedMarks).
//
//    plugins:: ?[Plugin]
//    The plugins that should be active in this state.
EditorState.create = function create (config) {
  var $config = new Configuration(config.schema || config.doc.type.schema, config.plugins);
  var instance = new EditorState($config);
  for (var i = 0; i < $config.fields.length; i++)
    { instance[$config.fields[i].name] = $config.fields[i].init(config, instance); }
  return instance
};

// :: (Object) → EditorState
// Create a new state based on this one, but with an adjusted set of
// active plugins. State fields that exist in both sets of plugins
// are kept unchanged. Those that no longer exist are dropped, and
// those that are new are initialized using their
// [`init`](#state.StateField.init) method, passing in the new
// configuration object..
//
// config::- configuration options
//
//   schema:: ?Schema
//   New schema to use.
//
//   plugins:: ?[Plugin]
//   New set of active plugins.
EditorState.prototype.reconfigure = function reconfigure (config) {
    var this$1 = this;

  var $config = new Configuration(config.schema || this.schema, config.plugins);
  var fields = $config.fields, instance = new EditorState($config);
  for (var i = 0; i < fields.length; i++) {
    var name = fields[i].name;
    instance[name] = this$1.hasOwnProperty(name) ? this$1[name] : fields[i].init(config, instance);
  }
  return instance
};

// :: (?union<Object<Plugin>, string, number>) → Object
// Serialize this state to JSON. If you want to serialize the state
// of plugins, pass an object mapping property names to use in the
// resulting JSON object to plugin objects. The argument may also be
// a string or number, in which case it is ignored, to support the
// way `JSON.stringify` calls `toString` methods.
EditorState.prototype.toJSON = function toJSON (pluginFields) {
    var this$1 = this;

  var result = {doc: this.doc.toJSON(), selection: this.selection.toJSON()};
  if (this.storedMarks) { result.storedMarks = this.storedMarks.map(function (m) { return m.toJSON(); }); }
  if (pluginFields && typeof pluginFields == 'object') { for (var prop in pluginFields) {
    if (prop == "doc" || prop == "selection")
      { throw new RangeError("The JSON fields `doc` and `selection` are reserved") }
    var plugin = pluginFields[prop], state = plugin.spec.state;
    if (state && state.toJSON) { result[prop] = state.toJSON.call(plugin, this$1[plugin.key]); }
  } }
  return result
};

// :: (Object, Object, ?Object<Plugin>) → EditorState
// Deserialize a JSON representation of a state. `config` should
// have at least a `schema` field, and should contain array of
// plugins to initialize the state with. `pluginFields` can be used
// to deserialize the state of plugins, by associating plugin
// instances with the property names they use in the JSON object.
//
// config::- configuration options
//
//   schema:: Schema
//   The schema to use.
//
//   plugins:: ?[Plugin]
//   The set of active plugins.
EditorState.fromJSON = function fromJSON (config, json, pluginFields) {
  if (!json) { throw new RangeError("Invalid input for EditorState.fromJSON") }
  if (!config.schema) { throw new RangeError("Required config field 'schema' missing") }
  var $config = new Configuration(config.schema, config.plugins);
  var instance = new EditorState($config);
  $config.fields.forEach(function (field) {
    if (field.name == "doc") {
      instance.doc = dist$2.Node.fromJSON(config.schema, json.doc);
    } else if (field.name == "selection") {
      instance.selection = Selection.fromJSON(instance.doc, json.selection);
    } else if (field.name == "storedMarks") {
      if (json.storedMarks) { instance.storedMarks = json.storedMarks.map(config.schema.markFromJSON); }
    } else {
      if (pluginFields) { for (var prop in pluginFields) {
        var plugin = pluginFields[prop], state = plugin.spec.state;
        if (plugin.key == field.name && state && state.fromJSON &&
            Object.prototype.hasOwnProperty.call(json, prop)) {
          // This field belongs to a plugin mapped to a JSON field, read it from there.
          instance[field.name] = state.fromJSON.call(plugin, config, json[prop], instance);
          return
        }
      } }
      instance[field.name] = field.init(config, instance);
    }
  });
  return instance
};

// Kludge to allow the view to track mappings between different
// instances of a state.
EditorState.addApplyListener = function addApplyListener (f) {
  applyListeners.push(f);
};
EditorState.removeApplyListener = function removeApplyListener (f) {
  var found = applyListeners.indexOf(f);
  if (found > -1) { applyListeners.splice(found, 1); }
};

Object.defineProperties( EditorState.prototype, prototypeAccessors$1 );

var applyListeners = [];

// PluginSpec:: interface
//
// This is the type passed to the [`Plugin`](#state.Plugin)
// constructor. It provides a definition for a plugin.
//
//   props:: ?EditorProps
//   The [view props](#view.EditorProps) added by this plugin. Props
//   that are functions will be bound to have the plugin instance as
//   their `this` binding.
//
//   state:: ?StateField<any>
//   Allows a plugin to define a [state field](#state.StateField), an
//   extra slot in the state object in which it can keep its own data.
//
//   key:: ?PluginKey
//   Can be used to make this a keyed plugin. You can have only one
//   plugin with a given key in a given state, but it is possible to
//   access the plugin's configuration and state through the key,
//   without having access to the plugin instance object.
//
//   view:: ?(EditorView) → Object
//   When the plugin needs to interact with the editor view, or
//   set something up in the DOM, use this field. The function
//   will be called when the plugin's state is associated with an
//   editor view.
//
//     return::-
//     Should return an object with the following optional
//     properties:
//
//       update:: ?(view: EditorView, prevState: EditorState)
//       Called whenever the view's state is updated.
//
//       destroy:: ?()
//       Called when the view is destroyed or receives a state
//       with different plugins.
//
//   filterTransaction:: ?(Transaction, EditorState) → bool
//   When present, this will be called before a transaction is
//   applied by the state, allowing the plugin to cancel it (by
//   returning false).
//
//   appendTransaction:: ?(transactions: [Transaction], oldState: EditorState, newState: EditorState) → ?Transaction
//   Allows the plugin to append another transaction to be applied
//   after the given array of transactions. When another plugin
//   appends a transaction after this was called, it is called again
//   with the new state and new transactions—but only the new
//   transactions, i.e. it won't be passed transactions that it
//   already saw.

function bindProps(obj, self, target) {
  for (var prop in obj) {
    var val = obj[prop];
    if (val instanceof Function) { val = val.bind(self); }
    else if (prop == "handleDOMEvents") { val = bindProps(val, self, {}); }
    target[prop] = val;
  }
  return target
}

// ::- Plugins bundle functionality that can be added to an editor.
// They are part of the [editor state](#state.EditorState) and
// may influence that state and the view that contains it.
var Plugin = function Plugin(spec) {
  // :: EditorProps
  // The [props](#view.EditorProps) exported by this plugin.
  this.props = {};
  if (spec.props) { bindProps(spec.props, this, this.props); }
  // :: Object
  // The plugin's [spec object](#state.PluginSpec).
  this.spec = spec;
  this.key = spec.key ? spec.key.key : createKey("plugin");
};

// :: (EditorState) → any
// Extract the plugin's state field from an editor state.
Plugin.prototype.getState = function getState (state) { return state[this.key] };

// StateField:: interface<T>
// A plugin spec may provide a state field (under its
// [`state`](#state.PluginSpec.state) property) of this type, which
// describes the state it wants to keep. Functions provided here are
// always called with the plugin instance as their `this` binding.
//
//   init:: (config: Object, instance: EditorState) → T
//   Initialize the value of the field. `config` will be the object
//   passed to [`EditorState.create`](#state.EditorState^create). Note
//   that `instance` is a half-initialized state instance, and will
//   not have values for plugin fields initialized after this one.
//
//   apply:: (tr: Transaction, value: T, oldState: EditorState, newState: EditorState) → T
//   Apply the given transaction to this state field, producing a new
//   field value. Note that the `newState` argument is again a partially
//   constructed state does not yet contain the state from plugins
//   coming after this one.
//
//   toJSON:: ?(value: T) → *
//   Convert this field to JSON. Optional, can be left off to disable
//   JSON serialization for the field.
//
//   fromJSON:: ?(config: Object, value: *, state: EditorState) → T
//   Deserialize the JSON representation of this field. Note that the
//   `state` argument is again a half-initialized state.

var keys = Object.create(null);

function createKey(name) {
  if (name in keys) { return name + "$" + ++keys[name] }
  keys[name] = 0;
  return name + "$"
}

// ::- A key is used to [tag](#state.PluginSpec.key)
// plugins in a way that makes it possible to find them, given an
// editor state. Assigning a key does mean only one plugin of that
// type can be active in a state.
var PluginKey = function PluginKey(name) {
if ( name === void 0 ) name = "key";
 this.key = createKey(name); };

// :: (EditorState) → ?Plugin
// Get the active plugin with this key, if any, from an editor
// state.
PluginKey.prototype.get = function get (state) { return state.config.pluginsByKey[this.key] };

// :: (EditorState) → ?any
// Get the plugin's state from an editor state.
PluginKey.prototype.getState = function getState (state) { return state[this.key] };

exports.Selection = Selection;
exports.SelectionRange = SelectionRange;
exports.TextSelection = TextSelection;
exports.NodeSelection = NodeSelection;
exports.AllSelection = AllSelection;
exports.Transaction = Transaction;
exports.EditorState = EditorState;
exports.Plugin = Plugin;
exports.PluginKey = PluginKey;
//# sourceMappingURL=index.js.map
});

unwrapExports(dist$1);
var dist_4 = dist$1.NodeSelection;
var dist_7 = dist$1.EditorState;
var dist_8 = dist$1.Plugin;

var dist$4 = createCommonjsModule(function (module, exports) {
'use strict';

Object.defineProperty(exports, '__esModule', { value: true });





var result = {};
if (typeof navigator != "undefined") {
  var ie_edge = /Edge\/(\d+)/.exec(navigator.userAgent);
  var ie_upto10 = /MSIE \d/.test(navigator.userAgent);
  var ie_11up = /Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);

  result.mac = /Mac/.test(navigator.platform);
  var ie = result.ie = !!(ie_upto10 || ie_11up || ie_edge);
  result.ie_version = ie_upto10 ? document.documentMode || 6 : ie_11up ? +ie_11up[1] : ie_edge ? +ie_edge[1] : null;
  result.gecko = !ie && /gecko\/(\d+)/i.test(navigator.userAgent);
  result.gecko_version = result.gecko && +(/Firefox\/(\d+)/.exec(navigator.userAgent) || [0, 0])[1];
  var chrome = !ie && /Chrome\/(\d+)/.exec(navigator.userAgent);
  result.chrome = !!chrome;
  result.chrome_version = chrome && +chrome[1];
  result.ios = !ie && /AppleWebKit/.test(navigator.userAgent) && /Mobile\/\w+/.test(navigator.userAgent);
  result.webkit = !ie && 'WebkitAppearance' in document.documentElement.style;
  result.safari = /Apple Computer/.test(navigator.vendor);
}

var domIndex = function(node) {
  for (var index = 0;; index++) {
    node = node.previousSibling;
    if (!node) { return index }
  }
};

var parentNode = function(node) {
  var parent = node.parentNode;
  return parent && parent.nodeType == 11 ? parent.host : parent
};

var textRange = function(node, from, to) {
  var range = document.createRange();
  range.setEnd(node, to == null ? node.nodeValue.length : to);
  range.setStart(node, from || 0);
  return range
};

// Scans forward and backward through DOM positions equivalent to the
// given one to see if the two are in the same place (i.e. after a
// text node vs at the end of that text node)
var isEquivalentPosition = function(node, off, targetNode, targetOff) {
  return targetNode && (scanFor(node, off, targetNode, targetOff, -1) ||
                        scanFor(node, off, targetNode, targetOff, 1))
};

var atomElements = /^(img|br|input|textarea|hr)$/i;

function scanFor(node, off, targetNode, targetOff, dir) {
  for (;;) {
    if (node == targetNode && off == targetOff) { return true }
    if (off == (dir < 0 ? 0 : nodeSize(node)) || node.nodeType == 3 && node.nodeValue == "\ufeff") {
      var parent = node.parentNode;
      if (parent.nodeType != 1 || hasBlockDesc(node) || atomElements.test(node.nodeName)) { return false }
      off = domIndex(node) + (dir < 0 ? 0 : 1);
      node = parent;
    } else if (node.nodeType == 1) {
      node = node.childNodes[off + (dir < 0 ? -1 : 0)];
      off = dir < 0 ? nodeSize(node) : 0;
    } else {
      return false
    }
  }
}

function nodeSize(node) {
  return node.nodeType == 3 ? node.nodeValue.length : node.childNodes.length
}

function hasBlockDesc(dom) {
  var desc = dom.pmViewDesc;
  return desc && desc.node && desc.node.isBlock
}

// Work around Chrome issue https://bugs.chromium.org/p/chromium/issues/detail?id=447523
// (isCollapsed inappropriately returns true in shadow dom)
var selectionCollapsed = function(domSel) {
  var collapsed = domSel.isCollapsed;
  if (collapsed && result.chrome && domSel.rangeCount && !domSel.getRangeAt(0).collapsed)
    { collapsed = false; }
  return collapsed
};

function windowRect(win) {
  return {left: 0, right: win.innerWidth,
          top: 0, bottom: win.innerHeight}
}

function scrollRectIntoView(view, rect) {
  var scrollThreshold = view.someProp("scrollThreshold") || 0, scrollMargin = view.someProp("scrollMargin");
  var doc = view.dom.ownerDocument, win = doc.defaultView;
  if (scrollMargin == null) { scrollMargin = 5; }
  for (var parent = view.dom;; parent = parentNode(parent)) {
    if (!parent) { break }
    var atBody = parent == doc.body;
    var bounding = atBody ? windowRect(win) : parent.getBoundingClientRect();
    var moveX = 0, moveY = 0;
    if (rect.top < bounding.top + scrollThreshold)
      { moveY = -(bounding.top - rect.top + scrollMargin); }
    else if (rect.bottom > bounding.bottom - scrollThreshold)
      { moveY = rect.bottom - bounding.bottom + scrollMargin; }
    if (rect.left < bounding.left + scrollThreshold)
      { moveX = -(bounding.left - rect.left + scrollMargin); }
    else if (rect.right > bounding.right - scrollThreshold)
      { moveX = rect.right - bounding.right + scrollMargin; }
    if (moveX || moveY) {
      if (atBody) {
        win.scrollBy(moveX, moveY);
      } else {
        if (moveY) { parent.scrollTop += moveY; }
        if (moveX) { parent.scrollLeft += moveX; }
      }
    }
    if (atBody) { break }
  }
}

// Store the scroll position of the editor's parent nodes, along with
// the top position of an element near the top of the editor, which
// will be used to make sure the visible viewport remains stable even
// when the size of the content above changes.
function storeScrollPos(view) {
  var rect = view.dom.getBoundingClientRect(), startY = Math.max(0, rect.top);
  var doc = view.dom.ownerDocument;
  var refDOM, refTop;
  for (var x = (rect.left + rect.right) / 2, y = startY + 1;
       y < Math.min(innerHeight, rect.bottom); y += 5) {
    var dom = view.root.elementFromPoint(x, y);
    if (dom == view.dom || !view.dom.contains(dom)) { continue }
    var localRect = dom.getBoundingClientRect();
    if (localRect.top >= startY - 20) {
      refDOM = dom;
      refTop = localRect.top;
      break
    }
  }
  var stack = [];
  for (var dom$1 = view.dom; dom$1; dom$1 = parentNode(dom$1)) {
    stack.push({dom: dom$1, top: dom$1.scrollTop, left: dom$1.scrollLeft});
    if (dom$1 == doc.body) { break }
  }
  return {refDOM: refDOM, refTop: refTop, stack: stack}
}

// Reset the scroll position of the editor's parent nodes to that what
// it was before, when storeScrollPos was called.
function resetScrollPos(ref) {
  var refDOM = ref.refDOM;
  var refTop = ref.refTop;
  var stack = ref.stack;

  var newRefTop = refDOM ? refDOM.getBoundingClientRect().top : 0;
  var dTop = newRefTop == 0 ? 0 : newRefTop - refTop;
  for (var i = 0; i < stack.length; i++) {
    var ref$1 = stack[i];
    var dom = ref$1.dom;
    var top = ref$1.top;
    var left = ref$1.left;
    if (dom.scrollTop != top + dTop) { dom.scrollTop = top + dTop; }
    if (dom.scrollLeft != left) { dom.scrollLeft = left; }
  }
}

function findOffsetInNode(node, coords) {
  var closest, dxClosest = 2e8, coordsClosest, offset = 0;
  var rowBot = coords.top, rowTop = coords.top;
  for (var child = node.firstChild, childIndex = 0; child; child = child.nextSibling, childIndex++) {
    var rects = (void 0);
    if (child.nodeType == 1) { rects = child.getClientRects(); }
    else if (child.nodeType == 3) { rects = textRange(child).getClientRects(); }
    else { continue }

    for (var i = 0; i < rects.length; i++) {
      var rect = rects[i];
      if (rect.top <= rowBot && rect.bottom >= rowTop) {
        rowBot = Math.max(rect.bottom, rowBot);
        rowTop = Math.min(rect.top, rowTop);
        var dx = rect.left > coords.left ? rect.left - coords.left
            : rect.right < coords.left ? coords.left - rect.right : 0;
        if (dx < dxClosest) {
          closest = child;
          dxClosest = dx;
          coordsClosest = dx && closest.nodeType == 3 ? {left: rect.right < coords.left ? rect.right : rect.left, top: coords.top} : coords;
          if (child.nodeType == 1 && dx)
            { offset = childIndex + (coords.left >= (rect.left + rect.right) / 2 ? 1 : 0); }
          continue
        }
      }
      if (!closest && (coords.left >= rect.right && coords.top >= rect.top ||
                       coords.left >= rect.left && coords.top >= rect.bottom))
        { offset = childIndex + 1; }
    }
  }
  if (closest && closest.nodeType == 3) { return findOffsetInText(closest, coordsClosest) }
  if (!closest || (dxClosest && closest.nodeType == 1)) { return {node: node, offset: offset} }
  return findOffsetInNode(closest, coordsClosest)
}

function findOffsetInText(node, coords) {
  var len = node.nodeValue.length;
  var range = document.createRange();
  for (var i = 0; i < len; i++) {
    range.setEnd(node, i + 1);
    range.setStart(node, i);
    var rect = singleRect(range, 1);
    if (rect.top == rect.bottom) { continue }
    if (rect.left - 1 <= coords.left && rect.right + 1 >= coords.left &&
        rect.top - 1 <= coords.top && rect.bottom + 1 >= coords.top)
      { return {node: node, offset: i + (coords.left >= (rect.left + rect.right) / 2 ? 1 : 0)} }
  }
  return {node: node, offset: 0}
}

function targetKludge(dom, coords) {
  var parent = dom.parentNode;
  if (parent && /^li$/i.test(parent.nodeName) && coords.left < dom.getBoundingClientRect().left)
    { return parent }
  return dom
}

function posFromElement(view, elt, coords) {
  if (!view.dom.contains(elt.nodeType != 1 ? elt.parentNode : elt)) { return null }

  var ref = findOffsetInNode(elt, coords);
  var node = ref.node;
  var offset = ref.offset;
  var bias = -1;
  if (node.nodeType == 1 && !node.firstChild) {
    var rect = node.getBoundingClientRect();
    bias = rect.left != rect.right && coords.left > (rect.left + rect.right) / 2 ? 1 : -1;
  }
  return view.docView.posFromDOM(node, offset, bias)
}

function posFromCaret(view, node, offset, coords) {
  // Browser (in caretPosition/RangeFromPoint) will agressively
  // normalize towards nearby inline nodes. Since we are interested in
  // positions between block nodes too, we first walk up the hierarchy
  // of nodes to see if there are block nodes that the coordinates
  // fall outside of. If so, we take the position before/after that
  // block. If not, we call `posFromDOM` on the raw node/offset.
  var outside = -1;
  for (var cur = node;;) {
    if (cur == view.dom) { break }
    var desc = view.docView.nearestDesc(cur, true);
    if (!desc) { return null }
    if (desc.node.isBlock && desc.parent) {
      var rect = desc.dom.getBoundingClientRect();
      if (rect.left > coords.left || rect.top > coords.top) { outside = desc.posBefore; }
      else if (rect.right < coords.left || rect.bottom < coords.top) { outside = desc.posAfter; }
      else { break }
    }
    cur = desc.dom.parentNode;
  }
  return outside > -1 ? outside : view.docView.posFromDOM(node, offset)
}

// Given an x,y position on the editor, get the position in the document.
function posAtCoords(view, coords) {
  var root = view.root, node, offset;
  if (root.caretPositionFromPoint) {
    var pos$1 = root.caretPositionFromPoint(coords.left, coords.top);
    if (pos$1) { var assign;
      ((assign = pos$1, node = assign.offsetNode, offset = assign.offset)); }
  }
  if (!node && root.caretRangeFromPoint) {
    var range = root.caretRangeFromPoint(coords.left, coords.top);
    if (range) { var assign$1;
      ((assign$1 = range, node = assign$1.startContainer, offset = assign$1.startOffset)); }
  }

  var elt = root.elementFromPoint(coords.left, coords.top + 1), pos;
  if (!elt) { return null }
  elt = targetKludge(elt, coords);
  if (node) {
    // Suspiciously specific kludge to work around caret*FromPoint
    // never returning a position at the end of the document
    if (node == view.dom && offset == node.childNodes.length - 1 && node.lastChild.nodeType == 1 &&
        coords.top > node.lastChild.getBoundingClientRect().bottom)
      { pos = view.state.doc.content.size; }
    // Ignore positions directly after a BR, since caret*FromPoint
    // 'round up' positions that would be more accurately places
    // before the BR node.
    else if (offset == 0 || node.nodeType != 1 || node.childNodes[offset - 1].nodeName != "BR")
      { pos = posFromCaret(view, node, offset, coords); }
  }
  if (pos == null) {
    pos = posFromElement(view, elt, coords);
    if (pos == null) { return null }
  }

  var desc = view.docView.nearestDesc(elt, true);
  return {pos: pos, inside: desc ? desc.posAtStart - desc.border : -1}
}

function singleRect(object, bias) {
  var rects = object.getClientRects();
  return !rects.length ? object.getBoundingClientRect() : rects[bias < 0 ? 0 : rects.length - 1]
}

// : (EditorView, number) → {left: number, top: number, right: number, bottom: number}
// Given a position in the document model, get a bounding box of the
// character at that position, relative to the window.
function coordsAtPos(view, pos) {
  var ref = view.docView.domFromPos(pos);
  var node = ref.node;
  var offset = ref.offset;
  var side, rect;
  if (node.nodeType == 3) {
    if (offset < node.nodeValue.length) {
      rect = singleRect(textRange(node, offset, offset + 1), -1);
      side = "left";
    }
    if ((!rect || rect.left == rect.right) && offset) {
      rect = singleRect(textRange(node, offset - 1, offset), 1);
      side = "right";
    }
  } else if (node.firstChild) {
    if (offset < node.childNodes.length) {
      var child = node.childNodes[offset];
      rect = singleRect(child.nodeType == 3 ? textRange(child) : child, -1);
      side = "left";
    }
    if ((!rect || rect.top == rect.bottom) && offset) {
      var child$1 = node.childNodes[offset - 1];
      rect = singleRect(child$1.nodeType == 3 ? textRange(child$1) : child$1, 1);
      side = "right";
    }
  } else {
    rect = node.getBoundingClientRect();
    side = "left";
  }
  var x = rect[side];
  return {top: rect.top, bottom: rect.bottom, left: x, right: x}
}

function withFlushedState(view, state, f) {
  var viewState = view.state, active = view.root.activeElement;
  if (viewState != state || !view.inDOMChange) { view.updateState(state); }
  if (active != view.dom) { view.focus(); }
  try {
    return f()
  } finally {
    if (viewState != state) { view.updateState(viewState); }
    if (active != view.dom) { active.focus(); }
  }
}

// : (EditorView, number, number)
// Whether vertical position motion in a given direction
// from a position would leave a text block.
function endOfTextblockVertical(view, state, dir) {
  var sel = state.selection;
  var $pos = dir == "up" ? sel.$anchor.min(sel.$head) : sel.$anchor.max(sel.$head);
  if (!$pos.depth) { return false }
  return withFlushedState(view, state, function () {
    var dom = view.docView.domAfterPos($pos.before());
    var coords = coordsAtPos(view, $pos.pos);
    for (var child = dom.firstChild; child; child = child.nextSibling) {
      var boxes = (void 0);
      if (child.nodeType == 1) { boxes = child.getClientRects(); }
      else if (child.nodeType == 3) { boxes = textRange(child, 0, child.nodeValue.length).getClientRects(); }
      else { continue }
      for (var i = 0; i < boxes.length; i++) {
        var box = boxes[i];
        if (box.bottom > box.top && (dir == "up" ? box.bottom < coords.top + 1 : box.top > coords.bottom - 1))
          { return false }
      }
    }
    return true
  })
}

var maybeRTL = /[\u0590-\u08ac]/;

function endOfTextblockHorizontal(view, state, dir) {
  var ref = state.selection;
  var $head = ref.$head;
  if (!$head.parent.isTextblock || !$head.depth) { return false }
  var offset = $head.parentOffset, atStart = !offset, atEnd = offset == $head.parent.content.size;
  var sel = getSelection();
  // If the textblock is all LTR, or the browser doesn't support
  // Selection.modify (Edge), fall back to a primitive approach
  if (!maybeRTL.test($head.parent.textContent) || !sel.modify)
    { return dir == "left" || dir == "backward" ? atStart : atEnd }

  return withFlushedState(view, state, function () {
    // This is a huge hack, but appears to be the best we can
    // currently do: use `Selection.modify` to move the selection by
    // one character, and see if that moves the cursor out of the
    // textblock (or doesn't move it at all, when at the start/end of
    // the document).
    var oldRange = sel.getRangeAt(0), oldNode = sel.focusNode, oldOff = sel.focusOffset;
    sel.modify("move", dir, "character");
    var parentDOM = view.docView.domAfterPos($head.before());
    var result = !parentDOM.contains(sel.focusNode.nodeType == 1 ? sel.focusNode : sel.focusNode.parentNode) ||
        (oldNode == sel.focusNode && oldOff == sel.focusOffset);
    // Restore the previous selection
    sel.removeAllRanges();
    sel.addRange(oldRange);
    return result
  })
}

var cachedState = null;
var cachedDir = null;
var cachedResult = false;
function endOfTextblock(view, state, dir) {
  if (cachedState == state && cachedDir == dir) { return cachedResult }
  cachedState = state; cachedDir = dir;
  return cachedResult = dir == "up" || dir == "down"
    ? endOfTextblockVertical(view, state, dir)
    : endOfTextblockHorizontal(view, state, dir)
}

// NodeView:: interface
//
// By default, document nodes are rendered using the result of the
// [`toDOM`](#model.NodeSpec.toDOM) method of their spec, and managed
// entirely by the editor. For some use cases, such as embedded
// node-specific editing interfaces, you want more control over
// the behavior of a node's in-editor representation, and need to
// [define](#view.EditorProps.nodeViews) a custom node view.
//
// Objects returned as node views must conform to this interface.
//
//   dom:: ?dom.Node
//   The outer DOM node that represents the document node. When not
//   given, the default strategy is used to create a DOM node.
//
//   contentDOM:: ?dom.Node
//   The DOM node that should hold the node's content. Only meaningful
//   if the node view also defines a `dom` property and if its node
//   type is not a leaf node type. When this is present, ProseMirror
//   will take care of rendering the node's children into it. When it
//   is not present, the node view itself is responsible for rendering
//   (or deciding not to render) its child nodes.
//
//   update:: ?(node: Node, decorations: [Decoration]) → bool
//   When given, this will be called when the view is updating itself.
//   It will be given a node (possibly of a different type), and an
//   array of active decorations (which are automatically drawn, and
//   the node view may ignore if it isn't interested in them), and
//   should return true if it was able to update to that node, and
//   false otherwise. If the node view has a `contentDOM` property (or
//   no `dom` property), updating its child nodes will be handled by
//   ProseMirror.
//
//   selectNode:: ?()
//   Can be used to override the way the node's selected status (as a
//   node selection) is displayed.
//
//   deselectNode:: ?()
//   When defining a `selectNode` method, you should also provide a
//   `deselectNode` method to remove the effect again.
//
//   setSelection:: ?(anchor: number, head: number, root: dom.Document)
//   This will be called to handle setting the selection inside the
//   node. The `anchor` and `head` positions are relative to the start
//   of the node. By default, a DOM selection will be created between
//   the DOM positions corresponding to those positions, but if you
//   override it you can do something else.
//
//   stopEvent:: ?(event: dom.Event) → bool
//   Can be used to prevent the editor view from trying to handle some
//   or all DOM events that bubble up from the node view. Events for
//   which this returns true are not handled by the editor.
//
//   ignoreMutation:: ?(dom.MutationRecord) → bool
//   Called when a DOM
//   [mutation](https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver)
//   happens within the view. Return false if the editor should
//   re-parse the range around the mutation, true if it can safely be
//   ignored.
//
//   destroy:: ?()
//   Called when the node view is removed from the editor or the whole
//   editor is destroyed.

// View descriptions are data structures that describe the DOM that is
// used to represent the editor's content. They are used for:
//
// - Incremental redrawing when the document changes
//
// - Figuring out what part of the document a given DOM position
//   corresponds to
//
// - Wiring in custom implementations of the editing interface for a
//   given node
//
// They form a doubly-linked mutable tree, starting at `view.docView`.

var NOT_DIRTY = 0;
var CHILD_DIRTY = 1;
var CONTENT_DIRTY = 2;
var NODE_DIRTY = 3;

// Superclass for the various kinds of descriptions. Defines their
// basic structure and shared methods.
var ViewDesc = function ViewDesc(parent, children, dom, contentDOM) {
  this.parent = parent;
  this.children = children;
  this.dom = dom;
  // An expando property on the DOM node provides a link back to its
  // description.
  dom.pmViewDesc = this;
  // This is the node that holds the child views. It may be null for
  // descs that don't have children.
  this.contentDOM = contentDOM;
  this.dirty = NOT_DIRTY;
};

var prototypeAccessors$1 = { beforePosition: {},size: {},border: {},posBefore: {},posAtStart: {},posAfter: {},posAtEnd: {},contentLost: {} };

// Used to check whether a given description corresponds to a
// widget/mark/node.
ViewDesc.prototype.matchesWidget = function matchesWidget () { return false };
ViewDesc.prototype.matchesMark = function matchesMark () { return false };
ViewDesc.prototype.matchesNode = function matchesNode () { return false };
ViewDesc.prototype.matchesHack = function matchesHack () { return false };

prototypeAccessors$1.beforePosition.get = function () { return false };

// : () → ?ParseRule
// When parsing in-editor content (in domchange.js), we allow
// descriptions to determine the parse rules that should be used to
// parse them.
ViewDesc.prototype.parseRule = function parseRule () { return null };

// : (dom.Event) → bool
// Used by the editor's event handler to ignore events that come
// from certain descs.
ViewDesc.prototype.stopEvent = function stopEvent () { return false };

// The size of the content represented by this desc.
prototypeAccessors$1.size.get = function () {
    var this$1 = this;

  var size = 0;
  for (var i = 0; i < this.children.length; i++) { size += this$1.children[i].size; }
  return size
};

// For block nodes, this represents the space taken up by their
// start/end tokens.
prototypeAccessors$1.border.get = function () { return 0 };

ViewDesc.prototype.destroy = function destroy () {
    var this$1 = this;

  this.parent = null;
  if (this.dom.pmViewDesc == this) { this.dom.pmViewDesc = null; }
  for (var i = 0; i < this.children.length; i++)
    { this$1.children[i].destroy(); }
};

ViewDesc.prototype.posBeforeChild = function posBeforeChild (child) {
    var this$1 = this;

  for (var i = 0, pos = this.posAtStart; i < this.children.length; i++) {
    var cur = this$1.children[i];
    if (cur == child) { return pos }
    pos += cur.size;
  }
};

prototypeAccessors$1.posBefore.get = function () {
  return this.parent.posBeforeChild(this)
};

prototypeAccessors$1.posAtStart.get = function () {
  return this.parent ? this.parent.posBeforeChild(this) + this.border : 0
};

prototypeAccessors$1.posAfter.get = function () {
  return this.posBefore + this.size
};

prototypeAccessors$1.posAtEnd.get = function () {
  return this.posAtStart + this.size - 2 * this.border
};

// : (dom.Node, number, ?number) → number
ViewDesc.prototype.localPosFromDOM = function localPosFromDOM (dom, offset, bias) {
    var this$1 = this;

  // If the DOM position is in the content, use the child desc after
  // it to figure out a position.
  if (this.contentDOM && this.contentDOM.contains(dom.nodeType == 1 ? dom : dom.parentNode)) {
    if (bias < 0) {
      var domBefore, desc;
      if (dom == this.contentDOM) {
        domBefore = dom.childNodes[offset - 1];
      } else {
        while (dom.parentNode != this.contentDOM) { dom = dom.parentNode; }
        domBefore = dom.previousSibling;
      }
      while (domBefore && !((desc = domBefore.pmViewDesc) && desc.parent == this)) { domBefore = domBefore.previousSibling; }
      return domBefore ? this.posBeforeChild(desc) + desc.size : this.posAtStart
    } else {
      var domAfter, desc$1;
      if (dom == this.contentDOM) {
        domAfter = dom.childNodes[offset];
      } else {
        while (dom.parentNode != this.contentDOM) { dom = dom.parentNode; }
        domAfter = dom.nextSibling;
      }
      while (domAfter && !((desc$1 = domAfter.pmViewDesc) && desc$1.parent == this)) { domAfter = domAfter.nextSibling; }
      return domAfter ? this.posBeforeChild(desc$1) : this.posAtEnd
    }
  }
  // Otherwise, use various heuristics, falling back on the bias
  // parameter, to determine whether to return the position at the
  // start or at the end of this view desc.
  var atEnd;
  if (this.contentDOM && this.contentDOM != this.dom && this.dom.contains(this.contentDOM)) {
    atEnd = dom.compareDocumentPosition(this.contentDOM) & 2;
  } else if (this.dom.firstChild) {
    if (offset == 0) { for (var search = dom;; search = search.parentNode) {
      if (search == this$1.dom) { atEnd = false; break }
      if (search.parentNode.firstChild != search) { break }
    } }
    if (atEnd == null && offset == dom.childNodes.length) { for (var search$1 = dom;; search$1 = search$1.parentNode) {
      if (search$1 == this$1.dom) { atEnd = true; break }
      if (search$1.parentNode.lastChild != search$1) { break }
    } }
  }
  return (atEnd == null ? bias > 0 : atEnd) ? this.posAtEnd : this.posAtStart
};

// Scan up the dom finding the first desc that is a descendant of
// this one.
ViewDesc.prototype.nearestDesc = function nearestDesc (dom, onlyNodes) {
    var this$1 = this;

  for (var first = true, cur = dom; cur; cur = cur.parentNode) {
    var desc = this$1.getDesc(cur);
    if (desc && (!onlyNodes || desc.node)) {
      // If dom is outside of this desc's nodeDOM, don't count it.
      if (first && desc.nodeDOM && !(desc.nodeDOM.nodeType == 1 ? desc.nodeDOM.contains(dom) : desc.nodeDOM == dom)) { first = false; }
      else { return desc }
    }
  }
};

ViewDesc.prototype.getDesc = function getDesc (dom) {
    var this$1 = this;

  var desc = dom.pmViewDesc;
  for (var cur = desc; cur; cur = cur.parent) { if (cur == this$1) { return desc } }
};

ViewDesc.prototype.posFromDOM = function posFromDOM (dom, offset, bias) {
    var this$1 = this;

  for (var scan = dom;; scan = scan.parentNode) {
    var desc = this$1.getDesc(scan);
    if (desc) { return desc.localPosFromDOM(dom, offset, bias) }
  }
};

// : (number) → ?NodeViewDesc
// Find the desc for the node after the given pos, if any. (When a
// parent node overrode rendering, there might not be one.)
ViewDesc.prototype.descAt = function descAt (pos) {
    var this$1 = this;

  for (var i = 0, offset = 0; i < this.children.length; i++) {
    var child = this$1.children[i], end = offset + child.size;
    if (offset == pos && end != offset) {
      while (!child.border && child.children.length) { child = child.children[0]; }
      return child
    }
    if (pos < end) { return child.descAt(pos - offset - child.border) }
    offset = end;
  }
};

// : (number) → {node: dom.Node, offset: number}
ViewDesc.prototype.domFromPos = function domFromPos (pos) {
    var this$1 = this;

  if (!this.contentDOM) { return {node: this.dom, offset: 0} }
  for (var offset = 0, i = 0;; i++) {
    if (offset == pos) {
      while (i < this.children.length && this.children[i].beforePosition) { i++; }
      return {node: this$1.contentDOM, offset: i}
    }
    if (i == this$1.children.length) { throw new Error("Invalid position " + pos) }
    var child = this$1.children[i], end = offset + child.size;
    if (pos < end) { return child.domFromPos(pos - offset - child.border) }
    offset = end;
  }
};

// Used to find a DOM range in a single parent for a given changed
// range.
ViewDesc.prototype.parseRange = function parseRange (from, to, base) {
    var this$1 = this;
    if ( base === void 0 ) base = 0;

  if (this.children.length == 0)
    { return {node: this.contentDOM, from: from, to: to, fromOffset: 0, toOffset: this.contentDOM.childNodes.length} }

  var fromOffset = -1, toOffset = -1;
  for (var offset = 0, i = 0;; i++) {
    var child = this$1.children[i], end = offset + child.size;
    if (fromOffset == -1 && from <= end) {
      var childBase = offset + child.border;
      // FIXME maybe descend mark views to parse a narrower range?
      if (from >= childBase && to <= end - child.border && child.node &&
          child.contentDOM && this$1.contentDOM.contains(child.contentDOM))
        { return child.parseRange(from - childBase, to - childBase, base + childBase) }

      from = base + offset;
      for (var j = i; j > 0; j--) {
        var prev = this$1.children[j - 1];
        if (prev.size && prev.dom.parentNode == this$1.contentDOM && !prev.emptyChildAt(1)) {
          fromOffset = domIndex(prev.dom) + 1;
          break
        }
        from -= prev.size;
      }
      if (fromOffset == -1) { fromOffset = 0; }
    }
    if (fromOffset > -1 && to <= end) {
      to = base + end;
      for (var j$1 = i + 1; j$1 < this.children.length; j$1++) {
        var next = this$1.children[j$1];
        if (next.size && next.dom.parentNode == this$1.contentDOM && !next.emptyChildAt(-1)) {
          toOffset = domIndex(next.dom);
          break
        }
        to += next.size;
      }
      if (toOffset == -1) { toOffset = this$1.contentDOM.childNodes.length; }
      break
    }
    offset = end;
  }
  return {node: this.contentDOM, from: from, to: to, fromOffset: fromOffset, toOffset: toOffset}
};

ViewDesc.prototype.emptyChildAt = function emptyChildAt (side) {
  if (this.border || !this.contentDOM || !this.children.length) { return false }
  var child = this.children[side < 0 ? 0 : this.children.length - 1];
  return child.size == 0 || child.emptyChildAt(side)
};

// : (number) → dom.Node
ViewDesc.prototype.domAfterPos = function domAfterPos (pos) {
  var ref = this.domFromPos(pos);
    var node = ref.node;
    var offset = ref.offset;
  if (node.nodeType != 1 || offset == node.childNodes.length)
    { throw new RangeError("No node after pos " + pos) }
  return node.childNodes[offset]
};

// : (number, number, dom.Document)
// View descs are responsible for setting any selection that falls
// entirely inside of them, so that custom implementations can do
// custom things with the selection. Note that this falls apart when
// a selection starts in such a node and ends in another, in which
// case we just use whatever domFromPos produces as a best effort.
ViewDesc.prototype.setSelection = function setSelection (anchor, head, root) {
    var this$1 = this;

  // If the selection falls entirely in a child, give it to that child
  var from = Math.min(anchor, head), to = Math.max(anchor, head);
  for (var i = 0, offset = 0; i < this.children.length; i++) {
    var child = this$1.children[i], end = offset + child.size;
    if (from > offset && to < end)
      { return child.setSelection(anchor - offset - child.border, head - offset - child.border, root) }
    offset = end;
  }

  var anchorDOM = this.domFromPos(anchor), headDOM = this.domFromPos(head);
  var domSel = root.getSelection(), range = document.createRange();
  if (isEquivalentPosition(anchorDOM.node, anchorDOM.offset, domSel.anchorNode, domSel.anchorOffset) &&
      isEquivalentPosition(headDOM.node, headDOM.offset, domSel.focusNode, domSel.focusOffset))
    { return }

  // Selection.extend can be used to create an 'inverted' selection
  // (one where the focus is before the anchor), but not all
  // browsers support it yet.
  if (domSel.extend) {
    range.setEnd(anchorDOM.node, anchorDOM.offset);
    range.collapse(false);
  } else {
    if (anchor > head) { var tmp = anchorDOM; anchorDOM = headDOM; headDOM = tmp; }
    range.setEnd(headDOM.node, headDOM.offset);
    range.setStart(anchorDOM.node, anchorDOM.offset);
  }
  domSel.removeAllRanges();
  domSel.addRange(range);
  if (domSel.extend)
    { domSel.extend(headDOM.node, headDOM.offset); }
};

// : (dom.MutationRecord) → bool
ViewDesc.prototype.ignoreMutation = function ignoreMutation (_mutation) {
  return !this.contentDOM
};

prototypeAccessors$1.contentLost.get = function () {
  return this.contentDOM && this.contentDOM != this.dom && !this.dom.contains(this.contentDOM)
};

// Remove a subtree of the element tree that has been touched
// by a DOM change, so that the next update will redraw it.
ViewDesc.prototype.markDirty = function markDirty (from, to) {
    var this$1 = this;

  for (var offset = 0, i = 0; i < this.children.length; i++) {
    var child = this$1.children[i], end = offset + child.size;
    if (offset == end ? from <= end && to >= offset : from < end && to > offset) {
      var startInside = offset + child.border, endInside = end - child.border;
      if (from >= startInside && to <= endInside) {
        this$1.dirty = from == offset || to == end ? CONTENT_DIRTY : CHILD_DIRTY;
        if (from == startInside && to == endInside && child.contentLost) { child.dirty = NODE_DIRTY; }
        else { child.markDirty(from - startInside, to - startInside); }
        return
      } else {
        child.dirty = NODE_DIRTY;
      }
    }
    offset = end;
  }
  this.dirty = CONTENT_DIRTY;
};

Object.defineProperties( ViewDesc.prototype, prototypeAccessors$1 );

// Reused array to avoid allocating fresh arrays for things that will
// stay empty anyway.
var nothing = [];

// A widget desc represents a widget decoration, which is a DOM node
// drawn between the document nodes.
var WidgetViewDesc = (function (ViewDesc) {
  function WidgetViewDesc(parent, widget, view, pos) {
    var self, dom = widget.type.toDOM;
    if (typeof dom == "function") { dom = dom(view, function () {
      if (!self) { return pos }
      if (self.parent) { return self.parent.posBeforeChild(self) }
    }); }
    if (!widget.type.spec.raw) {
      if (dom.nodeType != 1) {
        var wrap = document.createElement("span");
        wrap.appendChild(dom);
        dom = wrap;
      }
      dom.contentEditable = false;
      dom.classList.add("ProseMirror-widget");
    }
    ViewDesc.call(this, parent, nothing, dom, null);
    this.widget = widget;
    self = this;
  }

  if ( ViewDesc ) WidgetViewDesc.__proto__ = ViewDesc;
  WidgetViewDesc.prototype = Object.create( ViewDesc && ViewDesc.prototype );
  WidgetViewDesc.prototype.constructor = WidgetViewDesc;

  var prototypeAccessors$1 = { beforePosition: {} };

  prototypeAccessors$1.beforePosition.get = function () {
    return this.widget.type.side < 0
  };

  WidgetViewDesc.prototype.matchesWidget = function matchesWidget (widget) {
    return this.dirty == NOT_DIRTY && widget.type.eq(this.widget.type)
  };

  WidgetViewDesc.prototype.parseRule = function parseRule () { return {ignore: true} };

  WidgetViewDesc.prototype.stopEvent = function stopEvent (event) {
    var stop = this.widget.spec.stopEvent;
    return stop ? stop(event) : false
  };

  Object.defineProperties( WidgetViewDesc.prototype, prototypeAccessors$1 );

  return WidgetViewDesc;
}(ViewDesc));

// A cursor wrapper is used to put the cursor in when newly typed text
// needs to be styled differently from its surrounding text (for
// example through storedMarks), so that the style of the text doesn't
// visually 'pop' between typing it and actually updating the view.
var CursorWrapperDesc = (function (WidgetViewDesc) {
  function CursorWrapperDesc () {
    WidgetViewDesc.apply(this, arguments);
  }

  if ( WidgetViewDesc ) CursorWrapperDesc.__proto__ = WidgetViewDesc;
  CursorWrapperDesc.prototype = Object.create( WidgetViewDesc && WidgetViewDesc.prototype );
  CursorWrapperDesc.prototype.constructor = CursorWrapperDesc;

  CursorWrapperDesc.prototype.parseRule = function parseRule () {
    var content;
    for (var child = this.dom.firstChild; child; child = child.nextSibling) {
      var add = (void 0);
      if (child.nodeType == 3) {
        var text = child.nodeValue.replace(/\ufeff/g, "");
        if (!text) { continue }
        add = document.createTextNode(text);
      } else if (child.textContent == "\ufeff") {
        continue
      } else {
        add = child.cloneNode(true);
      }
      if (!content) { content = document.createDocumentFragment(); }
      content.appendChild(add);
    }
    if (content) { return {skip: content} }
    else { return WidgetViewDesc.prototype.parseRule.call(this) }
  };

  CursorWrapperDesc.prototype.ignoreMutation = function ignoreMutation () { return false };

  return CursorWrapperDesc;
}(WidgetViewDesc));

// A mark desc represents a mark. May have multiple children,
// depending on how the mark is split. Note that marks are drawn using
// a fixed nesting order, for simplicity and predictability, so in
// some cases they will be split more often than would appear
// necessary.
var MarkViewDesc = (function (ViewDesc) {
  function MarkViewDesc(parent, mark, dom, contentDOM) {
    ViewDesc.call(this, parent, [], dom, contentDOM);
    this.mark = mark;
  }

  if ( ViewDesc ) MarkViewDesc.__proto__ = ViewDesc;
  MarkViewDesc.prototype = Object.create( ViewDesc && ViewDesc.prototype );
  MarkViewDesc.prototype.constructor = MarkViewDesc;

  MarkViewDesc.create = function create (parent, mark, inline, view) {
    var custom = customNodeViews(view)[mark.type.name];
    var spec = custom && custom(mark, view);
    if (!spec || !spec.dom)
      { spec = dist$2.DOMSerializer.renderSpec(document, mark.type.spec.toDOM(mark, inline)); }
    return new MarkViewDesc(parent, mark, spec.dom, spec.contentDOM || spec.dom)
  };

  MarkViewDesc.prototype.parseRule = function parseRule () { return {mark: this.mark.type.name, attrs: this.mark.attrs, contentElement: this.contentDOM} };

  MarkViewDesc.prototype.matchesMark = function matchesMark (mark) { return this.dirty != NODE_DIRTY && this.mark.eq(mark) };

  MarkViewDesc.prototype.markDirty = function markDirty (from, to) {
    ViewDesc.prototype.markDirty.call(this, from, to);
    // Move dirty info to nearest node view
    if (this.dirty != NOT_DIRTY) {
      var parent = this.parent;
      while (!parent.node) { parent = parent.parent; }
      if (parent.dirty < this.dirty) { parent.dirty = this.dirty; }
      this.dirty = NOT_DIRTY;
    }
  };

  return MarkViewDesc;
}(ViewDesc));

// Node view descs are the main, most common type of view desc, and
// correspond to an actual node in the document. Unlike mark descs,
// they populate their child array themselves.
var NodeViewDesc = (function (ViewDesc) {
  function NodeViewDesc(parent, node, outerDeco, innerDeco, dom, contentDOM, nodeDOM, view, pos) {
    ViewDesc.call(this, parent, node.isLeaf ? nothing : [], dom, contentDOM);
    this.nodeDOM = nodeDOM;
    this.node = node;
    this.outerDeco = outerDeco;
    this.innerDeco = innerDeco;
    if (contentDOM) { this.updateChildren(view, pos); }
  }

  if ( ViewDesc ) NodeViewDesc.__proto__ = ViewDesc;
  NodeViewDesc.prototype = Object.create( ViewDesc && ViewDesc.prototype );
  NodeViewDesc.prototype.constructor = NodeViewDesc;

  var prototypeAccessors$2 = { size: {},border: {} };

  // By default, a node is rendered using the `toDOM` method from the
  // node type spec. But client code can use the `nodeViews` spec to
  // supply a custom node view, which can influence various aspects of
  // the way the node works.
  //
  // (Using subclassing for this was intentionally decided against,
  // since it'd require exposing a whole slew of finnicky
  // implementation details to the user code that they probably will
  // never need.)
  NodeViewDesc.create = function create (parent, node, outerDeco, innerDeco, view, pos) {
    var custom = customNodeViews(view)[node.type.name], descObj;
    var spec = custom && custom(node, view, function () {
      // (This is a function that allows the custom view to find its
      // own position)
      if (!descObj) { return pos }
      if (descObj.parent) { return descObj.parent.posBeforeChild(descObj) }
    }, outerDeco);

    var dom = spec && spec.dom, contentDOM = spec && spec.contentDOM;
    if (node.isText) {
      if (!dom) { dom = document.createTextNode(node.text); }
      else if (dom.nodeType != 3) { throw new RangeError("Text must be rendered as a DOM text node") }
    } else if (!dom) {
      var assign;
      ((assign = dist$2.DOMSerializer.renderSpec(document, node.type.spec.toDOM(node)), dom = assign.dom, contentDOM = assign.contentDOM));
    }
    if (!contentDOM && !node.isText && dom.nodeName != "BR") { // Chrome gets confused by <br contenteditable=false>
      dom.contentEditable = false;
      if (node.type.spec.draggable) { dom.draggable = true; }
    }

    var nodeDOM = dom;
    dom = applyOuterDeco(dom, outerDeco, node);

    if (spec)
      { return descObj = new CustomNodeViewDesc(parent, node, outerDeco, innerDeco, dom, contentDOM, nodeDOM, spec, view) }
    else if (node.isText)
      { return new TextViewDesc(parent, node, outerDeco, innerDeco, dom, nodeDOM, view) }
    else
      { return new NodeViewDesc(parent, node, outerDeco, innerDeco, dom, contentDOM, nodeDOM, view, pos + 1) }
  };

  NodeViewDesc.prototype.parseRule = function parseRule () {
    var this$1 = this;

    // FIXME the assumption that this can always return the current
    // attrs means that if the user somehow manages to change the
    // attrs in the dom, that won't be picked up. Not entirely sure
    // whether this is a problem
    if (this.contentDOM && !this.contentLost)
      { return {node: this.node.type.name, attrs: this.node.attrs, contentElement: this.contentDOM} }
    else
      { return {node: this.node.type.name, attrs: this.node.attrs, getContent: function () { return this$1.contentDOM ? dist$2.Fragment.empty : this$1.node.content; }} }
  };

  NodeViewDesc.prototype.matchesNode = function matchesNode (node, outerDeco, innerDeco) {
    return this.dirty == NOT_DIRTY && node.eq(this.node) &&
      sameOuterDeco(outerDeco, this.outerDeco) && innerDeco.eq(this.innerDeco)
  };

  prototypeAccessors$2.size.get = function () { return this.node.nodeSize };

  prototypeAccessors$2.border.get = function () { return this.node.isLeaf ? 0 : 1 };

  // Syncs `this.children` to match `this.node.content` and the local
  // decorations, possibly introducing nesting for marks. Then, in a
  // separate step, syncs the DOM inside `this.contentDOM` to
  // `this.children`.
  NodeViewDesc.prototype.updateChildren = function updateChildren (view, pos) {
    var this$1 = this;

    var updater = new ViewTreeUpdater(this), inline = this.node.inlineContent;
    iterDeco(this.node, this.innerDeco, function (widget, i) {
      if (widget.spec.marks)
        { updater.syncToMarks(widget.spec.marks, inline, view); }
      else if (widget.type.side >= 0)
        { updater.syncToMarks(i == this$1.node.childCount ? dist$2.Mark.none : this$1.node.child(i).marks, inline, view); }
      // If the next node is a desc matching this widget, reuse it,
      // otherwise insert the widget as a new view desc.
      updater.placeWidget(widget, view, pos);
    }, function (child, outerDeco, innerDeco, i) {
      // Make sure the wrapping mark descs match the node's marks.
      updater.syncToMarks(child.marks, inline, view);
      // Either find an existing desc that exactly matches this node,
      // and drop the descs before it.
      updater.findNodeMatch(child, outerDeco, innerDeco, i) ||
        // Or try updating the next desc to reflect this node.
        updater.updateNextNode(child, outerDeco, innerDeco, view, i) ||
        // Or just add it as a new desc.
        updater.addNode(child, outerDeco, innerDeco, view, pos);
      pos += child.nodeSize;
    });
    // Drop all remaining descs after the current position.
    updater.syncToMarks(nothing, inline, view);
    if (this.node.isTextblock) { updater.addTextblockHacks(); }
    updater.destroyRest();

    // Sync the DOM if anything changed
    if (updater.changed || this.dirty == CONTENT_DIRTY) { this.renderChildren(); }
  };

  NodeViewDesc.prototype.renderChildren = function renderChildren () {
    renderDescs(this.contentDOM, this.children, NodeViewDesc.is);
    if (result.ios) { iosHacks(this.dom); }
  };

  // : (Node, [Decoration], DecorationSet, EditorView) → bool
  // If this desc be updated to match the given node decoration,
  // do so and return true.
  NodeViewDesc.prototype.update = function update (node, outerDeco, innerDeco, view) {
    if (this.dirty == NODE_DIRTY ||
        !node.sameMarkup(this.node)) { return false }
    this.updateInner(node, outerDeco, innerDeco, view);
    return true
  };

  NodeViewDesc.prototype.updateInner = function updateInner (node, outerDeco, innerDeco, view) {
    this.updateOuterDeco(outerDeco);
    this.node = node;
    this.innerDeco = innerDeco;
    if (this.contentDOM) { this.updateChildren(view, this.posAtStart); }
    this.dirty = NOT_DIRTY;
  };

  NodeViewDesc.prototype.updateOuterDeco = function updateOuterDeco (outerDeco) {
    if (sameOuterDeco(outerDeco, this.outerDeco)) { return }
    var needsWrap = this.nodeDOM.nodeType != 1;
    var oldDOM = this.dom;
    this.dom = patchOuterDeco(this.dom, this.nodeDOM,
                              computeOuterDeco(this.outerDeco, this.node, needsWrap),
                              computeOuterDeco(outerDeco, this.node, needsWrap));
    if (this.dom != oldDOM) {
      oldDOM.pmViewDesc = null;
      this.dom.pmViewDesc = this;
    }
    this.outerDeco = outerDeco;
  };

  // Mark this node as being the selected node.
  NodeViewDesc.prototype.selectNode = function selectNode () {
    this.nodeDOM.classList.add("ProseMirror-selectednode");
  };

  // Remove selected node marking from this node.
  NodeViewDesc.prototype.deselectNode = function deselectNode () {
    this.nodeDOM.classList.remove("ProseMirror-selectednode");
  };

  Object.defineProperties( NodeViewDesc.prototype, prototypeAccessors$2 );

  return NodeViewDesc;
}(ViewDesc));

// Create a view desc for the top-level document node, to be exported
// and used by the view class.
function docViewDesc(doc, outerDeco, innerDeco, dom, view) {
  applyOuterDeco(dom, outerDeco, doc, true);
  return new NodeViewDesc(null, doc, outerDeco, innerDeco, dom, dom, dom, view, 0)
}

var TextViewDesc = (function (NodeViewDesc) {
  function TextViewDesc(parent, node, outerDeco, innerDeco, dom, nodeDOM, view) {
    NodeViewDesc.call(this, parent, node, outerDeco, innerDeco, dom, null, nodeDOM, view);
  }

  if ( NodeViewDesc ) TextViewDesc.__proto__ = NodeViewDesc;
  TextViewDesc.prototype = Object.create( NodeViewDesc && NodeViewDesc.prototype );
  TextViewDesc.prototype.constructor = TextViewDesc;

  TextViewDesc.prototype.parseRule = function parseRule () {
    var parent = this.nodeDOM.parentNode;
    return parent ? {skip: parent} : {ignore: true}
  };

  TextViewDesc.prototype.update = function update (node, outerDeco) {
    if (this.dirty == NODE_DIRTY || (this.dirty != NOT_DIRTY && !this.inParent()) ||
        !node.sameMarkup(this.node)) { return false }
    this.updateOuterDeco(outerDeco);
    if ((this.dirty != NOT_DIRTY || node.text != this.node.text) && node.text != this.nodeDOM.nodeValue)
      { this.nodeDOM.nodeValue = node.text; }
    this.node = node;
    this.dirty = NOT_DIRTY;
    return true
  };

  TextViewDesc.prototype.inParent = function inParent () {
    var parentDOM = this.parent.contentDOM;
    for (var n = this.nodeDOM; n; n = n.parentNode) { if (n == parentDOM) { return true } }
    return false
  };

  TextViewDesc.prototype.domFromPos = function domFromPos (pos) {
    return {node: this.nodeDOM, offset: pos}
  };

  TextViewDesc.prototype.localPosFromDOM = function localPosFromDOM (dom, offset, bias) {
    if (dom == this.nodeDOM) { return this.posAtStart + Math.min(offset, this.node.text.length) }
    return NodeViewDesc.prototype.localPosFromDOM.call(this, dom, offset, bias)
  };

  TextViewDesc.prototype.ignoreMutation = function ignoreMutation (mutation) {
    return mutation.type != "characterData"
  };

  return TextViewDesc;
}(NodeViewDesc));

// A dummy desc used to tag trailing BR or span nodes created to work
// around contentEditable terribleness.
var BRHackViewDesc = (function (ViewDesc) {
  function BRHackViewDesc () {
    ViewDesc.apply(this, arguments);
  }

  if ( ViewDesc ) BRHackViewDesc.__proto__ = ViewDesc;
  BRHackViewDesc.prototype = Object.create( ViewDesc && ViewDesc.prototype );
  BRHackViewDesc.prototype.constructor = BRHackViewDesc;

  BRHackViewDesc.prototype.parseRule = function parseRule () { return {ignore: true} };
  BRHackViewDesc.prototype.matchesHack = function matchesHack () { return this.dirty == NOT_DIRTY };

  return BRHackViewDesc;
}(ViewDesc));

// A separate subclass is used for customized node views, so that the
// extra checks only have to be made for nodes that are actually
// customized.
var CustomNodeViewDesc = (function (NodeViewDesc) {
  function CustomNodeViewDesc(parent, node, outerDeco, innerDeco, dom, contentDOM, nodeDOM, spec, view) {
    NodeViewDesc.call(this, parent, node, outerDeco, innerDeco, dom, contentDOM, nodeDOM, view);
    this.spec = spec;
  }

  if ( NodeViewDesc ) CustomNodeViewDesc.__proto__ = NodeViewDesc;
  CustomNodeViewDesc.prototype = Object.create( NodeViewDesc && NodeViewDesc.prototype );
  CustomNodeViewDesc.prototype.constructor = CustomNodeViewDesc;

  // A custom `update` method gets to decide whether the update goes
  // through. If it does, and there's a `contentDOM` node, our logic
  // updates the children.
  CustomNodeViewDesc.prototype.update = function update (node, outerDeco, innerDeco, view) {
    if (this.dirty == NODE_DIRTY) { return false }
    if (this.spec.update) {
      var result$$1 = this.spec.update(node, outerDeco);
      if (result$$1) { this.updateInner(node, outerDeco, innerDeco, view); }
      return result$$1
    } else if (!this.contentDOM && !node.isLeaf) {
      return false
    } else {
      return NodeViewDesc.prototype.update.call(this, node, outerDeco, innerDeco, view)
    }
  };

  CustomNodeViewDesc.prototype.selectNode = function selectNode () {
    this.spec.selectNode ? this.spec.selectNode() : NodeViewDesc.prototype.selectNode.call(this);
  };

  CustomNodeViewDesc.prototype.deselectNode = function deselectNode () {
    this.spec.deselectNode ? this.spec.deselectNode() : NodeViewDesc.prototype.deselectNode.call(this);
  };

  CustomNodeViewDesc.prototype.setSelection = function setSelection (anchor, head, root) {
    this.spec.setSelection ? this.spec.setSelection(anchor, head, root) : NodeViewDesc.prototype.setSelection.call(this, anchor, head, root);
  };

  CustomNodeViewDesc.prototype.destroy = function destroy () {
    if (this.spec.destroy) { this.spec.destroy(); }
    NodeViewDesc.prototype.destroy.call(this);
  };

  CustomNodeViewDesc.prototype.stopEvent = function stopEvent (event) {
    return this.spec.stopEvent ? this.spec.stopEvent(event) : false
  };

  CustomNodeViewDesc.prototype.ignoreMutation = function ignoreMutation (mutation) {
    return this.spec.ignoreMutation ? this.spec.ignoreMutation(mutation) : NodeViewDesc.prototype.ignoreMutation.call(this, mutation)
  };

  return CustomNodeViewDesc;
}(NodeViewDesc));

// : (dom.Node, [ViewDesc])
// Sync the content of the given DOM node with the nodes associated
// with the given array of view descs, recursing into mark descs
// because this should sync the subtree for a whole node at a time.
function renderDescs(parentDOM, descs) {
  var dom = parentDOM.firstChild;
  for (var i = 0; i < descs.length; i++) {
    var desc = descs[i], childDOM = desc.dom;
    if (childDOM.parentNode == parentDOM) {
      while (childDOM != dom) { dom = rm(dom); }
      dom = dom.nextSibling;
    } else {
      parentDOM.insertBefore(childDOM, dom);
    }
    if (desc instanceof MarkViewDesc) {
      var pos = dom ? dom.previousSibling : parentDOM.lastChild;
      renderDescs(desc.contentDOM, desc.children);
      dom = pos ? pos.nextSibling : parentDOM.firstChild;
    }
  }
  while (dom) { dom = rm(dom); }
}

function OuterDecoLevel(nodeName) {
  if (nodeName) { this.nodeName = nodeName; }
}
OuterDecoLevel.prototype = Object.create(null);

var noDeco = [new OuterDecoLevel];

function computeOuterDeco(outerDeco, node, needsWrap) {
  if (outerDeco.length == 0) { return noDeco }

  var top = needsWrap ? noDeco[0] : new OuterDecoLevel, result$$1 = [top];

  for (var i = 0; i < outerDeco.length; i++) {
    var attrs = outerDeco[i].type.attrs, cur = top;
    if (!attrs) { continue }
    if (attrs.nodeName)
      { result$$1.push(cur = new OuterDecoLevel(attrs.nodeName)); }

    for (var name in attrs) {
      var val = attrs[name];
      if (val == null) { continue }
      if (needsWrap && result$$1.length == 1)
        { result$$1.push(cur = top = new OuterDecoLevel(node.isInline ? "span" : "div")); }
      if (name == "class") { cur.class = (cur.class ? cur.class + " " : "") + val; }
      else if (name == "style") { cur.style = (cur.style ? cur.style + ";" : "") + val; }
      else if (name != "nodeName") { cur[name] = val; }
    }
  }

  return result$$1
}

function patchOuterDeco(outerDOM, nodeDOM, prevComputed, curComputed) {
  // Shortcut for trivial case
  if (prevComputed == noDeco && curComputed == noDeco) { return nodeDOM }

  var curDOM = nodeDOM;
  for (var i = 0; i < curComputed.length; i++) {
    var deco = curComputed[i], prev = prevComputed[i];
    if (i) {
      var parent = (void 0);
      if (prev && prev.nodeName == deco.nodeName && curDOM != outerDOM &&
          (parent = nodeDOM.parentNode) && parent.tagName.toLowerCase() == deco.nodeName) {
        curDOM = parent;
      } else {
        parent = document.createElement(deco.nodeName);
        parent.appendChild(curDOM);
        curDOM = parent;
      }
    }
    patchAttributes(curDOM, prev || noDeco[0], deco);
  }
  return curDOM
}

function patchAttributes(dom, prev, cur) {
  for (var name in prev)
    { if (name != "class" && name != "style" && name != "nodeName" && !(name in cur))
      { dom.removeAttribute(name); } }
  for (var name$1 in cur)
    { if (name$1 != "class" && name$1 != "style" && name$1 != "nodeName" && cur[name$1] != prev[name$1])
      { dom.setAttribute(name$1, cur[name$1]); } }
  if (prev.class != cur.class) {
    var prevList = prev.class ? prev.class.split(" ") : nothing;
    var curList = cur.class ? cur.class.split(" ") : nothing;
    for (var i = 0; i < prevList.length; i++) { if (curList.indexOf(prevList[i]) == -1)
      { dom.classList.remove(prevList[i]); } }
    for (var i$1 = 0; i$1 < curList.length; i$1++) { if (prevList.indexOf(curList[i$1]) == -1)
      { dom.classList.add(curList[i$1]); } }
  }
  if (prev.style != cur.style) {
    if (prev.style) {
      var prop = /\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g, m;
      while (m = prop.exec(prev.style))
        { dom.style[m[1].toLowerCase()] = ""; }
    }
    if (cur.style)
      { dom.style.cssText += cur.style; }
  }
}

function applyOuterDeco(dom, deco, node) {
  return patchOuterDeco(dom, dom, noDeco, computeOuterDeco(deco, node, dom.nodeType != 1))
}

// : ([Decoration], [Decoration]) → bool
function sameOuterDeco(a, b) {
  if (a.length != b.length) { return false }
  for (var i = 0; i < a.length; i++) { if (!a[i].type.eq(b[i].type)) { return false } }
  return true
}

// Remove a DOM node and return its next sibling.
function rm(dom) {
  var next = dom.nextSibling;
  dom.parentNode.removeChild(dom);
  return next
}

// Helper class for incrementally updating a tree of mark descs and
// the widget and node descs inside of them.
var ViewTreeUpdater = function ViewTreeUpdater(top) {
  this.top = top;
  // Index into `this.top`'s child array, represents the current
  // update position.
  this.index = 0;
  // When entering a mark, the current top and index are pushed
  // onto this.
  this.stack = [];
  // Tracks whether anything was changed
  this.changed = false;

  this.preMatched = preMatch(top.node.content, top.children);
};

// Destroy and remove the children between the given indices in
// `this.top`.
ViewTreeUpdater.prototype.destroyBetween = function destroyBetween (start, end) {
    var this$1 = this;

  if (start == end) { return }
  for (var i = start; i < end; i++) { this$1.top.children[i].destroy(); }
  this.top.children.splice(start, end - start);
  this.changed = true;
};

// Destroy all remaining children in `this.top`.
ViewTreeUpdater.prototype.destroyRest = function destroyRest () {
  this.destroyBetween(this.index, this.top.children.length);
};

// : ([Mark], EditorView)
// Sync the current stack of mark descs with the given array of
// marks, reusing existing mark descs when possible.
ViewTreeUpdater.prototype.syncToMarks = function syncToMarks (marks, inline, view) {
    var this$1 = this;

  var keep = 0, depth = this.stack.length >> 1;
  var maxKeep = Math.min(depth, marks.length), next;
  while (keep < maxKeep &&
         (keep == depth - 1 ? this.top : this.stack[(keep + 1) << 1]).matchesMark(marks[keep]))
    { keep++; }

  while (keep < depth) {
    this$1.destroyRest();
    this$1.top.dirty = NOT_DIRTY;
    this$1.index = this$1.stack.pop();
    this$1.top = this$1.stack.pop();
    depth--;
  }
  while (depth < marks.length) {
    this$1.stack.push(this$1.top, this$1.index + 1);
    if (this$1.index < this$1.top.children.length &&
        (next = this$1.top.children[this$1.index]).matchesMark(marks[depth])) {
      this$1.top = next;
    } else {
      var markDesc = MarkViewDesc.create(this$1.top, marks[depth], inline, view);
      this$1.top.children.splice(this$1.index, 0, markDesc);
      this$1.top = markDesc;
      this$1.changed = true;
    }
    this$1.index = 0;
    depth++;
  }
};

// : (Node, [Decoration], DecorationSet) → bool
// Try to find a node desc matching the given data. Skip over it and
// return true when successful.
ViewTreeUpdater.prototype.findNodeMatch = function findNodeMatch (node, outerDeco, innerDeco, index) {
    var this$1 = this;

  for (var i = this.index, children = this.top.children, e = Math.min(children.length, i + 5); i < e; i++) {
    var child = children[i], preMatched = (void 0);
    if (child.matchesNode(node, outerDeco, innerDeco) &&
        ((preMatched = this$1.preMatched.indexOf(child)) == -1 || preMatched == index)) {
      this$1.destroyBetween(this$1.index, i);
      this$1.index++;
      return true
    }
  }
  return false
};

// : (Node, [Decoration], DecorationSet, EditorView, Fragment, number) → bool
// Try to update the next node, if any, to the given data. Checks
// pre-matches to avoid overwriting nodes that could still be used.
ViewTreeUpdater.prototype.updateNextNode = function updateNextNode (node, outerDeco, innerDeco, view, index) {
  if (this.index == this.top.children.length) { return false }
  var next = this.top.children[this.index];
  if (next instanceof NodeViewDesc) {
    var preMatch = this.preMatched.indexOf(next);
    if (preMatch > -1 && preMatch != index) { return false }
    var nextDOM = next.dom;
    if (next.update(node, outerDeco, innerDeco, view)) {
      if (next.dom != nextDOM) { this.changed = true; }
      this.index++;
      return true
    }
  }
  return false
};

// : (Node, [Decoration], DecorationSet, EditorView)
// Insert the node as a newly created node desc.
ViewTreeUpdater.prototype.addNode = function addNode (node, outerDeco, innerDeco, view, pos) {
  this.top.children.splice(this.index++, 0, NodeViewDesc.create(this.top, node, outerDeco, innerDeco, view, pos));
  this.changed = true;
};

ViewTreeUpdater.prototype.placeWidget = function placeWidget (widget, view, pos) {
  if (this.index < this.top.children.length && this.top.children[this.index].matchesWidget(widget)) {
    this.index++;
  } else {
    var desc = new (widget.spec.isCursorWrapper ? CursorWrapperDesc : WidgetViewDesc)(this.top, widget, view, pos);
    this.top.children.splice(this.index++, 0, desc);
    this.changed = true;
  }
};

// Make sure a textblock looks and behaves correctly in
// contentEditable.
ViewTreeUpdater.prototype.addTextblockHacks = function addTextblockHacks () {
  var lastChild = this.top.children[this.index - 1];
  while (lastChild instanceof MarkViewDesc) { lastChild = lastChild.children[lastChild.children.length - 1]; }

  if (!lastChild || // Empty textblock
      !(lastChild instanceof TextViewDesc) ||
      /\n$/.test(lastChild.node.text)) {
    if (this.index < this.top.children.length && this.top.children[this.index].matchesHack()) {
      this.index++;
    } else {
      var dom = document.createElement("br");
      this.top.children.splice(this.index++, 0, new BRHackViewDesc(this.top, nothing, dom, null));
      this.changed = true;
    }
  }
};

// : (Fragment, [ViewDesc]) → [ViewDesc]
// Iterate from the end of the fragment and array of descs to find
// directly matching ones, in order to avoid overeagerly reusing
// those for other nodes. Returns an array whose positions correspond
// to node positions in the fragment, and whose elements are either
// descs matched to the child at that index, or empty.
function preMatch(frag, descs) {
  var result$$1 = [], end = frag.childCount;
  for (var i = descs.length - 1; end > 0 && i >= 0; i--) {
    var desc = descs[i], node = desc.node;
    if (!node) { continue }
    if (node != frag.child(end - 1)) { break }
    result$$1[--end] = desc;
  }
  return result$$1
}

function compareSide(a, b) { return a.type.side - b.type.side }

// : (ViewDesc, DecorationSet, (Decoration), (Node, [Decoration], DecorationSet, number))
// This function abstracts iterating over the nodes and decorations in
// a fragment. Calls `onNode` for each node, with its local and child
// decorations. Splits text nodes when there is a decoration starting
// or ending inside of them. Calls `onWidget` for each widget.
function iterDeco(parent, deco, onWidget, onNode) {
  var locals = deco.locals(parent), offset = 0;
  // Simple, cheap variant for when there are no local decorations
  if (locals.length == 0) {
    for (var i = 0; i < parent.childCount; i++) {
      var child = parent.child(i);
      onNode(child, locals, deco.forChild(offset, child), i);
      offset += child.nodeSize;
    }
    return
  }

  var decoIndex = 0, active = [], restNode = null;
  for (var parentIndex = 0;;) {
    if (decoIndex < locals.length && locals[decoIndex].to == offset) {
      var widget = locals[decoIndex++], widgets = (void 0);
      while (decoIndex < locals.length && locals[decoIndex].to == offset)
        { (widgets || (widgets = [widget])).push(locals[decoIndex++]); }
      if (widgets) {
        widgets.sort(compareSide);
        for (var i$1 = 0; i$1 < widgets.length; i$1++) { onWidget(widgets[i$1], parentIndex); }
      } else {
        onWidget(widget, parentIndex);
      }
    }

    var child$1 = (void 0);
    if (restNode) {
      child$1 = restNode;
      restNode = null;
    } else if (parentIndex < parent.childCount) {
      child$1 = parent.child(parentIndex++);
    } else {
      break
    }

    for (var i$2 = 0; i$2 < active.length; i$2++) { if (active[i$2].to <= offset) { active.splice(i$2--, 1); } }
    while (decoIndex < locals.length && locals[decoIndex].from == offset) { active.push(locals[decoIndex++]); }

    var end = offset + child$1.nodeSize;
    if (child$1.isText) {
      var cutAt = end;
      if (decoIndex < locals.length && locals[decoIndex].from < cutAt) { cutAt = locals[decoIndex].from; }
      for (var i$3 = 0; i$3 < active.length; i$3++) { if (active[i$3].to < cutAt) { cutAt = active[i$3].to; } }
      if (cutAt < end) {
        restNode = child$1.cut(cutAt - offset);
        child$1 = child$1.cut(0, cutAt - offset);
        end = cutAt;
      }
    }

    onNode(child$1, active.length ? active.slice() : nothing, deco.forChild(offset, child$1), parentIndex - 1);
    offset = end;
  }
}

// Pre-calculate and cache the set of custom view specs for a given
// prop object.
var cachedCustomViews;
var cachedCustomFor;
function customNodeViews(view) {
  if (cachedCustomFor == view._props) { return cachedCustomViews }
  cachedCustomFor = view._props;
  return cachedCustomViews = buildCustomViews(view)
}
function buildCustomViews(view) {
  var result$$1 = {};
  view.someProp("nodeViews", function (obj) {
    for (var prop in obj) { if (!Object.prototype.hasOwnProperty.call(result$$1, prop))
      { result$$1[prop] = obj[prop]; } }
  });
  return result$$1
}

// List markers in Mobile Safari will mysteriously disappear
// sometimes. This works around that.
function iosHacks(dom) {
  if (dom.nodeName == "UL" || dom.nodeName == "OL") {
    var oldCSS = dom.style.cssText;
    dom.style.cssText = oldCSS + "; list-style: square !important";
    window.getComputedStyle(dom).listStyle;
    dom.style.cssText = oldCSS;
  }
}

function moveSelectionBlock(state, dir) {
  var ref = state.selection;
  var $anchor = ref.$anchor;
  var $head = ref.$head;
  var $side = dir > 0 ? $anchor.max($head) : $anchor.min($head);
  var $start = !$side.parent.inlineContent ? $side : $side.depth ? state.doc.resolve(dir > 0 ? $side.after() : $side.before()) : null;
  return $start && dist$1.Selection.findFrom($start, dir)
}

function apply(view, sel) {
  view.dispatch(view.state.tr.setSelection(sel).scrollIntoView());
  return true
}

function selectHorizontally(view, dir) {
  var sel = view.state.selection;
  if (sel instanceof dist$1.TextSelection) {
    if (!sel.empty) {
      return false
    } else if (view.endOfTextblock(dir > 0 ? "right" : "left")) {
      var next = moveSelectionBlock(view.state, dir);
      if (next && (next instanceof dist$1.NodeSelection)) { return apply(view, next) }
      return false
    } else {
      var $head = sel.$head, node = $head.textOffset ? null : dir < 0 ? $head.nodeBefore : $head.nodeAfter, desc;
      if (node && dist$1.NodeSelection.isSelectable(node)) {
        var nodePos = dir < 0 ? $head.pos - node.nodeSize : $head.pos;
        if (node.isAtom || (desc = view.docView.descAt(nodePos)) && !desc.contentDOM)
          { return apply(view, new dist$1.NodeSelection(dir < 0 ? view.state.doc.resolve($head.pos - node.nodeSize) : $head)) }
      }
      return false
    }
  } else if (sel instanceof dist$1.NodeSelection && sel.node.isInline) {
    return apply(view, new dist$1.TextSelection(dir > 0 ? sel.$to : sel.$from))
  } else {
    var next$1 = moveSelectionBlock(view.state, dir);
    if (next$1) { return apply(view, next$1) }
    return false
  }
}

function nodeLen(node) {
  return node.nodeType == 3 ? node.nodeValue.length : node.childNodes.length
}

function isIgnorable(dom) {
  var desc = dom.pmViewDesc;
  return desc && desc.size == 0 && (dom.nextSibling || dom.nodeName != "BR")
}

// Make sure the cursor isn't directly after one or more ignored
// nodes, which will confuse the browser's cursor motion logic.
function skipIgnoredNodesLeft(view) {
  var sel = view.root.getSelection();
  var node = sel.anchorNode, offset = sel.anchorOffset;
  if (!node) { return }
  var moveNode, moveOffset;
  for (;;) {
    if (offset > 0) {
      if (node.nodeType != 1) {
        if (node.nodeType == 3 && node.nodeValue.charAt(offset - 1) == "\ufeff") {
          moveNode = node;
          moveOffset = --offset;
        } else { break }
      } else {
        var before = node.childNodes[offset - 1];
        if (isIgnorable(before)) {
          moveNode = node;
          moveOffset = --offset;
        } else if (before.nodeType == 3) {
          node = before;
          offset = node.nodeValue.length;
        } else { break }
      }
    } else if (isBlockNode(node)) {
      break
    } else {
      var prev = node.previousSibling;
      while (prev && isIgnorable(prev)) {
        moveNode = node.parentNode;
        moveOffset = domIndex(prev);
        prev = prev.previousSibling;
      }
      if (!prev) {
        node = node.parentNode;
        if (node == view.dom) { break }
        offset = 0;
      } else {
        node = prev;
        offset = nodeLen(node);
      }
    }
  }
  if (moveNode) { setSel(view, sel, moveNode, moveOffset); }
}

// Make sure the cursor isn't directly before one or more ignored
// nodes.
function skipIgnoredNodesRight(view) {
  var sel = view.root.getSelection();
  var node = sel.anchorNode, offset = sel.anchorOffset;
  if (!node) { return }
  var len = nodeLen(node);
  var moveNode, moveOffset;
  for (;;) {
    if (offset < len) {
      if (node.nodeType != 1) { break }
      var after = node.childNodes[offset];
      if (isIgnorable(after)) {
        moveNode = node;
        moveOffset = ++offset;
      }
      else { break }
    } else if (isBlockNode(node)) {
      break
    } else {
      var next = node.nextSibling;
      while (next && isIgnorable(next)) {
        moveNode = next.parentNode;
        moveOffset = domIndex(next) + 1;
        next = next.nextSibling;
      }
      if (!next) {
        node = node.parentNode;
        if (node == view.dom) { break }
        offset = len = 0;
      } else {
        node = next;
        offset = 0;
        len = nodeLen(node);
      }
    }
  }
  if (moveNode) { setSel(view, sel, moveNode, moveOffset); }
}

function isBlockNode(dom) {
  var desc = dom.pmViewDesc;
  return desc && desc.node && desc.node.isBlock
}

function setSel(view, sel, node, offset) {
  var range = document.createRange();
  range.setEnd(node, offset);
  range.setStart(node, offset);
  sel.removeAllRanges();
  sel.addRange(range);
  view.selectionReader.storeDOMState(view.selection);
}

// : (EditorState, number)
// Check whether vertical selection motion would involve node
// selections. If so, apply it (if not, the result is left to the
// browser)
function selectVertically(view, dir) {
  var sel = view.state.selection;
  if (sel instanceof dist$1.TextSelection && !sel.empty) { return false }
  var $from = sel.$from;
  var $to = sel.$to;

  if (!$from.parent.inlineContent || view.endOfTextblock(dir < 0 ? "up" : "down")) {
    var next = moveSelectionBlock(view.state, dir);
    if (next && (next instanceof dist$1.NodeSelection))
      { return apply(view, next) }
  }
  if (!$from.parent.inlineContent) {
    var beyond = dist$1.Selection.findFrom(dir < 0 ? $from : $to, dir);
    return beyond ? apply(view, beyond) : true
  }
  return false
}

function stopNativeHorizontalDelete(view, dir) {
  if (!(view.state.selection instanceof dist$1.TextSelection)) { return true }
  var ref = view.state.selection;
  var $head = ref.$head;
  var $anchor = ref.$anchor;
  var empty = ref.empty;
  if (!$head.sameParent($anchor)) { return true }
  if (!empty) { return false }
  if (view.endOfTextblock(dir > 0 ? "forward" : "backward")) { return true }
  var nextNode = !$head.textOffset && (dir < 0 ? $head.nodeBefore : $head.nodeAfter);
  if (nextNode && !nextNode.isText) {
    var tr = view.state.tr;
    if (dir < 0) { tr.delete($head.pos - nextNode.nodeSize, $head.pos); }
    else { tr.delete($head.pos, $head.pos + nextNode.nodeSize); }
    view.dispatch(tr);
    return true
  }
  return false
}

// A backdrop key mapping used to make sure we always suppress keys
// that have a dangerous default effect, even if the commands they are
// bound to return false, and to make sure that cursor-motion keys
// find a cursor (as opposed to a node selection) when pressed. For
// cursor-motion keys, the code in the handlers also takes care of
// block selections.

function getMods(event) {
  var result$$1 = "";
  if (event.ctrlKey) { result$$1 += "c"; }
  if (event.metaKey) { result$$1 += "m"; }
  if (event.altKey) { result$$1 += "a"; }
  if (event.shiftKey) { result$$1 += "s"; }
  return result$$1
}

function captureKeyDown(view, event) {
  var code = event.keyCode, mods = getMods(event);
  if (code == 8 || (result.mac && code == 72 && mods == "c")) { // Backspace, Ctrl-h on Mac
    return stopNativeHorizontalDelete(view, -1) || skipIgnoredNodesLeft(view)
  } else if (code == 46 || (result.mac && code == 68 && mods == "c")) { // Delete, Ctrl-d on Mac
    return stopNativeHorizontalDelete(view, 1) || skipIgnoredNodesRight(view)
  } else if (code == 13 || code == 27) { // Enter, Esc
    return true
  } else if (code == 37) { // Left arrow
    return selectHorizontally(view, -1) || skipIgnoredNodesLeft(view)
  } else if (code == 39) { // Right arrow
    return selectHorizontally(view, 1) || skipIgnoredNodesRight(view)
  } else if (code == 38) { // Up arrow
    return selectVertically(view, -1) || skipIgnoredNodesLeft(view)
  } else if (code == 40) { // Down arrow
    return selectVertically(view, 1) || skipIgnoredNodesRight(view)
  } else if (mods == (result.mac ? "m" : "c") &&
             (code == 66 || code == 73 || code == 89 || code == 90)) { // Mod-[biyz]
    return true
  }
  return false
}

var TrackedRecord = function TrackedRecord(prev, mapping, state) {
  this.prev = prev;
  this.mapping = mapping;
  this.state = state;
};

var TrackMappings = function TrackMappings(state) {
  this.seen = [new TrackedRecord(null, null, state)];
  // Kludge to listen to state changes globally in order to be able
  // to find mappings from a given state to another.
  dist$1.EditorState.addApplyListener(this.track = this.track.bind(this));
};

TrackMappings.prototype.destroy = function destroy () {
  dist$1.EditorState.removeApplyListener(this.track);
};

TrackMappings.prototype.find = function find (state) {
    var this$1 = this;

  for (var i = this.seen.length - 1; i >= 0; i--) {
    var record = this$1.seen[i];
    if (record.state == state) { return record }
  }
};

TrackMappings.prototype.track = function track (old, tr, state) {
  var found = this.seen.length < 200 ? this.find(old) : null;
  if (found)
    { this.seen.push(new TrackedRecord(found, tr.docChanged ? tr.mapping : null, state)); }
};

TrackMappings.prototype.getMapping = function getMapping (state, appendTo) {
  var found = this.find(state);
  if (!found) { return null }
  var mappings = [];
  for (var rec = found; rec; rec = rec.prev)
    { if (rec.mapping) { mappings.push(rec.mapping); } }
  var result = appendTo || new dist$3.Mapping;
  for (var i = mappings.length - 1; i >= 0; i--)
    { result.appendMapping(mappings[i]); }
  return result
};

// Track the state of the current editor selection. Keeps the editor
// selection in sync with the DOM selection by polling for changes,
// as there is no DOM event for DOM selection changes.
var SelectionReader = function SelectionReader(view) {
  var this$1 = this;

  this.view = view;

  // Track the state of the DOM selection.
  this.lastAnchorNode = this.lastHeadNode = this.lastAnchorOffset = this.lastHeadOffset = null;
  this.lastSelection = view.state.selection;
  this.ignoreUpdates = false;
  this.poller = poller(this);

  view.dom.addEventListener("focus", function () { return this$1.poller.start(hasFocusAndSelection(this$1.view)); });
  view.dom.addEventListener("blur", function () { return this$1.poller.stop(); });

  if (!view.editable) { this.poller.start(false); }
};

SelectionReader.prototype.destroy = function destroy () { this.poller.stop(); };

SelectionReader.prototype.poll = function poll (origin) { this.poller.poll(origin); };

SelectionReader.prototype.editableChanged = function editableChanged () {
  if (!this.view.editable) { this.poller.start(); }
  else if (!hasFocusAndSelection(this.view)) { this.poller.stop(); }
};

// : () → bool
// Whether the DOM selection has changed from the last known state.
SelectionReader.prototype.domChanged = function domChanged () {
  var sel = this.view.root.getSelection();
  return sel.anchorNode != this.lastAnchorNode || sel.anchorOffset != this.lastAnchorOffset ||
    sel.focusNode != this.lastHeadNode || sel.focusOffset != this.lastHeadOffset
};

// Store the current state of the DOM selection.
SelectionReader.prototype.storeDOMState = function storeDOMState (selection) {
  var sel = this.view.root.getSelection();
  this.lastAnchorNode = sel.anchorNode; this.lastAnchorOffset = sel.anchorOffset;
  this.lastHeadNode = sel.focusNode; this.lastHeadOffset = sel.focusOffset;
  this.lastSelection = selection;
};

SelectionReader.prototype.clearDOMState = function clearDOMState () {
  this.lastAnchorNode = this.lastSelection = null;
};

// : (?string) → bool
// When the DOM selection changes in a notable manner, modify the
// current selection state to match.
SelectionReader.prototype.readFromDOM = function readFromDOM (origin) {
  if (this.ignoreUpdates || !this.domChanged() || !hasFocusAndSelection(this.view)) { return }
  if (!this.view.inDOMChange) { this.view.domObserver.flush(); }
  if (this.view.inDOMChange) { return }

  var domSel = this.view.root.getSelection(), doc = this.view.state.doc;
  var nearestDesc = this.view.docView.nearestDesc(domSel.focusNode), inWidget = nearestDesc.size == 0;
  var head = this.view.docView.posFromDOM(domSel.focusNode, domSel.focusOffset);
  var $head = doc.resolve(head), $anchor, selection;
  if (selectionCollapsed(domSel)) {
    $anchor = $head;
    while (nearestDesc && !nearestDesc.node) { nearestDesc = nearestDesc.parent; }
    if (nearestDesc && nearestDesc.node.isAtom && dist$1.NodeSelection.isSelectable(nearestDesc.node) && nearestDesc.parent) {
      var pos = nearestDesc.posBefore;
      selection = new dist$1.NodeSelection(head == pos ? $head : doc.resolve(pos));
    }
  } else {
    $anchor = doc.resolve(this.view.docView.posFromDOM(domSel.anchorNode, domSel.anchorOffset));
  }

  if (!selection) {
    var bias = origin == "pointer" || (this.view.state.selection.head < $head.pos && !inWidget) ? 1 : -1;
    selection = selectionBetween(this.view, $anchor, $head, bias);
  }
  var preserve = !inWidget && head == selection.head && $anchor.pos == selection.anchor &&
      (!this.view.cursorWrapper || domSel.isCollapsed && origin != "pointer");
  if (preserve) { this.storeDOMState(selection); }
  if (!this.view.state.selection.eq(selection)) {
    var tr = this.view.state.tr.setSelection(selection);
    if (origin == "pointer") { tr.setMeta("pointer", true); }
    this.view.dispatch(tr);
  } else if (!preserve) {
    selectionToDOM(this.view);
  }
};

// There's two polling models. On browsers that support the
// selectionchange event (everything except Firefox < 52, basically), we
// register a listener for that whenever the editor is focused.
var SelectionChangePoller = function SelectionChangePoller(reader) {
  var this$1 = this;

  this.listening = false;
  this.curOrigin = null;
  this.originTime = 0;
  this.reader = reader;

  this.readFunc = function () { return reader.readFromDOM(this$1.originTime > Date.now() - 50 ? this$1.curOrigin : null); };
};

SelectionChangePoller.prototype.poll = function poll (origin) {
  this.curOrigin = origin;
  this.originTime = Date.now();
};

SelectionChangePoller.prototype.start = function start (andRead) {
  if (!this.listening) {
    var doc = this.reader.view.dom.ownerDocument;
    doc.addEventListener("selectionchange", this.readFunc);
    this.listening = true;
    if (andRead) { this.readFunc(); }
  }
};

SelectionChangePoller.prototype.stop = function stop () {
  if (this.listening) {
    var doc = this.reader.view.dom.ownerDocument;
    doc.removeEventListener("selectionchange", this.readFunc);
    this.listening = false;
  }
};

// On Browsers that don't support the selectionchange event,
// we use timeout-based polling.
var TimeoutPoller = function TimeoutPoller(reader) {
  // The timeout ID for the poller when active.
  this.polling = null;
  this.reader = reader;
  this.pollFunc = this.doPoll.bind(this, null);
};

TimeoutPoller.prototype.doPoll = function doPoll (origin) {
  var view = this.reader.view;
  if (view.focused || !view.editable) {
    this.reader.readFromDOM(origin);
    this.polling = setTimeout(this.pollFunc, 100);
  } else {
    this.polling = null;
  }
};

TimeoutPoller.prototype.poll = function poll (origin) {
  clearTimeout(this.polling);
  this.polling = setTimeout(origin ? this.doPoll.bind(this, origin) : this.pollFunc, 0);
};

TimeoutPoller.prototype.start = function start () {
  if (this.polling == null) { this.poll(); }
};

TimeoutPoller.prototype.stop = function stop () {
  clearTimeout(this.polling);
  this.polling = null;
};

function poller(reader) {
  return new ("onselectionchange" in document ? SelectionChangePoller : TimeoutPoller)(reader)
}

function selectionToDOM(view, takeFocus) {
  var sel = view.state.selection;
  syncNodeSelection(view, sel);

  if (view.editable && !view.hasFocus()) {
    if (!takeFocus) { return }
    // See https://bugzilla.mozilla.org/show_bug.cgi?id=921444
    if (result.gecko && result.gecko_version <= 55) {
      view.selectionReader.ignoreUpdates = true;
      view.dom.focus();
      view.selectionReader.ignoreUpdates = false;
    }
  } else if (!view.editable && !hasSelection(view) && !takeFocus) {
    return
  }

  var reader = view.selectionReader;
  if (reader.lastSelection && reader.lastSelection.eq(sel) && !reader.domChanged()) { return }

  reader.ignoreUpdates = true;

  if (view.cursorWrapper) {
    selectCursorWrapper(view);
  } else {
    var anchor = sel.anchor;
    var head = sel.head;
    var resetEditableFrom, resetEditableTo;
    if (brokenSelectBetweenUneditable && !(sel instanceof dist$1.TextSelection)) {
      if (!sel.$from.parent.inlineContent)
        { resetEditableFrom = temporarilyEditableNear(view, sel.from); }
      if (!sel.empty && !sel.$from.parent.inlineContent)
        { resetEditableTo = temporarilyEditableNear(view, sel.to); }
    }
    view.docView.setSelection(anchor, head, view.root);
    if (brokenSelectBetweenUneditable) {
      if (resetEditableFrom) { resetEditableFrom.contentEditable = "false"; }
      if (resetEditableTo) { resetEditableTo.contentEditable = "false"; }
    }
    if (sel.visible) {
      view.dom.classList.remove("ProseMirror-hideselection");
    } else if (anchor != head) {
      view.dom.classList.add("ProseMirror-hideselection");
      if ("onselectionchange" in document) { removeClassOnSelectionChange(view); }
    }
  }

  reader.storeDOMState(sel);
  reader.ignoreUpdates = false;
}

// Kludge to work around Webkit not allowing a selection to start/end
// between non-editable block nodes. We briefly make something
// editable, set the selection, then set it uneditable again.

var brokenSelectBetweenUneditable = result.safari || result.chrome && result.chrome_version < 63;

function temporarilyEditableNear(view, pos) {
  var ref = view.docView.domFromPos(pos);
  var node = ref.node;
  var offset = ref.offset;
  var after = offset < node.childNodes.length ? node.childNodes[offset] : null;
  var before = offset ? node.childNodes[offset - 1] : null;
  if ((!after || after.contentEditable == "false") && (!before || before.contentEditable == "false")) {
    if (after) {
      after.contentEditable = "true";
      return after
    } else if (before) {
      before.contentEditable = "true";
      return before
    }
  }
}

function removeClassOnSelectionChange(view) {
  var doc = view.dom.ownerDocument;
  doc.removeEventListener("selectionchange", view.hideSelectionGuard);
  var domSel = view.root.getSelection();
  var node = domSel.anchorNode, offset = domSel.anchorOffset;
  doc.addEventListener("selectionchange", view.hideSelectionGuard = function () {
    if (domSel.anchorNode != node || domSel.anchorOffset != offset) {
      doc.removeEventListener("selectionchange", view.hideSelectionGuard);
      view.dom.classList.remove("ProseMirror-hideselection");
    }
  });
}

function selectCursorWrapper(view) {
  var domSel = view.root.getSelection(), range = document.createRange();
  var node = view.cursorWrapper.dom;
  range.setEnd(node, node.childNodes.length);
  range.collapse(false);
  domSel.removeAllRanges();
  domSel.addRange(range);
  // Kludge to kill 'control selection' in IE11 when selecting an
  // invisible cursor wrapper, since that would result in those weird
  // resize handles and a selection that considers the absolutely
  // positioned wrapper, rather than the root editable node, the
  // focused element.
  if (!view.state.selection.visible && result.ie && result.ie_version <= 11) {
    node.disabled = true;
    node.disabled = false;
  }
}

function syncNodeSelection(view, sel) {
  if (sel instanceof dist$1.NodeSelection) {
    var desc = view.docView.descAt(sel.from);
    if (desc != view.lastSelectedViewDesc) {
      clearNodeSelection(view);
      if (desc) { desc.selectNode(); }
      view.lastSelectedViewDesc = desc;
    }
  } else {
    clearNodeSelection(view);
  }
}

// Clear all DOM statefulness of the last node selection.
function clearNodeSelection(view) {
  if (view.lastSelectedViewDesc) {
    view.lastSelectedViewDesc.deselectNode();
    view.lastSelectedViewDesc = null;
  }
}

function selectionBetween(view, $anchor, $head, bias) {
  return view.someProp("createSelectionBetween", function (f) { return f(view, $anchor, $head); })
    || dist$1.TextSelection.between($anchor, $head, bias)
}

function hasFocusAndSelection(view) {
  if (view.editable && view.root.activeElement != view.dom) { return false }
  return hasSelection(view)
}

function hasSelection(view) {
  var sel = view.root.getSelection();
  if (!sel.anchorNode) { return false }
  try {
    // Firefox will raise 'permission denied' errors when accessing
    // properties of `sel.anchorNode` when it's in a generated CSS
    // element.
    return view.dom.contains(sel.anchorNode.nodeType == 3 ? sel.anchorNode.parentNode : sel.anchorNode)
  } catch(_) {
    return false
  }
}

function nonInclusiveMark(mark) {
  return mark.type.spec.inclusive === false
}

function needsCursorWrapper(state) {
  var ref = state.selection;
  var $head = ref.$head;
  var $anchor = ref.$anchor;
  var visible = ref.visible;
  var $pos = $head.pos == $anchor.pos && (!visible || $head.parent.inlineContent) ? $head : null;
  if ($pos && (!visible || state.storedMarks || $pos.parent.content.length == 0 ||
               $pos.parentOffset && !$pos.textOffset && $pos.nodeBefore.marks.some(nonInclusiveMark)))
    { return $pos }
  else
    { return null }
}

var DOMChange = function DOMChange(view, composing) {
  var this$1 = this;

  this.view = view;
  this.state = view.state;
  this.composing = composing;
  this.from = this.to = null;
  this.typeOver = false;
  this.timeout = composing ? null : setTimeout(function () { return this$1.finish(); }, DOMChange.commitTimeout);
  this.trackMappings = new TrackMappings(view.state);

  // If there have been changes since this DOM update started, we must
  // map our start and end positions, as well as the new selection
  // positions, through them. This tracks that mapping.
  this.mapping = new dist$3.Mapping;
  this.mappingTo = view.state;
};

DOMChange.prototype.addRange = function addRange (from, to) {
  if (this.from == null) {
    this.from = from;
    this.to = to;
  } else {
    this.from = Math.min(from, this.from);
    this.to = Math.max(to, this.to);
  }
};

DOMChange.prototype.changedRange = function changedRange () {
  if (this.from == null) { return rangeAroundSelection(this.state.selection) }
  var $from = this.state.doc.resolve(Math.min(this.from, this.state.selection.from)), $to = this.state.doc.resolve(this.to);
  var shared = $from.sharedDepth(this.to);
  return {from: $from.before(shared + 1), to: $to.after(shared + 1)}
};

DOMChange.prototype.markDirty = function markDirty (range) {
  if (this.from == null) { this.view.docView.markDirty((range = range || this.changedRange()).from, range.to); }
  else { this.view.docView.markDirty(this.from, this.to); }
};

DOMChange.prototype.stateUpdated = function stateUpdated (state) {
  if (this.trackMappings.getMapping(state, this.mapping)) {
    this.trackMappings.destroy();
    this.trackMappings = new TrackMappings(state);
    this.mappingTo = state;
    return true
  } else {
    this.markDirty();
    this.destroy();
    return false
  }
};

DOMChange.prototype.finish = function finish (force) {
  clearTimeout(this.timeout);
  if (this.composing && !force) { return }
  this.view.domObserver.flush();
  var range = this.changedRange();
  this.markDirty(range);

  this.destroy();
  var sel = this.state.selection, allowTypeOver = this.typeOver && sel instanceof dist$1.TextSelection &&
      !sel.empty && sel.$head.sameParent(sel.$anchor);
  readDOMChange(this.view, this.mapping, this.state, range, allowTypeOver);

  // If the reading didn't result in a view update, force one by
  // resetting the view to its current state.
  if (this.view.docView.dirty) { this.view.updateState(this.view.state); }
};

DOMChange.prototype.destroy = function destroy () {
  clearTimeout(this.timeout);
  this.trackMappings.destroy();
  this.view.inDOMChange = null;
};

DOMChange.prototype.compositionEnd = function compositionEnd () {
    var this$1 = this;

  if (this.composing) {
    this.composing = false;
    this.timeout = setTimeout(function () { return this$1.finish(); }, 50);
  }
};

DOMChange.start = function start (view, composing) {
  if (view.inDOMChange) {
    if (composing) {
      clearTimeout(view.inDOMChange.timeout);
      view.inDOMChange.composing = true;
    }
  } else {
    view.inDOMChange = new DOMChange(view, composing);
  }
  return view.inDOMChange
};
DOMChange.commitTimeout = 20;

// Note that all referencing and parsing is done with the
// start-of-operation selection and document, since that's the one
// that the DOM represents. If any changes came in in the meantime,
// the modification is mapped over those before it is applied, in
// readDOMChange.

function parseBetween(view, oldState, range) {
  var ref = view.docView.parseRange(range.from, range.to);
  var parent = ref.node;
  var fromOffset = ref.fromOffset;
  var toOffset = ref.toOffset;
  var from = ref.from;
  var to = ref.to;

  var domSel = view.root.getSelection(), find = null, anchor = domSel.anchorNode;
  if (anchor && view.dom.contains(anchor.nodeType == 1 ? anchor : anchor.parentNode)) {
    find = [{node: anchor, offset: domSel.anchorOffset}];
    if (!selectionCollapsed(domSel))
      { find.push({node: domSel.focusNode, offset: domSel.focusOffset}); }
  }
  var startDoc = oldState.doc;
  var parser = view.someProp("domParser") || dist$2.DOMParser.fromSchema(view.state.schema);
  var $from = startDoc.resolve(from);
  var sel = null, doc = parser.parse(parent, {
    topNode: $from.parent,
    topMatch: $from.parent.contentMatchAt($from.index()),
    topOpen: true,
    from: fromOffset,
    to: toOffset,
    preserveWhitespace: $from.parent.type.spec.code ? "full" : true,
    editableContent: true,
    findPositions: find,
    ruleFromNode: ruleFromNode(parser, $from),
    context: $from
  });
  if (find && find[0].pos != null) {
    var anchor$1 = find[0].pos, head = find[1] && find[1].pos;
    if (head == null) { head = anchor$1; }
    sel = {anchor: anchor$1 + from, head: head + from};
  }
  return {doc: doc, sel: sel, from: from, to: to}
}

function ruleFromNode(parser, context) {
  return function (dom) {
    var desc = dom.pmViewDesc;
    if (desc) {
      return desc.parseRule()
    } else if (dom.nodeName == "BR" && dom.parentNode) {
      // Safari replaces the list item with a BR directly in the list node (?!) if you delete the last character in a list item (#708)
      if (result.safari && /^(ul|ol)$/i.test(dom.parentNode.nodeName))
        { return parser.matchTag(document.createElement("li"), context) }
      else if (dom.parentNode.lastChild == dom)
        { return {ignore: true} }
    }
  }
}

function isAtEnd($pos, depth) {
  for (var i = depth || 0; i < $pos.depth; i++)
    { if ($pos.index(i) + 1 < $pos.node(i).childCount) { return false } }
  return $pos.parentOffset == $pos.parent.content.size
}
function isAtStart($pos, depth) {
  for (var i = depth || 0; i < $pos.depth; i++)
    { if ($pos.index(0) > 0) { return false } }
  return $pos.parentOffset == 0
}

function rangeAroundSelection(selection) {
  // Intentionally uses $head/$anchor because those will correspond to the DOM selection
  var $from = selection.$anchor.min(selection.$head), $to = selection.$anchor.max(selection.$head);

  if ($from.sameParent($to) && $from.parent.inlineContent && $from.parentOffset && $to.parentOffset < $to.parent.content.size) {
    var startOff = Math.max(0, $from.parentOffset);
    var size = $from.parent.content.size;
    var endOff = Math.min(size, $to.parentOffset);

    if (startOff > 0)
      { startOff = $from.parent.childBefore(startOff).offset; }
    if (endOff < size) {
      var after = $from.parent.childAfter(endOff);
      endOff = after.offset + after.node.nodeSize;
    }
    var nodeStart = $from.start();
    return {from: nodeStart + startOff, to: nodeStart + endOff}
  } else {
    for (var depth = 0;; depth++) {
      var fromStart = isAtStart($from, depth + 1), toEnd = isAtEnd($to, depth + 1);
      if (fromStart || toEnd || $from.index(depth) != $to.index(depth) || $to.node(depth).isTextblock) {
        var from = $from.before(depth + 1), to = $to.after(depth + 1);
        if (fromStart && $from.index(depth) > 0)
          { from -= $from.node(depth).child($from.index(depth) - 1).nodeSize; }
        if (toEnd && $to.index(depth) + 1 < $to.node(depth).childCount)
          { to += $to.node(depth).child($to.index(depth) + 1).nodeSize; }
        return {from: from, to: to}
      }
    }
  }
}

function keyEvent(keyCode, key) {
  var event = document.createEvent("Event");
  event.initEvent("keydown", true, true);
  event.keyCode = keyCode;
  event.key = event.code = key;
  return event
}

function readDOMChange(view, mapping, oldState, range, allowTypeOver) {
  var parse = parseBetween(view, oldState, range);

  var doc = oldState.doc, compare = doc.slice(parse.from, parse.to);
  var preferredPos, preferredSide;
  // Prefer anchoring to end when Backspace is pressed
  if (view.lastKeyCode === 8 && Date.now() - 100 < view.lastKeyCodeTime) {
    preferredPos = oldState.selection.to;
    preferredSide = "end";
  } else {
    preferredPos = oldState.selection.from;
    preferredSide = "start";
  }
  view.lastKeyCode = null;

  var change = findDiff(compare.content, parse.doc.content, parse.from, preferredPos, preferredSide);
  if (!change) {
    if (allowTypeOver) {
      var state = view.state, sel = state.selection;
      view.dispatch(state.tr.replaceSelectionWith(state.schema.text(state.doc.textBetween(sel.from, sel.to)), true).scrollIntoView());
    } else if (parse.sel) {
      var sel$1 = resolveSelection(view, view.state.doc, mapping, parse.sel);
      if (sel$1 && !sel$1.eq(view.state.selection)) { view.dispatch(view.state.tr.setSelection(sel$1)); }
    }
    return
  }

  var $from = parse.doc.resolveNoCache(change.start - parse.from);
  var $to = parse.doc.resolveNoCache(change.endB - parse.from);
  var nextSel;
  // If this looks like the effect of pressing Enter, just dispatch an
  // Enter key instead.
  if (!$from.sameParent($to) && $from.pos < parse.doc.content.size &&
      (nextSel = dist$1.Selection.findFrom(parse.doc.resolve($from.pos + 1), 1, true)) &&
      nextSel.head == $to.pos &&
      view.someProp("handleKeyDown", function (f) { return f(view, keyEvent(13, "Enter")); }))
    { return }
  // Same for backspace
  if (oldState.selection.anchor > change.start &&
      looksLikeJoin(doc, change.start, change.endA, $from, $to) &&
      view.someProp("handleKeyDown", function (f) { return f(view, keyEvent(8, "Backspace")); }))
    { return }

  var from = mapping.map(change.start), to = mapping.map(change.endA, -1);

  var tr, storedMarks, markChange, $from1;
  if ($from.sameParent($to) && $from.parent.inlineContent) {
    if ($from.pos == $to.pos) { // Deletion
      tr = view.state.tr.delete(from, to);
      storedMarks = doc.resolve(change.start).marksAcross(doc.resolve(change.endA));
    } else if ( // Adding or removing a mark
      change.endA == change.endB && ($from1 = doc.resolve(change.start)) &&
      (markChange = isMarkChange($from.parent.content.cut($from.parentOffset, $to.parentOffset),
                                 $from1.parent.content.cut($from1.parentOffset, change.endA - $from1.start())))
    ) {
      tr = view.state.tr;
      if (markChange.type == "add") { tr.addMark(from, to, markChange.mark); }
      else { tr.removeMark(from, to, markChange.mark); }
    } else if ($from.parent.child($from.index()).isText && $from.index() == $to.index() - ($to.textOffset ? 0 : 1)) {
      // Both positions in the same text node -- simply insert text
      var text = $from.parent.textBetween($from.parentOffset, $to.parentOffset);
      if (view.someProp("handleTextInput", function (f) { return f(view, from, to, text); })) { return }
      tr = view.state.tr.insertText(text, from, to);
    }
  }

  if (!tr)
    { tr = view.state.tr.replace(from, to, parse.doc.slice(change.start - parse.from, change.endB - parse.from)); }
  if (parse.sel) {
    var sel$2 = resolveSelection(view, tr.doc, mapping, parse.sel);
    if (sel$2) { tr.setSelection(sel$2); }
  }
  if (storedMarks) { tr.ensureMarks(storedMarks); }
  view.dispatch(tr.scrollIntoView());
}

function resolveSelection(view, doc, mapping, parsedSel) {
  if (Math.max(parsedSel.anchor, parsedSel.head) > doc.content.size) { return null }
  return selectionBetween(view, doc.resolve(mapping.map(parsedSel.anchor)),
                          doc.resolve(mapping.map(parsedSel.head)))
}

// : (Fragment, Fragment) → ?{mark: Mark, type: string}
// Given two same-length, non-empty fragments of inline content,
// determine whether the first could be created from the second by
// removing or adding a single mark type.
function isMarkChange(cur, prev) {
  var curMarks = cur.firstChild.marks, prevMarks = prev.firstChild.marks;
  var added = curMarks, removed = prevMarks, type, mark, update;
  for (var i = 0; i < prevMarks.length; i++) { added = prevMarks[i].removeFromSet(added); }
  for (var i$1 = 0; i$1 < curMarks.length; i$1++) { removed = curMarks[i$1].removeFromSet(removed); }
  if (added.length == 1 && removed.length == 0) {
    mark = added[0];
    type = "add";
    update = function (node) { return node.mark(mark.addToSet(node.marks)); };
  } else if (added.length == 0 && removed.length == 1) {
    mark = removed[0];
    type = "remove";
    update = function (node) { return node.mark(mark.removeFromSet(node.marks)); };
  } else {
    return null
  }
  var updated = [];
  for (var i$2 = 0; i$2 < prev.childCount; i$2++) { updated.push(update(prev.child(i$2))); }
  if (dist$2.Fragment.from(updated).eq(cur)) { return {mark: mark, type: type} }
}

function looksLikeJoin(old, start, end, $newStart, $newEnd) {
  if (!$newStart.parent.isTextblock ||
      // The content must have shrunk
      end - start <= $newEnd.pos - $newStart.pos ||
      // newEnd must point directly at or after the end of the block that newStart points into
      skipClosingAndOpening($newStart, true, false) < $newEnd.pos)
    { return false }

  var $start = old.resolve(start);
  // Start must be at the end of a block
  if ($start.parentOffset < $start.parent.content.size || !$start.parent.isTextblock)
    { return false }
  var $next = old.resolve(skipClosingAndOpening($start, true, true));
  // The next textblock must start before end and end near it
  if (!$next.parent.isTextblock || $next.pos > end ||
      skipClosingAndOpening($next, true, false) < end)
    { return false }

  // The fragments after the join point must match
  return $newStart.parent.content.cut($newStart.parentOffset).eq($next.parent.content)
}

function skipClosingAndOpening($pos, fromEnd, mayOpen) {
  var depth = $pos.depth, end = fromEnd ? $pos.end() : $pos.pos;
  while (depth > 0 && (fromEnd || $pos.indexAfter(depth) == $pos.node(depth).childCount)) {
    depth--;
    end++;
    fromEnd = false;
  }
  if (mayOpen) {
    var next = $pos.node(depth).maybeChild($pos.indexAfter(depth));
    while (next && !next.isLeaf) {
      next = next.firstChild;
      end++;
    }
  }
  return end
}

function findDiff(a, b, pos, preferredPos, preferredSide) {
  var start = a.findDiffStart(b, pos);
  if (start == null) { return null }
  var ref = a.findDiffEnd(b, pos + a.size, pos + b.size);
  var endA = ref.a;
  var endB = ref.b;
  if (preferredSide == "end") {
    var adjust = Math.max(0, start - Math.min(endA, endB));
    preferredPos -= endA + adjust - start;
  }
  if (endA < start && a.size < b.size) {
    var move = preferredPos <= start && preferredPos >= endA ? start - preferredPos : 0;
    start -= move;
    endB = start + (endB - endA);
    endA = start;
  } else if (endB < start) {
    var move$1 = preferredPos <= start && preferredPos >= endB ? start - preferredPos : 0;
    start -= move$1;
    endA = start + (endA - endB);
    endB = start;
  }
  return {start: start, endA: endA, endB: endB}
}

function serializeForClipboard(view, slice) {
  var context = [];
  var content = slice.content;
  var openStart = slice.openStart;
  var openEnd = slice.openEnd;
  while (openStart > 1 && openEnd > 1 && content.childCount == 1 && content.firstChild.childCount == 1) {
    openStart--;
    openEnd--;
    var node = content.firstChild;
    context.push(node.type.name, node.type.hasRequiredAttrs() ? node.attrs : null);
    content = node.content;
  }

  var serializer = view.someProp("clipboardSerializer") || dist$2.DOMSerializer.fromSchema(view.state.schema);
  var wrap = document.createElement("div");
  wrap.appendChild(serializer.serializeFragment(content));

  var firstChild = wrap.firstChild, needsWrap;
  while (firstChild && firstChild.nodeType == 1 && (needsWrap = wrapMap[firstChild.nodeName.toLowerCase()])) {
    for (var i = needsWrap.length - 1; i >= 0; i--) {
      var wrapper = document.createElement(needsWrap[i]);
      while (wrap.firstChild) { wrapper.appendChild(wrap.firstChild); }
      wrap.appendChild(wrapper);
    }
    firstChild = wrap.firstChild;
  }

  if (firstChild && firstChild.nodeType == 1)
    { firstChild.setAttribute("data-pm-slice", (openStart + " " + openEnd + " " + (JSON.stringify(context)))); }

  var text = view.someProp("clipboardTextSerializer", function (f) { return f(slice); }) ||
      slice.content.textBetween(0, slice.content.size, "\n\n");

  return {dom: wrap, text: text}
}

// : (EditorView, string, string, ?bool, ResolvedPos) → ?Slice
// Read a slice of content from the clipboard (or drop data).
function parseFromClipboard(view, text, html, plainText, $context) {
  var dom, inCode = $context.parent.type.spec.code, slice;
  if (!html && !text) { return null }
  if ((plainText || inCode || !html) && text) {
    view.someProp("transformPastedText", function (f) { text = f(text); });
    if (inCode) { return new dist$2.Slice(dist$2.Fragment.from(view.state.schema.text(text)), 0, 0) }
    var parsed = view.someProp("clipboardTextParser", function (f) { return f(text, $context); });
    if (parsed) {
      slice = parsed;
    } else {
      dom = document.createElement("div");
      text.trim().split(/(?:\r\n?|\n)+/).forEach(function (block) {
        dom.appendChild(document.createElement("p")).textContent = block;
      });
    }
  } else {
    view.someProp("transformPastedHTML", function (f) { return html = f(html); });
    dom = readHTML(html);
  }

  if (!slice) {
    var parser = view.someProp("clipboardParser") || view.someProp("domParser") || dist$2.DOMParser.fromSchema(view.state.schema);
    slice = parser.parseSlice(dom, {preserveWhitespace: true, context: $context});
  }
  var contextNode = dom && dom.querySelector("[data-pm-slice]");
  var sliceData = contextNode && /^(\d+) (\d+) (.*)/.exec(contextNode.getAttribute("data-pm-slice"));
  if (sliceData)
    { slice = addContext(new dist$2.Slice(slice.content, Math.min(slice.openStart, +sliceData[1]),
                                 Math.min(slice.openEnd, +sliceData[2])), sliceData[3]); }
  else // HTML wasn't created by ProseMirror. Make sure top-level siblings are coherent
    { slice = dist$2.Slice.maxOpen(normalizeSiblings(slice.content, $context), false); }
  view.someProp("transformPasted", function (f) { slice = f(slice); });
  return slice
}

// Takes a slice parsed with parseSlice, which means there hasn't been
// any content-expression checking done on the top nodes, tries to
// find a parent node in the current context that might fit the nodes,
// and if successful, rebuilds the slice so that it fits into that parent.
//
// This addresses the problem that Transform.replace expects a
// coherent slice, and will fail to place a set of siblings that don't
// fit anywhere in the schema.
function normalizeSiblings(fragment, $context) {
  if (fragment.childCount < 2) { return fragment }
  var loop = function ( d ) {
    var parent = $context.node(d);
    var match = parent.contentMatchAt($context.index(d));
    var lastWrap = (void 0), result = [];
    fragment.forEach(function (node) {
      if (!result) { return }
      var wrap = match.findWrapping(node.type), inLast;
      if (!wrap) { return result = null }
      if (inLast = result.length && lastWrap.length && addToSibling(wrap, lastWrap, node, result[result.length - 1], 0)) {
        result[result.length - 1] = inLast;
      } else {
        if (result.length) { result[result.length - 1] = closeRight(result[result.length - 1], lastWrap.length); }
        var wrapped = withWrappers(node, wrap);
        result.push(wrapped);
        match = match.matchType(wrapped.type, wrapped.attrs);
        lastWrap = wrap;
      }
    });
    if (result) { return { v: dist$2.Fragment.from(result) } }
  };

  for (var d = $context.depth; d >= 0; d--) {
    var returned = loop( d );

    if ( returned ) return returned.v;
  }
  return fragment
}

function withWrappers(node, wrap, from) {
  if ( from === void 0 ) from = 0;

  for (var i = wrap.length - 1; i >= from; i--)
    { node = wrap[i].create(null, dist$2.Fragment.from(node)); }
  return node
}

// Used to group adjacent nodes wrapped in similar parents by
// normalizeSiblings into the same parent node
function addToSibling(wrap, lastWrap, node, sibling, depth) {
  if (depth < wrap.length && depth < lastWrap.length && wrap[depth] == lastWrap[depth]) {
    var inner = addToSibling(wrap, lastWrap, node, sibling.lastChild, depth + 1);
    if (inner) { return sibling.copy(sibling.content.replaceChild(sibling.childCount - 1, inner)) }
    var match = sibling.contentMatchAt(sibling.childCount);
    if (match.matchType(depth == wrap.length - 1 ? node.type : wrap[depth + 1]))
      { return sibling.copy(sibling.content.append(dist$2.Fragment.from(withWrappers(node, wrap, depth + 1)))) }
  }
}

function closeRight(node, depth) {
  if (depth == 0) { return node }
  var fragment = node.content.replaceChild(node.childCount - 1, closeRight(node.lastChild, depth - 1));
  var fill = node.contentMatchAt(node.childCount).fillBefore(dist$2.Fragment.empty, true);
  return node.copy(fragment.append(fill))
}

// Trick from jQuery -- some elements must be wrapped in other
// elements for innerHTML to work. I.e. if you do `div.innerHTML =
// "<td>..</td>"` the table cells are ignored.
var wrapMap = {thead: ["table"], colgroup: ["table"], col: ["table", "colgroup"],
                 tr: ["table", "tbody"], td: ["table", "tbody", "tr"], th: ["table", "tbody", "tr"]};
var detachedDoc = null;
function readHTML(html) {
  var metas = /(\s*<meta [^>]*>)*/.exec(html);
  if (metas) { html = html.slice(metas[0].length); }
  var doc = detachedDoc || (detachedDoc = document.implementation.createHTMLDocument("title"));
  var elt = doc.createElement("div");
  var firstTag = /(?:<meta [^>]*>)*<([a-z][^>\s]+)/i.exec(html), wrap, depth = 0;
  if (wrap = firstTag && wrapMap[firstTag[1].toLowerCase()]) {
    html = wrap.map(function (n) { return "<" + n + ">"; }).join("") + html + wrap.map(function (n) { return "</" + n + ">"; }).reverse().join("");
    depth = wrap.length;
  }
  elt.innerHTML = html;
  for (var i = 0; i < depth; i++) { elt = elt.firstChild; }
  return elt
}

function addContext(slice, context) {
  if (!slice.size) { return slice }
  var schema = slice.content.firstChild.type.schema, array;
  try { array = JSON.parse(context); }
  catch(e) { return slice }
  var content = slice.content;
  var openStart = slice.openStart;
  var openEnd = slice.openEnd;
  for (var i = array.length - 2; i >= 0; i -= 2) {
    var type = schema.nodes[array[i]];
    if (!type || type.hasRequiredAttrs()) { break }
    content = dist$2.Fragment.from(type.create(array[i + 1], content));
    openStart++; openEnd++;
  }
  return new dist$2.Slice(content, openStart, openEnd)
}

var observeOptions = {childList: true, characterData: true, attributes: true, subtree: true, characterDataOldValue: true};
// IE11 has very broken mutation observers, so we also listen to DOMCharacterDataModified
var useCharData = result.ie && result.ie_version <= 11;

var DOMObserver = function DOMObserver(view) {
  var this$1 = this;

  this.view = view;
  this.observer = window.MutationObserver &&
    new window.MutationObserver(function (mutations) { return this$1.registerMutations(mutations); });
  if (useCharData)
    { this.onCharData = function (e) { return this$1.registerMutation({target: e.target, type: "characterData", oldValue: e.prevValue}); }; }
};

DOMObserver.prototype.start = function start () {
  if (this.observer)
    { this.observer.observe(this.view.dom, observeOptions); }
  if (useCharData)
    { this.view.dom.addEventListener("DOMCharacterDataModified", this.onCharData); }
};

DOMObserver.prototype.stop = function stop () {
  if (this.observer) {
    this.flush();
    this.observer.disconnect();
  }
  if (useCharData)
    { this.view.dom.removeEventListener("DOMCharacterDataModified", this.onCharData); }
};

DOMObserver.prototype.flush = function flush () {
  if (this.observer)
    { this.registerMutations(this.observer.takeRecords()); }
};

DOMObserver.prototype.registerMutations = function registerMutations (mutations) {
    var this$1 = this;

  for (var i = 0; i < mutations.length; i++)
    { this$1.registerMutation(mutations[i]); }
};

DOMObserver.prototype.registerMutation = function registerMutation (mut) {
  if (!this.view.editable) { return }
  var desc = this.view.docView.nearestDesc(mut.target);
  if (mut.type == "attributes" &&
      (desc == this.view.docView || mut.attributeName == "contenteditable")) { return }
  if (!desc || desc.ignoreMutation(mut)) { return }

  var from, to;
  if (mut.type == "childList") {
    var fromOffset = mut.previousSibling && mut.previousSibling.parentNode == mut.target
        ? domIndex(mut.previousSibling) + 1 : 0;
    if (fromOffset == -1) { return }
    from = desc.localPosFromDOM(mut.target, fromOffset, -1);
    var toOffset = mut.nextSibling && mut.nextSibling.parentNode == mut.target
        ? domIndex(mut.nextSibling) : mut.target.childNodes.length;
    if (toOffset == -1) { return }
    to = desc.localPosFromDOM(mut.target, toOffset, 1);
  } else if (mut.type == "attributes") {
    from = desc.posAtStart - desc.border;
    to = desc.posAtEnd + desc.border;
  } else { // "characterData"
    from = desc.posAtStart;
    to = desc.posAtEnd;
    // An event was generated for a text change that didn't change
    // any text. Mark the dom change to fall back to assuming the
    // selection was typed over with an identical value if it can't
    // find another change.
    if (mut.target.nodeValue == mut.oldValue) { DOMChange.start(this.view).typeOver = true; }
  }

  DOMChange.start(this.view).addRange(from, to);
};

// A collection of DOM events that occur within the editor, and callback functions
// to invoke when the event fires.
var handlers = {};
var editHandlers = {};

function initInput(view) {
  view.shiftKey = false;
  view.mouseDown = null;
  view.inDOMChange = null;
  view.lastKeyCode = null;
  view.lastKeyCodeTime = 0;
  view.domObserver = new DOMObserver(view);
  view.domObserver.start();

  view.eventHandlers = Object.create(null);
  var loop = function ( event ) {
    var handler = handlers[event];
    view.dom.addEventListener(event, view.eventHandlers[event] = function (event) {
      if (eventBelongsToView(view, event) && !runCustomHandler(view, event) &&
          (view.editable || !(event.type in editHandlers)))
        { handler(view, event); }
    });
  };

  for (var event in handlers) loop( event );
  ensureListeners(view);
}

function destroyInput(view) {
  view.domObserver.stop();
  if (view.inDOMChange) { view.inDOMChange.destroy(); }
  for (var type in view.eventHandlers)
    { view.dom.removeEventListener(type, view.eventHandlers[type]); }
}

function ensureListeners(view) {
  view.someProp("handleDOMEvents", function (currentHandlers) {
    for (var type in currentHandlers) { if (!view.eventHandlers[type])
      { view.dom.addEventListener(type, view.eventHandlers[type] = function (event) { return runCustomHandler(view, event); }); } }
  });
}

function runCustomHandler(view, event) {
  return view.someProp("handleDOMEvents", function (handlers) {
    var handler = handlers[event.type];
    return handler ? handler(view, event) || event.defaultPrevented : false
  })
}

function eventBelongsToView(view, event) {
  if (!event.bubbles) { return true }
  if (event.defaultPrevented) { return false }
  for (var node = event.target; node != view.dom; node = node.parentNode)
    { if (!node || node.nodeType == 11 ||
        (node.pmViewDesc && node.pmViewDesc.stopEvent(event)))
      { return false } }
  return true
}

function dispatchEvent(view, event) {
  if (!runCustomHandler(view, event) && handlers[event.type] &&
      (view.editable || !(event.type in editHandlers)))
    { handlers[event.type](view, event); }
}

editHandlers.keydown = function (view, event) {
  if (event.keyCode == 16) { view.shiftKey = true; }
  if (view.inDOMChange) { return }
  view.lastKeyCode = event.keyCode;
  view.lastKeyCodeTime = Date.now();
  if (view.someProp("handleKeyDown", function (f) { return f(view, event); }) || captureKeyDown(view, event))
    { event.preventDefault(); }
  else
    { view.selectionReader.poll(); }
};

editHandlers.keyup = function (view, e) {
  if (e.keyCode == 16) { view.shiftKey = false; }
};

editHandlers.keypress = function (view, event) {
  if (view.inDOMChange || !event.charCode ||
      event.ctrlKey && !event.altKey || result.mac && event.metaKey) { return }

  if (view.someProp("handleKeyPress", function (f) { return f(view, event); })) {
    event.preventDefault();
    return
  }

  var sel = view.state.selection;
  if (!(sel instanceof dist$1.TextSelection) || !sel.$from.sameParent(sel.$to)) {
    var text = String.fromCharCode(event.charCode);
    if (!view.someProp("handleTextInput", function (f) { return f(view, sel.$from.pos, sel.$to.pos, text); }))
      { view.dispatch(view.state.tr.insertText(text).scrollIntoView()); }
    event.preventDefault();
  }
};

function eventCoords(event) { return {left: event.clientX, top: event.clientY} }

var lastClick = {time: 0, x: 0, y: 0};
var oneButLastClick = lastClick;

function isNear(event, click) {
  var dx = click.x - event.clientX, dy = click.y - event.clientY;
  return dx * dx + dy * dy < 100
}

function runHandlerOnContext(view, propName, pos, inside, event) {
  if (inside == -1) { return false }
  var $pos = view.state.doc.resolve(inside);
  var loop = function ( i ) {
    if (view.someProp(propName, function (f) { return i > $pos.depth ? f(view, pos, $pos.nodeAfter, $pos.before(i), event, true)
                                                    : f(view, pos, $pos.node(i), $pos.before(i), event, false); }))
      { return { v: true } }
  };

  for (var i = $pos.depth + 1; i > 0; i--) {
    var returned = loop( i );

    if ( returned ) return returned.v;
  }
  return false
}

function updateSelection(view, selection, origin) {
  if (!view.focused) { view.focus(); }
  var tr = view.state.tr.setSelection(selection);
  if (origin == "pointer") { tr.setMeta("pointer", true); }
  view.dispatch(tr);
}

function selectClickedLeaf(view, inside) {
  if (inside == -1) { return false }
  var $pos = view.state.doc.resolve(inside), node = $pos.nodeAfter;
  if (node && node.isAtom && dist$1.NodeSelection.isSelectable(node)) {
    updateSelection(view, new dist$1.NodeSelection($pos), "pointer");
    return true
  }
  return false
}

function selectClickedNode(view, inside) {
  if (inside == -1) { return false }
  var sel = view.state.selection, selectedNode, selectAt;
  if (sel instanceof dist$1.NodeSelection) { selectedNode = sel.node; }

  var $pos = view.state.doc.resolve(inside);
  for (var i = $pos.depth + 1; i > 0; i--) {
    var node = i > $pos.depth ? $pos.nodeAfter : $pos.node(i);
    if (dist$1.NodeSelection.isSelectable(node)) {
      if (selectedNode && sel.$from.depth > 0 &&
          i >= sel.$from.depth && $pos.before(sel.$from.depth + 1) == sel.$from.pos)
        { selectAt = $pos.before(sel.$from.depth); }
      else
        { selectAt = $pos.before(i); }
      break
    }
  }

  if (selectAt != null) {
    updateSelection(view, dist$1.NodeSelection.create(view.state.doc, selectAt), "pointer");
    return true
  } else {
    return false
  }
}

function handleSingleClick(view, pos, inside, event, selectNode) {
  return runHandlerOnContext(view, "handleClickOn", pos, inside, event) ||
    view.someProp("handleClick", function (f) { return f(view, pos, event); }) ||
    (selectNode ? selectClickedNode(view, inside) : selectClickedLeaf(view, inside))
}

function handleDoubleClick(view, pos, inside, event) {
  return runHandlerOnContext(view, "handleDoubleClickOn", pos, inside, event) ||
    view.someProp("handleDoubleClick", function (f) { return f(view, pos, event); })
}

function handleTripleClick(view, pos, inside, event) {
  return runHandlerOnContext(view, "handleTripleClickOn", pos, inside, event) ||
    view.someProp("handleTripleClick", function (f) { return f(view, pos, event); }) ||
    defaultTripleClick(view, inside)
}

function defaultTripleClick(view, inside) {
  var doc = view.state.doc;
  if (inside == -1) {
    if (doc.inlineContent) {
      updateSelection(view, dist$1.TextSelection.create(doc, 0, doc.content.size), "pointer");
      return true
    }
    return false
  }

  var $pos = doc.resolve(inside);
  for (var i = $pos.depth + 1; i > 0; i--) {
    var node = i > $pos.depth ? $pos.nodeAfter : $pos.node(i);
    var nodePos = $pos.before(i);
    if (node.inlineContent)
      { updateSelection(view, dist$1.TextSelection.create(doc, nodePos + 1, nodePos + 1 + node.content.size), "pointer"); }
    else if (dist$1.NodeSelection.isSelectable(node))
      { updateSelection(view, dist$1.NodeSelection.create(doc, nodePos), "pointer"); }
    else
      { continue }
    return true
  }
}

function forceDOMFlush(view) {
  if (!view.inDOMChange) { return false }
  view.inDOMChange.finish(true);
  return true
}

var selectNodeModifier = result.mac ? "metaKey" : "ctrlKey";

handlers.mousedown = function (view, event) {
  var flushed = forceDOMFlush(view);
  var now = Date.now(), type;
  if (now - lastClick.time >= 500 || !isNear(event, lastClick) || event[selectNodeModifier]) { type = "singleClick"; }
  else if (now - oneButLastClick.time >= 600 || !isNear(event, oneButLastClick)) { type = "doubleClick"; }
  else { type = "tripleClick"; }
  oneButLastClick = lastClick;
  lastClick = {time: now, x: event.clientX, y: event.clientY};

  var pos = view.posAtCoords(eventCoords(event));
  if (!pos) { return }

  if (type == "singleClick")
    { view.mouseDown = new MouseDown(view, pos, event, flushed); }
  else if ((type == "doubleClick" ? handleDoubleClick : handleTripleClick)(view, pos.pos, pos.inside, event))
    { event.preventDefault(); }
  else
    { view.selectionReader.poll("pointer"); }
};

var MouseDown = function MouseDown(view, pos, event, flushed) {
  var this$1 = this;

  this.view = view;
  this.pos = pos;
  this.event = event;
  this.flushed = flushed;
  this.selectNode = event[selectNodeModifier];
  this.allowDefault = event.shiftKey;

  var targetNode, targetPos;
  if (pos.inside > -1) {
    targetNode = view.state.doc.nodeAt(pos.inside);
    targetPos = pos.inside;
  } else {
    var $pos = view.state.doc.resolve(pos.pos);
    targetNode = $pos.parent;
    targetPos = $pos.depth ? $pos.before() : 0;
  }

  this.mightDrag = null;
  this.target = flushed ? null : event.target;
  if (targetNode.type.spec.draggable && targetNode.type.spec.selectable !== false ||
      view.state.selection instanceof dist$1.NodeSelection && targetPos == view.state.selection.from)
    { this.mightDrag = {node: targetNode,
                      pos: targetPos,
                      addAttr: this.target && !this.target.draggable,
                      setUneditable: this.target && result.gecko && !this.target.hasAttribute("contentEditable")}; }

  if (this.target && this.mightDrag && (this.mightDrag.addAttr || this.mightDrag.setUneditable)) {
    this.view.domObserver.stop();
    if (this.mightDrag.addAttr) { this.target.draggable = true; }
    if (this.mightDrag.setUneditable)
      { setTimeout(function () { return this$1.target.setAttribute("contentEditable", "false"); }, 20); }
    this.view.domObserver.start();
  }

  view.root.addEventListener("mouseup", this.up = this.up.bind(this));
  view.root.addEventListener("mousemove", this.move = this.move.bind(this));
  view.selectionReader.poll("pointer");
};

MouseDown.prototype.done = function done () {
  this.view.root.removeEventListener("mouseup", this.up);
  this.view.root.removeEventListener("mousemove", this.move);
  if (this.mightDrag && this.target) {
    this.view.domObserver.stop();
    if (this.mightDrag.addAttr) { this.target.draggable = false; }
    if (this.mightDrag.setUneditable) { this.target.removeAttribute("contentEditable"); }
    this.view.domObserver.start();
  }
  this.view.mouseDown = null;
};

MouseDown.prototype.up = function up (event) {
  this.done();

  if (!this.view.dom.contains(event.target.nodeType == 3 ? event.target.parentNode : event.target))
    { return }

  if (this.allowDefault) {
    // Force a cursor wrapper redraw if this was suppressed (to avoid an issue with IE drag-selection)
    if (result.ie && needsCursorWrapper(this.view.state)) { this.view.updateState(this.view.state); }
    this.view.selectionReader.poll("pointer");
  } else if (handleSingleClick(this.view, this.pos.pos, this.pos.inside, event, this.selectNode)) {
    event.preventDefault();
  } else if (this.flushed) {
    updateSelection(this.view, dist$1.Selection.near(this.view.state.doc.resolve(this.pos.pos)), "pointer");
    event.preventDefault();
  } else {
    this.view.selectionReader.poll("pointer");
  }
};

MouseDown.prototype.move = function move (event) {
  if (!this.allowDefault && (Math.abs(this.event.x - event.clientX) > 4 ||
                             Math.abs(this.event.y - event.clientY) > 4))
    { this.allowDefault = true; }
  this.view.selectionReader.poll("pointer");
};

handlers.touchdown = function (view) {
  forceDOMFlush(view);
  view.selectionReader.poll("pointer");
};

handlers.contextmenu = function (view) { return forceDOMFlush(view); };

// Input compositions are hard. Mostly because the events fired by
// browsers are A) very unpredictable and inconsistent, and B) not
// cancelable.
//
// ProseMirror has the problem that it must not update the DOM during
// a composition, or the browser will cancel it. What it does is keep
// long-running operations (delayed DOM updates) when a composition is
// active.
//
// We _do not_ trust the information in the composition events which,
// apart from being very uninformative to begin with, is often just
// plain wrong. Instead, when a composition ends, we parse the dom
// around the original selection, and derive an update from that.

editHandlers.compositionstart = editHandlers.compositionupdate = function (view) {
  DOMChange.start(view, true);
};

editHandlers.compositionend = function (view, e) {
  if (!view.inDOMChange) {
    // We received a compositionend without having seen any previous
    // events for the composition. If there's data in the event
    // object, we assume that it's a real change, and start a
    // composition. Otherwise, we just ignore it.
    if (e.data) { DOMChange.start(view, true); }
    else { return }
  }

  view.inDOMChange.compositionEnd();
};

editHandlers.input = function (view) {
  var change = DOMChange.start(view);
  if (!change.composing) { change.finish(); }
};

function captureCopy(view, dom) {
  // The extra wrapper is somehow necessary on IE/Edge to prevent the
  // content from being mangled when it is put onto the clipboard
  var doc = dom.ownerDocument;
  var wrap = doc.body.appendChild(doc.createElement("div"));
  wrap.appendChild(dom);
  wrap.style.cssText = "position: fixed; left: -10000px; top: 10px";
  var sel = getSelection(), range = doc.createRange();
  range.selectNodeContents(dom);
  // Done because IE will fire a selectionchange moving the selection
  // to its start when removeAllRanges is called and the editor still
  // has focus (which will mess up the editor's selection state).
  view.dom.blur();
  sel.removeAllRanges();
  sel.addRange(range);
  setTimeout(function () {
    doc.body.removeChild(wrap);
    view.focus();
  }, 50);
}

// This is very crude, but unfortunately both these browsers _pretend_
// that they have a clipboard API—all the objects and methods are
// there, they just don't work, and they are hard to test.
// FIXME when Mobile Safari fixes this, change this to a version
// range test
var brokenClipboardAPI = (result.ie && result.ie_version < 15) || result.ios;

handlers.copy = editHandlers.cut = function (view, e) {
  var sel = view.state.selection, cut = e.type == "cut";
  if (sel.empty) { return }

  // IE and Edge's clipboard interface is completely broken
  var data = brokenClipboardAPI ? null : e.clipboardData;
  var slice = sel.content();
  var ref = serializeForClipboard(view, slice);
  var dom = ref.dom;
  var text = ref.text;
  if (data) {
    e.preventDefault();
    data.clearData();
    data.setData("text/html", dom.innerHTML);
    data.setData("text/plain", text);
  } else {
    captureCopy(view, dom);
  }
  if (cut) { view.dispatch(view.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent", "cut")); }
};

function sliceSingleNode(slice) {
  return slice.openStart == 0 && slice.openEnd == 0 && slice.content.childCount == 1 ? slice.content.firstChild : null
}

function capturePaste(view, e) {
  var doc = view.dom.ownerDocument;
  var plainText = view.shiftKey || view.state.selection.$from.parent.type.spec.code;
  var target = doc.body.appendChild(doc.createElement(plainText ? "textarea" : "div"));
  if (!plainText) { target.contentEditable = "true"; }
  target.style.cssText = "position: fixed; left: -10000px; top: 10px";
  target.focus();
  setTimeout(function () {
    view.focus();
    doc.body.removeChild(target);
    if (plainText) { doPaste(view, target.value, null, e); }
    else { doPaste(view, target.textContent, target.innerHTML, e); }
  }, 50);
}

function doPaste(view, text, html, e) {
  var slice = parseFromClipboard(view, text, html, view.shiftKey, view.state.selection.$from);
  if (!slice) { return false }

  if (view.someProp("handlePaste", function (f) { return f(view, e, slice); })) { return true }

  var singleNode = sliceSingleNode(slice);
  var tr = singleNode ? view.state.tr.replaceSelectionWith(singleNode, view.shiftKey) : view.state.tr.replaceSelection(slice);
  view.dispatch(tr.scrollIntoView().setMeta("paste", true).setMeta("uiEvent", "paste"));
  return true
}

editHandlers.paste = function (view, e) {
  var data = brokenClipboardAPI ? null : e.clipboardData;
  if (data && doPaste(view, data.getData("text/plain"), data.getData("text/html"), e))
    { e.preventDefault(); }
  else
    { capturePaste(view, e); }
};

var Dragging = function Dragging(slice, move) {
  this.slice = slice;
  this.move = move;
};

function dropPos(slice, $pos) {
  if (!slice || !slice.content.size) { return $pos.pos }
  var content = slice.content;
  for (var i = 0; i < slice.openStart; i++) { content = content.firstChild.content; }
  for (var d = $pos.depth; d >= 0; d--) {
    var bias = d == $pos.depth ? 0 : $pos.pos <= ($pos.start(d + 1) + $pos.end(d + 1)) / 2 ? -1 : 1;
    var insertPos = $pos.index(d) + (bias > 0 ? 1 : 0);
    if ($pos.node(d).canReplace(insertPos, insertPos, content))
      { return bias == 0 ? $pos.pos : bias < 0 ? $pos.before(d + 1) : $pos.after(d + 1) }
  }
  return $pos.pos
}

var dragCopyModifier = result.mac ? "altKey" : "ctrlKey";

handlers.dragstart = function (view, e) {
  var mouseDown = view.mouseDown;
  if (mouseDown) { mouseDown.done(); }
  if (!e.dataTransfer) { return }

  var sel = view.state.selection;
  var pos = sel.empty ? null : view.posAtCoords(eventCoords(e));
  if (pos && pos.pos >= sel.from && pos.pos <= (sel instanceof dist$1.NodeSelection ? sel.to - 1: sel.to)) {
    // In selection
  } else if (mouseDown && mouseDown.mightDrag) {
    view.dispatch(view.state.tr.setSelection(dist$1.NodeSelection.create(view.state.doc, mouseDown.mightDrag.pos)));
  } else if (e.target && e.target.nodeType == 1) {
    var desc = view.docView.nearestDesc(e.target, true);
    if (!desc || !desc.node.type.spec.draggable || desc == view.docView) { return }
    view.dispatch(view.state.tr.setSelection(dist$1.NodeSelection.create(view.state.doc, desc.posBefore)));
  }
  var slice = view.state.selection.content();
  var ref = serializeForClipboard(view, slice);
  var dom = ref.dom;
  var text = ref.text;
  e.dataTransfer.clearData();
  e.dataTransfer.setData(brokenClipboardAPI ? "Text" : "text/html", dom.innerHTML);
  if (!brokenClipboardAPI) { e.dataTransfer.setData("text/plain", text); }
  view.dragging = new Dragging(slice, !e[dragCopyModifier]);
};

handlers.dragend = function (view) {
  window.setTimeout(function () { return view.dragging = null; }, 50);
};

editHandlers.dragover = editHandlers.dragenter = function (_, e) { return e.preventDefault(); };

editHandlers.drop = function (view, e) {
  var dragging = view.dragging;
  view.dragging = null;

  if (!e.dataTransfer) { return }

  var eventPos = view.posAtCoords(eventCoords(e));
  if (!eventPos) { return }
  var $mouse = view.state.doc.resolve(eventPos.pos);
  if (!$mouse) { return }
  var slice = dragging && dragging.slice ||
      parseFromClipboard(view, e.dataTransfer.getData(brokenClipboardAPI ? "Text" : "text/plain"),
                         brokenClipboardAPI ? null : e.dataTransfer.getData("text/html"), false, $mouse);
  if (!slice) { return }

  e.preventDefault();
  if (view.someProp("handleDrop", function (f) { return f(view, e, slice, dragging && dragging.move); })) { return }
  var insertPos = dropPos(slice, view.state.doc.resolve($mouse.pos));

  var tr = view.state.tr;
  if (dragging && dragging.move) { tr.deleteSelection(); }

  var pos = tr.mapping.map(insertPos);
  var isNode = slice.openStart == 0 && slice.openEnd == 0 && slice.content.childCount == 1;
  var beforeInsert = tr.doc;
  if (isNode)
    { tr.replaceRangeWith(pos, pos, slice.content.firstChild); }
  else
    { tr.replaceRange(pos, pos, slice); }
  if (tr.doc.eq(beforeInsert)) { return }

  var $pos = tr.doc.resolve(pos);
  if (isNode && dist$1.NodeSelection.isSelectable(slice.content.firstChild) &&
      $pos.nodeAfter && $pos.nodeAfter.sameMarkup(slice.content.firstChild))
    { tr.setSelection(new dist$1.NodeSelection($pos)); }
  else
    { tr.setSelection(selectionBetween(view, $pos, tr.doc.resolve(tr.mapping.map(insertPos)))); }
  view.focus();
  view.dispatch(tr.setMeta("uiEvent", "drop"));
};

handlers.focus = function (view) {
  if (!view.focused) {
    view.dom.classList.add("ProseMirror-focused");
    view.focused = true;
  }
};

handlers.blur = function (view) {
  if (view.focused) {
    view.dom.classList.remove("ProseMirror-focused");
    view.focused = false;
  }
};

// Make sure all handlers get registered
for (var prop in editHandlers) { handlers[prop] = editHandlers[prop]; }

function compareObjs(a, b) {
  if (a == b) { return true }
  for (var p in a) { if (a[p] !== b[p]) { return false } }
  for (var p$1 in b) { if (!(p$1 in a)) { return false } }
  return true
}

var WidgetType = function WidgetType(toDOM, spec) {
  this.spec = spec || noSpec;
  this.side = this.spec.side || 0;
  this.toDOM = toDOM;
};

WidgetType.prototype.map = function map (mapping, span, offset, oldOffset) {
  var ref = mapping.mapResult(span.from + oldOffset, this.side < 0 ? -1 : 1);
    var pos = ref.pos;
    var deleted = ref.deleted;
  return deleted ? null : new Decoration(pos - offset, pos - offset, this)
};

WidgetType.prototype.valid = function valid () { return true };

WidgetType.prototype.eq = function eq (other) {
  return this == other ||
    (other instanceof WidgetType &&
     (this.spec.key && this.spec.key == other.spec.key ||
      this.toDOM == other.toDOM && compareObjs(this.spec, other.spec)))
};

var InlineType = function InlineType(attrs, spec) {
  this.spec = spec || noSpec;
  this.attrs = attrs;
};

InlineType.prototype.map = function map (mapping, span, offset, oldOffset) {
  var from = mapping.map(span.from + oldOffset, this.spec.inclusiveStart ? -1 : 1) - offset;
  var to = mapping.map(span.to + oldOffset, this.spec.inclusiveEnd ? 1 : -1) - offset;
  return from >= to ? null : new Decoration(from, to, this)
};

InlineType.prototype.valid = function valid (_, span) { return span.from < span.to };

InlineType.prototype.eq = function eq (other) {
  return this == other ||
    (other instanceof InlineType && compareObjs(this.attrs, other.attrs) &&
     compareObjs(this.spec, other.spec))
};

InlineType.is = function is (span) { return span.type instanceof InlineType };

var NodeType = function NodeType(attrs, spec) {
  this.spec = spec || noSpec;
  this.attrs = attrs;
};

NodeType.prototype.map = function map (mapping, span, offset, oldOffset) {
  var from = mapping.mapResult(span.from + oldOffset, 1);
  if (from.deleted) { return null }
  var to = mapping.mapResult(span.to + oldOffset, -1);
  if (to.deleted || to.pos <= from.pos) { return null }
  return new Decoration(from.pos - offset, to.pos - offset, this)
};

NodeType.prototype.valid = function valid (node, span) {
  var ref = node.content.findIndex(span.from);
    var index = ref.index;
    var offset = ref.offset;
  return offset == span.from && offset + node.child(index).nodeSize == span.to
};

NodeType.prototype.eq = function eq (other) {
  return this == other ||
    (other instanceof NodeType && compareObjs(this.attrs, other.attrs) &&
     compareObjs(this.spec, other.spec))
};

// ::- Decoration objects can be provided to the view through the
// [`decorations` prop](#view.EditorProps.decorations). They come in
// several variants—see the static members of this class for details.
var Decoration = function Decoration(from, to, type) {
  // :: number
  // The start position of the decoration.
  this.from = from;
  // :: number
  // The end position. Will be the same as `from` for [widget
  // decorations](#view.Decoration^widget).
  this.to = to;
  this.type = type;
};

var prototypeAccessors$2 = { spec: {} };

Decoration.prototype.copy = function copy (from, to) {
  return new Decoration(from, to, this.type)
};

Decoration.prototype.eq = function eq (other) {
  return this.type.eq(other.type) && this.from == other.from && this.to == other.to
};

Decoration.prototype.map = function map (mapping, offset, oldOffset) {
  return this.type.map(mapping, this, offset, oldOffset)
};

// :: (number, (view: EditorView, getPos: () → number) → dom.Node | dom.Node, ?Object) → Decoration
// Creates a widget decoration, which is a DOM node that's shown in
// the document at the given position. It is recommended that you
// delay rendering the widget by passing a function that will be
// called when the widget is actually drawn in a view, but you can
// also directly pass a DOM node. `getPos` can be used to find the
// widget's current document position.
//
// spec::- These options are supported:
//
//   side:: ?number
//   Controls which side of the document position this widget is
//   associated with. When negative, it is drawn before a cursor
//   at its position, and content inserted at that position ends
//   up after the widget. When zero (the default) or positive, the
//   widget is drawn after the cursor and content inserted there
//   ends up before the widget.
//
//   When there are multiple widgets at a given position, their
//   `side` values determine the order in which they appear. Those
//   with lower values appear first. The ordering of widgets with
//   the same `side` value is unspecified.
//
//   When `marks` is null, `side` also determines the marks that
//   the widget is wrapped in—those of the node before when
//   negative, those of the node after when positive.
//
//   marks:: ?[Mark]
//   The precise set of marks to draw around the widget.
//
//   stopEvent:: ?(event: dom.Event) → bool
//   Can be used to control which DOM events, when they bubble out
//   of this widget, the editor view should ignore.
//
//   key:: ?string
//   When comparing decorations of this type (in order to decide
//   whether it needs to be redrawn), ProseMirror will by default
//   compare the widget DOM node by identity. If you pass a key,
//   that key will be compared instead, which can be useful when
//   you generate decorations on the fly and don't want to store
//   and reuse DOM nodes. Make sure that any widgets with the same
//   key are interchangeable—if widgets differ in, for example,
//   the behavior of some event handler, they should get
//   different keys.
Decoration.widget = function widget (pos, toDOM, spec) {
  return new Decoration(pos, pos, new WidgetType(toDOM, spec))
};

// :: (number, number, DecorationAttrs, ?Object) → Decoration
// Creates an inline decoration, which adds the given attributes to
// each inline node between `from` and `to`.
//
// spec::- These options are recognized:
//
//   inclusiveStart:: ?bool
//   Determines how the left side of the decoration is
//   [mapped](#transform.Position_Mapping) when content is
//   inserted directly at that positon. By default, the decoration
//   won't include the new content, but you can set this to `true`
//   to make it inclusive.
//
//   inclusiveEnd:: ?bool
//   Determines how the right side of the decoration is mapped.
//   See
//   [`inclusiveStart`](#view.Decoration^inline^spec.inclusiveStart).
Decoration.inline = function inline (from, to, attrs, spec) {
  return new Decoration(from, to, new InlineType(attrs, spec))
};

// :: (number, number, DecorationAttrs, ?Object) → Decoration
// Creates a node decoration. `from` and `to` should point precisely
// before and after a node in the document. That node, and only that
// node, will receive the given attributes.
Decoration.node = function node (from, to, attrs, spec) {
  return new Decoration(from, to, new NodeType(attrs, spec))
};

// :: Object
// The spec provided when creating this decoration. Can be useful
// if you've stored extra information in that object.
prototypeAccessors$2.spec.get = function () { return this.type.spec };

Object.defineProperties( Decoration.prototype, prototypeAccessors$2 );

// DecorationAttrs:: interface
// A set of attributes to add to a decorated node. Most properties
// simply directly correspond to DOM attributes of the same name,
// which will be set to the property's value. These are exceptions:
//
//   class:: ?string
//   A CSS class name or a space-separated set of class names to be
//   _added_ to the classes that the node already had.
//
//   style:: ?string
//   A string of CSS to be _added_ to the node's existing `style` property.
//
//   nodeName:: ?string
//   When non-null, the target node is wrapped in a DOM element of
//   this type (and the other attributes are applied to this element).

var none = [];
var noSpec = {};

// ::- A collection of [decorations](#view.Decoration), organized in
// such a way that the drawing algorithm can efficiently use and
// compare them. This is a persistent data structure—it is not
// modified, updates create a new value.
var DecorationSet = function DecorationSet(local, children) {
  this.local = local && local.length ? local : none;
  this.children = children && children.length ? children : none;
};

// :: (Node, [Decoration]) → DecorationSet
// Create a set of decorations, using the structure of the given
// document.
DecorationSet.create = function create (doc, decorations) {
  return decorations.length ? buildTree(decorations, doc, 0, noSpec) : empty
};

// :: (?number, ?number, ?(spec: Object) → bool) → [Decoration]
// Find all decorations in this set which touch the given range
// (including decorations that start or end directly at the
// boundaries) and match the given predicate on their spec. When
// `start` and `end` are omitted, all decorations in the set are
// considered. When `predicate` isn't given, all decorations are
// asssumed to match.
DecorationSet.prototype.find = function find (start, end, predicate) {
  var result = [];
  this.findInner(start == null ? 0 : start, end == null ? 1e9 : end, result, 0, predicate);
  return result
};

DecorationSet.prototype.findInner = function findInner (start, end, result, offset, predicate) {
    var this$1 = this;

  for (var i = 0; i < this.local.length; i++) {
    var span = this$1.local[i];
    if (span.from <= end && span.to >= start && (!predicate || predicate(span.spec)))
      { result.push(span.copy(span.from + offset, span.to + offset)); }
  }
  for (var i$1 = 0; i$1 < this.children.length; i$1 += 3) {
    if (this$1.children[i$1] < end && this$1.children[i$1 + 1] > start) {
      var childOff = this$1.children[i$1] + 1;
      this$1.children[i$1 + 2].findInner(start - childOff, end - childOff, result, offset + childOff, predicate);
    }
  }
};

// :: (Mapping, Node, ?Object) → DecorationSet
// Map the set of decorations in response to a change in the
// document.
//
// options::- An optional set of options.
//
//   onRemove:: ?(decorationSpec: Object)
//   When given, this function will be called for each decoration
//   that gets dropped as a result of the mapping, passing the
//   spec of that decoration.
DecorationSet.prototype.map = function map (mapping, doc, options) {
  if (this == empty || mapping.maps.length == 0) { return this }
  return this.mapInner(mapping, doc, 0, 0, options || noSpec)
};

DecorationSet.prototype.mapInner = function mapInner (mapping, node, offset, oldOffset, options) {
    var this$1 = this;

  var newLocal;
  for (var i = 0; i < this.local.length; i++) {
    var mapped = this$1.local[i].map(mapping, offset, oldOffset);
    if (mapped && mapped.type.valid(node, mapped)) { (newLocal || (newLocal = [])).push(mapped); }
    else if (options.onRemove) { options.onRemove(this$1.local[i].spec); }
  }

  if (this.children.length)
    { return mapChildren(this.children, newLocal, mapping, node, offset, oldOffset, options) }
  else
    { return newLocal ? new DecorationSet(newLocal.sort(byPos)) : empty }
};

// :: (Node, [Decoration]) → DecorationSet
// Add the given array of decorations to the ones in the set,
// producing a new set. Needs access to the current document to
// create the appropriate tree structure.
DecorationSet.prototype.add = function add (doc, decorations) {
  if (!decorations.length) { return this }
  if (this == empty) { return DecorationSet.create(doc, decorations) }
  return this.addInner(doc, decorations, 0)
};

DecorationSet.prototype.addInner = function addInner (doc, decorations, offset) {
    var this$1 = this;

  var children, childIndex = 0;
  doc.forEach(function (childNode, childOffset) {
    var baseOffset = childOffset + offset, found;
    if (!(found = takeSpansForNode(decorations, childNode, baseOffset))) { return }

    if (!children) { children = this$1.children.slice(); }
    while (childIndex < children.length && children[childIndex] < childOffset) { childIndex += 3; }
    if (children[childIndex] == childOffset)
      { children[childIndex + 2] = children[childIndex + 2].addInner(childNode, found, baseOffset + 1); }
    else
      { children.splice(childIndex, 0, childOffset, childOffset + childNode.nodeSize, buildTree(found, childNode, baseOffset + 1, noSpec)); }
    childIndex += 3;
  });

  var local = moveSpans(childIndex ? withoutNulls(decorations) : decorations, -offset);
  return new DecorationSet(local.length ? this.local.concat(local).sort(byPos) : this.local,
                           children || this.children)
};

// :: ([Decoration]) → DecorationSet
// Create a new set that contains the decorations in this set, minus
// the ones in the given array.
DecorationSet.prototype.remove = function remove (decorations) {
  if (decorations.length == 0 || this == empty) { return this }
  return this.removeInner(decorations, 0)
};

DecorationSet.prototype.removeInner = function removeInner (decorations, offset) {
    var this$1 = this;

  var children = this.children, local = this.local;
  for (var i = 0; i < children.length; i += 3) {
    var found = (void 0), from = children[i] + offset, to = children[i + 1] + offset;
    for (var j = 0, span = (void 0); j < decorations.length; j++) { if (span = decorations[j]) {
      if (span.from > from && span.to < to) {
        decorations[j] = null
        ;(found || (found = [])).push(span);
      }
    } }
    if (!found) { continue }
    if (children == this$1.children) { children = this$1.children.slice(); }
    var removed = children[i + 2].removeInner(found, from + 1);
    if (removed != empty) {
      children[i + 2] = removed;
    } else {
      children.splice(i, 3);
      i -= 3;
    }
  }
  if (local.length) { for (var i$1 = 0, span$1 = (void 0); i$1 < decorations.length; i$1++) { if (span$1 = decorations[i$1]) {
    for (var j$1 = 0; j$1 < local.length; j$1++) { if (local[j$1].type.eq(span$1.type)) {
      if (local == this$1.local) { local = this$1.local.slice(); }
      local.splice(j$1--, 1);
    } }
  } } }
  if (children == this.children && local == this.local) { return this }
  return local.length || children.length ? new DecorationSet(local, children) : empty
};

DecorationSet.prototype.forChild = function forChild (offset, node) {
    var this$1 = this;

  if (this == empty) { return this }
  if (node.isLeaf) { return DecorationSet.empty }

  var child, local;
  for (var i = 0; i < this.children.length; i += 3) { if (this$1.children[i] >= offset) {
    if (this$1.children[i] == offset) { child = this$1.children[i + 2]; }
    break
  } }
  var start = offset + 1, end = start + node.content.size;
  for (var i$1 = 0; i$1 < this.local.length; i$1++) {
    var dec = this$1.local[i$1];
    if (dec.from < end && dec.to > start && (dec.type instanceof InlineType)) {
      var from = Math.max(start, dec.from) - start, to = Math.min(end, dec.to) - start;
      if (from < to) { (local || (local = [])).push(dec.copy(from, to)); }
    }
  }
  if (local) {
    var localSet = new DecorationSet(local.sort(byPos));
    return child ? new DecorationGroup([localSet, child]) : localSet
  }
  return child || empty
};

DecorationSet.prototype.eq = function eq (other) {
    var this$1 = this;

  if (this == other) { return true }
  if (!(other instanceof DecorationSet) ||
      this.local.length != other.local.length ||
      this.children.length != other.children.length) { return false }
  for (var i = 0; i < this.local.length; i++)
    { if (!this$1.local[i].eq(other.local[i])) { return false } }
  for (var i$1 = 0; i$1 < this.children.length; i$1 += 3)
    { if (this$1.children[i$1] != other.children[i$1] ||
        this$1.children[i$1 + 1] != other.children[i$1 + 1] ||
        !this$1.children[i$1 + 2].eq(other.children[i$1 + 2])) { return false } }
  return false
};

DecorationSet.prototype.locals = function locals (node) {
  return removeOverlap(this.localsInner(node))
};

DecorationSet.prototype.localsInner = function localsInner (node) {
    var this$1 = this;

  if (this == empty) { return none }
  if (node.inlineContent || !this.local.some(InlineType.is)) { return this.local }
  var result = [];
  for (var i = 0; i < this.local.length; i++) {
    if (!(this$1.local[i].type instanceof InlineType))
      { result.push(this$1.local[i]); }
  }
  return result
};

var empty = new DecorationSet();

// :: DecorationSet
// The empty set of decorations.
DecorationSet.empty = empty;

DecorationSet.removeOverlap = removeOverlap;

// :- An abstraction that allows the code dealing with decorations to
// treat multiple DecorationSet objects as if it were a single object
// with (a subset of) the same interface.
var DecorationGroup = function DecorationGroup(members) {
  this.members = members;
};

DecorationGroup.prototype.forChild = function forChild (offset, child) {
    var this$1 = this;

  if (child.isLeaf) { return DecorationSet.empty }
  var found = [];
  for (var i = 0; i < this.members.length; i++) {
    var result = this$1.members[i].forChild(offset, child);
    if (result == empty) { continue }
    if (result instanceof DecorationGroup) { found = found.concat(result.members); }
    else { found.push(result); }
  }
  return DecorationGroup.from(found)
};

DecorationGroup.prototype.eq = function eq (other) {
    var this$1 = this;

  if (!(other instanceof DecorationGroup) ||
      other.members.length != this.members.length) { return false }
  for (var i = 0; i < this.members.length; i++)
    { if (!this$1.members[i].eq(other.members[i])) { return false } }
  return true
};

DecorationGroup.prototype.locals = function locals (node) {
    var this$1 = this;

  var result, sorted = true;
  for (var i = 0; i < this.members.length; i++) {
    var locals = this$1.members[i].localsInner(node);
    if (!locals.length) { continue }
    if (!result) {
      result = locals;
    } else {
      if (sorted) {
        result = result.slice();
        sorted = false;
      }
      for (var j = 0; j < locals.length; j++) { result.push(locals[j]); }
    }
  }
  return result ? removeOverlap(sorted ? result : result.sort(byPos)) : none
};

// : ([DecorationSet]) → union<DecorationSet, DecorationGroup>
// Create a group for the given array of decoration sets, or return
// a single set when possible.
DecorationGroup.from = function from (members) {
  switch (members.length) {
    case 0: return empty
    case 1: return members[0]
    default: return new DecorationGroup(members)
  }
};

function mapChildren(oldChildren, newLocal, mapping, node, offset, oldOffset, options) {
  var children = oldChildren.slice();

  // Mark the children that are directly touched by changes, and
  // move those that are after the changes.
  var shift = function (oldStart, oldEnd, newStart, newEnd) {
    for (var i = 0; i < children.length; i += 3) {
      var end = children[i + 1], dSize = (void 0);
      if (end == -1 || oldStart > end + oldOffset) { continue }
      if (oldEnd >= children[i] + oldOffset) {
        children[i + 1] = -1;
      } else if (dSize = (newEnd - newStart) - (oldEnd - oldStart) + (oldOffset - offset)) {
        children[i] += dSize;
        children[i + 1] += dSize;
      }
    }
  };
  for (var i = 0; i < mapping.maps.length; i++) { mapping.maps[i].forEach(shift); }

  // Find the child nodes that still correspond to a single node,
  // recursively call mapInner on them and update their positions.
  var mustRebuild = false;
  for (var i$1 = 0; i$1 < children.length; i$1 += 3) { if (children[i$1 + 1] == -1) { // Touched nodes
    var from = mapping.map(children[i$1] + oldOffset), fromLocal = from - offset;
    if (fromLocal < 0 || fromLocal >= node.content.size) {
      mustRebuild = true;
      continue
    }
    // Must read oldChildren because children was tagged with -1
    var to = mapping.map(oldChildren[i$1 + 1] + oldOffset, -1), toLocal = to - offset;
    var ref = node.content.findIndex(fromLocal);
    var index = ref.index;
    var childOffset = ref.offset;
    var childNode = node.maybeChild(index);
    if (childNode && childOffset == fromLocal && childOffset + childNode.nodeSize == toLocal) {
      var mapped = children[i$1 + 2].mapInner(mapping, childNode, from + 1, children[i$1] + oldOffset + 1, options);
      if (mapped != empty) {
        children[i$1] = fromLocal;
        children[i$1 + 1] = toLocal;
        children[i$1 + 2] = mapped;
      } else {
        children.splice(i$1, 3);
        i$1 -= 3;
      }
    } else {
      mustRebuild = true;
    }
  } }

  // Remaining children must be collected and rebuilt into the appropriate structure
  if (mustRebuild) {
    var decorations = mapAndGatherRemainingDecorations(children, newLocal ? moveSpans(newLocal, offset) : [], mapping,
                                                       offset, oldOffset, options);
    var built = buildTree(decorations, node, 0, options);
    newLocal = built.local;
    for (var i$2 = 0; i$2 < children.length; i$2 += 3) { if (children[i$2 + 1] == -1) {
      children.splice(i$2, 3);
      i$2 -= 3;
    } }
    for (var i$3 = 0, j = 0; i$3 < built.children.length; i$3 += 3) {
      var from$1 = built.children[i$3];
      while (j < children.length && children[j] < from$1) { j += 3; }
      children.splice(j, 0, built.children[i$3], built.children[i$3 + 1], built.children[i$3 + 2]);
    }
  }

  return new DecorationSet(newLocal && newLocal.sort(byPos), children)
}

function moveSpans(spans, offset) {
  if (!offset || !spans.length) { return spans }
  var result = [];
  for (var i = 0; i < spans.length; i++) {
    var span = spans[i];
    result.push(new Decoration(span.from + offset, span.to + offset, span.type));
  }
  return result
}

function mapAndGatherRemainingDecorations(children, decorations, mapping, offset, oldOffset, options) {
  // Gather all decorations from the remaining marked children
  function gather(set, oldOffset) {
    for (var i = 0; i < set.local.length; i++) {
      var mapped = set.local[i].map(mapping, offset, oldOffset);
      if (mapped) { decorations.push(mapped); }
      else if (options.onRemove) { options.onRemove(set.local[i].spec); }
    }
    for (var i$1 = 0; i$1 < set.children.length; i$1 += 3)
      { gather(set.children[i$1 + 2], set.children[i$1] + oldOffset + 1); }
  }
  for (var i = 0; i < children.length; i += 3) { if (children[i + 1] == -1)
    { gather(children[i + 2], children[i] + oldOffset + 1); } }

  return decorations
}

function takeSpansForNode(spans, node, offset) {
  if (node.isLeaf) { return null }
  var end = offset + node.nodeSize, found = null;
  for (var i = 0, span = (void 0); i < spans.length; i++) {
    if ((span = spans[i]) && span.from > offset && span.to < end) {
      (found || (found = [])).push(span);
      spans[i] = null;
    }
  }
  return found
}

function withoutNulls(array) {
  var result = [];
  for (var i = 0; i < array.length; i++)
    { if (array[i] != null) { result.push(array[i]); } }
  return result
}

// : ([Decoration], Node, number) → DecorationSet
// Build up a tree that corresponds to a set of decorations. `offset`
// is a base offset that should be subtractet from the `from` and `to`
// positions in the spans (so that we don't have to allocate new spans
// for recursive calls).
function buildTree(spans, node, offset, options) {
  var children = [], hasNulls = false;
  node.forEach(function (childNode, localStart) {
    var found = takeSpansForNode(spans, childNode, localStart + offset);
    if (found) {
      hasNulls = true;
      var subtree = buildTree(found, childNode, offset + localStart + 1, options);
      if (subtree != empty)
        { children.push(localStart, localStart + childNode.nodeSize, subtree); }
    }
  });
  var locals = moveSpans(hasNulls ? withoutNulls(spans) : spans, -offset).sort(byPos);
  for (var i = 0; i < locals.length; i++) { if (!locals[i].type.valid(node, locals[i])) {
    if (options.onRemove) { options.onRemove(locals[i].spec); }
    locals.splice(i--, 1);
  } }
  return locals.length || children.length ? new DecorationSet(locals, children) : empty
}

// : (Decoration, Decoration) → number
// Used to sort decorations so that ones with a low start position
// come first, and within a set with the same start position, those
// with an smaller end position come first.
function byPos(a, b) {
  return a.from - b.from || a.to - b.to
}

// : ([Decoration]) → [Decoration]
// Scan a sorted array of decorations for partially overlapping spans,
// and split those so that only fully overlapping spans are left (to
// make subsequent rendering easier). Will return the input array if
// no partially overlapping spans are found (the common case).
function removeOverlap(spans) {
  var working = spans;
  for (var i = 0; i < working.length - 1; i++) {
    var span = working[i];
    if (span.from != span.to) { for (var j = i + 1; j < working.length; j++) {
      var next = working[j];
      if (next.from == span.from) {
        if (next.to != span.to) {
          if (working == spans) { working = spans.slice(); }
          // Followed by a partially overlapping larger span. Split that
          // span.
          working[j] = next.copy(next.from, span.to);
          insertAhead(working, j + 1, next.copy(span.to, next.to));
        }
        continue
      } else {
        if (next.from < span.to) {
          if (working == spans) { working = spans.slice(); }
          // The end of this one overlaps with a subsequent span. Split
          // this one.
          working[i] = span.copy(span.from, next.from);
          insertAhead(working, j, span.copy(next.from, span.to));
        }
        break
      }
    } }
  }
  return working
}

function insertAhead(array, i, deco) {
  while (i < array.length && byPos(deco, array[i]) > 0) { i++; }
  array.splice(i, 0, deco);
}

// : (EditorView) → union<DecorationSet, DecorationGroup>
// Get the decorations associated with the current props of a view.
function viewDecorations(view) {
  var found = [];
  view.someProp("decorations", function (f) {
    var result = f(view.state);
    if (result && result != empty) { found.push(result); }
  });
  if (view.cursorWrapper)
    { found.push(DecorationSet.create(view.state.doc, [view.cursorWrapper.deco])); }
  return DecorationGroup.from(found)
}

// ::- An editor view manages the DOM structure that represents an
// editable document. Its state and behavior are determined by its
// [props](#view.DirectEditorProps).
var EditorView = function EditorView(place, props) {
  this._props = props;
  // :: EditorState
  // The view's current [state](#state.EditorState).
  this.state = props.state;

  this.dispatch = this.dispatch.bind(this);

  this._root = null;
  this.focused = false;

  // :: dom.Element
  // An editable DOM node containing the document. (You probably
  // should not directly interfere with its content.)
  this.dom = (place && place.mount) || document.createElement("div");
  if (place) {
    if (place.appendChild) { place.appendChild(this.dom); }
    else if (place.apply) { place(this.dom); }
    else if (place.mount) { this.mounted = true; }
  }

  this.editable = getEditable(this);
  this.cursorWrapper = null;
  updateCursorWrapper(this);
  this.docView = docViewDesc(this.state.doc, computeDocDeco(this), viewDecorations(this), this.dom, this);

  this.lastSelectedViewDesc = null;
  // :: ?{slice: Slice, move: bool}
  // When editor content is being dragged, this object contains
  // information about the dragged slice and whether it is being
  // copied or moved. At any other time, it is null.
  this.dragging = null;
  initInput(this); // Must be done before creating a SelectionReader

  this.selectionReader = new SelectionReader(this);

  this.pluginViews = [];
  this.updatePluginViews();
};

var prototypeAccessors = { props: {},root: {} };

// :: DirectEditorProps
// The view's current [props](#view.EditorProps).
prototypeAccessors.props.get = function () {
    var this$1 = this;

  if (this._props.state != this.state) {
    var prev = this._props;
    this._props = {};
    for (var name in prev) { this$1._props[name] = prev[name]; }
    this._props.state = this.state;
  }
  return this._props
};

// :: (DirectEditorProps)
// Update the view's props. Will immediately cause an update to
// the DOM.
EditorView.prototype.update = function update (props) {
  if (props.handleDOMEvents != this._props.handleDOMEvents) { ensureListeners(this); }
  this._props = props;
  this.updateState(props.state);
};

// :: (DirectEditorProps)
// Update the view by updating existing props object with the object
// given as argument. Equivalent to `view.update(Object.assign({},
// view.props, props))`.
EditorView.prototype.setProps = function setProps (props) {
    var this$1 = this;

  var updated = {};
  for (var name in this$1._props) { updated[name] = this$1._props[name]; }
  updated.state = this.state;
  for (var name$1 in props) { updated[name$1] = props[name$1]; }
  this.update(updated);
};

// :: (EditorState)
// Update the editor's `state` prop, without touching any of the
// other props.
EditorView.prototype.updateState = function updateState (state) {
    var this$1 = this;

  var prev = this.state;
  this.state = state;
  if (prev.plugins != state.plugins) { ensureListeners(this); }

  this.domObserver.flush();
  if (this.inDOMChange && this.inDOMChange.stateUpdated(state)) { return }

  var prevEditable = this.editable;
  this.editable = getEditable(this);
  updateCursorWrapper(this);
  var innerDeco = viewDecorations(this), outerDeco = computeDocDeco(this);

  var scroll = prev.config != state.config ? "reset"
      : state.scrollToSelection > prev.scrollToSelection ? "to selection" : "preserve";
  var updateDoc = !this.docView.matchesNode(state.doc, outerDeco, innerDeco);
  var updateSel = updateDoc || !state.selection.eq(prev.selection) || this.selectionReader.domChanged();
  var oldScrollPos = scroll == "preserve" && updateSel && storeScrollPos(this);

  if (updateSel) {
    this.domObserver.stop();
    if (updateDoc) {
      if (!this.docView.update(state.doc, outerDeco, innerDeco, this)) {
        this.docView.destroy();
        this.docView = docViewDesc(state.doc, outerDeco, innerDeco, this.dom, this);
      }
      this.selectionReader.clearDOMState();
    }
    selectionToDOM(this);
    this.domObserver.start();
  }

  if (prevEditable != this.editable) { this.selectionReader.editableChanged(); }
  this.updatePluginViews(prev);

  if (scroll == "reset") {
    this.dom.scrollTop = 0;
  } else if (scroll == "to selection") {
    if (this.someProp("handleScrollToSelection", function (f) { return f(this$1); }))
      {} // Handled
    else if (state.selection instanceof dist$1.NodeSelection)
      { scrollRectIntoView(this, this.docView.domAfterPos(state.selection.from).getBoundingClientRect()); }
    else
      { scrollRectIntoView(this, this.coordsAtPos(state.selection.head)); }
  } else if (oldScrollPos) {
    resetScrollPos(oldScrollPos);
  }
};

EditorView.prototype.destroyPluginViews = function destroyPluginViews () {
  var view;
  while (view = this.pluginViews.pop()) { if (view.destroy) { view.destroy(); } }
};

EditorView.prototype.updatePluginViews = function updatePluginViews (prevState) {
    var this$1 = this;

  var plugins = this.state.plugins;
  if (!prevState || prevState.plugins != plugins) {
    this.destroyPluginViews();
    for (var i = 0; i < plugins.length; i++) {
      var plugin = plugins[i];
      if (plugin.spec.view) { this$1.pluginViews.push(plugin.spec.view(this$1)); }
    }
  } else {
    for (var i$1 = 0; i$1 < this.pluginViews.length; i$1++) {
      var pluginView = this$1.pluginViews[i$1];
      if (pluginView.update) { pluginView.update(this$1, prevState); }
    }
  }
};

// :: (string, ?(prop: *) → *) → *
// Goes over the values of a prop, first those provided directly,
// then those from plugins (in order), and calls `f` every time a
// non-undefined value is found. When `f` returns a truthy value,
// that is immediately returned. When `f` isn't provided, it is
// treated as the identity function (the prop value is returned
// directly).
EditorView.prototype.someProp = function someProp (propName, f) {
  var prop = this._props && this._props[propName], value;
  if (prop != null && (value = f ? f(prop) : prop)) { return value }
  var plugins = this.state.plugins;
  if (plugins) { for (var i = 0; i < plugins.length; i++) {
    var prop$1 = plugins[i].props[propName];
    if (prop$1 != null && (value = f ? f(prop$1) : prop$1)) { return value }
  } }
};

// :: () → bool
// Query whether the view has focus.
EditorView.prototype.hasFocus = function hasFocus () {
  return this.root.activeElement == this.dom
};

// :: ()
// Focus the editor.
EditorView.prototype.focus = function focus () {
  this.domObserver.stop();
  selectionToDOM(this, true);
  this.domObserver.start();
  if (this.editable) { this.dom.focus(); }
};

// :: union<dom.Document, dom.DocumentFragment>
// Get the document root in which the editor exists. This will
// usually be the top-level `document`, but might be a [shadow
// DOM](https://developer.mozilla.org/en-US/docs/Web/Web_Components/Shadow_DOM)
// root if the editor is inside one.
prototypeAccessors.root.get = function () {
    var this$1 = this;

  var cached = this._root;
  if (cached == null) { for (var search = this.dom.parentNode; search; search = search.parentNode) {
    if (search.nodeType == 9 || (search.nodeType == 11 && search.host))
      { return this$1._root = search }
  } }
  return cached || document
};

// :: ({left: number, top: number}) → ?{pos: number, inside: number}
// Given a pair of viewport coordinates, return the document
// position that corresponds to them. May return null if the given
// coordinates aren't inside of the visible editor. When an object
// is returned, its `pos` property is the position nearest to the
// coordinates, and its `inside` property holds the position of the
// inner node that the position falls inside of, or -1 if it is at
// the top level, not in any node.
EditorView.prototype.posAtCoords = function posAtCoords$1 (coords) {
  var pos = posAtCoords(this, coords);
  if (this.inDOMChange && pos) {
    pos.pos = this.inDOMChange.mapping.map(pos.pos);
    if (pos.inside != -1) { pos.inside = this.inDOMChange.mapping.map(pos.inside); }
  }
  return pos
};

// :: (number) → {left: number, right: number, top: number, bottom: number}
// Returns the viewport rectangle at a given document position. `left`
// and `right` will be the same number, as this returns a flat
// cursor-ish rectangle.
EditorView.prototype.coordsAtPos = function coordsAtPos$1 (pos) {
  if (this.inDOMChange)
    { pos = this.inDOMChange.mapping.invert().map(pos); }
  return coordsAtPos(this, pos)
};

// :: (number) → {node: dom.Node, offset: number}
// Find the DOM position that corresponds to the given document
// position. Note that you should **not** mutate the editor's
// internal DOM, only inspect it (and even that is usually not
// necessary).
EditorView.prototype.domAtPos = function domAtPos (pos) {
  if (this.inDOMChange)
    { pos = this.inDOMChange.mapping.invert().map(pos); }
  return this.docView.domFromPos(pos)
};

// :: (number) → ?dom.Node
// Find the DOM node that represents the document node after the
// given position. May return `null` when the position doesn't point
// in front of a node or if the node is inside an opaque node view.
//
// This is intended to be able to call things like
// `getBoundingClientRect` on that DOM node. Do **not** mutate the
// editor DOM directly, or add styling this way, since that will be
// immediately overriden by the editor as it redraws the node.
EditorView.prototype.nodeDOM = function nodeDOM (pos) {
  if (this.inDOMChange)
    { pos = this.inDOMChange.mapping.invert().map(pos); }
  var desc = this.docView.descAt(pos);
  return desc ? desc.nodeDOM : null
};

// :: (dom.Node, number, ?number) → number
// Find the document position that corresponds to a given DOM
// position. (Whenever possible, it is preferable to inspect the
// document structure directly, rather than poking around in the
// DOM, but sometimes—for example when interpreting an event
// target—you don't have a choice.)
//
// The `bias` parameter can be used to influence which side of a DOM
// node to use when the position is inside a leaf node.
EditorView.prototype.posAtDOM = function posAtDOM (node, offset, bias) {
    if ( bias === void 0 ) bias = -1;

  var pos = this.docView.posFromDOM(node, offset, bias);
  if (pos == null) { throw new RangeError("DOM position not inside the editor") }
  if (this.inDOMChange)
    { pos = this.inDOMChange.mapping.map(pos); }
  return pos
};

// :: (union<"up", "down", "left", "right", "forward", "backward">, ?EditorState) → bool
// Find out whether the selection is at the end of a textblock when
// moving in a given direction. When, for example, given `"left"`,
// it will return true if moving left from the current cursor
// position would leave that position's parent textblock. Will apply
// to the view's current state by default, but it is possible to
// pass a different state.
EditorView.prototype.endOfTextblock = function endOfTextblock$1 (dir, state) {
  return endOfTextblock(this, state || this.state, dir)
};

// :: ()
// Removes the editor from the DOM and destroys all [node
// views](#view.NodeView).
EditorView.prototype.destroy = function destroy () {
  if (!this.docView) { return }
  destroyInput(this);
  this.destroyPluginViews();
  this.selectionReader.destroy();
  if (this.mounted) {
    this.docView.update(this.state.doc, [], viewDecorations(this), this);
    this.dom.textContent = "";
  } else if (this.dom.parentNode) {
    this.dom.parentNode.removeChild(this.dom);
  }
  this.docView.destroy();
  this.docView = null;
};

// Used for testing.
EditorView.prototype.dispatchEvent = function dispatchEvent$1 (event) {
  return dispatchEvent(this, event)
};

// :: (Transaction)
// Dispatch a transaction. Will call
// [`dispatchTransaction`](#view.DirectEditorProps.dispatchTransaction)
// when given, and otherwise defaults to applying the transaction to
// the current state and calling
// [`updateState`](#view.EditorView.updateState) with the result.
// This method is bound to the view instance, so that it can be
// easily passed around.
EditorView.prototype.dispatch = function dispatch (tr) {
  var dispatchTransaction = this._props.dispatchTransaction;
  if (dispatchTransaction) { dispatchTransaction(tr); }
  else { this.updateState(this.state.apply(tr)); }
};

Object.defineProperties( EditorView.prototype, prototypeAccessors );

function computeDocDeco(view) {
  var attrs = Object.create(null);
  attrs.class = "ProseMirror" + (view.focused ? " ProseMirror-focused" : "");
  attrs.contenteditable = String(view.editable);

  view.someProp("attributes", function (value) {
    if (typeof value == "function") { value = value(view.state); }
    if (value) { for (var attr in value) {
      if (attr == "class")
        { attrs.class += " " + value[attr]; }
      else if (!attrs[attr] && attr != "contenteditable" && attr != "nodeName")
        { attrs[attr] = String(value[attr]); }
    } }
  });

  return [Decoration.node(0, view.state.doc.content.size, attrs)]
}

function cursorWrapperDOM(visible) {
  var span = document.createElement("span");
  span.textContent = "\ufeff"; // zero-width non-breaking space
  if (!visible) {
    span.style.position = "absolute";
    span.style.left = "-100000px";
  }
  return span
}

function updateCursorWrapper(view) {
  var $pos = needsCursorWrapper(view.state);
  // On IE/Edge, moving the DOM selection will abort a mouse drag, so
  // there we delay the creation of the wrapper when the mouse is down.
  if ($pos && !(result.ie && view.mouseDown)) {
    var visible = view.state.selection.visible;
    // Needs a cursor wrapper
    var marks = view.state.storedMarks || $pos.marks(), dom;
    if (!view.cursorWrapper || !dist$2.Mark.sameSet(view.cursorWrapper.deco.spec.marks, marks) ||
        view.cursorWrapper.dom.textContent != "\ufeff" ||
        view.cursorWrapper.deco.spec.visible != visible)
      { dom = cursorWrapperDOM(visible); }
    else if (view.cursorWrapper.deco.pos != $pos.pos)
      { dom = view.cursorWrapper.dom; }
    if (dom)
      { view.cursorWrapper = {dom: dom, deco: Decoration.widget($pos.pos, dom, {isCursorWrapper: true, marks: marks, raw: true, visible: visible})}; }
  } else {
    view.cursorWrapper = null;
  }
}

function getEditable(view) {
  return !view.someProp("editable", function (value) { return value(view.state) === false; })
}

// EditorProps:: interface
//
// Props are configuration values that can be passed to an editor view
// or included in a plugin. This interface lists the supported props.
//
// The various event-handling functions may all return `true` to
// indicate that they handled the given event. The view will then take
// care to call `preventDefault` on the event, except with
// `handleDOMEvents`, where the handler itself is responsible for that.
//
// How a prop is resolved depends on the prop. Handler functions are
// called one at a time, starting with the base props and then
// searching through the plugins (in order of appearance) until one of
// them returns true. For some props, the first plugin that yields a
// value gets precedence.
//
//   handleDOMEvents:: ?Object<(view: EditorView, event: dom.Event) → bool>
//   Can be an object mapping DOM event type names to functions that
//   handle them. Such functions will be called before any handling
//   ProseMirror does of events fired on the editable DOM element.
//   Contrary to the other event handling props, when returning true
//   from such a function, you are responsible for calling
//   `preventDefault` yourself (or not, if you want to allow the
//   default behavior).
//
//   handleKeyDown:: ?(view: EditorView, event: dom.KeyboardEvent) → bool
//   Called when the editor receives a `keydown` event.
//
//   handleKeyPress:: ?(view: EditorView, event: dom.KeyboardEvent) → bool
//   Handler for `keypress` events.
//
//   handleTextInput:: ?(view: EditorView, from: number, to: number, text: string) → bool
//   Whenever the user directly input text, this handler is called
//   before the input is applied. If it returns `true`, the default
//   behavior of actually inserting the text is suppressed.
//
//   handleClickOn:: ?(view: EditorView, pos: number, node: Node, nodePos: number, event: dom.MouseEvent, direct: bool) → bool
//   Called for each node around a click, from the inside out. The
//   `direct` flag will be true for the inner node.
//
//   handleClick:: ?(view: EditorView, pos: number, event: dom.MouseEvent) → bool
//   Called when the editor is clicked, after `handleClickOn` handlers
//   have been called.
//
//   handleDoubleClickOn:: ?(view: EditorView, pos: number, node: Node, nodePos: number, event: dom.MouseEvent, direct: bool) → bool
//   Called for each node around a double click.
//
//   handleDoubleClick:: ?(view: EditorView, pos: number, event: dom.MouseEvent) → bool
//   Called when the editor is double-clicked, after `handleDoubleClickOn`.
//
//   handleTripleClickOn:: ?(view: EditorView, pos: number, node: Node, nodePos: number, event: dom.MouseEvent, direct: bool) → bool
//   Called for each node around a triple click.
//
//   handleTripleClick:: ?(view: EditorView, pos: number, event: dom.MouseEvent) → bool
//   Called when the editor is triple-clicked, after `handleTripleClickOn`.
//
//   handlePaste:: ?(view: EditorView, event: dom.Event, slice: Slice) → bool
//   Can be used to override the behavior of pasting. `slice` is the
//   pasted content parsed by the editor, but you can directly access
//   the event to get at the raw content.
//
//   handleDrop:: ?(view: EditorView, event: dom.Event, slice: Slice, moved: bool) → bool
//   Called when something is dropped on the editor. `moved` will be
//   true if this drop moves from the current selection (which should
//   thus be deleted).
//
//   handleScrollToSelection:: ?(view: EditorView) → bool
//   Called when the view, after updating its state, tries to scroll
//   the selection into view. A handler function may return false to
//   indicate that it did not handle the scrolling and further
//   handlers or the default behavior should be tried.
//
//   createSelectionBetween:: ?(view: EditorView, anchor: ResolvedPos, head: ResolvedPos) → ?Selection
//   Can be used to override the way a selection is created when
//   reading a DOM selection between the given anchor and head.
//
//   domParser:: ?DOMParser
//   The [parser](#model.DOMParser) to use when reading editor changes
//   from the DOM. Defaults to calling
//   [`DOMParser.fromSchema`](#model.DOMParser^fromSchema) on the
//   editor's schema.
//
//   transformPastedHTML:: ?(html: string) → string
//   Can be used to transform pasted HTML text, _before_ it is parsed,
//   for example to clean it up.
//
//   clipboardParser:: ?DOMParser
//   The [parser](#model.DOMParser) to use when reading content from
//   the clipboard. When not given, the value of the
//   [`domParser`](#view.EditorProps.domParser) prop is used.
//
//   transformPastedText:: ?(text: string) → string
//   Transform pasted plain text.
//
//   clipboardTextParser:: ?(text: string, $context: ResolvedPos) → Slice
//   A function to parse text from the clipboard into a document
//   slice. Called after
//   [`transformPastedText`](#view.EditorProps.transformPastedText).
//   The default behavior is to split the text into lines, wrap them
//   in `<p>` tags, and call
//   [`clipboardParser`](#view.EditorProps.clipboardParser) on it.
//
//   transformPasted:: ?(Slice) → Slice
//   Can be used to transform pasted content before it is applied to
//   the document.
//
//   nodeViews:: ?Object<(node: Node, view: EditorView, getPos: () → number, decorations: [Decoration]) → NodeView>
//   Allows you to pass custom rendering and behavior logic for nodes
//   and marks. Should map node and mark names to constructor
//   functions that produce a [`NodeView`](#view.NodeView) object
//   implementing the node's display behavior. `getPos` is a function
//   that can be called to get the node's current position, which can
//   be useful when creating transactions to update it.
//
//   `decorations` is an array of node or inline decorations that are
//   active around the node. They are automatically drawn in the
//   normal way, and you will usually just want to ignore this, but
//   they can also be used as a way to provide context information to
//   the node view without adding it to the document itself.
//
//   clipboardSerializer:: ?DOMSerializer
//   The DOM serializer to use when putting content onto the
//   clipboard. If not given, the result of
//   [`DOMSerializer.fromSchema`](#model.DOMSerializer^fromSchema)
//   will be used.
//
//   clipboardTextSerializer:: ?(Slice) → string
//   A function that will be called to get the text for the current
//   selection when copying text to the clipboard. By default, the
//   editor will use [`textBetween`](#model.Node.textBetween) on the
//   selected range.
//
//   decorations:: ?(state: EditorState) → ?DecorationSet
//   A set of [document decorations](#view.Decoration) to show in the
//   view.
//
//   editable:: ?(state: EditorState) → bool
//   When this returns false, the content of the view is not directly
//   editable.
//
//   attributes:: ?union<Object<string>, (EditorState) → ?Object<string>>
//   Control the DOM attributes of the editable element. May be either
//   an object or a function going from an editor state to an object.
//   By default, the element will get a class `"ProseMirror"`, and
//   will have its `contentEditable` attribute determined by the
//   [`editable` prop](#view.EditorProps.editable). Additional classes
//   provided here will be added to the class. For other attributes,
//   the value provided first (as in
//   [`someProp`](#view.EditorView.someProp)) will be used.
//
//   scrollThreshold:: ?number
//   Determines the distance (in pixels) between the cursor and the
//   end of the visible viewport at which point, when scrolling the
//   cursor into view, scrolling takes place. Defaults to 0.
//
//   scrollMargin:: ?number
//   Determines the extra space (in pixels) that is left above or
//   below the cursor when it is scrolled into view. Defaults to 5.

// DirectEditorProps:: interface extends EditorProps
//
// The props object given directly to the editor view supports two
// fields that can't be used in plugins:
//
//   state:: EditorState
//   The current state of the editor.
//
//   dispatchTransaction:: ?(tr: Transaction)
//   The callback over which to send transactions (state updates)
//   produced by the view. If you specify this, you probably want to
//   make sure this ends up calling the view's
//   [`updateState`](#view.EditorView.updateState) method with a new
//   state that has the transaction
//   [applied](#state.EditorState.apply).

exports.EditorView = EditorView;
exports.Decoration = Decoration;
exports.DecorationSet = DecorationSet;
exports.__serializeForClipboard = serializeForClipboard;
exports.__parseFromClipboard = parseFromClipboard;
//# sourceMappingURL=index.js.map
});

unwrapExports(dist$4);
var dist_1$3 = dist$4.EditorView;

var schemaBasic = createCommonjsModule(function (module, exports) {
'use strict';

Object.defineProperty(exports, '__esModule', { value: true });



// :: Object
// [Specs](#model.NodeSpec) for the nodes defined in this schema.
var nodes = {
  // :: NodeSpec The top level document node.
  doc: {
    content: "block+"
  },

  // :: NodeSpec A plain paragraph textblock. Represented in the DOM
  // as a `<p>` element.
  paragraph: {
    content: "inline*",
    group: "block",
    parseDOM: [{tag: "p"}],
    toDOM: function toDOM() { return ["p", 0] }
  },

  // :: NodeSpec A blockquote (`<blockquote>`) wrapping one or more blocks.
  blockquote: {
    content: "block+",
    group: "block",
    defining: true,
    parseDOM: [{tag: "blockquote"}],
    toDOM: function toDOM() { return ["blockquote", 0] }
  },

  // :: NodeSpec A horizontal rule (`<hr>`).
  horizontal_rule: {
    group: "block",
    parseDOM: [{tag: "hr"}],
    toDOM: function toDOM() { return ["hr"] }
  },

  // :: NodeSpec A heading textblock, with a `level` attribute that
  // should hold the number 1 to 6. Parsed and serialized as `<h1>` to
  // `<h6>` elements.
  heading: {
    attrs: {level: {default: 1}},
    content: "inline*",
    group: "block",
    defining: true,
    parseDOM: [{tag: "h1", attrs: {level: 1}},
               {tag: "h2", attrs: {level: 2}},
               {tag: "h3", attrs: {level: 3}},
               {tag: "h4", attrs: {level: 4}},
               {tag: "h5", attrs: {level: 5}},
               {tag: "h6", attrs: {level: 6}}],
    toDOM: function toDOM(node) { return ["h" + node.attrs.level, 0] }
  },

  // :: NodeSpec A code listing. Disallows marks or non-text inline
  // nodes by default. Represented as a `<pre>` element with a
  // `<code>` element inside of it.
  code_block: {
    content: "text*",
    marks: "",
    group: "block",
    code: true,
    defining: true,
    parseDOM: [{tag: "pre", preserveWhitespace: "full"}],
    toDOM: function toDOM() { return ["pre", ["code", 0]] }
  },

  // :: NodeSpec The text node.
  text: {
    group: "inline"
  },

  // :: NodeSpec An inline image (`<img>`) node. Supports `src`,
  // `alt`, and `href` attributes. The latter two default to the empty
  // string.
  image: {
    inline: true,
    attrs: {
      src: {},
      alt: {default: null},
      title: {default: null}
    },
    group: "inline",
    draggable: true,
    parseDOM: [{tag: "img[src]", getAttrs: function getAttrs(dom) {
      return {
        src: dom.getAttribute("src"),
        title: dom.getAttribute("title"),
        alt: dom.getAttribute("alt")
      }
    }}],
    toDOM: function toDOM(node) { return ["img", node.attrs] }
  },

  // :: NodeSpec A hard line break, represented in the DOM as `<br>`.
  hard_break: {
    inline: true,
    group: "inline",
    selectable: false,
    parseDOM: [{tag: "br"}],
    toDOM: function toDOM() { return ["br"] }
  }
};

// :: Object [Specs](#model.MarkSpec) for the marks in the schema.
var marks = {
  // :: MarkSpec A link. Has `href` and `title` attributes. `title`
  // defaults to the empty string. Rendered and parsed as an `<a>`
  // element.
  link: {
    attrs: {
      href: {},
      title: {default: null}
    },
    inclusive: false,
    parseDOM: [{tag: "a[href]", getAttrs: function getAttrs(dom) {
      return {href: dom.getAttribute("href"), title: dom.getAttribute("title")}
    }}],
    toDOM: function toDOM(node) { return ["a", node.attrs] }
  },

  // :: MarkSpec An emphasis mark. Rendered as an `<em>` element.
  // Has parse rules that also match `<i>` and `font-style: italic`.
  em: {
    parseDOM: [{tag: "i"}, {tag: "em"}, {style: "font-style=italic"}],
    toDOM: function toDOM() { return ["em"] }
  },

  // :: MarkSpec A strong mark. Rendered as `<strong>`, parse rules
  // also match `<b>` and `font-weight: bold`.
  strong: {
    parseDOM: [{tag: "strong"},
               // This works around a Google Docs misbehavior where
               // pasted content will be inexplicably wrapped in `<b>`
               // tags with a font-weight normal.
               {tag: "b", getAttrs: function (node) { return node.style.fontWeight != "normal" && null; }},
               {style: "font-weight", getAttrs: function (value) { return /^(bold(er)?|[5-9]\d{2,})$/.test(value) && null; }}],
    toDOM: function toDOM() { return ["strong"] }
  },

  // :: MarkSpec Code font mark. Represented as a `<code>` element.
  code: {
    parseDOM: [{tag: "code"}],
    toDOM: function toDOM() { return ["code"] }
  }
};

// :: Schema
// This schema rougly corresponds to the document schema used by
// [CommonMark](http://commonmark.org/), minus the list elements,
// which are defined in the [`prosemirror-schema-list`](#schema-list)
// module.
//
// To reuse elements from this schema, extend or read from its
// `spec.nodes` and `spec.marks` [properties](#model.Schema.spec).
var schema = new dist$2.Schema({nodes: nodes, marks: marks});

exports.nodes = nodes;
exports.marks = marks;
exports.schema = schema;
//# sourceMappingURL=schema-basic.js.map
});

unwrapExports(schemaBasic);
var schemaBasic_3 = schemaBasic.schema;

var schemaList$1 = createCommonjsModule(function (module, exports) {
'use strict';

Object.defineProperty(exports, '__esModule', { value: true });




var olDOM = ["ol", 0];
var ulDOM = ["ul", 0];
var liDOM = ["li", 0];

// :: NodeSpec
// An ordered list [node spec](#model.NodeSpec). Has a single
// attribute, `order`, which determines the number at which the list
// starts counting, and defaults to 1. Represented as an `<ol>`
// element.
var orderedList = {
  attrs: {order: {default: 1}},
  parseDOM: [{tag: "ol", getAttrs: function getAttrs(dom) {
    return {order: dom.hasAttribute("start") ? +dom.getAttribute("start") : 1}
  }}],
  toDOM: function toDOM(node) {
    return node.attrs.order == 1 ? olDOM : ["ol", {start: node.attrs.order}, 0]
  }
};

// :: NodeSpec
// A bullet list node spec, represented in the DOM as `<ul>`.
var bulletList = {
  parseDOM: [{tag: "ul"}],
  toDOM: function toDOM() { return ulDOM }
};

// :: NodeSpec
// A list item (`<li>`) spec.
var listItem = {
  parseDOM: [{tag: "li"}],
  toDOM: function toDOM() { return liDOM },
  defining: true
};

function add(obj, props) {
  var copy = {};
  for (var prop in obj) { copy[prop] = obj[prop]; }
  for (var prop$1 in props) { copy[prop$1] = props[prop$1]; }
  return copy
}

// :: (OrderedMap<NodeSpec>, string, ?string) → OrderedMap<NodeSpec>
// Convenience function for adding list-related node types to a map
// specifying the nodes for a schema. Adds
// [`orderedList`](#schema-list.orderedList) as `"ordered_list"`,
// [`bulletList`](#schema-list.bulletList) as `"bullet_list"`, and
// [`listItem`](#schema-list.listItem) as `"list_item"`.
//
// `itemContent` determines the content expression for the list items.
// If you want the commands defined in this module to apply to your
// list structure, it should have a shape like `"paragraph block*"` or
// `"paragraph (ordered_list | bullet_list)*"`. `listGroup` can be
// given to assign a group name to the list node types, for example
// `"block"`.
function addListNodes(nodes, itemContent, listGroup) {
  return nodes.append({
    ordered_list: add(orderedList, {content: "list_item+", group: listGroup}),
    bullet_list: add(bulletList, {content: "list_item+", group: listGroup}),
    list_item: add(listItem, {content: itemContent})
  })
}

// :: (NodeType, ?Object) → (state: EditorState, dispatch: ?(tr: Transaction)) → bool
// Returns a command function that wraps the selection in a list with
// the given type an attributes. If `dispatch` is null, only return a
// value to indicate whether this is possible, but don't actually
// perform the change.
function wrapInList(listType, attrs) {
  return function(state, dispatch) {
    var ref = state.selection;
    var $from = ref.$from;
    var $to = ref.$to;
    var range = $from.blockRange($to), doJoin = false, outerRange = range;
    if (!range) { return false }
    // This is at the top of an existing list item
    if (range.depth >= 2 && $from.node(range.depth - 1).type.compatibleContent(listType) && range.startIndex == 0) {
      // Don't do anything if this is the top of the list
      if ($from.index(range.depth - 1) == 0) { return false }
      var $insert = state.doc.resolve(range.start - 2);
      outerRange = new dist$2.NodeRange($insert, $insert, range.depth);
      if (range.endIndex < range.parent.childCount)
        { range = new dist$2.NodeRange($from, state.doc.resolve($to.end(range.depth)), range.depth); }
      doJoin = true;
    }
    var wrap = dist$3.findWrapping(outerRange, listType, attrs, range);
    if (!wrap) { return false }
    if (dispatch) { dispatch(doWrapInList(state.tr, range, wrap, doJoin, listType).scrollIntoView()); }
    return true
  }
}

function doWrapInList(tr, range, wrappers, joinBefore, listType) {
  var content = dist$2.Fragment.empty;
  for (var i = wrappers.length - 1; i >= 0; i--)
    { content = dist$2.Fragment.from(wrappers[i].type.create(wrappers[i].attrs, content)); }

  tr.step(new dist$3.ReplaceAroundStep(range.start - (joinBefore ? 2 : 0), range.end, range.start, range.end,
                                new dist$2.Slice(content, 0, 0), wrappers.length, true));

  var found = 0;
  for (var i$1 = 0; i$1 < wrappers.length; i$1++) { if (wrappers[i$1].type == listType) { found = i$1 + 1; } }
  var splitDepth = wrappers.length - found;

  var splitPos = range.start + wrappers.length - (joinBefore ? 2 : 0), parent = range.parent;
  for (var i$2 = range.startIndex, e = range.endIndex, first = true; i$2 < e; i$2++, first = false) {
    if (!first && dist$3.canSplit(tr.doc, splitPos, splitDepth)) {
      tr.split(splitPos, splitDepth);
      splitPos += 2 * splitDepth;
    }
    splitPos += parent.child(i$2).nodeSize;
  }
  return tr
}

// :: (NodeType) → (state: EditorState, dispatch: ?(tr: Transaction)) → bool
// Build a command that splits a non-empty textblock at the top level
// of a list item by also splitting that list item.
function splitListItem(itemType) {
  return function(state, dispatch) {
    var ref = state.selection;
    var $from = ref.$from;
    var $to = ref.$to;
    var node = ref.node;
    if ((node && node.isBlock) || $from.depth < 2 || !$from.sameParent($to)) { return false }
    var grandParent = $from.node(-1);
    if (grandParent.type != itemType) { return false }
    if ($from.parent.content.size == 0) {
      // In an empty block. If this is a nested list, the wrapping
      // list item should be split. Otherwise, bail out and let next
      // command handle lifting.
      if ($from.depth == 2 || $from.node(-3).type != itemType ||
          $from.index(-2) != $from.node(-2).childCount - 1) { return false }
      if (dispatch) {
        var wrap = dist$2.Fragment.empty, keepItem = $from.index(-1) > 0;
        // Build a fragment containing empty versions of the structure
        // from the outer list item to the parent node of the cursor
        for (var d = $from.depth - (keepItem ? 1 : 2); d >= $from.depth - 3; d--)
          { wrap = dist$2.Fragment.from($from.node(d).copy(wrap)); }
        // Add a second list item with an empty default start node
        wrap = wrap.append(dist$2.Fragment.from(itemType.createAndFill()));
        var tr$1 = state.tr.replace($from.before(keepItem ? null : -1), $from.after(-3), new dist$2.Slice(wrap, keepItem ? 3 : 2, 2));
        tr$1.setSelection(state.selection.constructor.near(tr$1.doc.resolve($from.pos + (keepItem ? 3 : 2))));
        dispatch(tr$1.scrollIntoView());
      }
      return true
    }
    var nextType = $to.pos == $from.end() ? grandParent.defaultContentType(0) : null;
    var tr = state.tr.delete($from.pos, $to.pos);
    var types = nextType && [null, {type: nextType}];
    if (!dist$3.canSplit(tr.doc, $from.pos, 2, types)) { return false }
    if (dispatch) { dispatch(tr.split($from.pos, 2, types).scrollIntoView()); }
    return true
  }
}

// :: (NodeType) → (state: EditorState, dispatch: ?(tr: Transaction)) → bool
// Create a command to lift the list item around the selection up into
// a wrapping list.
function liftListItem(itemType) {
  return function(state, dispatch) {
    var ref = state.selection;
    var $from = ref.$from;
    var $to = ref.$to;
    var range = $from.blockRange($to, function (node) { return node.childCount && node.firstChild.type == itemType; });
    if (!range) { return false }
    if (!dispatch) { return true }
    if ($from.node(range.depth - 1).type == itemType) // Inside a parent list
      { return liftToOuterList(state, dispatch, itemType, range) }
    else // Outer list node
      { return liftOutOfList(state, dispatch, range) }
  }
}

function liftToOuterList(state, dispatch, itemType, range) {
  var tr = state.tr, end = range.end, endOfList = range.$to.end(range.depth);
  if (end < endOfList) {
    // There are siblings after the lifted items, which must become
    // children of the last item
    tr.step(new dist$3.ReplaceAroundStep(end - 1, endOfList, end, endOfList,
                                  new dist$2.Slice(dist$2.Fragment.from(itemType.create(null, range.parent.copy())), 1, 0), 1, true));
    range = new dist$2.NodeRange(tr.doc.resolve(range.$from.pos), tr.doc.resolve(endOfList), range.depth);
  }
  dispatch(tr.lift(range, dist$3.liftTarget(range)).scrollIntoView());
  return true
}

function liftOutOfList(state, dispatch, range) {
  var tr = state.tr, list = range.parent;
  // Merge the list items into a single big item
  for (var pos = range.end, i = range.endIndex - 1, e = range.startIndex; i > e; i--) {
    pos -= list.child(i).nodeSize;
    tr.delete(pos - 1, pos + 1);
  }
  var $start = tr.doc.resolve(range.start), item = $start.nodeAfter;
  var atStart = range.startIndex == 0, atEnd = range.endIndex == list.childCount;
  var parent = $start.node(-1), indexBefore = $start.index(-1);
  if (!parent.canReplace(indexBefore + (atStart ? 0 : 1), indexBefore + 1,
                         item.content.append(atEnd ? dist$2.Fragment.empty : dist$2.Fragment.from(list))))
    { return false }
  var start = $start.pos, end = start + item.nodeSize;
  // Strip off the surrounding list. At the sides where we're not at
  // the end of the list, the existing list is closed. At sides where
  // this is the end, it is overwritten to its end.
  tr.step(new dist$3.ReplaceAroundStep(start - (atStart ? 1 : 0), end + (atEnd ? 1 : 0), start + 1, end - 1,
                                new dist$2.Slice((atStart ? dist$2.Fragment.empty : dist$2.Fragment.from(list.copy(dist$2.Fragment.empty)))
                                          .append(atEnd ? dist$2.Fragment.empty : dist$2.Fragment.from(list.copy(dist$2.Fragment.empty))),
                                          atStart ? 0 : 1, atEnd ? 0 : 1), atStart ? 0 : 1));
  dispatch(tr.scrollIntoView());
  return true
}

// :: (NodeType) → (state: EditorState, dispatch: ?(tr: Transaction)) → bool
// Create a command to sink the list item around the selection down
// into an inner list.
function sinkListItem(itemType) {
  return function(state, dispatch) {
    var ref = state.selection;
    var $from = ref.$from;
    var $to = ref.$to;
    var range = $from.blockRange($to, function (node) { return node.childCount && node.firstChild.type == itemType; });
    if (!range) { return false }
    var startIndex = range.startIndex;
    if (startIndex == 0) { return false }
    var parent = range.parent, nodeBefore = parent.child(startIndex - 1);
    if (nodeBefore.type != itemType) { return false }

    if (dispatch) {
      var nestedBefore = nodeBefore.lastChild && nodeBefore.lastChild.type == parent.type;
      var inner = dist$2.Fragment.from(nestedBefore ? itemType.create() : null);
      var slice = new dist$2.Slice(dist$2.Fragment.from(itemType.create(null, dist$2.Fragment.from(parent.copy(inner)))),
                            nestedBefore ? 3 : 1, 0);
      var before = range.start, after = range.end;
      dispatch(state.tr.step(new dist$3.ReplaceAroundStep(before - (nestedBefore ? 3 : 1), after,
                                                   before, after, slice, 1, true))
               .scrollIntoView());
    }
    return true
  }
}

exports.orderedList = orderedList;
exports.bulletList = bulletList;
exports.listItem = listItem;
exports.addListNodes = addListNodes;
exports.wrapInList = wrapInList;
exports.splitListItem = splitListItem;
exports.liftListItem = liftListItem;
exports.sinkListItem = sinkListItem;
//# sourceMappingURL=schema-list.js.map
});

unwrapExports(schemaList$1);
var schemaList_4 = schemaList$1.addListNodes;
var schemaList_5 = schemaList$1.wrapInList;
var schemaList_6 = schemaList$1.splitListItem;
var schemaList_7 = schemaList$1.liftListItem;
var schemaList_8 = schemaList$1.sinkListItem;

var base = {
  8: "Backspace",
  9: "Tab",
  10: "Enter",
  12: "NumLock",
  13: "Enter",
  16: "Shift",
  17: "Control",
  18: "Alt",
  20: "CapsLock",
  27: "Escape",
  32: " ",
  33: "PageUp",
  34: "PageDown",
  35: "End",
  36: "Home",
  37: "ArrowLeft",
  38: "ArrowUp",
  39: "ArrowRight",
  40: "ArrowDown",
  44: "PrintScreen",
  45: "Insert",
  46: "Delete",
  59: ";",
  61: "=",
  91: "Meta",
  92: "Meta",
  106: "*",
  107: "+",
  108: ",",
  109: "-",
  110: ".",
  111: "/",
  144: "NumLock",
  145: "ScrollLock",
  160: "Shift",
  161: "Shift",
  162: "Control",
  163: "Control",
  164: "Alt",
  165: "Alt",
  173: "-",
  186: ";",
  187: "=",
  188: ",",
  189: "-",
  190: ".",
  191: "/",
  192: "`",
  219: "[",
  220: "\\",
  221: "]",
  222: "'",
  229: "q"
};
var shift = {
  48: ")",
  49: "!",
  50: "@",
  51: "#",
  52: "$",
  53: "%",
  54: "^",
  55: "&",
  56: "*",
  57: "(",
  59: ";",
  61: "+",
  173: "_",
  186: ":",
  187: "+",
  188: "<",
  189: "_",
  190: ">",
  191: "?",
  192: "~",
  219: "{",
  220: "|",
  221: "}",
  222: "\"",
  229: "Q"
};

var chrome = typeof navigator != "undefined" && /Chrome\/(\d+)/.exec(navigator.userAgent);
var safari = typeof navigator != "undefined" && /Apple Computer/.test(navigator.vendor);
var gecko = typeof navigator != "undefined" && /Gecko\/\d+/.test(navigator.userAgent);
var mac = typeof navigator != "undefined" && /Mac/.test(navigator.platform);
var brokenModifierNames = chrome && (mac || +chrome[1] < 57) || gecko && mac;

// Fill in the digit keys
for (var i = 0; i < 10; i++) base[48 + i] = base[96 + i] = String(i);

// The function keys
for (var i = 1; i <= 24; i++) base[i + 111] = "F" + i;

// And the alphabetic keys
for (var i = 65; i <= 90; i++) {
  base[i] = String.fromCharCode(i + 32);
  shift[i] = String.fromCharCode(i);
}

// For each code that doesn't have a shift-equivalent, copy the base name
for (var code in base) if (!shift.hasOwnProperty(code)) shift[code] = base[code];

function keyName(event) {
  // Don't trust event.key in Chrome when there are modifiers until
  // they fix https://bugs.chromium.org/p/chromium/issues/detail?id=633838
  var ignoreKey = brokenModifierNames && (event.ctrlKey || event.altKey || event.metaKey) ||
    safari && event.shiftKey && event.key && event.key.length == 1;
  var name = (!ignoreKey && event.key) ||
    (event.shiftKey ? shift : base)[event.keyCode] ||
    event.key || "Unidentified";
  // Edge sometimes produces wrong names (Issue #3)
  if (name == "Esc") name = "Escape";
  if (name == "Del") name = "Delete";
  // https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/8860571/
  if (name == "Left") name = "ArrowLeft";
  if (name == "Up") name = "ArrowUp";
  if (name == "Right") name = "ArrowRight";
  if (name == "Down") name = "ArrowDown";
  return name
}

var w3cKeyname = keyName;
keyName.base = base;
keyName.shift = shift;

var keymap_1 = createCommonjsModule(function (module, exports) {
'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

function _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }

var keyName = _interopDefault(w3cKeyname);


// declare global: navigator

var mac = typeof navigator != "undefined" ? /Mac/.test(navigator.platform) : false;

function normalizeKeyName(name) {
  var parts = name.split(/-(?!$)/), result = parts[parts.length - 1];
  if (result == "Space") { result = " "; }
  var alt, ctrl, shift, meta;
  for (var i = 0; i < parts.length - 1; i++) {
    var mod = parts[i];
    if (/^(cmd|meta|m)$/i.test(mod)) { meta = true; }
    else if (/^a(lt)?$/i.test(mod)) { alt = true; }
    else if (/^(c|ctrl|control)$/i.test(mod)) { ctrl = true; }
    else if (/^s(hift)?$/i.test(mod)) { shift = true; }
    else if (/^mod$/i.test(mod)) { if (mac) { meta = true; } else { ctrl = true; } }
    else { throw new Error("Unrecognized modifier name: " + mod) }
  }
  if (alt) { result = "Alt-" + result; }
  if (ctrl) { result = "Ctrl-" + result; }
  if (meta) { result = "Meta-" + result; }
  if (shift) { result = "Shift-" + result; }
  return result
}

function normalize(map) {
  var copy = Object.create(null);
  for (var prop in map) { copy[normalizeKeyName(prop)] = map[prop]; }
  return copy
}

function modifiers(name, event, shift) {
  if (event.altKey) { name = "Alt-" + name; }
  if (event.ctrlKey) { name = "Ctrl-" + name; }
  if (event.metaKey) { name = "Meta-" + name; }
  if (shift !== false && event.shiftKey) { name = "Shift-" + name; }
  return name
}

// :: (Object) → Plugin
// Create a keymap plugin for the given set of bindings.
//
// Bindings should map key names to [command](#commands)-style
// functions, which will be called with `(EditorState, dispatch,
// EditorView)` arguments, and should return true when they've handled
// the key. Note that the view argument isn't part of the command
// protocol, but can be used as an escape hatch if a binding needs to
// directly interact with the UI.
//
// Key names may be strings like `"Shift-Ctrl-Enter"`—a key
// identifier prefixed with zero or more modifiers. Key identifiers
// are based on the strings that can appear in
// [`KeyEvent.key`](https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key).
// Use lowercase letters to refer to letter keys (or uppercase letters
// if you want shift to be held). You may use `"Space"` as an alias
// for the `" "` name.
//
// Modifiers can be given in any order. `Shift-` (or `s-`), `Alt-` (or
// `a-`), `Ctrl-` (or `c-` or `Control-`) and `Cmd-` (or `m-` or
// `Meta-`) are recognized. For characters that are created by holding
// shift, the `Shift-` prefix is implied, and should not be added
// explicitly.
//
// You can use `Mod-` as a shorthand for `Cmd-` on Mac and `Ctrl-` on
// other platforms.
//
// You can add multiple keymap plugins to an editor. The order in
// which they appear determines their precedence (the ones early in
// the array get to dispatch first).
function keymap(bindings) {
  return new dist$1.Plugin({props: {handleKeyDown: keydownHandler(bindings)}})
}

// :: (Object) → (view: EditorView, event: dom.Event) → bool
// Given a set of bindings (using the same format as
// [`keymap`](#keymap.keymap), return a [keydown
// handler](#view.EditorProps.handleKeyDown) handles them.
function keydownHandler(bindings) {
  var map = normalize(bindings);
  return function(view, event) {
    var name = keyName(event), isChar = name.length == 1 && name != " ", baseName;
    var direct = map[modifiers(name, event, !isChar)];
    if (direct && direct(view.state, view.dispatch, view)) { return true }
    if (isChar && (event.shiftKey || event.altKey || event.metaKey) &&
        (baseName = keyName.base[event.keyCode]) && baseName != name) {
      var fromCode = map[modifiers(baseName, event, true)];
      if (fromCode && fromCode(view.state, view.dispatch, view)) { return true }
    }
    return false
  }
}

exports.keymap = keymap;
exports.keydownHandler = keydownHandler;
//# sourceMappingURL=keymap.js.map
});

unwrapExports(keymap_1);
var keymap_2 = keymap_1.keymap;

var GOOD_LEAF_SIZE = 200;

// :: class<T> A rope sequence is a persistent sequence data structure
// that supports appending, prepending, and slicing without doing a
// full copy. It is represented as a mostly-balanced tree.
var RopeSequence = function RopeSequence () {};

RopeSequence.prototype.append = function append (other) {
  if (!other.length) { return this }
  other = RopeSequence.from(other);

  return (!this.length && other) ||
    (other.length < GOOD_LEAF_SIZE && this.leafAppend(other)) ||
    (this.length < GOOD_LEAF_SIZE && other.leafPrepend(this)) ||
    this.appendInner(other)
};

// :: (union<[T], RopeSequence<T>>) → RopeSequence<T>
// Prepend an array or other rope to this one, returning a new rope.
RopeSequence.prototype.prepend = function prepend (other) {
  if (!other.length) { return this }
  return RopeSequence.from(other).append(this)
};

RopeSequence.prototype.appendInner = function appendInner (other) {
  return new Append(this, other)
};

// :: (?number, ?number) → RopeSequence<T>
// Create a rope repesenting a sub-sequence of this rope.
RopeSequence.prototype.slice = function slice (from, to) {
    if ( from === void 0 ) from = 0;
    if ( to === void 0 ) to = this.length;

  if (from >= to) { return RopeSequence.empty }
  return this.sliceInner(Math.max(0, from), Math.min(this.length, to))
};

// :: (number) → T
// Retrieve the element at the given position from this rope.
RopeSequence.prototype.get = function get (i) {
  if (i < 0 || i >= this.length) { return undefined }
  return this.getInner(i)
};

// :: ((element: T, index: number) → ?bool, ?number, ?number)
// Call the given function for each element between the given
// indices. This tends to be more efficient than looping over the
// indices and calling `get`, because it doesn't have to descend the
// tree for every element.
RopeSequence.prototype.forEach = function forEach (f, from, to) {
    if ( from === void 0 ) from = 0;
    if ( to === void 0 ) to = this.length;

  if (from <= to)
    { this.forEachInner(f, from, to, 0); }
  else
    { this.forEachInvertedInner(f, from, to, 0); }
};

// :: ((element: T, index: number) → U, ?number, ?number) → [U]
// Map the given functions over the elements of the rope, producing
// a flat array.
RopeSequence.prototype.map = function map (f, from, to) {
    if ( from === void 0 ) from = 0;
    if ( to === void 0 ) to = this.length;

  var result = [];
  this.forEach(function (elt, i) { return result.push(f(elt, i)); }, from, to);
  return result
};

// :: (?union<[T], RopeSequence<T>>) → RopeSequence<T>
// Create a rope representing the given array, or return the rope
// itself if a rope was given.
RopeSequence.from = function from (values) {
  if (values instanceof RopeSequence) { return values }
  return values && values.length ? new Leaf(values) : RopeSequence.empty
};

var Leaf = (function (RopeSequence) {
  function Leaf(values) {
    RopeSequence.call(this);
    this.values = values;
  }

  if ( RopeSequence ) Leaf.__proto__ = RopeSequence;
  Leaf.prototype = Object.create( RopeSequence && RopeSequence.prototype );
  Leaf.prototype.constructor = Leaf;

  var prototypeAccessors = { length: {},depth: {} };

  Leaf.prototype.flatten = function flatten () {
    return this.values
  };

  Leaf.prototype.sliceInner = function sliceInner (from, to) {
    if (from == 0 && to == this.length) { return this }
    return new Leaf(this.values.slice(from, to))
  };

  Leaf.prototype.getInner = function getInner (i) {
    return this.values[i]
  };

  Leaf.prototype.forEachInner = function forEachInner (f, from, to, start) {
    var this$1 = this;

    for (var i = from; i < to; i++)
      { if (f(this$1.values[i], start + i) === false) { return false } }
  };

  Leaf.prototype.forEachInvertedInner = function forEachInvertedInner (f, from, to, start) {
    var this$1 = this;

    for (var i = from - 1; i >= to; i--)
      { if (f(this$1.values[i], start + i) === false) { return false } }
  };

  Leaf.prototype.leafAppend = function leafAppend (other) {
    if (this.length + other.length <= GOOD_LEAF_SIZE)
      { return new Leaf(this.values.concat(other.flatten())) }
  };

  Leaf.prototype.leafPrepend = function leafPrepend (other) {
    if (this.length + other.length <= GOOD_LEAF_SIZE)
      { return new Leaf(other.flatten().concat(this.values)) }
  };

  prototypeAccessors.length.get = function () { return this.values.length };

  prototypeAccessors.depth.get = function () { return 0 };

  Object.defineProperties( Leaf.prototype, prototypeAccessors );

  return Leaf;
}(RopeSequence));

// :: RopeSequence
// The empty rope sequence.
RopeSequence.empty = new Leaf([]);

var Append = (function (RopeSequence) {
  function Append(left, right) {
    RopeSequence.call(this);
    this.left = left;
    this.right = right;
    this.length = left.length + right.length;
    this.depth = Math.max(left.depth, right.depth) + 1;
  }

  if ( RopeSequence ) Append.__proto__ = RopeSequence;
  Append.prototype = Object.create( RopeSequence && RopeSequence.prototype );
  Append.prototype.constructor = Append;

  Append.prototype.flatten = function flatten () {
    return this.left.flatten().concat(this.right.flatten())
  };

  Append.prototype.getInner = function getInner (i) {
    return i < this.left.length ? this.left.get(i) : this.right.get(i - this.left.length)
  };

  Append.prototype.forEachInner = function forEachInner (f, from, to, start) {
    var leftLen = this.left.length;
    if (from < leftLen &&
        this.left.forEachInner(f, from, Math.min(to, leftLen), start) === false)
      { return false }
    if (to > leftLen &&
        this.right.forEachInner(f, Math.max(from - leftLen, 0), Math.min(this.length, to) - leftLen, start + leftLen) === false)
      { return false }
  };

  Append.prototype.forEachInvertedInner = function forEachInvertedInner (f, from, to, start) {
    var leftLen = this.left.length;
    if (from > leftLen &&
        this.right.forEachInvertedInner(f, from - leftLen, Math.max(to, leftLen) - leftLen, start + leftLen) === false)
      { return false }
    if (to < leftLen &&
        this.left.forEachInvertedInner(f, Math.min(from, leftLen), to, start) === false)
      { return false }
  };

  Append.prototype.sliceInner = function sliceInner (from, to) {
    if (from == 0 && to == this.length) { return this }
    var leftLen = this.left.length;
    if (to <= leftLen) { return this.left.slice(from, to) }
    if (from >= leftLen) { return this.right.slice(from - leftLen, to - leftLen) }
    return this.left.slice(from, leftLen).append(this.right.slice(0, to - leftLen))
  };

  Append.prototype.leafAppend = function leafAppend (other) {
    var inner = this.right.leafAppend(other);
    if (inner) { return new Append(this.left, inner) }
  };

  Append.prototype.leafPrepend = function leafPrepend (other) {
    var inner = this.left.leafPrepend(other);
    if (inner) { return new Append(inner, this.right) }
  };

  Append.prototype.appendInner = function appendInner (other) {
    if (this.left.depth >= Math.max(this.right.depth, other.depth) + 1)
      { return new Append(this.left, new Append(this.right, other)) }
    return new Append(this, other)
  };

  return Append;
}(RopeSequence));

var dist$5 = RopeSequence;

var history_1$1 = createCommonjsModule(function (module, exports) {
'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

function _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }

var RopeSequence = _interopDefault(dist$5);



// ProseMirror's history isn't simply a way to roll back to a previous
// state, because ProseMirror supports applying changes without adding
// them to the history (for example during collaboration).
//
// To this end, each 'Branch' (one for the undo history and one for
// the redo history) keeps an array of 'Items', which can optionally
// hold a step (an actual undoable change), and always hold a position
// map (which is needed to move changes below them to apply to the
// current document).
//
// An item that has both a step and a selection bookmark is the start
// of an 'event' — a group of changes that will be undone or redone at
// once. (It stores only the bookmark, since that way we don't have to
// provide a document until the selection is actually applied, which
// is useful when compressing.)

// Used to schedule history compression
var max_empty_items = 500;

var Branch = function Branch(items, eventCount) {
  this.items = items;
  this.eventCount = eventCount;
};

// : (Node, bool, ?Item) → ?{transform: Transform, selection: Object}
// Pop the latest event off the branch's history and apply it
// to a document transform.
Branch.prototype.popEvent = function popEvent (state, preserveItems) {
    var this$1 = this;

  if (this.eventCount == 0) { return null }

  var end = this.items.length;
  for (;; end--) {
    var next = this$1.items.get(end - 1);
    if (next.selection) { --end; break }
  }

  var remap, mapFrom;
  if (preserveItems) {
    remap = this.remapping(end, this.items.length);
    mapFrom = remap.maps.length;
  }
  var transform = state.tr;
  var selection, remaining;
  var addAfter = [], addBefore = [];

  this.items.forEach(function (item, i) {
    if (!item.step) {
      if (!remap) {
        remap = this$1.remapping(end, i + 1);
        mapFrom = remap.maps.length;
      }
      mapFrom--;
      addBefore.push(item);
      return
    }

    if (remap) {
      addBefore.push(new Item(item.map));
      var step = item.step.map(remap.slice(mapFrom)), map;

      if (step && transform.maybeStep(step).doc) {
        map = transform.mapping.maps[transform.mapping.maps.length - 1];
        addAfter.push(new Item(map, null, null, addAfter.length + addBefore.length));
      }
      mapFrom--;
      if (map) { remap.appendMap(map, mapFrom); }
    } else {
      transform.maybeStep(item.step);
    }

    if (item.selection) {
      selection = remap ? item.selection.map(remap.slice(mapFrom)) : item.selection;
      remaining = new Branch(this$1.items.slice(0, end).append(addBefore.reverse().concat(addAfter)), this$1.eventCount - 1);
      return false
    }
  }, this.items.length, 0);

  return {remaining: remaining, transform: transform, selection: selection}
};

// : (Transform, Selection, Object)
// Create a new branch with the given transform added.
Branch.prototype.addTransform = function addTransform (transform, selection, histOptions, preserveItems) {
  var newItems = [], eventCount = this.eventCount;
  var oldItems = this.items, lastItem = !preserveItems && oldItems.length ? oldItems.get(oldItems.length - 1) : null;

  for (var i = 0; i < transform.steps.length; i++) {
    var step = transform.steps[i].invert(transform.docs[i]);
    var item = new Item(transform.mapping.maps[i], step, selection), merged = (void 0);
    if (merged = lastItem && lastItem.merge(item)) {
      item = merged;
      if (i) { newItems.pop(); }
      else { oldItems = oldItems.slice(0, oldItems.length - 1); }
    }
    newItems.push(item);
    if (selection) {
      eventCount++;
      selection = null;
    }
    if (!preserveItems) { lastItem = item; }
  }
  var overflow = eventCount - histOptions.depth;
  if (overflow > DEPTH_OVERFLOW) {
    oldItems = cutOffEvents(oldItems, overflow);
    eventCount -= overflow;
  }
  return new Branch(oldItems.append(newItems), eventCount)
};

Branch.prototype.remapping = function remapping (from, to) {
  var maps = [], mirrors = [];
  this.items.forEach(function (item, i) {
    if (item.mirrorOffset != null) {
      var mirrorPos = i - item.mirrorOffset;
      if (mirrorPos >= from) { mirrors.push(maps.length - item.mirrorOffset, maps.length); }
    }
    maps.push(item.map);
  }, from, to);
  return new dist$3.Mapping(maps, mirrors)
};

Branch.prototype.addMaps = function addMaps (array) {
  if (this.eventCount == 0) { return this }
  return new Branch(this.items.append(array.map(function (map) { return new Item(map); })), this.eventCount)
};

// : ([StepMap], Transform, [number])
// When the collab module receives remote changes, the history has
// to know about those, so that it can adjust the steps that were
// rebased on top of the remote changes, and include the position
// maps for the remote changes in its array of items.
Branch.prototype.rebased = function rebased (rebasedTransform, rebasedCount) {
  if (!this.eventCount) { return this }

  var rebasedItems = [], start = Math.max(0, this.items.length - rebasedCount);

  var mapping = rebasedTransform.mapping;
  var newUntil = rebasedTransform.steps.length;
  var eventCount = this.eventCount;
  this.items.forEach(function (item) { if (item.selection) { eventCount--; } }, this.items.length - rebasedCount);

  var iRebased = rebasedCount;
  this.items.forEach(function (item) {
    var pos = mapping.getMirror(--iRebased);
    if (pos == null) { return }
    newUntil = Math.min(newUntil, pos);
    var map = mapping.maps[pos];
    if (item.step) {
      var step = rebasedTransform.steps[pos].invert(rebasedTransform.docs[pos]);
      var selection = item.selection && item.selection.map(mapping.slice(iRebased, pos));
      if (selection) { eventCount++; }
      rebasedItems.push(new Item(map, step, selection));
    } else {
      rebasedItems.push(new Item(map));
    }
  }, start);

  var newMaps = [];
  for (var i = rebasedCount; i < newUntil; i++)
    { newMaps.push(new Item(mapping.maps[i])); }
  var items = this.items.slice(0, start).append(newMaps).append(rebasedItems);
  var branch = new Branch(items, eventCount);

  if (branch.emptyItemCount() > max_empty_items)
    { branch = branch.compress(this.items.length - rebasedItems.length); }
  return branch
};

Branch.prototype.emptyItemCount = function emptyItemCount () {
  var count = 0;
  this.items.forEach(function (item) { if (!item.step) { count++; } });
  return count
};

// Compressing a branch means rewriting it to push the air (map-only
// items) out. During collaboration, these naturally accumulate
// because each remote change adds one. The `upto` argument is used
// to ensure that only the items below a given level are compressed,
// because `rebased` relies on a clean, untouched set of items in
// order to associate old items with rebased steps.
Branch.prototype.compress = function compress (upto) {
    if ( upto === void 0 ) upto = this.items.length;

  var remap = this.remapping(0, upto), mapFrom = remap.maps.length;
  var items = [], events = 0;
  this.items.forEach(function (item, i) {
    if (i >= upto) {
      items.push(item);
      if (item.selection) { events++; }
    } else if (item.step) {
      var step = item.step.map(remap.slice(mapFrom)), map = step && step.getMap();
      mapFrom--;
      if (map) { remap.appendMap(map, mapFrom); }
      if (step) {
        var selection = item.selection && item.selection.map(remap.slice(mapFrom));
        if (selection) { events++; }
        var newItem = new Item(map.invert(), step, selection), merged, last = items.length - 1;
        if (merged = items.length && items[last].merge(newItem))
          { items[last] = merged; }
        else
          { items.push(newItem); }
      }
    } else if (item.map) {
      mapFrom--;
    }
  }, this.items.length, 0);
  return new Branch(RopeSequence.from(items.reverse()), events)
};

Branch.empty = new Branch(RopeSequence.empty, 0);

function cutOffEvents(items, n) {
  var cutPoint;
  items.forEach(function (item, i) {
    if (item.selection && (n-- == 0)) {
      cutPoint = i;
      return false
    }
  });
  return items.slice(cutPoint)
}

var Item = function Item(map, step, selection, mirrorOffset) {
  this.map = map;
  this.step = step;
  this.selection = selection;
  this.mirrorOffset = mirrorOffset;
};

Item.prototype.merge = function merge (other) {
  if (this.step && other.step && !other.selection) {
    var step = other.step.merge(this.step);
    if (step) { return new Item(step.getMap().invert(), step, this.selection) }
  }
};

// The value of the state field that tracks undo/redo history for that
// state. Will be stored in the plugin state when the history plugin
// is active.
var HistoryState = function HistoryState(done, undone, prevMap, prevTime) {
  this.done = done;
  this.undone = undone;
  this.prevMap = prevMap;
  this.prevTime = prevTime;
};

var DEPTH_OVERFLOW = 20;

// : (EditorState, EditorState, Selection, Object)
// Record a transformation in undo history.
function applyTransaction(history, state, tr, options) {
  var newState = tr.getMeta(historyKey), rebased;
  if (newState) { return newState }

  if (tr.getMeta(closeHistoryKey)) { history = new HistoryState(history.done, history.undone, null, 0); }

  var appended = tr.getMeta("appendedTransaction");
  if (tr.steps.length == 0) {
    return history
  } else if ((appended || tr).getMeta("addToHistory") !== false) {
    // Group transforms that occur in quick succession into one event.
    var newGroup = history.prevTime < (tr.time || 0) - options.newGroupDelay ||
        !appended && !isAdjacentToLastStep(tr, history.prevMap, history.done);
    return new HistoryState(history.done.addTransform(tr, newGroup ? state.selection.getBookmark() : null,
                                                      options, mustPreserveItems(state)),
                            Branch.empty, tr.mapping.maps[tr.steps.length - 1], tr.time)
  } else if (rebased = tr.getMeta("rebased")) {
    // Used by the collab module to tell the history that some of its
    // content has been rebased.
    return new HistoryState(history.done.rebased(tr, rebased),
                            history.undone.rebased(tr, rebased),
                            history.prevMap && tr.mapping.maps[tr.steps.length - 1], history.prevTime)
  } else {
    return new HistoryState(history.done.addMaps(tr.mapping.maps),
                            history.undone.addMaps(tr.mapping.maps),
                            history.prevMap, history.prevTime)
  }
}

function isAdjacentToLastStep(transform, prevMap, done) {
  if (!prevMap) { return false }
  var firstMap = transform.mapping.maps[0], adjacent = false;
  if (!firstMap) { return true }
  firstMap.forEach(function (start, end) {
    done.items.forEach(function (item) {
      if (item.step) {
        prevMap.forEach(function (_start, _end, rStart, rEnd) {
          if (start <= rEnd && end >= rStart) { adjacent = true; }
        });
        return false
      } else {
        start = item.map.invert().map(start, -1);
        end = item.map.invert().map(end, 1);
      }
    }, done.items.length, 0);
  });
  return adjacent
}

// : (HistoryState, EditorState, (tr: Transaction), bool)
// Apply the latest event from one branch to the document and optionally
// shift the event onto the other branch. Returns true when an event could
// be shifted.
function histTransaction(history, state, dispatch, redo) {
  var preserveItems = mustPreserveItems(state), histOptions = historyKey.get(state).spec.config;
  var pop = (redo ? history.undone : history.done).popEvent(state, preserveItems);
  if (!pop) { return }

  var selection = pop.selection.resolve(pop.transform.doc);
  var added = (redo ? history.done : history.undone).addTransform(pop.transform, state.selection.getBookmark(),
                                                                  histOptions, preserveItems);

  var newHist = new HistoryState(redo ? added : pop.remaining, redo ? pop.remaining : added, null, 0);
  dispatch(pop.transform.setSelection(selection).setMeta(historyKey, newHist).scrollIntoView());
}

var cachedPreserveItems = false;
var cachedPreserveItemsPlugins = null;
// Check whether any plugin in the given state has a
// `historyPreserveItems` property in its spec, in which case we must
// preserve steps exactly as they came in, so that they can be
// rebased.
function mustPreserveItems(state) {
  var plugins = state.plugins;
  if (cachedPreserveItemsPlugins != plugins) {
    cachedPreserveItems = false;
    cachedPreserveItemsPlugins = plugins;
    for (var i = 0; i < plugins.length; i++) { if (plugins[i].spec.historyPreserveItems) {
      cachedPreserveItems = true;
      break
    } }
  }
  return cachedPreserveItems
}

// :: (Transaction) → Transaction
// Set a flag on the given transaction that will prevent further steps
// from being appended to an existing history event (so that they
// require a separate undo command to undo).
function closeHistory(tr) {
  return tr.setMeta(closeHistoryKey, true)
}

var historyKey = new dist$1.PluginKey("history");
var closeHistoryKey = new dist$1.PluginKey("closeHistory");

// :: (?Object) → Plugin
// Returns a plugin that enables the undo history for an editor. The
// plugin will track undo and redo stacks, which can be used with the
// [`undo`](#history.undo) and [`redo`](#history.redo) commands.
//
// You can set an `"addToHistory"` [metadata
// property](#state.Transaction.setMeta) of `false` on a transaction
// to prevent it from being rolled back by undo.
//
//   config::-
//   Supports the following configuration options:
//
//     depth:: ?number
//     The amount of history events that are collected before the
//     oldest events are discarded. Defaults to 100.
//
//     newGroupDelay:: ?number
//     The delay between changes after which a new group should be
//     started. Defaults to 500 (milliseconds). Note that when changes
//     aren't adjacent, a new group is always started.
function history(config) {
  config = {depth: config && config.depth || 100,
            newGroupDelay: config && config.newGroupDelay || 500};
  return new dist$1.Plugin({
    key: historyKey,

    state: {
      init: function init() {
        return new HistoryState(Branch.empty, Branch.empty, null, 0)
      },
      apply: function apply(tr, hist, state) {
        return applyTransaction(hist, state, tr, config)
      }
    },

    config: config
  })
}

// :: (EditorState, ?(tr: Transaction)) → bool
// A command function that undoes the last change, if any.
function undo(state, dispatch) {
  var hist = historyKey.getState(state);
  if (!hist || hist.done.eventCount == 0) { return false }
  if (dispatch) { histTransaction(hist, state, dispatch, false); }
  return true
}

// :: (EditorState, ?(tr: Transaction)) → bool
// A command function that redoes the last undone change, if any.
function redo(state, dispatch) {
  var hist = historyKey.getState(state);
  if (!hist || hist.undone.eventCount == 0) { return false }
  if (dispatch) { histTransaction(hist, state, dispatch, true); }
  return true
}

// :: (EditorState) → number
// The amount of undoable events available in a given state.
function undoDepth(state) {
  var hist = historyKey.getState(state);
  return hist ? hist.done.eventCount : 0
}

// :: (EditorState) → number
// The amount of redoable events available in a given editor state.
function redoDepth(state) {
  var hist = historyKey.getState(state);
  return hist ? hist.undone.eventCount : 0
}

exports.HistoryState = HistoryState;
exports.closeHistory = closeHistory;
exports.history = history;
exports.undo = undo;
exports.redo = redo;
exports.undoDepth = undoDepth;
exports.redoDepth = redoDepth;
//# sourceMappingURL=history.js.map
});

unwrapExports(history_1$1);
var history_4 = history_1$1.history;
var history_5 = history_1$1.undo;
var history_6 = history_1$1.redo;

var commands$1 = createCommonjsModule(function (module, exports) {
'use strict';

Object.defineProperty(exports, '__esModule', { value: true });





// :: (EditorState, ?(tr: Transaction)) → bool
// Delete the selection, if there is one.
function deleteSelection(state, dispatch) {
  if (state.selection.empty) { return false }
  if (dispatch) { dispatch(state.tr.deleteSelection().scrollIntoView()); }
  return true
}

// :: (EditorState, ?(tr: Transaction), ?EditorView) → bool
// If the selection is empty and at the start of a textblock, try to
// reduce the distance between that block and the one before it—if
// there's a block directly before it that can be joined, join them.
// If not, try to move the selected block closer to the next one in
// the document structure by lifting it out of its parent or moving it
// into a parent of the previous block. Will use the view for accurate
// (bidi-aware) start-of-textblock detection if given.
function joinBackward(state, dispatch, view) {
  var ref = state.selection;
  var $cursor = ref.$cursor;
  if (!$cursor || (view ? !view.endOfTextblock("backward", state)
                        : $cursor.parentOffset > 0))
    { return false }

  var $cut = findCutBefore($cursor);

  // If there is no node before this, try to lift
  if (!$cut) {
    var range = $cursor.blockRange(), target = range && dist$3.liftTarget(range);
    if (target == null) { return false }
    if (dispatch) { dispatch(state.tr.lift(range, target).scrollIntoView()); }
    return true
  }

  var before = $cut.nodeBefore;
  // Apply the joining algorithm
  if (!before.type.spec.isolating && deleteBarrier(state, $cut, dispatch))
    { return true }

  // If the node below has no content and the node above is
  // selectable, delete the node below and select the one above.
  if ($cursor.parent.content.size == 0 &&
      (textblockAt(before, "end") || dist$1.NodeSelection.isSelectable(before))) {
    if (dispatch) {
      var tr = state.tr.deleteRange($cursor.before(), $cursor.after());
      tr.setSelection(textblockAt(before, "end") ? dist$1.Selection.findFrom(tr.doc.resolve(tr.mapping.map($cut.pos, -1)), -1)
                      : dist$1.NodeSelection.create(tr.doc, $cut.pos - before.nodeSize));
      dispatch(tr.scrollIntoView());
    }
    return true
  }

  // If the node before is an atom, delete it
  if (before.isAtom && $cut.depth == $cursor.depth - 1) {
    if (dispatch) { dispatch(state.tr.delete($cut.pos - before.nodeSize, $cut.pos).scrollIntoView()); }
    return true
  }

  return false
}

function textblockAt(node, side) {
  for (; node; node = (side == "start" ? node.firstChild : node.lastChild))
    { if (node.isTextblock) { return true } }
  return false
}

// :: (EditorState, ?(tr: Transaction), ?EditorView) → bool
// When the selection is empty and at the start of a textblock, select
// the node before that textblock, if possible. This is intended to be
// bound to keys like backspace, after
// [`joinBackward`](#commands.joinBackward) or other deleting
// commands, as a fall-back behavior when the schema doesn't allow
// deletion at the selected point.
function selectNodeBackward(state, dispatch, view) {
  var ref = state.selection;
  var $cursor = ref.$cursor;
  if (!$cursor || (view ? !view.endOfTextblock("backward", state)
                        : $cursor.parentOffset > 0))
    { return false }

  var $cut = findCutBefore($cursor), node = $cut && $cut.nodeBefore;
  if (!node || !dist$1.NodeSelection.isSelectable(node)) { return false }
  if (dispatch)
    { dispatch(state.tr.setSelection(dist$1.NodeSelection.create(state.doc, $cut.pos - node.nodeSize)).scrollIntoView()); }
  return true
}

function findCutBefore($pos) {
  if (!$pos.parent.type.spec.isolating) { for (var i = $pos.depth - 1; i >= 0; i--) {
    if ($pos.index(i) > 0) { return $pos.doc.resolve($pos.before(i + 1)) }
    if ($pos.node(i).type.spec.isolating) { break }
  } }
  return null
}

// :: (EditorState, ?(tr: Transaction), ?EditorView) → bool
// If the selection is empty and the cursor is at the end of a
// textblock, try to reduce or remove the boundary between that block
// and the one after it, either by joining them or by moving the other
// block closer to this one in the tree structure. Will use the view
// for accurate start-of-textblock detection if given.
function joinForward(state, dispatch, view) {
  var ref = state.selection;
  var $cursor = ref.$cursor;
  if (!$cursor || (view ? !view.endOfTextblock("forward", state)
                        : $cursor.parentOffset < $cursor.parent.content.size))
    { return false }

  var $cut = findCutAfter($cursor);

  // If there is no node after this, there's nothing to do
  if (!$cut) { return false }

  var after = $cut.nodeAfter;
  // Try the joining algorithm
  if (deleteBarrier(state, $cut, dispatch)) { return true }

  // If the node above has no content and the node below is
  // selectable, delete the node above and select the one below.
  if ($cursor.parent.content.size == 0 &&
      (textblockAt(after, "start") || dist$1.NodeSelection.isSelectable(after))) {
    if (dispatch) {
      var tr = state.tr.deleteRange($cursor.before(), $cursor.after());
      tr.setSelection(textblockAt(after, "start") ? dist$1.Selection.findFrom(tr.doc.resolve(tr.mapping.map($cut.pos)), 1)
                      : dist$1.NodeSelection.create(tr.doc, tr.mapping.map($cut.pos)));
      dispatch(tr.scrollIntoView());
    }
    return true
  }

  // If the next node is an atom, delete it
  if (after.isAtom && $cut.depth == $cursor.depth - 1) {
    if (dispatch) { dispatch(state.tr.delete($cut.pos, $cut.pos + after.nodeSize).scrollIntoView()); }
    return true
  }

  return false
}

// :: (EditorState, ?(tr: Transaction), ?EditorView) → bool
// When the selection is empty and at the end of a textblock, select
// the node coming after that textblock, if possible. This is intended
// to be bound to keys like delete, after
// [`joinForward`](#commands.joinForward) and similar deleting
// commands, to provide a fall-back behavior when the schema doesn't
// allow deletion at the selected point.
function selectNodeForward(state, dispatch, view) {
  var ref = state.selection;
  var $cursor = ref.$cursor;
  if (!$cursor || (view ? !view.endOfTextblock("forward", state)
                        : $cursor.parentOffset < $cursor.parent.content.size))
    { return false }

  var $cut = findCutAfter($cursor), node = $cut && $cut.nodeAfter;
  if (!node || !dist$1.NodeSelection.isSelectable(node)) { return false }
  if (dispatch)
    { dispatch(state.tr.setSelection(dist$1.NodeSelection.create(state.doc, $cut.pos)).scrollIntoView()); }
  return true
}

function findCutAfter($pos) {
  if (!$pos.parent.type.spec.isolating) { for (var i = $pos.depth - 1; i >= 0; i--) {
    var parent = $pos.node(i);
    if ($pos.index(i) + 1 < parent.childCount) { return $pos.doc.resolve($pos.after(i + 1)) }
    if (parent.type.spec.isolating) { break }
  } }
  return null
}

// :: (EditorState, ?(tr: Transaction)) → bool
// Join the selected block or, if there is a text selection, the
// closest ancestor block of the selection that can be joined, with
// the sibling above it.
function joinUp(state, dispatch) {
  var sel = state.selection, nodeSel = sel instanceof dist$1.NodeSelection, point;
  if (nodeSel) {
    if (sel.node.isTextblock || !dist$3.canJoin(state.doc, sel.from)) { return false }
    point = sel.from;
  } else {
    point = dist$3.joinPoint(state.doc, sel.from, -1);
    if (point == null) { return false }
  }
  if (dispatch) {
    var tr = state.tr.join(point);
    if (nodeSel) { tr.setSelection(dist$1.NodeSelection.create(tr.doc, point - state.doc.resolve(point).nodeBefore.nodeSize)); }
    dispatch(tr.scrollIntoView());
  }
  return true
}

// :: (EditorState, ?(tr: Transaction)) → bool
// Join the selected block, or the closest ancestor of the selection
// that can be joined, with the sibling after it.
function joinDown(state, dispatch) {
  var sel = state.selection, point;
  if (sel instanceof dist$1.NodeSelection) {
    if (sel.node.isTextblock || !dist$3.canJoin(state.doc, sel.to)) { return false }
    point = sel.to;
  } else {
    point = dist$3.joinPoint(state.doc, sel.to, 1);
    if (point == null) { return false }
  }
  if (dispatch)
    { dispatch(state.tr.join(point).scrollIntoView()); }
  return true
}

// :: (EditorState, ?(tr: Transaction)) → bool
// Lift the selected block, or the closest ancestor block of the
// selection that can be lifted, out of its parent node.
function lift(state, dispatch) {
  var ref = state.selection;
  var $from = ref.$from;
  var $to = ref.$to;
  var range = $from.blockRange($to), target = range && dist$3.liftTarget(range);
  if (target == null) { return false }
  if (dispatch) { dispatch(state.tr.lift(range, target).scrollIntoView()); }
  return true
}

// :: (EditorState, ?(tr: Transaction)) → bool
// If the selection is in a node whose type has a truthy
// [`code`](#model.NodeSpec.code) property in its spec, replace the
// selection with a newline character.
function newlineInCode(state, dispatch) {
  var ref = state.selection;
  var $head = ref.$head;
  var $anchor = ref.$anchor;
  if (!$head.parent.type.spec.code || !$head.sameParent($anchor)) { return false }
  if (dispatch) { dispatch(state.tr.insertText("\n").scrollIntoView()); }
  return true
}

// :: (EditorState, ?(tr: Transaction)) → bool
// When the selection is in a node with a truthy
// [`code`](#model.NodeSpec.code) property in its spec, create a
// default block after the code block, and move the cursor there.
function exitCode(state, dispatch) {
  var ref = state.selection;
  var $head = ref.$head;
  var $anchor = ref.$anchor;
  if (!$head.parent.type.spec.code || !$head.sameParent($anchor)) { return false }
  var above = $head.node(-1), after = $head.indexAfter(-1), type = above.contentMatchAt(after).defaultType;
  if (!above.canReplaceWith(after, after, type)) { return false }
  if (dispatch) {
    var pos = $head.after(), tr = state.tr.replaceWith(pos, pos, type.createAndFill());
    tr.setSelection(dist$1.Selection.near(tr.doc.resolve(pos), 1));
    dispatch(tr.scrollIntoView());
  }
  return true
}

// :: (EditorState, ?(tr: Transaction)) → bool
// If a block node is selected, create an empty paragraph before (if
// it is its parent's first child) or after it.
function createParagraphNear(state, dispatch) {
  var ref = state.selection;
  var $from = ref.$from;
  var $to = ref.$to;
  if ($from.parent.inlineContent || $to.parent.inlineContent) { return false }
  var type = $from.parent.contentMatchAt($to.indexAfter()).defaultType;
  if (!type || !type.isTextblock) { return false }
  if (dispatch) {
    var side = (!$from.parentOffset && $to.index() < $to.parent.childCount ? $from : $to).pos;
    var tr = state.tr.insert(side, type.createAndFill());
    tr.setSelection(dist$1.TextSelection.create(tr.doc, side + 1));
    dispatch(tr.scrollIntoView());
  }
  return true
}

// :: (EditorState, ?(tr: Transaction)) → bool
// If the cursor is in an empty textblock that can be lifted, lift the
// block.
function liftEmptyBlock(state, dispatch) {
  var ref = state.selection;
  var $cursor = ref.$cursor;
  if (!$cursor || $cursor.parent.content.size) { return false }
  if ($cursor.depth > 1 && $cursor.after() != $cursor.end(-1)) {
    var before = $cursor.before();
    if (dist$3.canSplit(state.doc, before)) {
      if (dispatch) { dispatch(state.tr.split(before).scrollIntoView()); }
      return true
    }
  }
  var range = $cursor.blockRange(), target = range && dist$3.liftTarget(range);
  if (target == null) { return false }
  if (dispatch) { dispatch(state.tr.lift(range, target).scrollIntoView()); }
  return true
}

// :: (EditorState, ?(tr: Transaction)) → bool
// Split the parent block of the selection. If the selection is a text
// selection, also delete its content.
function splitBlock(state, dispatch) {
  var ref = state.selection;
  var $from = ref.$from;
  var $to = ref.$to;
  if (state.selection instanceof dist$1.NodeSelection && state.selection.node.isBlock) {
    if (!$from.parentOffset || !dist$3.canSplit(state.doc, $from.pos)) { return false }
    if (dispatch) { dispatch(state.tr.split($from.pos).scrollIntoView()); }
    return true
  }

  if (!$from.parent.isBlock) { return false }

  if (dispatch) {
    var atEnd = $to.parentOffset == $to.parent.content.size;
    var tr = state.tr;
    if (state.selection instanceof dist$1.TextSelection) { tr.deleteSelection(); }
    var deflt = $from.depth == 0 ? null : $from.node(-1).contentMatchAt($from.indexAfter(-1)).defaultType;
    var types = atEnd && deflt ? [{type: deflt}] : null;
    var can = dist$3.canSplit(tr.doc, $from.pos, 1, types);
    if (!types && !can && dist$3.canSplit(tr.doc, tr.mapping.map($from.pos), 1, deflt && [{type: deflt}])) {
      types = [{type: deflt}];
      can = true;
    }
    if (can) {
      tr.split(tr.mapping.map($from.pos), 1, types);
      if (!atEnd && !$from.parentOffset && $from.parent.type != deflt &&
          $from.node(-1).canReplace($from.index(-1), $from.indexAfter(-1), dist$2.Fragment.from(deflt.create(), $from.parent)))
        { tr.setNodeMarkup(tr.mapping.map($from.before()), deflt); }
    }
    dispatch(tr.scrollIntoView());
  }
  return true
}

// :: (EditorState, ?(tr: Transaction)) → bool
// Acts like [`splitBlock`](#commands.splitBlock), but without
// resetting the set of active marks at the cursor.
function splitBlockKeepMarks(state, dispatch) {
  return splitBlock(state, dispatch && (function (tr) {
    var marks = state.storedMarks || (state.selection.$to.parentOffset && state.selection.$from.marks());
    if (marks) { tr.ensureMarks(marks); }
    dispatch(tr);
  }))
}

// :: (EditorState, ?(tr: Transaction)) → bool
// Move the selection to the node wrapping the current selection, if
// any. (Will not select the document node.)
function selectParentNode(state, dispatch) {
  var ref = state.selection;
  var $from = ref.$from;
  var to = ref.to;
  var pos;
  var same = $from.sharedDepth(to);
  if (same == 0) { return false }
  pos = $from.before(same);
  if (dispatch) { dispatch(state.tr.setSelection(dist$1.NodeSelection.create(state.doc, pos))); }
  return true
}

// :: (EditorState, ?(tr: Transaction)) → bool
// Select the whole document.
function selectAll(state, dispatch) {
  if (dispatch) { dispatch(state.tr.setSelection(new dist$1.AllSelection(state.doc))); }
  return true
}

function joinMaybeClear(state, $pos, dispatch) {
  var before = $pos.nodeBefore, after = $pos.nodeAfter, index = $pos.index();
  if (!before || !after || !before.type.compatibleContent(after.type)) { return false }
  if (!before.content.size && $pos.parent.canReplace(index - 1, index)) {
    if (dispatch) { dispatch(state.tr.delete($pos.pos - before.nodeSize, $pos.pos).scrollIntoView()); }
    return true
  }
  if (!$pos.parent.canReplace(index, index + 1) || !(after.isTextblock || dist$3.canJoin(state.doc, $pos.pos)))
    { return false }
  if (dispatch)
    { dispatch(state.tr
             .clearIncompatible($pos.pos, before.type, before.contentMatchAt(before.childCount))
             .join($pos.pos)
             .scrollIntoView()); }
  return true
}

function deleteBarrier(state, $cut, dispatch) {
  var before = $cut.nodeBefore, after = $cut.nodeAfter, conn, match;
  if (before.type.spec.isolating || after.type.spec.isolating) { return false }
  if (joinMaybeClear(state, $cut, dispatch)) { return true }

  if ($cut.parent.canReplace($cut.index(), $cut.index() + 1) &&
      (conn = (match = before.contentMatchAt(before.childCount)).findWrapping(after.type)) &&
      match.matchType(conn[0] || after.type).validEnd) {
    if (dispatch) {
      var end = $cut.pos + after.nodeSize, wrap = dist$2.Fragment.empty;
      for (var i = conn.length - 1; i >= 0; i--)
        { wrap = dist$2.Fragment.from(conn[i].create(null, wrap)); }
      wrap = dist$2.Fragment.from(before.copy(wrap));
      var tr = state.tr.step(new dist$3.ReplaceAroundStep($cut.pos - 1, end, $cut.pos, end, new dist$2.Slice(wrap, 1, 0), conn.length, true));
      var joinAt = end + 2 * conn.length;
      if (dist$3.canJoin(tr.doc, joinAt)) { tr.join(joinAt); }
      dispatch(tr.scrollIntoView());
    }
    return true
  }

  var selAfter = dist$1.Selection.findFrom($cut, 1);
  var range = selAfter && selAfter.$from.blockRange(selAfter.$to), target = range && dist$3.liftTarget(range);
  if (target != null && target >= $cut.depth) {
    if (dispatch) { dispatch(state.tr.lift(range, target).scrollIntoView()); }
    return true
  }

  return false
}

// Parameterized commands

// :: (NodeType, ?Object) → (state: EditorState, dispatch: ?(tr: Transaction)) → bool
// Wrap the selection in a node of the given type with the given
// attributes.
function wrapIn(nodeType, attrs) {
  return function(state, dispatch) {
    var ref = state.selection;
    var $from = ref.$from;
    var $to = ref.$to;
    var range = $from.blockRange($to), wrapping = range && dist$3.findWrapping(range, nodeType, attrs);
    if (!wrapping) { return false }
    if (dispatch) { dispatch(state.tr.wrap(range, wrapping).scrollIntoView()); }
    return true
  }
}

// :: (NodeType, ?Object) → (state: EditorState, dispatch: ?(tr: Transaction)) → bool
// Returns a command that tries to set the selected textblocks to the
// given node type with the given attributes.
function setBlockType(nodeType, attrs) {
  return function(state, dispatch) {
    var ref = state.selection;
    var from = ref.from;
    var to = ref.to;
    var applicable = false;
    state.doc.nodesBetween(from, to, function (node, pos) {
      if (applicable) { return false }
      if (!node.isTextblock || node.hasMarkup(nodeType, attrs)) { return }
      if (node.type == nodeType) {
        applicable = true;
      } else {
        var $pos = state.doc.resolve(pos), index = $pos.index();
        applicable = $pos.parent.canReplaceWith(index, index + 1, nodeType);
      }
    });
    if (!applicable) { return false }
    if (dispatch) { dispatch(state.tr.setBlockType(from, to, nodeType, attrs).scrollIntoView()); }
    return true
  }
}

function markApplies(doc, ranges, type) {
  var loop = function ( i ) {
    var ref = ranges[i];
    var $from = ref.$from;
    var $to = ref.$to;
    var can = $from.depth == 0 ? doc.type.allowsMarkType(type) : false;
    doc.nodesBetween($from.pos, $to.pos, function (node) {
      if (can) { return false }
      can = node.inlineContent && node.type.allowsMarkType(type);
    });
    if (can) { return { v: true } }
  };

  for (var i = 0; i < ranges.length; i++) {
    var returned = loop( i );

    if ( returned ) return returned.v;
  }
  return false
}

// :: (MarkType, ?Object) → (state: EditorState, dispatch: ?(tr: Transaction)) → bool
// Create a command function that toggles the given mark with the
// given attributes. Will return `false` when the current selection
// doesn't support that mark. This will remove the mark if any marks
// of that type exist in the selection, or add it otherwise. If the
// selection is empty, this applies to the [stored
// marks](#state.EditorState.storedMarks) instead of a range of the
// document.
function toggleMark(markType, attrs) {
  return function(state, dispatch) {
    var ref = state.selection;
    var empty = ref.empty;
    var $cursor = ref.$cursor;
    var ranges = ref.ranges;
    if ((empty && !$cursor) || !markApplies(state.doc, ranges, markType)) { return false }
    if (dispatch) {
      if ($cursor) {
        if (markType.isInSet(state.storedMarks || $cursor.marks()))
          { dispatch(state.tr.removeStoredMark(markType)); }
        else
          { dispatch(state.tr.addStoredMark(markType.create(attrs))); }
      } else {
        var has = false, tr = state.tr;
        for (var i = 0; !has && i < ranges.length; i++) {
          var ref$1 = ranges[i];
          var $from = ref$1.$from;
          var $to = ref$1.$to;
          has = state.doc.rangeHasMark($from.pos, $to.pos, markType);
        }
        for (var i$1 = 0; i$1 < ranges.length; i$1++) {
          var ref$2 = ranges[i$1];
          var $from$1 = ref$2.$from;
          var $to$1 = ref$2.$to;
          if (has) { tr.removeMark($from$1.pos, $to$1.pos, markType); }
          else { tr.addMark($from$1.pos, $to$1.pos, markType.create(attrs)); }
        }
        dispatch(tr.scrollIntoView());
      }
    }
    return true
  }
}

function wrapDispatchForJoin(dispatch, isJoinable) {
  return function (tr) {
    if (!tr.isGeneric) { return dispatch(tr) }

    var ranges = [];
    for (var i = 0; i < tr.mapping.maps.length; i++) {
      var map = tr.mapping.maps[i];
      for (var j = 0; j < ranges.length; j++)
        { ranges[j] = map.map(ranges[j]); }
      map.forEach(function (_s, _e, from, to) { return ranges.push(from, to); });
    }

    // Figure out which joinable points exist inside those ranges,
    // by checking all node boundaries in their parent nodes.
    var joinable = [];
    for (var i$1 = 0; i$1 < ranges.length; i$1 += 2) {
      var from = ranges[i$1], to = ranges[i$1 + 1];
      var $from = tr.doc.resolve(from), depth = $from.sharedDepth(to), parent = $from.node(depth);
      for (var index = $from.indexAfter(depth), pos = $from.after(depth + 1); pos <= to; ++index) {
        var after = parent.maybeChild(index);
        if (!after) { break }
        if (index && joinable.indexOf(pos) == -1) {
          var before = parent.child(index - 1);
          if (before.type == after.type && isJoinable(before, after))
            { joinable.push(pos); }
        }
        pos += after.nodeSize;
      }
    }
    // Join the joinable points
    joinable.sort(function (a, b) { return a - b; });
    for (var i$2 = joinable.length - 1; i$2 >= 0; i$2--) {
      if (dist$3.canJoin(tr.doc, joinable[i$2])) { tr.join(joinable[i$2]); }
    }
    dispatch(tr);
  }
}

// :: ((state: EditorState, ?(tr: Transaction)) → bool, union<(before: Node, after: Node) → bool, [string]>) → (state: EditorState, ?(tr: Transaction)) → bool
// Wrap a command so that, when it produces a transform that causes
// two joinable nodes to end up next to each other, those are joined.
// Nodes are considered joinable when they are of the same type and
// when the `isJoinable` predicate returns true for them or, if an
// array of strings was passed, if their node type name is in that
// array.
function autoJoin(command, isJoinable) {
  if (Array.isArray(isJoinable)) {
    var types = isJoinable;
    isJoinable = function (node) { return types.indexOf(node.type.name) > -1; };
  }
  return function (state, dispatch) { return command(state, dispatch && wrapDispatchForJoin(dispatch, isJoinable)); }
}

// :: (...[(EditorState, ?(tr: Transaction), ?EditorView) → bool]) → (EditorState, ?(tr: Transaction), ?EditorView) → bool
// Combine a number of command functions into a single function (which
// calls them one by one until one returns true).
function chainCommands() {
  var commands = [], len = arguments.length;
  while ( len-- ) commands[ len ] = arguments[ len ];

  return function(state, dispatch, view) {
    for (var i = 0; i < commands.length; i++)
      { if (commands[i](state, dispatch, view)) { return true } }
    return false
  }
}

var backspace = chainCommands(deleteSelection, joinBackward, selectNodeBackward);
var del = chainCommands(deleteSelection, joinForward, selectNodeForward);

// :: Object
// A basic keymap containing bindings not specific to any schema.
// Binds the following keys (when multiple commands are listed, they
// are chained with [`chainCommands`](#commands.chainCommands)):
//
// * **Enter** to `newlineInCode`, `createParagraphNear`, `liftEmptyBlock`, `splitBlock`
// * **Mod-Enter** to `exitCode`
// * **Backspace** and **Mod-Backspace** to `deleteSelection`, `joinBackward`, `selectNodeBackward`
// * **Delete** and **Mod-Delete** to `deleteSelection`, `joinForward`, `selectNodeForward`
// * **Mod-Delete** to `deleteSelection`, `joinForward`, `selectNodeForward`
// * **Mod-a** to `selectAll`
var pcBaseKeymap = {
  "Enter": chainCommands(newlineInCode, createParagraphNear, liftEmptyBlock, splitBlock),
  "Mod-Enter": exitCode,
  "Backspace": backspace,
  "Mod-Backspace": backspace,
  "Delete": del,
  "Mod-Delete": del,
  "Mod-a": selectAll
};

// :: Object
// A copy of `pcBaseKeymap` that also binds **Ctrl-h** like Backspace,
// **Ctrl-d** like Delete, **Alt-Backspace** like Ctrl-Backspace, and
// **Ctrl-Alt-Backspace**, **Alt-Delete**, and **Alt-d** like
// Ctrl-Delete.
var macBaseKeymap = {
  "Ctrl-h": pcBaseKeymap["Backspace"],
  "Alt-Backspace": pcBaseKeymap["Mod-Backspace"],
  "Ctrl-d": pcBaseKeymap["Delete"],
  "Ctrl-Alt-Backspace": pcBaseKeymap["Mod-Delete"],
  "Alt-Delete": pcBaseKeymap["Mod-Delete"],
  "Alt-d": pcBaseKeymap["Mod-Delete"]
};
for (var key in pcBaseKeymap) { macBaseKeymap[key] = pcBaseKeymap[key]; }

// declare global: os, navigator
var mac = typeof navigator != "undefined" ? /Mac/.test(navigator.platform)
          : typeof os != "undefined" ? os.platform() == "darwin" : false;

// :: Object
// Depending on the detected platform, this will hold
// [`pcBasekeymap`](#commands.pcBaseKeymap) or
// [`macBaseKeymap`](#commands.macBaseKeymap).
var baseKeymap = mac ? macBaseKeymap : pcBaseKeymap;

exports.deleteSelection = deleteSelection;
exports.joinBackward = joinBackward;
exports.selectNodeBackward = selectNodeBackward;
exports.joinForward = joinForward;
exports.selectNodeForward = selectNodeForward;
exports.joinUp = joinUp;
exports.joinDown = joinDown;
exports.lift = lift;
exports.newlineInCode = newlineInCode;
exports.exitCode = exitCode;
exports.createParagraphNear = createParagraphNear;
exports.liftEmptyBlock = liftEmptyBlock;
exports.splitBlock = splitBlock;
exports.splitBlockKeepMarks = splitBlockKeepMarks;
exports.selectParentNode = selectParentNode;
exports.selectAll = selectAll;
exports.wrapIn = wrapIn;
exports.setBlockType = setBlockType;
exports.toggleMark = toggleMark;
exports.autoJoin = autoJoin;
exports.chainCommands = chainCommands;
exports.pcBaseKeymap = pcBaseKeymap;
exports.macBaseKeymap = macBaseKeymap;
exports.baseKeymap = baseKeymap;
//# sourceMappingURL=commands.js.map
});

unwrapExports(commands$1);
var commands_6 = commands$1.joinUp;
var commands_7 = commands$1.joinDown;
var commands_8 = commands$1.lift;
var commands_10 = commands$1.exitCode;
var commands_15 = commands$1.selectParentNode;
var commands_17 = commands$1.wrapIn;
var commands_18 = commands$1.setBlockType;
var commands_19 = commands$1.toggleMark;
var commands_21 = commands$1.chainCommands;
var commands_24 = commands$1.baseKeymap;

var dropcursor = createCommonjsModule(function (module, exports) {
'use strict';

Object.defineProperty(exports, '__esModule', { value: true });




var gecko = typeof navigator != "undefined" && /gecko\/\d/i.test(navigator.userAgent);
var linux = typeof navigator != "undefined" && /linux/i.test(navigator.platform);

function dropCursor(options) {
  function dispatch(view, data) {
    view.dispatch(view.state.tr.setMeta(plugin, data));
  }

  var timeout = null;
  function scheduleRemoval(view) {
    clearTimeout(timeout);
    timeout = setTimeout(function () {
      if (plugin.getState(view.state)) { dispatch(view, {type: "remove"}); }
    }, 1000);
  }

  var plugin = new dist$1.Plugin({
    state: {
      init: function init() { return null },
      apply: function apply(tr, prev, state) {
        // Firefox on Linux gets really confused an breaks dragging when we
        // mess with the nodes around the target node during a drag. So
        // disable this plugin there. See https://bugzilla.mozilla.org/show_bug.cgi?id=1323170
        if (gecko && linux) { return null }
        var command = tr.getMeta(plugin);
        if (!command) { return prev }
        if (command.type == "set") { return pluginStateFor(state, command.pos, options) }
        return null
      }
    },
    props: {
      handleDOMEvents: {
        dragover: function dragover(view, event) {
          var active = plugin.getState(view.state);
          var pos = view.posAtCoords({left: event.clientX, top: event.clientY});
          if (pos) {
            var target = pos.pos;
            if (view.dragging)
              { target = dropPos(view.dragging.slice, view.state.doc.resolve(target)); }
            if (!active || active.pos != target)
              { dispatch(view, {type: "set", pos: target}); }
          }
          scheduleRemoval(view);
          return false
        },

        dragend: function dragend(view) {
          if (plugin.getState(view.state)) { dispatch(view, {type: "remove"}); }
          return false
        },

        drop: function drop(view) {
          if (plugin.getState(view.state)) { dispatch(view, {type: "remove"}); }
          return false
        },

        dragleave: function dragleave(view, event) {
          if (event.target == view.dom) { dispatch(view, {type: "remove"}); }
          return false
        }
      },
      decorations: function decorations(state) {
        var active = plugin.getState(state);
        return active && active.deco
      }
    }
  });
  return plugin
}

function style(options, side) {
  var width = (options && options.width) || 1;
  var color = (options && options.color) || "black";
  return ("border-" + side + ": " + width + "px solid " + color + "; margin-" + side + ": -" + width + "px")
}

function pluginStateFor(state, pos, options) {
  var $pos = state.doc.resolve(pos), deco;
  if (!$pos.parent.inlineContent) {
    var before, after;
    if (before = $pos.nodeBefore)
      { deco = dist$4.Decoration.node(pos - before.nodeSize, pos, {nodeName: "div", style: style(options, "right")}); }
    else if (after = $pos.nodeAfter)
      { deco = dist$4.Decoration.node(pos, pos + after.nodeSize, {nodeName: "div", style: style(options, "left")}); }
  }
  if (!deco) {
    var node = document.createElement("span");
    node.textContent = "\u200b";
    node.style.cssText = style(options, "left") + "; display: inline-block; pointer-events: none";
    deco = dist$4.Decoration.widget(pos, node);
  }
  return {pos: pos, deco: dist$4.DecorationSet.create(state.doc, [deco])}
}

function dropPos(slice, $pos) {
  if (!slice || !slice.content.size) { return $pos.pos }
  var content = slice.content;
  for (var i = 0; i < slice.openStart; i++) { content = content.firstChild.content; }
  for (var d = $pos.depth; d >= 0; d--) {
    var bias = d == $pos.depth ? 0 : $pos.pos <= ($pos.start(d + 1) + $pos.end(d + 1)) / 2 ? -1 : 1;
    var insertPos = $pos.index(d) + (bias > 0 ? 1 : 0);
    if ($pos.node(d).canReplace(insertPos, insertPos, content))
      { return bias == 0 ? $pos.pos : bias < 0 ? $pos.before(d + 1) : $pos.after(d + 1) }
  }
  return $pos.pos
}

exports.dropCursor = dropCursor;
//# sourceMappingURL=dropcursor.js.map
});

unwrapExports(dropcursor);
var dropcursor_1 = dropcursor.dropCursor;

var dist$7 = createCommonjsModule(function (module, exports) {
'use strict';

Object.defineProperty(exports, '__esModule', { value: true });






// ::- Gap cursor selections are represented using this class. Its
// `$anchor` and `$head` properties both point at the cursor position.
var GapCursor = (function (Selection$$1) {
  function GapCursor($pos) {
    Selection$$1.call(this, $pos, $pos);
  }

  if ( Selection$$1 ) GapCursor.__proto__ = Selection$$1;
  GapCursor.prototype = Object.create( Selection$$1 && Selection$$1.prototype );
  GapCursor.prototype.constructor = GapCursor;

  GapCursor.prototype.map = function map (doc, mapping) {
    var $pos = doc.resolve(mapping.map(this.head));
    return GapCursor.valid($pos) ? new GapCursor($pos) : Selection$$1.near($pos)
  };

  GapCursor.prototype.content = function content () { return dist$2.Slice.empty };

  GapCursor.prototype.eq = function eq (other) {
    return other instanceof GapCursor && other.head == this.head
  };

  GapCursor.prototype.toJSON = function toJSON () {
    return {type: "gapcursor", pos: this.head}
  };

  GapCursor.fromJSON = function fromJSON (doc, json) {
    if (typeof json.pos != "number") { throw new RangeError("Invalid input for GapCursor.fromJSON") }
    return new GapCursor(doc.resolve(json.pos))
  };

  GapCursor.prototype.getBookmark = function getBookmark () { return new GapBookmark(this.anchor) };

  GapCursor.valid = function valid ($pos) {
    var parent = $pos.parent;
    if (parent.isTextblock || !closedBefore($pos) || !closedAfter($pos)) { return false }
    var override = parent.type.spec.allowGapCursor;
    if (override != null) { return override }
    var deflt = parent.contentMatchAt($pos.index()).defaultType;
    return deflt && deflt.isTextblock
  };

  GapCursor.findFrom = function findFrom ($pos, dir, mustMove) {
    if (!mustMove && GapCursor.valid($pos)) { return $pos }

    var pos = $pos.pos, next = null;
    // Scan up from this position
    for (var d = $pos.depth;; d--) {
      var parent = $pos.node(d);
      if (dir > 0 ? $pos.indexAfter(d) < parent.childCount : $pos.index(d) > 0) {
        next = parent.maybeChild(dir > 0 ? $pos.indexAfter(d) : $pos.index(d) - 1);
        break
      } else if (d == 0) {
        return null
      }
      pos += dir;
      var $cur = $pos.doc.resolve(pos);
      if (GapCursor.valid($cur)) { return $cur }
    }

    // And then down into the next node
    for (;;) {
      next = dir > 0 ? next.firstChild : next.lastChild;
      if (!next) { break }
      pos += dir;
      var $cur$1 = $pos.doc.resolve(pos);
      if (GapCursor.valid($cur$1)) { return $cur$1 }
    }

    return null
  };

  return GapCursor;
}(dist$1.Selection));

GapCursor.prototype.visible = false;

dist$1.Selection.jsonID("gapcursor", GapCursor);

var GapBookmark = function GapBookmark(pos) {
  this.pos = pos;
};
GapBookmark.prototype.map = function map (mapping) {
  return new GapBookmark(mapping.map(this.pos))
};
GapBookmark.prototype.resolve = function resolve (doc) {
  var $pos = doc.resolve(this.pos);
  return GapCursor.valid($pos) ? new GapCursor($pos) : dist$1.Selection.near($pos)
};

function closedBefore($pos) {
  for (var d = $pos.depth; d >= 0; d--) {
    var index = $pos.index(d);
    // At the start of this parent, look at next one
    if (index == 0) { continue }
    // See if the node before (or its first ancestor) is closed
    for (var before = $pos.node(d).child(index - 1);; before = before.lastChild) {
      if (before.isTextblock) { return false }
      if (before.childCount == 0 || before.isAtom || before.type.spec.isolating) { return true }
    }
  }
  // Hit start of document
  return true
}

function closedAfter($pos) {
  for (var d = $pos.depth; d >= 0; d--) {
    var index = $pos.indexAfter(d), parent = $pos.node(d);
    if (index == parent.childCount) { continue }
    for (var after = parent.child(index);; after = after.firstChild) {
      if (after.isTextblock) { return false }
      if (after.childCount == 0 || after.isAtom || after.type.spec.isolating) { return true }
    }
  }
  return true
}

// :: () → Plugin
// Create a gap cursor plugin. When enabled, this will capture clicks
// near and arrow-key-motion past places that don't have a normally
// selectable position nearby, and create a gap cursor selection for
// them. The cursor is drawn as an element with class
// `ProseMirror-gapcursor`. You can either include
// `style/gapcursor.css` from the package's directory or add your own
// styles to make it visible.
var gapCursor = function() {
  return new dist$1.Plugin({
    props: {
      decorations: drawGapCursor,

      createSelectionBetween: function createSelectionBetween(_view, $anchor, $head) {
        if ($anchor.pos == $head.pos && GapCursor.valid($head)) { return new GapCursor($head) }
      },

      handleClick: handleClick,
      handleKeyDown: handleKeyDown
    }
  })
};

var handleKeyDown = keymap_1.keydownHandler({
  "ArrowLeft": arrow("horiz", -1),
  "ArrowRight": arrow("horiz", 1),
  "ArrowUp": arrow("vert", -1),
  "ArrowDown": arrow("vert", 1)
});

function arrow(axis, dir) {
  var dirStr = axis == "vert" ? (dir > 0 ? "down" : "up") : (dir > 0 ? "right" : "left");
  return function(state, dispatch, view) {
    var sel = state.selection;
    var $start = dir > 0 ? sel.$to : sel.$from, mustMove = sel.empty;
    if (sel instanceof dist$1.TextSelection) {
      if (!view.endOfTextblock(dirStr)) { return false }
      mustMove = false;
      $start = state.doc.resolve(dir > 0 ? $start.after() : $start.before());
    }
    var $found = GapCursor.findFrom($start, dir, mustMove);
    if (!$found) { return false }
    if (dispatch) { dispatch(state.tr.setSelection(new GapCursor($found))); }
    return true
  }
}

function handleClick(view, pos, event) {
  var $pos = view.state.doc.resolve(pos);
  if (!GapCursor.valid($pos)) { return false }
  var ref = view.posAtCoords({left: event.clientX, top: event.clientY});
  var inside = ref.inside;
  if (inside > -1 && dist$1.NodeSelection.isSelectable(view.state.doc.nodeAt(inside))) { return false }
  view.dispatch(view.state.tr.setSelection(new GapCursor($pos)));
  return true
}

function drawGapCursor(state) {
  if (!(state.selection instanceof GapCursor)) { return null }
  var node = document.createElement("div");
  node.className = "ProseMirror-gapcursor";
  return dist$4.DecorationSet.create(state.doc, [dist$4.Decoration.widget(state.selection.head, node, {key: "gapcursor"})])
}

exports.gapCursor = gapCursor;
exports.GapCursor = GapCursor;
//# sourceMappingURL=index.js.map
});

unwrapExports(dist$7);
var dist_1$4 = dist$7.gapCursor;

var crel = createCommonjsModule(function (module, exports) {
//Copyright (C) 2012 Kory Nunn

//Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

//The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

//THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

/*

    This code is not formatted for readability, but rather run-speed and to assist compilers.

    However, the code's intention should be transparent.

    *** IE SUPPORT ***

    If you require this library to work in IE7, add the following after declaring crel.

    var testDiv = document.createElement('div'),
        testLabel = document.createElement('label');

    testDiv.setAttribute('class', 'a');
    testDiv['className'] !== 'a' ? crel.attrMap['class'] = 'className':undefined;
    testDiv.setAttribute('name','a');
    testDiv['name'] !== 'a' ? crel.attrMap['name'] = function(element, value){
        element.id = value;
    }:undefined;


    testLabel.setAttribute('for', 'a');
    testLabel['htmlFor'] !== 'a' ? crel.attrMap['for'] = 'htmlFor':undefined;



*/

(function (root, factory) {
    {
        module.exports = factory();
    }
}(commonjsGlobal, function () {
    var fn = 'function',
        obj = 'object',
        nodeType = 'nodeType',
        textContent = 'textContent',
        setAttribute = 'setAttribute',
        attrMapString = 'attrMap',
        isNodeString = 'isNode',
        isElementString = 'isElement',
        d = typeof document === obj ? document : {},
        isType = function(a, type){
            return typeof a === type;
        },
        isNode = typeof Node === fn ? function (object) {
            return object instanceof Node;
        } :
        // in IE <= 8 Node is an object, obviously..
        function(object){
            return object &&
                isType(object, obj) &&
                (nodeType in object) &&
                isType(object.ownerDocument,obj);
        },
        isElement = function (object) {
            return crel[isNodeString](object) && object[nodeType] === 1;
        },
        isArray = function(a){
            return a instanceof Array;
        },
        appendChild = function(element, child) {
            if (isArray(child)) {
                child.map(function(subChild){
                    appendChild(element, subChild);
                });
                return;
            }
            if(!crel[isNodeString](child)){
                child = d.createTextNode(child);
            }
            element.appendChild(child);
        };


    function crel(){
        var args = arguments, //Note: assigned to a variable to assist compilers. Saves about 40 bytes in closure compiler. Has negligable effect on performance.
            element = args[0],
            child,
            settings = args[1],
            childIndex = 2,
            argumentsLength = args.length,
            attributeMap = crel[attrMapString];

        element = crel[isElementString](element) ? element : d.createElement(element);
        // shortcut
        if(argumentsLength === 1){
            return element;
        }

        if(!isType(settings,obj) || crel[isNodeString](settings) || isArray(settings)) {
            --childIndex;
            settings = null;
        }

        // shortcut if there is only one child that is a string
        if((argumentsLength - childIndex) === 1 && isType(args[childIndex], 'string') && element[textContent] !== undefined){
            element[textContent] = args[childIndex];
        }else{
            for(; childIndex < argumentsLength; ++childIndex){
                child = args[childIndex];

                if(child == null){
                    continue;
                }

                if (isArray(child)) {
                  for (var i=0; i < child.length; ++i) {
                    appendChild(element, child[i]);
                  }
                } else {
                  appendChild(element, child);
                }
            }
        }

        for(var key in settings){
            if(!attributeMap[key]){
                if(isType(settings[key],fn)){
                    element[key] = settings[key];
                }else{
                    element[setAttribute](key, settings[key]);
                }
            }else{
                var attr = attributeMap[key];
                if(typeof attr === fn){
                    attr(element, settings[key]);
                }else{
                    element[setAttribute](attr, settings[key]);
                }
            }
        }

        return element;
    }

    // Used for mapping one kind of attribute to the supported version of that in bad browsers.
    crel[attrMapString] = {};

    crel[isElementString] = isElement;

    crel[isNodeString] = isNode;

    if(typeof Proxy !== 'undefined'){
        crel.proxy = new Proxy(crel, {
            get: function(target, key){
                !(key in crel) && (crel[key] = crel.bind(null, key));
                return crel[key];
            }
        });
    }

    return crel;
}));
});

var dist$8 = createCommonjsModule(function (module, exports) {
'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

function _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }

var crel$$1 = _interopDefault(crel);




var SVG = "http://www.w3.org/2000/svg";
var XLINK = "http://www.w3.org/1999/xlink";

var prefix$1 = "ProseMirror-icon";

function hashPath(path) {
  var hash = 0;
  for (var i = 0; i < path.length; i++)
    { hash = (((hash << 5) - hash) + path.charCodeAt(i)) | 0; }
  return hash
}

function getIcon(icon) {
  var node = document.createElement("div");
  node.className = prefix$1;
  if (icon.path) {
    var name = "pm-icon-" + hashPath(icon.path).toString(16);
    if (!document.getElementById(name)) { buildSVG(name, icon); }
    var svg = node.appendChild(document.createElementNS(SVG, "svg"));
    svg.style.width = (icon.width / icon.height) + "em";
    var use = svg.appendChild(document.createElementNS(SVG, "use"));
    use.setAttributeNS(XLINK, "href", /([^#]*)/.exec(document.location)[1] + "#" + name);
  } else if (icon.dom) {
    node.appendChild(icon.dom.cloneNode(true));
  } else {
    node.appendChild(document.createElement("span")).textContent = icon.text || '';
    if (icon.css) { node.firstChild.style.cssText = icon.css; }
  }
  return node
}

function buildSVG(name, data) {
  var collection = document.getElementById(prefix$1 + "-collection");
  if (!collection) {
    collection = document.createElementNS(SVG, "svg");
    collection.id = prefix$1 + "-collection";
    collection.style.display = "none";
    document.body.insertBefore(collection, document.body.firstChild);
  }
  var sym = document.createElementNS(SVG, "symbol");
  sym.id = name;
  sym.setAttribute("viewBox", "0 0 " + data.width + " " + data.height);
  var path = sym.appendChild(document.createElementNS(SVG, "path"));
  path.setAttribute("d", data.path);
  collection.appendChild(sym);
}

var prefix = "ProseMirror-menu";

// ::- An icon or label that, when clicked, executes a command.
var MenuItem = function MenuItem(spec) {
  // :: MenuItemSpec
  // The spec used to create the menu item.
  this.spec = spec;
};

// :: (EditorView) → {dom: dom.Node, update: (EditorState) → bool}
// Renders the icon according to its [display
// spec](#menu.MenuItemSpec.display), and adds an event handler which
// executes the command when the representation is clicked.
MenuItem.prototype.render = function render (view) {
  var spec = this.spec;
  var dom = spec.render ? spec.render(view)
      : spec.icon ? getIcon(spec.icon)
      : spec.label ? crel$$1("div", null, translate(view, spec.label))
      : null;
  if (!dom) { throw new RangeError("MenuItem without icon or label property") }
  if (spec.title) {
    var title = (typeof spec.title === "function" ? spec.title(view.state) : spec.title);
    dom.setAttribute("title", translate(view, title));
  }
  if (spec.class) { dom.classList.add(spec.class); }
  if (spec.css) { dom.style.cssText += spec.css; }

  dom.addEventListener("mousedown", function (e) {
    e.preventDefault();
    spec.run(view.state, view.dispatch, view, e);
  });

  function update(state) {
    if (spec.select) {
      var selected = spec.select(state);
      dom.style.display = selected ? "" : "none";
      if (!selected) { return false }
    }
    var enabled = true;
    if (spec.enable) {
      enabled = spec.enable(state) || false;
      setClass(dom, prefix + "-disabled", !enabled);
    }
    if (spec.active) {
      var active = enabled && spec.active(state) || false;
      setClass(dom, prefix + "-active", active);
    }
    return true
  }

  return {dom: dom, update: update}
};

function translate(view, text) {
  return view._props.translate ? view._props.translate(text) : text
}

// MenuItemSpec:: interface
// The configuration object passed to the `MenuItem` constructor.
//
//   run:: (EditorState, (Transaction), EditorView, dom.Event)
//   The function to execute when the menu item is activated.
//
//   select:: ?(EditorState) → bool
//   Optional function that is used to determine whether the item is
//   appropriate at the moment. Deselected items will be hidden.
//
//   enable:: ?(EditorState) → bool
//   Function that is used to determine if the item is enabled. If
//   given and returning false, the item will be given a disabled
//   styling.
//
//   active:: ?(EditorState) → bool
//   A predicate function to determine whether the item is 'active' (for
//   example, the item for toggling the strong mark might be active then
//   the cursor is in strong text).
//
//   render:: ?(EditorView) → dom.Node
//   A function that renders the item. You must provide either this,
//   [`icon`](#menu.MenuItemSpec.icon), or [`label`](#MenuItemSpec.label).
//
//   icon:: ?Object
//   Describes an icon to show for this item. The object may specify
//   an SVG icon, in which case its `path` property should be an [SVG
//   path
//   spec](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/d),
//   and `width` and `height` should provide the viewbox in which that
//   path exists. Alternatively, it may have a `text` property
//   specifying a string of text that makes up the icon, with an
//   optional `css` property giving additional CSS styling for the
//   text. _Or_ it may contain `dom` property containing a DOM node.
//
//   label:: ?string
//   Makes the item show up as a text label. Mostly useful for items
//   wrapped in a [drop-down](#menu.Dropdown) or similar menu. The object
//   should have a `label` property providing the text to display.
//
//   title:: ?union<string, (EditorState) → string>
//   Defines DOM title (mouseover) text for the item.
//
//   class:: ?string
//   Optionally adds a CSS class to the item's DOM representation.
//
//   css:: ?string
//   Optionally adds a string of inline CSS to the item's DOM
//   representation.
//
//   execEvent:: ?string
//   Defines which event on the command's DOM representation should
//   trigger the execution of the command. Defaults to mousedown.

var lastMenuEvent = {time: 0, node: null};
function markMenuEvent(e) {
  lastMenuEvent.time = Date.now();
  lastMenuEvent.node = e.target;
}
function isMenuEvent(wrapper) {
  return Date.now() - 100 < lastMenuEvent.time &&
    lastMenuEvent.node && wrapper.contains(lastMenuEvent.node)
}

// ::- A drop-down menu, displayed as a label with a downwards-pointing
// triangle to the right of it.
var Dropdown = function Dropdown(content, options) {
  this.options = options || {};
  this.content = Array.isArray(content) ? content : [content];
};

// :: (EditorView) → {dom: dom.Node, update: (EditorState)}
// Render the dropdown menu and sub-items.
Dropdown.prototype.render = function render (view) {
    var this$1 = this;

  var content = renderDropdownItems(this.content, view);

  var label = crel$$1("div", {class: prefix + "-dropdown " + (this.options.class || ""),
                           style: this.options.css},
                   translate(view, this.options.label));
  if (this.options.title) { label.setAttribute("title", translate(view, this.options.title)); }
  var wrap = crel$$1("div", {class: prefix + "-dropdown-wrap"}, label);
  var open = null, listeningOnClose = null;
  var close = function () {
    if (open && open.close()) {
      open = null;
      window.removeEventListener("mousedown", listeningOnClose);
    }
  };
  label.addEventListener("mousedown", function (e) {
    e.preventDefault();
    markMenuEvent(e);
    if (open) {
      close();
    } else {
      open = this$1.expand(wrap, content.dom);
      window.addEventListener("mousedown", listeningOnClose = function () {
        if (!isMenuEvent(wrap)) { close(); }
      });
    }
  });

  function update(state) {
    var inner = content.update(state);
    wrap.style.display = inner ? "" : "none";
    return inner
  }

  return {dom: wrap, update: update}
};

Dropdown.prototype.expand = function expand (dom, items) {
  var menuDOM = crel$$1("div", {class: prefix + "-dropdown-menu " + (this.options.class || "")}, items);

  var done = false;
  function close() {
    if (done) { return }
    done = true;
    dom.removeChild(menuDOM);
    return true
  }
  dom.appendChild(menuDOM);
  return {close: close, node: menuDOM}
};

function renderDropdownItems(items, view) {
  var rendered = [], updates = [];
  for (var i = 0; i < items.length; i++) {
    var ref = items[i].render(view);
    var dom = ref.dom;
    var update = ref.update;
    rendered.push(crel$$1("div", {class: prefix + "-dropdown-item"}, dom));
    updates.push(update);
  }
  return {dom: rendered, update: combineUpdates(updates, rendered)}
}

function combineUpdates(updates, nodes) {
  return function (state) {
    var something = false;
    for (var i = 0; i < updates.length; i++) {
      var up = updates[i](state);
      nodes[i].style.display = up ? "" : "none";
      if (up) { something = true; }
    }
    return something
  }
}

// ::- Represents a submenu wrapping a group of elements that start
// hidden and expand to the right when hovered over or tapped.
var DropdownSubmenu = function DropdownSubmenu(content, options) {
  this.options = options || {};
  this.content = Array.isArray(content) ? content : [content];
};

// :: (EditorView) → {dom: dom.Node, update: (EditorState) → bool}
// Renders the submenu.
DropdownSubmenu.prototype.render = function render (view) {
  var items = renderDropdownItems(this.content, view);

  var label = crel$$1("div", {class: prefix + "-submenu-label"}, translate(view, this.options.label));
  var wrap = crel$$1("div", {class: prefix + "-submenu-wrap"}, label,
                 crel$$1("div", {class: prefix + "-submenu"}, items.dom));
  var listeningOnClose = null;
  label.addEventListener("mousedown", function (e) {
    e.preventDefault();
    markMenuEvent(e);
    setClass(wrap, prefix + "-submenu-wrap-active");
    if (!listeningOnClose)
      { window.addEventListener("mousedown", listeningOnClose = function () {
        if (!isMenuEvent(wrap)) {
          wrap.classList.remove(prefix + "-submenu-wrap-active");
          window.removeEventListener("mousedown", listeningOnClose);
          listeningOnClose = null;
        }
      }); }
  });

  function update(state) {
    var inner = items.update(state);
    wrap.style.display = inner ? "" : "none";
    return inner
  }
  return {dom: wrap, update: update}
};

// :: (EditorView, [union<MenuElement, [MenuElement]>]) → {dom: ?dom.DocumentFragment, update: (EditorState) → bool}
// Render the given, possibly nested, array of menu elements into a
// document fragment, placing separators between them (and ensuring no
// superfluous separators appear when some of the groups turn out to
// be empty).
function renderGrouped(view, content) {
  var result = document.createDocumentFragment();
  var updates = [], separators = [];
  for (var i = 0; i < content.length; i++) {
    var items = content[i], localUpdates = [], localNodes = [];
    for (var j = 0; j < items.length; j++) {
      var ref = items[j].render(view);
      var dom = ref.dom;
      var update$1 = ref.update;
      var span = crel$$1("span", {class: prefix + "item"}, dom);
      result.appendChild(span);
      localNodes.push(span);
      localUpdates.push(update$1);
    }
    if (localUpdates.length) {
      updates.push(combineUpdates(localUpdates, localNodes));
      if (i < content.length - 1)
        { separators.push(result.appendChild(separator())); }
    }
  }

  function update(state) {
    var something = false, needSep = false;
    for (var i = 0; i < updates.length; i++) {
      var hasContent = updates[i](state);
      if (i) { separators[i - 1].style.display = needSep && hasContent ? "" : "none"; }
      needSep = hasContent;
      if (hasContent) { something = true; }
    }
    return something
  }
  return {dom: result, update: update}
}

function separator() {
  return crel$$1("span", {class: prefix + "separator"})
}

// :: Object
// A set of basic editor-related icons. Contains the properties
// `join`, `lift`, `selectParentNode`, `undo`, `redo`, `strong`, `em`,
// `code`, `link`, `bulletList`, `orderedList`, and `blockquote`, each
// holding an object that can be used as the `icon` option to
// `MenuItem`.
var icons = {
  join: {
    width: 800, height: 900,
    path: "M0 75h800v125h-800z M0 825h800v-125h-800z M250 400h100v-100h100v100h100v100h-100v100h-100v-100h-100z"
  },
  lift: {
    width: 1024, height: 1024,
    path: "M219 310v329q0 7-5 12t-12 5q-8 0-13-5l-164-164q-5-5-5-13t5-13l164-164q5-5 13-5 7 0 12 5t5 12zM1024 749v109q0 7-5 12t-12 5h-987q-7 0-12-5t-5-12v-109q0-7 5-12t12-5h987q7 0 12 5t5 12zM1024 530v109q0 7-5 12t-12 5h-621q-7 0-12-5t-5-12v-109q0-7 5-12t12-5h621q7 0 12 5t5 12zM1024 310v109q0 7-5 12t-12 5h-621q-7 0-12-5t-5-12v-109q0-7 5-12t12-5h621q7 0 12 5t5 12zM1024 91v109q0 7-5 12t-12 5h-987q-7 0-12-5t-5-12v-109q0-7 5-12t12-5h987q7 0 12 5t5 12z"
  },
  selectParentNode: {text: "\u2b1a", css: "font-weight: bold"},
  undo: {
    width: 1024, height: 1024,
    path: "M761 1024c113-206 132-520-313-509v253l-384-384 384-384v248c534-13 594 472 313 775z"
  },
  redo: {
    width: 1024, height: 1024,
    path: "M576 248v-248l384 384-384 384v-253c-446-10-427 303-313 509-280-303-221-789 313-775z"
  },
  strong: {
    width: 805, height: 1024,
    path: "M317 869q42 18 80 18 214 0 214-191 0-65-23-102-15-25-35-42t-38-26-46-14-48-6-54-1q-41 0-57 5 0 30-0 90t-0 90q0 4-0 38t-0 55 2 47 6 38zM309 442q24 4 62 4 46 0 81-7t62-25 42-51 14-81q0-40-16-70t-45-46-61-24-70-8q-28 0-74 7 0 28 2 86t2 86q0 15-0 45t-0 45q0 26 0 39zM0 950l1-53q8-2 48-9t60-15q4-6 7-15t4-19 3-18 1-21 0-19v-37q0-561-12-585-2-4-12-8t-25-6-28-4-27-2-17-1l-2-47q56-1 194-6t213-5q13 0 39 0t38 0q40 0 78 7t73 24 61 40 42 59 16 78q0 29-9 54t-22 41-36 32-41 25-48 22q88 20 146 76t58 141q0 57-20 102t-53 74-78 48-93 27-100 8q-25 0-75-1t-75-1q-60 0-175 6t-132 6z"
  },
  em: {
    width: 585, height: 1024,
    path: "M0 949l9-48q3-1 46-12t63-21q16-20 23-57 0-4 35-165t65-310 29-169v-14q-13-7-31-10t-39-4-33-3l10-58q18 1 68 3t85 4 68 1q27 0 56-1t69-4 56-3q-2 22-10 50-17 5-58 16t-62 19q-4 10-8 24t-5 22-4 26-3 24q-15 84-50 239t-44 203q-1 5-7 33t-11 51-9 47-3 32l0 10q9 2 105 17-1 25-9 56-6 0-18 0t-18 0q-16 0-49-5t-49-5q-78-1-117-1-29 0-81 5t-69 6z"
  },
  code: {
    width: 896, height: 1024,
    path: "M608 192l-96 96 224 224-224 224 96 96 288-320-288-320zM288 192l-288 320 288 320 96-96-224-224 224-224-96-96z"
  },
  link: {
    width: 951, height: 1024,
    path: "M832 694q0-22-16-38l-118-118q-16-16-38-16-24 0-41 18 1 1 10 10t12 12 8 10 7 14 2 15q0 22-16 38t-38 16q-8 0-15-2t-14-7-10-8-12-12-10-10q-18 17-18 41 0 22 16 38l117 118q15 15 38 15 22 0 38-14l84-83q16-16 16-38zM430 292q0-22-16-38l-117-118q-16-16-38-16-22 0-38 15l-84 83q-16 16-16 38 0 22 16 38l118 118q15 15 38 15 24 0 41-17-1-1-10-10t-12-12-8-10-7-14-2-15q0-22 16-38t38-16q8 0 15 2t14 7 10 8 12 12 10 10q18-17 18-41zM941 694q0 68-48 116l-84 83q-47 47-116 47-69 0-116-48l-117-118q-47-47-47-116 0-70 50-119l-50-50q-49 50-118 50-68 0-116-48l-118-118q-48-48-48-116t48-116l84-83q47-47 116-47 69 0 116 48l117 118q47 47 47 116 0 70-50 119l50 50q49-50 118-50 68 0 116 48l118 118q48 48 48 116z"
  },
  bulletList: {
    width: 768, height: 896,
    path: "M0 512h128v-128h-128v128zM0 256h128v-128h-128v128zM0 768h128v-128h-128v128zM256 512h512v-128h-512v128zM256 256h512v-128h-512v128zM256 768h512v-128h-512v128z"
  },
  orderedList: {
    width: 768, height: 896,
    path: "M320 512h448v-128h-448v128zM320 768h448v-128h-448v128zM320 128v128h448v-128h-448zM79 384h78v-256h-36l-85 23v50l43-2v185zM189 590c0-36-12-78-96-78-33 0-64 6-83 16l1 66c21-10 42-15 67-15s32 11 32 28c0 26-30 58-110 112v50h192v-67l-91 2c49-30 87-66 87-113l1-1z"
  },
  blockquote: {
    width: 640, height: 896,
    path: "M0 448v256h256v-256h-128c0 0 0-128 128-128v-128c0 0-256 0-256 256zM640 320v-128c0 0-256 0-256 256v256h256v-256h-128c0 0 0-128 128-128z"
  }
};

// :: MenuItem
// Menu item for the `joinUp` command.
var joinUpItem = new MenuItem({
  title: "Join with above block",
  run: commands$1.joinUp,
  select: function (state) { return commands$1.joinUp(state); },
  icon: icons.join
});

// :: MenuItem
// Menu item for the `lift` command.
var liftItem = new MenuItem({
  title: "Lift out of enclosing block",
  run: commands$1.lift,
  select: function (state) { return commands$1.lift(state); },
  icon: icons.lift
});

// :: MenuItem
// Menu item for the `selectParentNode` command.
var selectParentNodeItem = new MenuItem({
  title: "Select parent node",
  run: commands$1.selectParentNode,
  select: function (state) { return commands$1.selectParentNode(state); },
  icon: icons.selectParentNode
});

// :: MenuItem
// Menu item for the `undo` command.
var undoItem = new MenuItem({
  title: "Undo last change",
  run: history_1$1.undo,
  enable: function (state) { return history_1$1.undo(state); },
  icon: icons.undo
});

// :: MenuItem
// Menu item for the `redo` command.
var redoItem = new MenuItem({
  title: "Redo last undone change",
  run: history_1$1.redo,
  enable: function (state) { return history_1$1.redo(state); },
  icon: icons.redo
});

// :: (NodeType, Object) → MenuItem
// Build a menu item for wrapping the selection in a given node type.
// Adds `run` and `select` properties to the ones present in
// `options`. `options.attrs` may be an object or a function, as in
// `toggleMarkItem`.
function wrapItem(nodeType, options) {
  var passedOptions = {
    run: function run(state, dispatch) {
      // FIXME if (options.attrs instanceof Function) options.attrs(state, attrs => wrapIn(nodeType, attrs)(state))
      return commands$1.wrapIn(nodeType, options.attrs)(state, dispatch)
    },
    select: function select(state) {
      return commands$1.wrapIn(nodeType, options.attrs instanceof Function ? null : options.attrs)(state)
    }
  };
  for (var prop in options) { passedOptions[prop] = options[prop]; }
  return new MenuItem(passedOptions)
}

// :: (NodeType, Object) → MenuItem
// Build a menu item for changing the type of the textblock around the
// selection to the given type. Provides `run`, `active`, and `select`
// properties. Others must be given in `options`. `options.attrs` may
// be an object to provide the attributes for the textblock node.
function blockTypeItem(nodeType, options) {
  var command = commands$1.setBlockType(nodeType, options.attrs);
  var passedOptions = {
    run: command,
    enable: function enable(state) { return command(state) },
    active: function active(state) {
      var ref = state.selection;
      var $from = ref.$from;
      var to = ref.to;
      var node = ref.node;
      if (node) { return node.hasMarkup(nodeType, options.attrs) }
      return to <= $from.end() && $from.parent.hasMarkup(nodeType, options.attrs)
    }
  };
  for (var prop in options) { passedOptions[prop] = options[prop]; }
  return new MenuItem(passedOptions)
}

// Work around classList.toggle being broken in IE11
function setClass(dom, cls, on) {
  if (on) { dom.classList.add(cls); }
  else { dom.classList.remove(cls); }
}

var prefix$2 = "ProseMirror-menubar";

function isIOS() {
  if (typeof navigator == "undefined") { return false }
  var agent = navigator.userAgent;
  return !/Edge\/\d/.test(agent) && /AppleWebKit/.test(agent) && /Mobile\/\w+/.test(agent)
}

// :: (Object) → Plugin
// A plugin that will place a menu bar above the editor. Note that
// this involves wrapping the editor in an additional `<div>`.
//
//   options::-
//   Supports the following options:
//
//     content:: [[MenuElement]]
//     Provides the content of the menu, as a nested array to be
//     passed to `renderGrouped`.
//
//     floating:: ?bool
//     Determines whether the menu floats, i.e. whether it sticks to
//     the top of the viewport when the editor is partially scrolled
//     out of view.
function menuBar(options) {
  return new dist$1.Plugin({
    view: function view(editorView) { return new MenuBarView(editorView, options) }
  })
}

var MenuBarView = function MenuBarView(editorView, options) {
  var this$1 = this;

  this.editorView = editorView;
  this.options = options;

  this.wrapper = crel$$1("div", {class: prefix$2 + "-wrapper"});
  this.menu = this.wrapper.appendChild(crel$$1("div", {class: prefix$2}));
  this.menu.className = prefix$2;
  this.spacer = null;

  editorView.dom.parentNode.replaceChild(this.wrapper, editorView.dom);
  this.wrapper.appendChild(editorView.dom);

  this.maxHeight = 0;
  this.widthForMaxHeight = 0;
  this.floating = false;

  var ref = renderGrouped(this.editorView, this.options.content);
  var dom = ref.dom;
  var update = ref.update;
  this.contentUpdate = update;
  this.menu.appendChild(dom);
  this.update();

  if (options.floating && !isIOS()) {
    this.updateFloat();
    var potentialScrollers = getAllWrapping(this.wrapper);
    this.scrollFunc = function (e) {
      var root = this$1.editorView.root;
      if (!(root.body || root).contains(this$1.wrapper)) {
          potentialScrollers.forEach(function (el) { return el.removeEventListener("scroll", this$1.scrollFunc); });
      } else {
          this$1.updateFloat(e.target.getBoundingClientRect && e.target);
      }
    };
    potentialScrollers.forEach(function (el) { return el.addEventListener('scroll', this$1.scrollFunc); });
  }
};

MenuBarView.prototype.update = function update () {
  this.contentUpdate(this.editorView.state);

  if (this.floating) {
    this.updateScrollCursor();
  } else {
    if (this.menu.offsetWidth != this.widthForMaxHeight) {
      this.widthForMaxHeight = this.menu.offsetWidth;
      this.maxHeight = 0;
    }
    if (this.menu.offsetHeight > this.maxHeight) {
      this.maxHeight = this.menu.offsetHeight;
      this.menu.style.minHeight = this.maxHeight + "px";
    }
  }
};

MenuBarView.prototype.updateScrollCursor = function updateScrollCursor () {
  var selection = this.editorView.root.getSelection();
  if (!selection.focusNode) { return }
  var rects = selection.getRangeAt(0).getClientRects();
  var selRect = rects[selectionIsInverted(selection) ? 0 : rects.length - 1];
  if (!selRect) { return }
  var menuRect = this.menu.getBoundingClientRect();
  if (selRect.top < menuRect.bottom && selRect.bottom > menuRect.top) {
    var scrollable = findWrappingScrollable(this.wrapper);
    if (scrollable) { scrollable.scrollTop -= (menuRect.bottom - selRect.top); }
  }
};

MenuBarView.prototype.updateFloat = function updateFloat (scrollAncestor) {
  var parent = this.wrapper, editorRect = parent.getBoundingClientRect(),
      top = scrollAncestor ? Math.max(0, scrollAncestor.getBoundingClientRect().top) : 0;

  if (this.floating) {
    if (editorRect.top >= top || editorRect.bottom < this.menu.offsetHeight + 10) {
      this.floating = false;
      this.menu.style.position = this.menu.style.left = this.menu.style.top = this.menu.style.width = "";
      this.menu.style.display = "";
      this.spacer.parentNode.removeChild(this.spacer);
      this.spacer = null;
    } else {
      var border = (parent.offsetWidth - parent.clientWidth) / 2;
      this.menu.style.left = (editorRect.left + border) + "px";
      this.menu.style.display = (editorRect.top > window.innerHeight ? "none" : "");
      if (scrollAncestor) { this.menu.style.top = top + "px"; }
    }
  } else {
    if (editorRect.top < top && editorRect.bottom >= this.menu.offsetHeight + 10) {
      this.floating = true;
      var menuRect = this.menu.getBoundingClientRect();
      this.menu.style.left = menuRect.left + "px";
      this.menu.style.width = menuRect.width + "px";
      if (scrollAncestor) { this.menu.style.top = top + "px"; }
      this.menu.style.position = "fixed";
      this.spacer = crel$$1("div", {class: prefix$2 + "-spacer", style: ("height: " + (menuRect.height) + "px")});
      parent.insertBefore(this.spacer, this.menu);
    }
  }
};

MenuBarView.prototype.destroy = function destroy () {
  if (this.wrapper.parentNode)
    { this.wrapper.parentNode.replaceChild(this.editorView.dom, this.wrapper); }
};

// Not precise, but close enough
function selectionIsInverted(selection) {
  if (selection.anchorNode == selection.focusNode) { return selection.anchorOffset > selection.focusOffset }
  return selection.anchorNode.compareDocumentPosition(selection.focusNode) == Node.DOCUMENT_POSITION_FOLLOWING
}

function findWrappingScrollable(node) {
  for (var cur = node.parentNode; cur; cur = cur.parentNode)
    { if (cur.scrollHeight > cur.clientHeight) { return cur } }
}

function getAllWrapping(node) {
    var res = [window];
    for (var cur = node.parentNode; cur; cur = cur.parentNode)
        { res.push(cur); }
    return res
}

// !! This module defines a number of building blocks for ProseMirror
// menus, along with a [menu bar](#menu.menuBar) implementation.

// MenuElement:: interface
// The types defined in this module aren't the only thing you can
// display in your menu. Anything that conforms to this interface can
// be put into a menu structure.
//
//   render:: (pm: EditorView) → {dom: dom.Node, update: (EditorState) → bool}
//   Render the element for display in the menu. Must return a DOM
//   element and a function that can be used to update the element to
//   a new state. The `update` function will return false if the
//   update hid the entire element.

exports.MenuItem = MenuItem;
exports.Dropdown = Dropdown;
exports.DropdownSubmenu = DropdownSubmenu;
exports.renderGrouped = renderGrouped;
exports.icons = icons;
exports.joinUpItem = joinUpItem;
exports.liftItem = liftItem;
exports.selectParentNodeItem = selectParentNodeItem;
exports.undoItem = undoItem;
exports.redoItem = redoItem;
exports.wrapItem = wrapItem;
exports.blockTypeItem = blockTypeItem;
exports.menuBar = menuBar;
//# sourceMappingURL=index.js.map
});

unwrapExports(dist$8);
var dist_1$5 = dist$8.MenuItem;
var dist_2$5 = dist$8.Dropdown;
var dist_3$4 = dist$8.DropdownSubmenu;
var dist_5$4 = dist$8.icons;
var dist_6$3 = dist$8.joinUpItem;
var dist_7$3 = dist$8.liftItem;
var dist_8$3 = dist$8.selectParentNodeItem;
var dist_9$3 = dist$8.undoItem;
var dist_10$2 = dist$8.redoItem;
var dist_11$2 = dist$8.wrapItem;
var dist_12$2 = dist$8.blockTypeItem;
var dist_13$2 = dist$8.menuBar;

const prefix = "ProseMirror-prompt";

function openPrompt(options) {
  let wrapper = document.body.appendChild(document.createElement("div"));
  wrapper.className = prefix;

  let mouseOutside = e => { if (!wrapper.contains(e.target)) close(); };
  setTimeout(() => window.addEventListener("mousedown", mouseOutside), 50);
  let close = () => {
    window.removeEventListener("mousedown", mouseOutside);
    if (wrapper.parentNode) wrapper.parentNode.removeChild(wrapper);
  };

  let domFields = [];
  for (let name in options.fields) domFields.push(options.fields[name].render());

  let submitButton = document.createElement("button");
  submitButton.type = "submit";
  submitButton.className = prefix + "-submit";
  submitButton.textContent = "OK";
  let cancelButton = document.createElement("button");
  cancelButton.type = "button";
  cancelButton.className = prefix + "-cancel";
  cancelButton.textContent = "Cancel";
  cancelButton.addEventListener("click", close);

  let form = wrapper.appendChild(document.createElement("form"));
  if (options.title) form.appendChild(document.createElement("h5")).textContent = options.title;
  domFields.forEach(field => {
    form.appendChild(document.createElement("div")).appendChild(field);
  });
  let buttons = form.appendChild(document.createElement("div"));
  buttons.className = prefix + "-buttons";
  buttons.appendChild(submitButton);
  buttons.appendChild(document.createTextNode(" "));
  buttons.appendChild(cancelButton);

  let box = wrapper.getBoundingClientRect();
  wrapper.style.top = ((window.innerHeight - box.height) / 2) + "px";
  wrapper.style.left = ((window.innerWidth - box.width) / 2) + "px";

  let submit = () => {
    let params = getValues(options.fields, domFields);
    if (params) {
      close();
      options.callback(params);
    }
  };

  form.addEventListener("submit", e => {
    e.preventDefault();
    submit();
  });

  form.addEventListener("keydown", e => {
    if (e.keyCode == 27) {
      e.preventDefault();
      close();
    } else if (e.keyCode == 13 && !(e.ctrlKey || e.metaKey || e.shiftKey)) {
      e.preventDefault();
      submit();
    } else if (e.keyCode == 9) {
      window.setTimeout(() => {
        if (!wrapper.contains(document.activeElement)) close();
      }, 500);
    }
  });

  let input = form.elements[0];
  if (input) input.focus();
}

function getValues(fields, domFields) {
  let result = Object.create(null), i = 0;
  for (let name in fields) {
    let field = fields[name], dom = domFields[i++];
    let value = field.read(dom), bad = field.validate(value);
    if (bad) {
      reportInvalid(dom, bad);
      return null
    }
    result[name] = field.clean(value);
  }
  return result
}

function reportInvalid(dom, message) {
  // FIXME this is awful and needs a lot more work
  let parent = dom.parentNode;
  let msg = parent.appendChild(document.createElement("div"));
  msg.style.left = (dom.offsetLeft + dom.offsetWidth + 2) + "px";
  msg.style.top = (dom.offsetTop - 5) + "px";
  msg.className = "ProseMirror-invalid";
  msg.textContent = message;
  setTimeout(() => parent.removeChild(msg), 1500);
}

// ::- The type of field that `FieldPrompt` expects to be passed to it.
class Field {
  // :: (Object)
  // Create a field with the given options. Options support by all
  // field types are:
  //
  // **`value`**`: ?any`
  //   : The starting value for the field.
  //
  // **`label`**`: string`
  //   : The label for the field.
  //
  // **`required`**`: ?bool`
  //   : Whether the field is required.
  //
  // **`validate`**`: ?(any) → ?string`
  //   : A function to validate the given value. Should return an
  //     error message if it is not valid.
  constructor(options) { this.options = options; }

  // render:: (state: EditorState, props: Object) → dom.Node
  // Render the field to the DOM. Should be implemented by all subclasses.

  // :: (dom.Node) → any
  // Read the field's value from its DOM node.
  read(dom) { return dom.value }

  // :: (any) → ?string
  // A field-type-specific validation function.
  validateType(_value) {}

  validate(value) {
    if (!value && this.options.required)
      return "Required field"
    return this.validateType(value) || (this.options.validate && this.options.validate(value))
  }

  clean(value) {
    return this.options.clean ? this.options.clean(value) : value
  }
}

// ::- A field class for single-line text fields.
class TextField extends Field {
  render() {
    let input = document.createElement("input");
    input.type = "text";
    input.placeholder = this.options.label;
    input.value = this.options.value || "";
    input.autocomplete = "off";
    return input
  }
}


// ::- A field class for dropdown fields based on a plain `<select>`
// tag. Expects an option `options`, which should be an array of
// `{value: string, label: string}` objects, or a function taking a
// `ProseMirror` instance and returning such an array.

function canInsert(state, nodeType) {
  let $from = state.selection.$from;
  for (let d = $from.depth; d >= 0; d--) {
    let index$$1 = $from.index(d);
    if ($from.node(d).canReplaceWith(index$$1, index$$1, nodeType))
      return true
  }
  return false
}

function insertImageItem(nodeType) {
  return new dist_1$5({
    title: "Insert image",
    label: "Image",
    enable(state) { return canInsert(state, nodeType) },
    run(state, _, view) {
      let {from, to} = state.selection, attrs = null;
      if (state.selection instanceof dist_4 && state.selection.node.type == nodeType)
        attrs = state.selection.node.attrs;
      openPrompt({
        title: "Insert image",
        fields: {
          src: new TextField({label: "Location", required: true, value: attrs && attrs.src}),
          title: new TextField({label: "Title", value: attrs && attrs.title}),
          alt: new TextField({label: "Description",
                              value: attrs ? attrs.alt : state.doc.textBetween(from, to, " ")})
        },
        callback(attrs) {
          view.dispatch(view.state.tr.replaceSelectionWith(nodeType.createAndFill(attrs)));
          view.focus();
        }
      });
    }
  })
}

function cmdItem(cmd, options) {
  let passedOptions = {
    label: options.title,
    run: cmd
  };
  for (let prop in options) passedOptions[prop] = options[prop];
  if ((!options.enable || options.enable === true) && !options.select)
    passedOptions[options.enable ? "enable" : "select"] = state => cmd(state);

  return new dist_1$5(passedOptions)
}

function markActive(state, type) {
  let {from, $from, to, empty} = state.selection;
  if (empty) return type.isInSet(state.storedMarks || $from.marks())
  else return state.doc.rangeHasMark(from, to, type)
}

function markItem(markType, options) {
  let passedOptions = {
  active(state) { return markActive(state, markType) },
  enable: true
  };
  for (let prop in options) passedOptions[prop] = options[prop];
  return cmdItem(commands_19(markType), passedOptions)
}

function linkItem(markType) {
  return new dist_1$5({
    title: "Add or remove link",
    icon: dist_5$4.link,
    active(state) { return markActive(state, markType) },
    enable(state) { return !state.selection.empty },
    run(state, dispatch, view) {
    if (markActive(state, markType)) {
      commands_19(markType)(state, dispatch);
      return true
    }
    openPrompt({
      title: "Create a link",
      fields: {
        href: new TextField({
          label: "Link target",
          required: true
        }),
        title: new TextField({label: "Title"})
      },
      callback(attrs) {
        commands_19(markType, attrs)(view.state, view.dispatch);
        view.focus();
      }
    });
    }
  })
}

function wrapListItem(nodeType, options) {
  return cmdItem(schemaList_5(nodeType, options.attrs), options)
}

// :: (Schema) → Object
// Given a schema, look for default mark and node types in it and
// return an object with relevant menu items relating to those marks:
//
// **`toggleStrong`**`: MenuItem`
//   : A menu item to toggle the [strong mark](#schema-basic.StrongMark).
//
// **`toggleEm`**`: MenuItem`
//   : A menu item to toggle the [emphasis mark](#schema-basic.EmMark).
//
// **`toggleCode`**`: MenuItem`
//   : A menu item to toggle the [code font mark](#schema-basic.CodeMark).
//
// **`toggleLink`**`: MenuItem`
//   : A menu item to toggle the [link mark](#schema-basic.LinkMark).
//
// **`insertImage`**`: MenuItem`
//   : A menu item to insert an [image](#schema-basic.Image).
//
// **`wrapBulletList`**`: MenuItem`
//   : A menu item to wrap the selection in a [bullet list](#schema-list.BulletList).
//
// **`wrapOrderedList`**`: MenuItem`
//   : A menu item to wrap the selection in an [ordered list](#schema-list.OrderedList).
//
// **`wrapBlockQuote`**`: MenuItem`
//   : A menu item to wrap the selection in a [block quote](#schema-basic.BlockQuote).
//
// **`makeParagraph`**`: MenuItem`
//   : A menu item to set the current textblock to be a normal
//     [paragraph](#schema-basic.Paragraph).
//
// **`makeCodeBlock`**`: MenuItem`
//   : A menu item to set the current textblock to be a
//     [code block](#schema-basic.CodeBlock).
//
// **`makeHead[N]`**`: MenuItem`
//   : Where _N_ is 1 to 6. Menu items to set the current textblock to
//     be a [heading](#schema-basic.Heading) of level _N_.
//
// **`insertHorizontalRule`**`: MenuItem`
//   : A menu item to insert a horizontal rule.
//
// The return value also contains some prefabricated menu elements and
// menus, that you can use instead of composing your own menu from
// scratch:
//
// **`insertMenu`**`: Dropdown`
//   : A dropdown containing the `insertImage` and
//     `insertHorizontalRule` items.
//
// **`typeMenu`**`: Dropdown`
//   : A dropdown containing the items for making the current
//     textblock a paragraph, code block, or heading.
//
// **`fullMenu`**`: [[MenuElement]]`
//   : An array of arrays of menu elements for use as the full menu
//     for, for example the [menu bar](https://github.com/prosemirror/prosemirror-menu#user-content-menubar).
function buildMenuItems(schema) {
  let r = {}, type;
  if (type = schema.marks.strong)
  r.toggleStrong = markItem(type, {title: "Toggle strong style", icon: dist_5$4.strong});
  if (type = schema.marks.em)
  r.toggleEm = markItem(type, {title: "Toggle emphasis", icon: dist_5$4.em});
  if (type = schema.marks.code)
  r.toggleCode = markItem(type, {title: "Toggle code font", icon: dist_5$4.code});
  if (type = schema.marks.link)
  r.toggleLink = linkItem(type);

  if (type = schema.nodes.image)
  r.insertImage = insertImageItem(type);
  if (type = schema.nodes.bullet_list)
  r.wrapBulletList = wrapListItem(type, {
  title: "Wrap in bullet list",
  icon: dist_5$4.bulletList
  });
  if (type = schema.nodes.ordered_list)
  r.wrapOrderedList = wrapListItem(type, {
  title: "Wrap in ordered list",
  icon: dist_5$4.orderedList
  });
  if (type = schema.nodes.blockquote)
  r.wrapBlockQuote = dist_11$2(type, {
  title: "Wrap in block quote",
  icon: dist_5$4.blockquote
  });
  if (type = schema.nodes.paragraph)
  r.makeParagraph = dist_12$2(type, {
  title: "Change to paragraph",
  label: "Plain"
  });
  if (type = schema.nodes.code_block)
  r.makeCodeBlock = dist_12$2(type, {
  title: "Change to code block",
  label: "Code"
  });
  if (type = schema.nodes.heading)
  for (let i = 1; i <= 10; i++)
  r["makeHead" + i] = dist_12$2(type, {
    title: "Change to heading " + i,
    label: "Level " + i,
    attrs: {level: i}
  });
  if (type = schema.nodes.horizontal_rule) {
    let hr = type;
    r.insertHorizontalRule = new dist_1$5({
      title: "Insert horizontal rule",
      label: "Horizontal rule",
      enable(state) { return canInsert(state, hr) },
      run(state, dispatch) { dispatch(state.tr.replaceSelectionWith(hr.create())); }
    });
  }
  if (type = schema.nodes.document) {
    let document = type;
    r.insertDocument = new dist_1$5({
      title: "Insert Document",
      label: "Interaction",
      enable(state) { return canInsert(state, document) },
      run(state, dispatch) { dispatch(state.tr.replaceSelectionWith(document.createAndFill())); }
    });
  }

let cut = arr => arr.filter(x => x);
r.insertMenu = new dist_2$5(cut([r.insertImage, r.insertHorizontalRule, r.insertDocument]), {label: "Insert"});
r.typeMenu = new dist_2$5(cut([r.makeParagraph, r.makeCodeBlock, r.makeHead1 && new dist_3$4(cut([
r.makeHead1, r.makeHead2, r.makeHead3, r.makeHead4, r.makeHead5, r.makeHead6
]), {label: "Heading"})]), {label: "Type..."});

r.inlineMenu = [cut([r.toggleStrong, r.toggleEm, r.toggleCode, r.toggleLink])];
r.blockMenu = [cut([r.wrapBulletList, r.wrapOrderedList, r.wrapBlockQuote, dist_6$3,
                 dist_7$3, dist_8$3])];
r.fullMenu = r.inlineMenu.concat([[r.insertMenu, r.typeMenu]], [[dist_9$3, dist_10$2]], r.blockMenu);

return r
}

var dist$9 = createCommonjsModule(function (module, exports) {
'use strict';

Object.defineProperty(exports, '__esModule', { value: true });




// ::- Input rules are regular expressions describing a piece of text
// that, when typed, causes something to happen. This might be
// changing two dashes into an emdash, wrapping a paragraph starting
// with `"> "` into a blockquote, or something entirely different.
var InputRule = function InputRule(match, handler) {
  this.match = match;
  this.handler = typeof handler == "string" ? stringHandler(handler) : handler;
};

function stringHandler(string) {
  return function(state, match, start, end) {
    var insert = string;
    if (match[1]) {
      var offset = match[0].lastIndexOf(match[1]);
      insert += match[0].slice(offset + match[1].length);
      start += offset;
      var cutOff = start - end;
      if (cutOff > 0) {
        insert = match[0].slice(offset - cutOff, offset) + insert;
        start = end;
      }
    }
    var marks = state.doc.resolve(start).marks();
    return state.tr.replaceWith(start, end, state.schema.text(insert, marks))
  }
}

var MAX_MATCH = 500;

// :: (config: {rules: [InputRule]}) → Plugin
// Create an input rules plugin. When enabled, it will cause text
// input that matches any of the given rules to trigger the rule's
// action.
function inputRules(ref) {
  var rules = ref.rules;

  return new dist$1.Plugin({
    state: {
      init: function init() { return null },
      apply: function apply(tr, prev) {
        var stored = tr.getMeta(this);
        if (stored) { return stored }
        return tr.selectionSet || tr.docChanged ? null : prev
      }
    },

    props: {
      handleTextInput: function handleTextInput(view, from, to, text) {
        var this$1 = this;

        var state = view.state, $from = state.doc.resolve(from);
        if ($from.parent.type.spec.code) { return false }
        var textBefore = $from.parent.textBetween(Math.max(0, $from.parentOffset - MAX_MATCH), $from.parentOffset,
                                                  null, "\ufffc") + text;
        for (var i = 0; i < rules.length; i++) {
          var match = rules[i].match.exec(textBefore);
          var tr = match && rules[i].handler(state, match, from - (match[0].length - text.length), to);
          if (!tr) { continue }
          view.dispatch(tr.setMeta(this$1, {transform: tr, from: from, to: to, text: text}));
          return true
        }
        return false
      }
    },

    isInputRules: true
  })
}

// :: (EditorState, ?(Transaction)) → bool
// This is a command that will undo an input rule, if applying such a
// rule was the last thing that the user did.
function undoInputRule(state, dispatch) {
  var plugins = state.plugins;
  for (var i = 0; i < plugins.length; i++) {
    var plugin = plugins[i], undoable = (void 0);
    if (plugin.spec.isInputRules && (undoable = plugin.getState(state))) {
      if (dispatch) {
        var tr = state.tr, toUndo = undoable.transform;
        for (var j = toUndo.steps.length - 1; j >= 0; j--)
          { tr.step(toUndo.steps[j].invert(toUndo.docs[j])); }
        var marks = tr.doc.resolve(undoable.from).marks();
        dispatch(tr.replaceWith(undoable.from, undoable.to, state.schema.text(undoable.text, marks)));
      }
      return true
    }
  }
  return false
}

// :: InputRule Converts double dashes to an emdash.
var emDash = new InputRule(/--$/, "—");
// :: InputRule Converts three dots to an ellipsis character.
var ellipsis = new InputRule(/\.\.\.$/, "…");
// :: InputRule “Smart” opening double quotes.
var openDoubleQuote = new InputRule(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/, "“");
// :: InputRule “Smart” closing double quotes.
var closeDoubleQuote = new InputRule(/"$/, "”");
// :: InputRule “Smart” opening single quotes.
var openSingleQuote = new InputRule(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/, "‘");
// :: InputRule “Smart” closing single quotes.
var closeSingleQuote = new InputRule(/'$/, "’");

// :: [InputRule] Smart-quote related input rules.
var smartQuotes = [openDoubleQuote, closeDoubleQuote, openSingleQuote, closeSingleQuote];

// :: (RegExp, NodeType, ?union<Object, ([string]) → ?Object>, ?([string], Node) → bool) → InputRule
// Build an input rule for automatically wrapping a textblock when a
// given string is typed. The `regexp` argument is
// directly passed through to the `InputRule` constructor. You'll
// probably want the regexp to start with `^`, so that the pattern can
// only occur at the start of a textblock.
//
// `nodeType` is the type of node to wrap in. If it needs attributes,
// you can either pass them directly, or pass a function that will
// compute them from the regular expression match.
//
// By default, if there's a node with the same type above the newly
// wrapped node, the rule will try to [join](#transform.Transform.join) those
// two nodes. You can pass a join predicate, which takes a regular
// expression match and the node before the wrapped node, and can
// return a boolean to indicate whether a join should happen.
function wrappingInputRule(regexp, nodeType, getAttrs, joinPredicate) {
  return new InputRule(regexp, function (state, match, start, end) {
    var attrs = getAttrs instanceof Function ? getAttrs(match) : getAttrs;
    var tr = state.tr.delete(start, end);
    var $start = tr.doc.resolve(start), range = $start.blockRange(), wrapping = range && dist$3.findWrapping(range, nodeType, attrs);
    if (!wrapping) { return null }
    tr.wrap(range, wrapping);
    var before = tr.doc.resolve(start - 1).nodeBefore;
    if (before && before.type == nodeType && dist$3.canJoin(tr.doc, start - 1) &&
        (!joinPredicate || joinPredicate(match, before)))
      { tr.join(start - 1); }
    return tr
  })
}

// :: (RegExp, NodeType, ?union<Object, ([string]) → ?Object>) → InputRule
// Build an input rule that changes the type of a textblock when the
// matched text is typed into it. You'll usually want to start your
// regexp with `^` to that it is only matched at the start of a
// textblock. The optional `getAttrs` parameter can be used to compute
// the new node's attributes, and works the same as in the
// `wrappingInputRule` function.
function textblockTypeInputRule(regexp, nodeType, getAttrs) {
  return new InputRule(regexp, function (state, match, start, end) {
    var $start = state.doc.resolve(start);
    var attrs = getAttrs instanceof Function ? getAttrs(match) : getAttrs;
    if (!$start.node(-1).canReplaceWith($start.index(-1), $start.indexAfter(-1), nodeType)) { return null }
    return state.tr
      .delete(start, end)
      .setBlockType(start, start, nodeType, attrs)
  })
}

exports.InputRule = InputRule;
exports.inputRules = inputRules;
exports.undoInputRule = undoInputRule;
exports.emDash = emDash;
exports.ellipsis = ellipsis;
exports.openDoubleQuote = openDoubleQuote;
exports.closeDoubleQuote = closeDoubleQuote;
exports.openSingleQuote = openSingleQuote;
exports.closeSingleQuote = closeSingleQuote;
exports.smartQuotes = smartQuotes;
exports.wrappingInputRule = wrappingInputRule;
exports.textblockTypeInputRule = textblockTypeInputRule;
//# sourceMappingURL=index.js.map
});

unwrapExports(dist$9);
var dist_2$6 = dist$9.inputRules;
var dist_3$5 = dist$9.undoInputRule;
var dist_4$5 = dist$9.emDash;
var dist_5$5 = dist$9.ellipsis;
var dist_10$3 = dist$9.smartQuotes;
var dist_11$3 = dist$9.wrappingInputRule;
var dist_12$3 = dist$9.textblockTypeInputRule;

const mac$1 = typeof navigator != "undefined" ? /Mac/.test(navigator.platform) : false;

// :: (Schema, ?Object) → Object
// Inspect the given schema looking for marks and nodes from the
// basic schema, and if found, add key bindings related to them.
// This will add:
//
// * **Mod-b** for toggling [strong](#schema-basic.StrongMark)
// * **Mod-i** for toggling [emphasis](#schema-basic.EmMark)
// * **Mod-`** for toggling [code font](#schema-basic.CodeMark)
// * **Ctrl-Shift-0** for making the current textblock a paragraph
// * **Ctrl-Shift-1** to **Ctrl-Shift-Digit6** for making the current
//   textblock a heading of the corresponding level
// * **Ctrl-Shift-Backslash** to make the current textblock a code block
// * **Ctrl-Shift-8** to wrap the selection in an ordered list
// * **Ctrl-Shift-9** to wrap the selection in a bullet list
// * **Ctrl->** to wrap the selection in a block quote
// * **Enter** to split a non-empty textblock in a list item while at
//   the same time splitting the list item
// * **Mod-Enter** to insert a hard break
// * **Mod-_** to insert a horizontal rule
// * **Backspace** to undo an input rule
// * **Alt-ArrowUp** to `joinUp`
// * **Alt-ArrowDown** to `joinDown`
// * **Mod-BracketLeft** to `lift`
// * **Escape** to `selectParentNode`
//
// You can suppress or map these bindings by passing a `mapKeys`
// argument, which maps key names (say `"Mod-B"` to either `false`, to
// remove the binding, or a new key name string.
function buildKeymap(schema, mapKeys) {
let keys = {}, type;
function bind(key, cmd) {
if (mapKeys) {
let mapped = mapKeys[key];
if (mapped === false) return
if (mapped) key = mapped;
}
keys[key] = cmd;
}


bind("Mod-z", history_5);
bind("Shift-Mod-z", history_6);
bind("Backspace", dist_3$5);
if (!mac$1) bind("Mod-y", history_6);

bind("Alt-ArrowUp", commands_6);
bind("Alt-ArrowDown", commands_7);
bind("Mod-BracketLeft", commands_8);
bind("Escape", commands_15);

if (type = schema.marks.strong)
bind("Mod-b", commands_19(type));
if (type = schema.marks.em)
bind("Mod-i", commands_19(type));
if (type = schema.marks.code)
bind("Mod-`", commands_19(type));

if (type = schema.nodes.bullet_list)
bind("Shift-Ctrl-8", schemaList_5(type));
if (type = schema.nodes.ordered_list)
bind("Shift-Ctrl-9", schemaList_5(type));
if (type = schema.nodes.blockquote)
bind("Ctrl->", commands_17(type));
if (type = schema.nodes.hard_break) {
let br = type, cmd = commands_21(commands_10, (state, dispatch) => {
dispatch(state.tr.replaceSelectionWith(br.create()).scrollIntoView());
return true
});
bind("Mod-Enter", cmd);
bind("Shift-Enter", cmd);
if (mac$1) bind("Ctrl-Enter", cmd);
}
if (type = schema.nodes.list_item) {
bind("Enter", schemaList_6(type));
bind("Mod-[", schemaList_7(type));
bind("Mod-]", schemaList_8(type));
}
if (type = schema.nodes.paragraph)
bind("Shift-Ctrl-0", commands_18(type));
if (type = schema.nodes.code_block)
bind("Shift-Ctrl-\\", commands_18(type));
if (type = schema.nodes.heading)
for (let i = 1; i <= 6; i++) bind("Shift-Ctrl-" + i, commands_18(type, {level: i}));
if (type = schema.nodes.horizontal_rule) {
let hr = type;
bind("Mod-_", (state, dispatch) => {
dispatch(state.tr.replaceSelectionWith(hr.create()).scrollIntoView());
return true
});
}

return keys
}

function blockQuoteRule(nodeType) {
return dist_11$3(/^\s*>\s$/, nodeType)
}

// : (NodeType) → InputRule
// Given a list node type, returns an input rule that turns a number
// followed by a dot at the start of a textblock into an ordered list.
function orderedListRule(nodeType) {
return dist_11$3(/^(\d+)\.\s$/, nodeType, match => ({order: +match[1]}),
                     (match, node) => node.childCount + node.attrs.order == +match[1])
}

// : (NodeType) → InputRule
// Given a list node type, returns an input rule that turns a bullet
// (dash, plush, or asterisk) at the start of a textblock into a
// bullet list.
function bulletListRule(nodeType) {
return dist_11$3(/^\s*([-+*])\s$/, nodeType)
}

// : (NodeType) → InputRule
// Given a code block node type, returns an input rule that turns a
// textblock starting with three backticks into a code block.
function codeBlockRule(nodeType) {
return dist_12$3(/^```$/, nodeType)
}

// : (NodeType, number) → InputRule
// Given a node type and a maximum level, creates an input rule that
// turns up to that number of `#` characters followed by a space at
// the start of a textblock into a heading whose level corresponds to
// the number of `#` signs.
function headingRule(nodeType, maxLevel) {
return dist_12$3(new RegExp("^(#{1," + maxLevel + "})\\s$"),
                          nodeType, match => ({level: match[1].length}))
}

// : (Schema) → Plugin
// A set of input rules for creating the basic block quotes, lists,
// code blocks, and heading.
function buildInputRules(schema) {
let rules = dist_10$3.concat(dist_5$5, dist_4$5), type;
if (type = schema.nodes.blockquote) rules.push(blockQuoteRule(type));
if (type = schema.nodes.ordered_list) rules.push(orderedListRule(type));
if (type = schema.nodes.bullet_list) rules.push(bulletListRule(type));
if (type = schema.nodes.code_block) rules.push(codeBlockRule(type));
if (type = schema.nodes.heading) rules.push(headingRule(type, 6));
return dist_2$6({rules})
}

const document$1 = {
  parseDOM: [{tag: "div"}],
  content: "paragraph entryCondition{0,1} (paragraph | test | exam)* exitCondition{0,1}",
  group: "block",
  toDOM() { return ["div", {class: 'ss_document'}, 0] },
  defining: true
};

const entryCondition = {
  attrs: {
    conditions: { default: [] },
  },
  parseDOM: [{tag: "div"}],
  toDOM() { return ["div", {class: 'ss_entry_condition'}, 0] },
  defining: true
};

const exitCondition = {
  attrs: {
    conditions: { default: [] },
  },
  parseDOM: [{tag: "div"}],
  toDOM() { return ["div", {class: 'ss_exit_condition'}, 0] },
  defining: true
};

function addDocumentNodes(nodes, itemContent, listGroup) {
  return nodes.append({
    document: document$1,
    entryCondition,
    exitCondition,
  })
}

const test = {
  attrs: {
    type: { default: '' },
  },
  parseDOM: [{tag: "div"}],
  content: "question{1} answer{4}",
  group: "block",
  toDOM() { return ["div", {class: 'ss_test'}, 0] },
};

const question = {
  content: "inline*",
  group: "block",
  parseDOM: [{tag: "div"}],
  toDOM() { return ["div", {class: 'ss_question'}, 0] },
};

const answer = {
  content: "inline*",
  group: "block",
  parseDOM: [{tag: "div"}],
  toDOM() { return ["div", {class: 'ss_answer'}, 0] },
};

function addTestNodes(nodes, itemContent, listGroup) {
  return nodes.append({
    test,
    question,
    answer,
  })
}

const exam = {
  parseDOM: [{tag: "div"}],
  content: "question{1} answer{1}",
  group: "block",
  toDOM() { return ["div", {class: 'ss_test'}, 0] },
};

function addExamNodes(nodes, itemContent, listGroup) {
  return nodes.append({
    exam,
  })
}

function exampleSetup(options) {
  let plugins = [
    buildInputRules(options.schema),
    keymap_2(buildKeymap(options.schema, options.mapKeys)),
    keymap_2(commands_24),
    dropcursor_1(),
    dist_1$4()
  ];
  if (options.menuBar !== false)
    plugins.push(dist_13$2({floating: options.floatingMenu !== false,
                          content: options.menuContent || buildMenuItems(options.schema).fullMenu}));
  if (options.history !== false)
    plugins.push(history_4());

  return plugins.concat(new dist_8({
    props: {
      attributes: {class: "ProseMirror-example-setup-style"}
    }
  }))
}

class DocumentView {
  constructor(node) {
    this.dom = this.contentDOM = document.createElement("div");
    this.dom.className = 'ss_document';
    this.dom.tabIndex = 0;
    this.dom.addEventListener("focus", e => {
      if (document.getElementsByTagName('select').length === 2) return;
      var toolbar = document.createElement("span");
      document.getElementById("toolbar").appendChild(toolbar);
      var select = document.createElement("select");
      select.style = "margin-bottom: 25px";
      toolbar.appendChild(select);
      var option = document.createElement("option");
      option.text = "---- Select ----";
      select.add(option);
      var option0 = document.createElement("option");
      option0.text = "Add entry condition";
      option0.value = "entry-condition";
      select.add(option0);
      var option2 = document.createElement("option");
      option2.text = "Add Lesson";
      option2.value = "question";
      select.add(option2);
      var option4 = document.createElement("option");
      option4.text = "Add Multiple Choice Lesson";
      option4.value = "question-2";
      select.add(option4);
      var option3 = document.createElement("option");
      option3.text = "Add Test";
      option3.value = "exam";
      select.add(option3);
      var option1 = document.createElement("option");
      option1.text = "Add exit condition";
      option1.value = "exit-condition";
      select.add(option1);
      select.addEventListener("change", (e) => {
        var val = e.target.options[e.target.selectedIndex].value;
        if (val === 'entry-condition' && !document.getElementById('entr-condition')) {
          var toolbar2 = document.createElement("div");
          toolbar2.id = "entr-condition";
          document.getElementById("toolbar").appendChild(toolbar2);
          toolbar2.style = "margin-bottom: 15px";

          var span0 = document.createElement("div");
          toolbar2.appendChild(span0);
          var checkbox = document.createElement("input");
          checkbox.type = 'checkbox';
          span0.appendChild(checkbox);
          var label = document.createElement("span");
          label.innerHTML = 'User is loggedin ! ';
          span0.appendChild(label);

          if (getLessons().length > 0) {
            var span1 = document.createElement("div");
            toolbar2.appendChild(span1);
            var checkbox1 = document.createElement("input");
            checkbox1.type = 'checkbox';
            span1.appendChild(checkbox1);
            var label1 = document.createElement("span");
            label1.innerHTML = 'User completed lessons:';
            span1.appendChild(label1);

            getLessons().forEach(l => {
              var spanN = document.createElement("div");
              spanN.style = "margin-left: 50px";
              span1.appendChild(spanN);
              var cbk = document.createElement("input");
              cbk.type = 'checkbox';
              cbk.className = 'lesson';
              cbk.value = l;
              spanN.appendChild(cbk);
              var lbl = document.createElement("span");
              lbl.innerHTML = l;
              spanN.appendChild(lbl);
            });
          }
          var button = document.createElement("input");
          button.type = 'button';
          button.value = 'Add !';
          button.style = "margin-top: 20px";
          toolbar2.appendChild(button);

          button.addEventListener("click", (e) => {
            const { state, dispatch } = view;
            const conditions = [];
            if (checkbox.checked) {
              conditions.push({name: 'user_loggedin'});
            }
            if (checkbox1 && checkbox1.checked) {
              var lessons = [];
              const les = document.getElementsByClassName('lesson');
              for(var i = 0;i < les.length;i++){
                var elm = les.item(i);
                if (elm.checked) {
                  lessons.push(elm.value);
                }
              }
              conditions.push({name: 'completed_lessons', lessons: lessons});
            }
            dispatch(state.tr.insert(
              state.selection.$to.pos,
              state.schema.nodes.entryCondition.createAndFill({conditions})
            ));
          });
        }
        if (val === 'exit-condition') {
          var toolbar2 = document.createElement("span");
          document.getElementById("toolbar").appendChild(toolbar2);
          var radio = document.createElement("input");
          radio.type = 'radio';
          toolbar2.appendChild(radio);
          var label = document.createElement("span");
          label.innerHTML = 'User has completed lessons !';
          toolbar2.appendChild(label);
          radio.addEventListener("click", (e) => {
            const { state, dispatch } = view;
            dispatch(state.tr.insert(state.selection.$to.pos, state.schema.nodes.exitCondition.createAndFill({conditions:['lessons_completed']})));
          });
        }
        if (val === 'question') {
          const { state, dispatch } = view;
          dispatch(state.tr.insert(state.selection.$to.pos, state.schema.nodes.test.createAndFill()));
        }
        if (val === 'question-2') {
          const { state, dispatch } = view;
          dispatch(state.tr.insert(state.selection.$to.pos, state.schema.nodes.test.createAndFill({type: 'multi-choice'})));
        }
        if (val === 'exam') {
          const { state, dispatch } = view;
          dispatch(state.tr.insert(state.selection.$to.pos, state.schema.nodes.exam.createAndFill()));
        }
      });
      select.addEventListener("blur", (e) => {
        e.target.value = '';
      });
    });
  }
  stopEvent() { return true }
}

class EntryConditionView {
  constructor(node) {
    this.dom = document.createElement("div");
    this.dom.className = 'ss_entry_condition';
    var text = '';
    node.attrs.conditions.forEach(c => {
      if (c.name === 'user_loggedin') {
        text += 'User should be loggedin.';
      }
      if (c.name === 'completed_lessons') {
        if (text.length > 0)
          text += '\n';
        text += 'User should have completed lessons: ' + c.lessons.join(',');
      }
    });
    this.dom.innerText = text;
  }
  stopEvent() { return true }
}

class ExitConditionView {
  constructor(node) {
    this.dom = document.createElement("div");
    this.dom.className = 'ss_exit_condition';
    this.dom.innerText = 'User has completed lessons';
  }
  stopEvent() { return true }
}

document.getElementById('editor_version').addEventListener("change", (e) => {
  var val = e.target.options[e.target.selectedIndex].value;
  location.search="?version=" + val;
});

var selVer = window.location.search && parseInt(window.location.search.substr(9));
const editor_versions = [];
const edit_ver = localStorage.getItem('editor_version');
if (edit_ver && edit_ver.length > 0) {
  var sel = document.getElementById('editor_version');
  edit_ver.split(',').forEach(val => {
    editor_versions.push(parseInt(val));
    var opt = document.createElement("option");
    opt.text = val + '.00';
    opt.value = val;
    sel.add(opt);
  });
  sel.value = selVer;
}

const mySchema = new dist_8$1({
  nodes: addDocumentNodes(addExamNodes(addTestNodes(schemaList_4(schemaBasic_3.spec.nodes, "paragraph block*", "block")))),
  marks: schemaBasic_3.spec.marks
});

var st;
if (editor_versions && editor_versions.length > 0 && selVer) {
  st = dist_7.create({
    doc: dist_1$1.fromJSON(mySchema, JSON.parse(localStorage.getItem('editor_version_' + selVer))), //DOMParser.fromSchema(mySchema).parse(document.querySelector("#content")),
    plugins: exampleSetup({schema: mySchema})
  });
} else {
  st = dist_7.create({
    doc: dist_12.fromSchema(mySchema).parse(document.querySelector("#content")),
    plugins: exampleSetup({schema: mySchema})
  });
}

const view = new dist_1$3(document.querySelector("#editor"), {
  state: st,
  nodeViews: {
    document(node) { return new DocumentView(node) },
    entryCondition(node) { return new EntryConditionView(node) },
    exitCondition(node) { return new ExitConditionView(node) }
  }
});

window.view = view;

function getLessons() {
  const json = view.state.doc.toJSON();
  var doc = json.content.filter(n => n.type === 'document');
  var lessons = [];
    doc && doc.forEach((d, i) => {
      if (d.content)
        lessons = lessons.concat(d.content.filter(n => n.type === 'test').map(e => 'Lesson ' + (i + 1)));
   });
   return lessons;
}

document.getElementById('json').addEventListener("click", (e) => {
  var new_Version = (editor_versions[editor_versions.length - 1] || 0) + 1;
  editor_versions.push(new_Version);
  localStorage.setItem('editor_version', editor_versions.join(','));
  localStorage.setItem('editor_version_' + new_Version, JSON.stringify(view.state.doc.toJSON()));

  var sel = document.getElementById('editor_version');
  var opt = document.createElement("option");
  opt.text = new_Version + '.00';
  opt.value = new_Version;
  sel.add(opt);

  var dataStr = "data:text/json;charset=utf-8," + encodeURIComponent(JSON.stringify(view.state.doc.toJSON(), null, 4));
  var dlAnchorElem = document.getElementById('downloadAnchorElem');
  dlAnchorElem.setAttribute("href",     dataStr     );
  dlAnchorElem.setAttribute("download", "scene.json");
  dlAnchorElem.click();
});

function onChange(event) {
  var reader = new FileReader();
  reader.onload = onReaderLoad;
  reader.readAsText(event.target.files[0]);
}

function onReaderLoad(event){
  var new_Version = (editor_versions[editor_versions.length - 1] || 0) + 1;
  editor_versions.push(new_Version);
  localStorage.setItem('editor_version', editor_versions.join(','));
  localStorage.setItem('editor_version_' + new_Version, event.target.result);

  var sel = document.getElementById('editor_version');
  var opt = document.createElement("option");
  opt.text = new_Version + '.00';
  opt.value = new_Version;
  sel.add(opt);

  location.search="?version=" + new_Version;
}

document.getElementById('file').addEventListener('change', onChange);

}());
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcmRlcmVkbWFwL2luZGV4LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Byb3NlbWlycm9yLW1vZGVsL2Rpc3QvaW5kZXguanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvcHJvc2VtaXJyb3ItdHJhbnNmb3JtL2Rpc3QvaW5kZXguanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvcHJvc2VtaXJyb3Itc3RhdGUvZGlzdC9pbmRleC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9wcm9zZW1pcnJvci12aWV3L2Rpc3QvaW5kZXguanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvcHJvc2VtaXJyb3Itc2NoZW1hLWJhc2ljL2Rpc3Qvc2NoZW1hLWJhc2ljLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Byb3NlbWlycm9yLXNjaGVtYS1saXN0L2Rpc3Qvc2NoZW1hLWxpc3QuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvdzNjLWtleW5hbWUvaW5kZXguanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvcHJvc2VtaXJyb3Ita2V5bWFwL2Rpc3Qva2V5bWFwLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3JvcGUtc2VxdWVuY2UvZGlzdC9pbmRleC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9wcm9zZW1pcnJvci1oaXN0b3J5L2Rpc3QvaGlzdG9yeS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9wcm9zZW1pcnJvci1jb21tYW5kcy9kaXN0L2NvbW1hbmRzLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Byb3NlbWlycm9yLWRyb3BjdXJzb3IvZGlzdC9kcm9wY3Vyc29yLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Byb3NlbWlycm9yLWdhcGN1cnNvci9kaXN0L2luZGV4LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2NyZWwvY3JlbC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9wcm9zZW1pcnJvci1tZW51L2Rpc3QvaW5kZXguanMiLCIuLi8uLi8uLi9zcmMvcHJvbXB0LmpzIiwiLi4vLi4vLi4vc3JjL21lbnUuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvcHJvc2VtaXJyb3ItaW5wdXRydWxlcy9kaXN0L2luZGV4LmpzIiwiLi4vLi4vLi4vc3JjL2tleW1hcC5qcyIsIi4uLy4uLy4uL3NyYy9pbnB1dHJ1bGVzLmpzIiwiLi4vLi4vLi4vc3JjL3NjaGVtYS9kb2N1bWVudC5qcyIsIi4uLy4uLy4uL3NyYy9zY2hlbWEvdGVzdC5qcyIsIi4uLy4uLy4uL3NyYy9zY2hlbWEvZXhhbS5qcyIsIi4uLy4uLy4uL3NyYy9pbmRleC5qcyIsIi4uLy4uL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIDo6LSBQZXJzaXN0ZW50IGRhdGEgc3RydWN0dXJlIHJlcHJlc2VudGluZyBhbiBvcmRlcmVkIG1hcHBpbmcgZnJvbVxuLy8gc3RyaW5ncyB0byB2YWx1ZXMsIHdpdGggc29tZSBjb252ZW5pZW50IHVwZGF0ZSBtZXRob2RzLlxuZnVuY3Rpb24gT3JkZXJlZE1hcChjb250ZW50KSB7XG4gIHRoaXMuY29udGVudCA9IGNvbnRlbnRcbn1cblxuT3JkZXJlZE1hcC5wcm90b3R5cGUgPSB7XG4gIGNvbnN0cnVjdG9yOiBPcmRlcmVkTWFwLFxuXG4gIGZpbmQ6IGZ1bmN0aW9uKGtleSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jb250ZW50Lmxlbmd0aDsgaSArPSAyKVxuICAgICAgaWYgKHRoaXMuY29udGVudFtpXSA9PT0ga2V5KSByZXR1cm4gaVxuICAgIHJldHVybiAtMVxuICB9LFxuXG4gIC8vIDo6IChzdHJpbmcpIOKGkiA/YW55XG4gIC8vIFJldHJpZXZlIHRoZSB2YWx1ZSBzdG9yZWQgdW5kZXIgYGtleWAsIG9yIHJldHVybiB1bmRlZmluZWQgd2hlblxuICAvLyBubyBzdWNoIGtleSBleGlzdHMuXG4gIGdldDogZnVuY3Rpb24oa2V5KSB7XG4gICAgdmFyIGZvdW5kID0gdGhpcy5maW5kKGtleSlcbiAgICByZXR1cm4gZm91bmQgPT0gLTEgPyB1bmRlZmluZWQgOiB0aGlzLmNvbnRlbnRbZm91bmQgKyAxXVxuICB9LFxuXG4gIC8vIDo6IChzdHJpbmcsIGFueSwgP3N0cmluZykg4oaSIE9yZGVyZWRNYXBcbiAgLy8gQ3JlYXRlIGEgbmV3IG1hcCBieSByZXBsYWNpbmcgdGhlIHZhbHVlIG9mIGBrZXlgIHdpdGggYSBuZXdcbiAgLy8gdmFsdWUsIG9yIGFkZGluZyBhIGJpbmRpbmcgdG8gdGhlIGVuZCBvZiB0aGUgbWFwLiBJZiBgbmV3S2V5YCBpc1xuICAvLyBnaXZlbiwgdGhlIGtleSBvZiB0aGUgYmluZGluZyB3aWxsIGJlIHJlcGxhY2VkIHdpdGggdGhhdCBrZXkuXG4gIHVwZGF0ZTogZnVuY3Rpb24oa2V5LCB2YWx1ZSwgbmV3S2V5KSB7XG4gICAgdmFyIHNlbGYgPSBuZXdLZXkgJiYgbmV3S2V5ICE9IGtleSA/IHRoaXMucmVtb3ZlKG5ld0tleSkgOiB0aGlzXG4gICAgdmFyIGZvdW5kID0gc2VsZi5maW5kKGtleSksIGNvbnRlbnQgPSBzZWxmLmNvbnRlbnQuc2xpY2UoKVxuICAgIGlmIChmb3VuZCA9PSAtMSkge1xuICAgICAgY29udGVudC5wdXNoKG5ld0tleSB8fCBrZXksIHZhbHVlKVxuICAgIH0gZWxzZSB7XG4gICAgICBjb250ZW50W2ZvdW5kICsgMV0gPSB2YWx1ZVxuICAgICAgaWYgKG5ld0tleSkgY29udGVudFtmb3VuZF0gPSBuZXdLZXlcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBPcmRlcmVkTWFwKGNvbnRlbnQpXG4gIH0sXG5cbiAgLy8gOjogKHN0cmluZykg4oaSIE9yZGVyZWRNYXBcbiAgLy8gUmV0dXJuIGEgbWFwIHdpdGggdGhlIGdpdmVuIGtleSByZW1vdmVkLCBpZiBpdCBleGlzdGVkLlxuICByZW1vdmU6IGZ1bmN0aW9uKGtleSkge1xuICAgIHZhciBmb3VuZCA9IHRoaXMuZmluZChrZXkpXG4gICAgaWYgKGZvdW5kID09IC0xKSByZXR1cm4gdGhpc1xuICAgIHZhciBjb250ZW50ID0gdGhpcy5jb250ZW50LnNsaWNlKClcbiAgICBjb250ZW50LnNwbGljZShmb3VuZCwgMilcbiAgICByZXR1cm4gbmV3IE9yZGVyZWRNYXAoY29udGVudClcbiAgfSxcblxuICAvLyA6OiAoc3RyaW5nLCBhbnkpIOKGkiBPcmRlcmVkTWFwXG4gIC8vIEFkZCBhIG5ldyBrZXkgdG8gdGhlIHN0YXJ0IG9mIHRoZSBtYXAuXG4gIGFkZFRvU3RhcnQ6IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICByZXR1cm4gbmV3IE9yZGVyZWRNYXAoW2tleSwgdmFsdWVdLmNvbmNhdCh0aGlzLnJlbW92ZShrZXkpLmNvbnRlbnQpKVxuICB9LFxuXG4gIC8vIDo6IChzdHJpbmcsIGFueSkg4oaSIE9yZGVyZWRNYXBcbiAgLy8gQWRkIGEgbmV3IGtleSB0byB0aGUgZW5kIG9mIHRoZSBtYXAuXG4gIGFkZFRvRW5kOiBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgdmFyIGNvbnRlbnQgPSB0aGlzLnJlbW92ZShrZXkpLmNvbnRlbnQuc2xpY2UoKVxuICAgIGNvbnRlbnQucHVzaChrZXksIHZhbHVlKVxuICAgIHJldHVybiBuZXcgT3JkZXJlZE1hcChjb250ZW50KVxuICB9LFxuXG4gIC8vIDo6IChzdHJpbmcsIHN0cmluZywgYW55KSDihpIgT3JkZXJlZE1hcFxuICAvLyBBZGQgYSBrZXkgYWZ0ZXIgdGhlIGdpdmVuIGtleS4gSWYgYHBsYWNlYCBpcyBub3QgZm91bmQsIHRoZSBuZXdcbiAgLy8ga2V5IGlzIGFkZGVkIHRvIHRoZSBlbmQuXG4gIGFkZEJlZm9yZTogZnVuY3Rpb24ocGxhY2UsIGtleSwgdmFsdWUpIHtcbiAgICB2YXIgd2l0aG91dCA9IHRoaXMucmVtb3ZlKGtleSksIGNvbnRlbnQgPSB3aXRob3V0LmNvbnRlbnQuc2xpY2UoKVxuICAgIHZhciBmb3VuZCA9IHdpdGhvdXQuZmluZChwbGFjZSlcbiAgICBjb250ZW50LnNwbGljZShmb3VuZCA9PSAtMSA/IGNvbnRlbnQubGVuZ3RoIDogZm91bmQsIDAsIGtleSwgdmFsdWUpXG4gICAgcmV0dXJuIG5ldyBPcmRlcmVkTWFwKGNvbnRlbnQpXG4gIH0sXG5cbiAgLy8gOjogKChrZXk6IHN0cmluZywgdmFsdWU6IGFueSkpXG4gIC8vIENhbGwgdGhlIGdpdmVuIGZ1bmN0aW9uIGZvciBlYWNoIGtleS92YWx1ZSBwYWlyIGluIHRoZSBtYXAsIGluXG4gIC8vIG9yZGVyLlxuICBmb3JFYWNoOiBmdW5jdGlvbihmKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNvbnRlbnQubGVuZ3RoOyBpICs9IDIpXG4gICAgICBmKHRoaXMuY29udGVudFtpXSwgdGhpcy5jb250ZW50W2kgKyAxXSlcbiAgfSxcblxuICAvLyA6OiAodW5pb248T2JqZWN0LCBPcmRlcmVkTWFwPikg4oaSIE9yZGVyZWRNYXBcbiAgLy8gQ3JlYXRlIGEgbmV3IG1hcCBieSBwcmVwZW5kaW5nIHRoZSBrZXlzIGluIHRoaXMgbWFwIHRoYXQgZG9uJ3RcbiAgLy8gYXBwZWFyIGluIGBtYXBgIGJlZm9yZSB0aGUga2V5cyBpbiBgbWFwYC5cbiAgcHJlcGVuZDogZnVuY3Rpb24obWFwKSB7XG4gICAgbWFwID0gT3JkZXJlZE1hcC5mcm9tKG1hcClcbiAgICBpZiAoIW1hcC5zaXplKSByZXR1cm4gdGhpc1xuICAgIHJldHVybiBuZXcgT3JkZXJlZE1hcChtYXAuY29udGVudC5jb25jYXQodGhpcy5zdWJ0cmFjdChtYXApLmNvbnRlbnQpKVxuICB9LFxuXG4gIC8vIDo6ICh1bmlvbjxPYmplY3QsIE9yZGVyZWRNYXA+KSDihpIgT3JkZXJlZE1hcFxuICAvLyBDcmVhdGUgYSBuZXcgbWFwIGJ5IGFwcGVuZGluZyB0aGUga2V5cyBpbiB0aGlzIG1hcCB0aGF0IGRvbid0XG4gIC8vIGFwcGVhciBpbiBgbWFwYCBhZnRlciB0aGUga2V5cyBpbiBgbWFwYC5cbiAgYXBwZW5kOiBmdW5jdGlvbihtYXApIHtcbiAgICBtYXAgPSBPcmRlcmVkTWFwLmZyb20obWFwKVxuICAgIGlmICghbWFwLnNpemUpIHJldHVybiB0aGlzXG4gICAgcmV0dXJuIG5ldyBPcmRlcmVkTWFwKHRoaXMuc3VidHJhY3QobWFwKS5jb250ZW50LmNvbmNhdChtYXAuY29udGVudCkpXG4gIH0sXG5cbiAgLy8gOjogKHVuaW9uPE9iamVjdCwgT3JkZXJlZE1hcD4pIOKGkiBPcmRlcmVkTWFwXG4gIC8vIENyZWF0ZSBhIG1hcCBjb250YWluaW5nIGFsbCB0aGUga2V5cyBpbiB0aGlzIG1hcCB0aGF0IGRvbid0XG4gIC8vIGFwcGVhciBpbiBgbWFwYC5cbiAgc3VidHJhY3Q6IGZ1bmN0aW9uKG1hcCkge1xuICAgIHZhciByZXN1bHQgPSB0aGlzXG4gICAgbWFwID0gT3JkZXJlZE1hcC5mcm9tKG1hcClcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1hcC5jb250ZW50Lmxlbmd0aDsgaSArPSAyKVxuICAgICAgcmVzdWx0ID0gcmVzdWx0LnJlbW92ZShtYXAuY29udGVudFtpXSlcbiAgICByZXR1cm4gcmVzdWx0XG4gIH0sXG5cbiAgLy8gOjogbnVtYmVyXG4gIC8vIFRoZSBhbW91bnQgb2Yga2V5cyBpbiB0aGlzIG1hcC5cbiAgZ2V0IHNpemUoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGVudC5sZW5ndGggPj4gMVxuICB9XG59XG5cbi8vIDo6ICg/dW5pb248T2JqZWN0LCBPcmRlcmVkTWFwPikg4oaSIE9yZGVyZWRNYXBcbi8vIFJldHVybiBhIG1hcCB3aXRoIHRoZSBnaXZlbiBjb250ZW50LiBJZiBudWxsLCBjcmVhdGUgYW4gZW1wdHlcbi8vIG1hcC4gSWYgZ2l2ZW4gYW4gb3JkZXJlZCBtYXAsIHJldHVybiB0aGF0IG1hcCBpdHNlbGYuIElmIGdpdmVuIGFuXG4vLyBvYmplY3QsIGNyZWF0ZSBhIG1hcCBmcm9tIHRoZSBvYmplY3QncyBwcm9wZXJ0aWVzLlxuT3JkZXJlZE1hcC5mcm9tID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgaWYgKHZhbHVlIGluc3RhbmNlb2YgT3JkZXJlZE1hcCkgcmV0dXJuIHZhbHVlXG4gIHZhciBjb250ZW50ID0gW11cbiAgaWYgKHZhbHVlKSBmb3IgKHZhciBwcm9wIGluIHZhbHVlKSBjb250ZW50LnB1c2gocHJvcCwgdmFsdWVbcHJvcF0pXG4gIHJldHVybiBuZXcgT3JkZXJlZE1hcChjb250ZW50KVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IE9yZGVyZWRNYXBcbiIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcblxuZnVuY3Rpb24gX2ludGVyb3BEZWZhdWx0IChleCkgeyByZXR1cm4gKGV4ICYmICh0eXBlb2YgZXggPT09ICdvYmplY3QnKSAmJiAnZGVmYXVsdCcgaW4gZXgpID8gZXhbJ2RlZmF1bHQnXSA6IGV4OyB9XG5cbnZhciBPcmRlcmVkTWFwID0gX2ludGVyb3BEZWZhdWx0KHJlcXVpcmUoJ29yZGVyZWRtYXAnKSk7XG5cbmZ1bmN0aW9uIGZpbmREaWZmU3RhcnQoYSwgYiwgcG9zKSB7XG4gIGZvciAodmFyIGkgPSAwOzsgaSsrKSB7XG4gICAgaWYgKGkgPT0gYS5jaGlsZENvdW50IHx8IGkgPT0gYi5jaGlsZENvdW50KVxuICAgICAgeyByZXR1cm4gYS5jaGlsZENvdW50ID09IGIuY2hpbGRDb3VudCA/IG51bGwgOiBwb3MgfVxuXG4gICAgdmFyIGNoaWxkQSA9IGEuY2hpbGQoaSksIGNoaWxkQiA9IGIuY2hpbGQoaSk7XG4gICAgaWYgKGNoaWxkQSA9PSBjaGlsZEIpIHsgcG9zICs9IGNoaWxkQS5ub2RlU2l6ZTsgY29udGludWUgfVxuXG4gICAgaWYgKCFjaGlsZEEuc2FtZU1hcmt1cChjaGlsZEIpKSB7IHJldHVybiBwb3MgfVxuXG4gICAgaWYgKGNoaWxkQS5pc1RleHQgJiYgY2hpbGRBLnRleHQgIT0gY2hpbGRCLnRleHQpIHtcbiAgICAgIGZvciAodmFyIGogPSAwOyBjaGlsZEEudGV4dFtqXSA9PSBjaGlsZEIudGV4dFtqXTsgaisrKVxuICAgICAgICB7IHBvcysrOyB9XG4gICAgICByZXR1cm4gcG9zXG4gICAgfVxuICAgIGlmIChjaGlsZEEuY29udGVudC5zaXplIHx8IGNoaWxkQi5jb250ZW50LnNpemUpIHtcbiAgICAgIHZhciBpbm5lciA9IGZpbmREaWZmU3RhcnQoY2hpbGRBLmNvbnRlbnQsIGNoaWxkQi5jb250ZW50LCBwb3MgKyAxKTtcbiAgICAgIGlmIChpbm5lciAhPSBudWxsKSB7IHJldHVybiBpbm5lciB9XG4gICAgfVxuICAgIHBvcyArPSBjaGlsZEEubm9kZVNpemU7XG4gIH1cbn1cblxuZnVuY3Rpb24gZmluZERpZmZFbmQoYSwgYiwgcG9zQSwgcG9zQikge1xuICBmb3IgKHZhciBpQSA9IGEuY2hpbGRDb3VudCwgaUIgPSBiLmNoaWxkQ291bnQ7Oykge1xuICAgIGlmIChpQSA9PSAwIHx8IGlCID09IDApXG4gICAgICB7IHJldHVybiBpQSA9PSBpQiA/IG51bGwgOiB7YTogcG9zQSwgYjogcG9zQn0gfVxuXG4gICAgdmFyIGNoaWxkQSA9IGEuY2hpbGQoLS1pQSksIGNoaWxkQiA9IGIuY2hpbGQoLS1pQiksIHNpemUgPSBjaGlsZEEubm9kZVNpemU7XG4gICAgaWYgKGNoaWxkQSA9PSBjaGlsZEIpIHtcbiAgICAgIHBvc0EgLT0gc2l6ZTsgcG9zQiAtPSBzaXplO1xuICAgICAgY29udGludWVcbiAgICB9XG5cbiAgICBpZiAoIWNoaWxkQS5zYW1lTWFya3VwKGNoaWxkQikpIHsgcmV0dXJuIHthOiBwb3NBLCBiOiBwb3NCfSB9XG5cbiAgICBpZiAoY2hpbGRBLmlzVGV4dCAmJiBjaGlsZEEudGV4dCAhPSBjaGlsZEIudGV4dCkge1xuICAgICAgdmFyIHNhbWUgPSAwLCBtaW5TaXplID0gTWF0aC5taW4oY2hpbGRBLnRleHQubGVuZ3RoLCBjaGlsZEIudGV4dC5sZW5ndGgpO1xuICAgICAgd2hpbGUgKHNhbWUgPCBtaW5TaXplICYmIGNoaWxkQS50ZXh0W2NoaWxkQS50ZXh0Lmxlbmd0aCAtIHNhbWUgLSAxXSA9PSBjaGlsZEIudGV4dFtjaGlsZEIudGV4dC5sZW5ndGggLSBzYW1lIC0gMV0pIHtcbiAgICAgICAgc2FtZSsrOyBwb3NBLS07IHBvc0ItLTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7YTogcG9zQSwgYjogcG9zQn1cbiAgICB9XG4gICAgaWYgKGNoaWxkQS5jb250ZW50LnNpemUgfHwgY2hpbGRCLmNvbnRlbnQuc2l6ZSkge1xuICAgICAgdmFyIGlubmVyID0gZmluZERpZmZFbmQoY2hpbGRBLmNvbnRlbnQsIGNoaWxkQi5jb250ZW50LCBwb3NBIC0gMSwgcG9zQiAtIDEpO1xuICAgICAgaWYgKGlubmVyKSB7IHJldHVybiBpbm5lciB9XG4gICAgfVxuICAgIHBvc0EgLT0gc2l6ZTsgcG9zQiAtPSBzaXplO1xuICB9XG59XG5cbi8vIDo6LSBBIGZyYWdtZW50IHJlcHJlc2VudHMgYSBub2RlJ3MgY29sbGVjdGlvbiBvZiBjaGlsZCBub2Rlcy5cbi8vXG4vLyBMaWtlIG5vZGVzLCBmcmFnbWVudHMgYXJlIHBlcnNpc3RlbnQgZGF0YSBzdHJ1Y3R1cmVzLCBhbmQgeW91XG4vLyBzaG91bGQgbm90IG11dGF0ZSB0aGVtIG9yIHRoZWlyIGNvbnRlbnQuIFJhdGhlciwgeW91IGNyZWF0ZSBuZXdcbi8vIGluc3RhbmNlcyB3aGVuZXZlciBuZWVkZWQuIFRoZSBBUEkgdHJpZXMgdG8gbWFrZSB0aGlzIGVhc3kuXG52YXIgRnJhZ21lbnQgPSBmdW5jdGlvbiBGcmFnbWVudChjb250ZW50LCBzaXplKSB7XG4gIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gIHRoaXMuY29udGVudCA9IGNvbnRlbnQ7XG4gIC8vIDo6IG51bWJlclxuICAvLyBUaGUgc2l6ZSBvZiB0aGUgZnJhZ21lbnQsIHdoaWNoIGlzIHRoZSB0b3RhbCBvZiB0aGUgc2l6ZSBvZiBpdHNcbiAgLy8gY29udGVudCBub2Rlcy5cbiAgdGhpcy5zaXplID0gc2l6ZSB8fCAwO1xuICBpZiAoc2l6ZSA9PSBudWxsKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgY29udGVudC5sZW5ndGg7IGkrKylcbiAgICB7IHRoaXMkMS5zaXplICs9IGNvbnRlbnRbaV0ubm9kZVNpemU7IH0gfVxufTtcblxudmFyIHByb3RvdHlwZUFjY2Vzc29ycyQxID0geyBmaXJzdENoaWxkOiB7fSxsYXN0Q2hpbGQ6IHt9LGNoaWxkQ291bnQ6IHt9IH07XG5cbi8vIDo6IChudW1iZXIsIG51bWJlciwgKG5vZGU6IE5vZGUsIHN0YXJ0OiBudW1iZXIsIHBhcmVudDogTm9kZSwgaW5kZXg6IG51bWJlcikg4oaSID9ib29sLCA/bnVtYmVyKVxuLy8gSW52b2tlIGEgY2FsbGJhY2sgZm9yIGFsbCBkZXNjZW5kYW50IG5vZGVzIGJldHdlZW4gdGhlIGdpdmVuIHR3b1xuLy8gcG9zaXRpb25zIChyZWxhdGl2ZSB0byBzdGFydCBvZiB0aGlzIGZyYWdtZW50KS4gRG9lc24ndCBkZXNjZW5kXG4vLyBpbnRvIGEgbm9kZSB3aGVuIHRoZSBjYWxsYmFjayByZXR1cm5zIGBmYWxzZWAuXG5GcmFnbWVudC5wcm90b3R5cGUubm9kZXNCZXR3ZWVuID0gZnVuY3Rpb24gbm9kZXNCZXR3ZWVuIChmcm9tLCB0bywgZiwgbm9kZVN0YXJ0LCBwYXJlbnQpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcbiAgICBpZiAoIG5vZGVTdGFydCA9PT0gdm9pZCAwICkgbm9kZVN0YXJ0ID0gMDtcblxuICBmb3IgKHZhciBpID0gMCwgcG9zID0gMDsgcG9zIDwgdG87IGkrKykge1xuICAgIHZhciBjaGlsZCA9IHRoaXMkMS5jb250ZW50W2ldLCBlbmQgPSBwb3MgKyBjaGlsZC5ub2RlU2l6ZTtcbiAgICBpZiAoZW5kID4gZnJvbSAmJiBmKGNoaWxkLCBub2RlU3RhcnQgKyBwb3MsIHBhcmVudCwgaSkgIT09IGZhbHNlICYmIGNoaWxkLmNvbnRlbnQuc2l6ZSkge1xuICAgICAgdmFyIHN0YXJ0ID0gcG9zICsgMTtcbiAgICAgIGNoaWxkLm5vZGVzQmV0d2VlbihNYXRoLm1heCgwLCBmcm9tIC0gc3RhcnQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWluKGNoaWxkLmNvbnRlbnQuc2l6ZSwgdG8gLSBzdGFydCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgZiwgbm9kZVN0YXJ0ICsgc3RhcnQpO1xuICAgIH1cbiAgICBwb3MgPSBlbmQ7XG4gIH1cbn07XG5cbi8vIDo6ICgobm9kZTogTm9kZSwgcG9zOiBudW1iZXIsIHBhcmVudDogTm9kZSkg4oaSID9ib29sKVxuLy8gQ2FsbCB0aGUgZ2l2ZW4gY2FsbGJhY2sgZm9yIGV2ZXJ5IGRlc2NlbmRhbnQgbm9kZS4gVGhlIGNhbGxiYWNrXG4vLyBtYXkgcmV0dXJuIGBmYWxzZWAgdG8gcHJldmVudCB0cmF2ZXJzYWwgb2YgYSBnaXZlbiBub2RlJ3MgY2hpbGRyZW4uXG5GcmFnbWVudC5wcm90b3R5cGUuZGVzY2VuZGFudHMgPSBmdW5jdGlvbiBkZXNjZW5kYW50cyAoZikge1xuICB0aGlzLm5vZGVzQmV0d2VlbigwLCB0aGlzLnNpemUsIGYpO1xufTtcblxuLy8gOiAobnVtYmVyLCBudW1iZXIsID9zdHJpbmcsID9zdHJpbmcpIOKGkiBzdHJpbmdcbkZyYWdtZW50LnByb3RvdHlwZS50ZXh0QmV0d2VlbiA9IGZ1bmN0aW9uIHRleHRCZXR3ZWVuIChmcm9tLCB0bywgYmxvY2tTZXBhcmF0b3IsIGxlYWZUZXh0KSB7XG4gIHZhciB0ZXh0ID0gXCJcIiwgc2VwYXJhdGVkID0gdHJ1ZTtcbiAgdGhpcy5ub2Rlc0JldHdlZW4oZnJvbSwgdG8sIGZ1bmN0aW9uIChub2RlLCBwb3MpIHtcbiAgICBpZiAobm9kZS5pc1RleHQpIHtcbiAgICAgIHRleHQgKz0gbm9kZS50ZXh0LnNsaWNlKE1hdGgubWF4KGZyb20sIHBvcykgLSBwb3MsIHRvIC0gcG9zKTtcbiAgICAgIHNlcGFyYXRlZCA9ICFibG9ja1NlcGFyYXRvcjtcbiAgICB9IGVsc2UgaWYgKG5vZGUuaXNMZWFmICYmIGxlYWZUZXh0KSB7XG4gICAgICB0ZXh0ICs9IGxlYWZUZXh0O1xuICAgICAgc2VwYXJhdGVkID0gIWJsb2NrU2VwYXJhdG9yO1xuICAgIH0gZWxzZSBpZiAoIXNlcGFyYXRlZCAmJiBub2RlLmlzQmxvY2spIHtcbiAgICAgIHRleHQgKz0gYmxvY2tTZXBhcmF0b3I7XG4gICAgICBzZXBhcmF0ZWQgPSB0cnVlO1xuICAgIH1cbiAgfSwgMCk7XG4gIHJldHVybiB0ZXh0XG59O1xuXG4vLyA6OiAoRnJhZ21lbnQpIOKGkiBGcmFnbWVudFxuLy8gQ3JlYXRlIGEgbmV3IGZyYWdtZW50IGNvbnRhaW5pbmcgdGhlIGNvbWJpbmVkIGNvbnRlbnQgb2YgdGhpc1xuLy8gZnJhZ21lbnQgYW5kIHRoZSBvdGhlci5cbkZyYWdtZW50LnByb3RvdHlwZS5hcHBlbmQgPSBmdW5jdGlvbiBhcHBlbmQgKG90aGVyKSB7XG4gIGlmICghb3RoZXIuc2l6ZSkgeyByZXR1cm4gdGhpcyB9XG4gIGlmICghdGhpcy5zaXplKSB7IHJldHVybiBvdGhlciB9XG4gIHZhciBsYXN0ID0gdGhpcy5sYXN0Q2hpbGQsIGZpcnN0ID0gb3RoZXIuZmlyc3RDaGlsZCwgY29udGVudCA9IHRoaXMuY29udGVudC5zbGljZSgpLCBpID0gMDtcbiAgaWYgKGxhc3QuaXNUZXh0ICYmIGxhc3Quc2FtZU1hcmt1cChmaXJzdCkpIHtcbiAgICBjb250ZW50W2NvbnRlbnQubGVuZ3RoIC0gMV0gPSBsYXN0LndpdGhUZXh0KGxhc3QudGV4dCArIGZpcnN0LnRleHQpO1xuICAgIGkgPSAxO1xuICB9XG4gIGZvciAoOyBpIDwgb3RoZXIuY29udGVudC5sZW5ndGg7IGkrKykgeyBjb250ZW50LnB1c2gob3RoZXIuY29udGVudFtpXSk7IH1cbiAgcmV0dXJuIG5ldyBGcmFnbWVudChjb250ZW50LCB0aGlzLnNpemUgKyBvdGhlci5zaXplKVxufTtcblxuLy8gOjogKG51bWJlciwgP251bWJlcikg4oaSIEZyYWdtZW50XG4vLyBDdXQgb3V0IHRoZSBzdWItZnJhZ21lbnQgYmV0d2VlbiB0aGUgdHdvIGdpdmVuIHBvc2l0aW9ucy5cbkZyYWdtZW50LnByb3RvdHlwZS5jdXQgPSBmdW5jdGlvbiBjdXQgKGZyb20sIHRvKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgaWYgKHRvID09IG51bGwpIHsgdG8gPSB0aGlzLnNpemU7IH1cbiAgaWYgKGZyb20gPT0gMCAmJiB0byA9PSB0aGlzLnNpemUpIHsgcmV0dXJuIHRoaXMgfVxuICB2YXIgcmVzdWx0ID0gW10sIHNpemUgPSAwO1xuICBpZiAodG8gPiBmcm9tKSB7IGZvciAodmFyIGkgPSAwLCBwb3MgPSAwOyBwb3MgPCB0bzsgaSsrKSB7XG4gICAgdmFyIGNoaWxkID0gdGhpcyQxLmNvbnRlbnRbaV0sIGVuZCA9IHBvcyArIGNoaWxkLm5vZGVTaXplO1xuICAgIGlmIChlbmQgPiBmcm9tKSB7XG4gICAgICBpZiAocG9zIDwgZnJvbSB8fCBlbmQgPiB0bykge1xuICAgICAgICBpZiAoY2hpbGQuaXNUZXh0KVxuICAgICAgICAgIHsgY2hpbGQgPSBjaGlsZC5jdXQoTWF0aC5tYXgoMCwgZnJvbSAtIHBvcyksIE1hdGgubWluKGNoaWxkLnRleHQubGVuZ3RoLCB0byAtIHBvcykpOyB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICB7IGNoaWxkID0gY2hpbGQuY3V0KE1hdGgubWF4KDAsIGZyb20gLSBwb3MgLSAxKSwgTWF0aC5taW4oY2hpbGQuY29udGVudC5zaXplLCB0byAtIHBvcyAtIDEpKTsgfVxuICAgICAgfVxuICAgICAgcmVzdWx0LnB1c2goY2hpbGQpO1xuICAgICAgc2l6ZSArPSBjaGlsZC5ub2RlU2l6ZTtcbiAgICB9XG4gICAgcG9zID0gZW5kO1xuICB9IH1cbiAgcmV0dXJuIG5ldyBGcmFnbWVudChyZXN1bHQsIHNpemUpXG59O1xuXG5GcmFnbWVudC5wcm90b3R5cGUuY3V0QnlJbmRleCA9IGZ1bmN0aW9uIGN1dEJ5SW5kZXggKGZyb20sIHRvKSB7XG4gIGlmIChmcm9tID09IHRvKSB7IHJldHVybiBGcmFnbWVudC5lbXB0eSB9XG4gIGlmIChmcm9tID09IDAgJiYgdG8gPT0gdGhpcy5jb250ZW50Lmxlbmd0aCkgeyByZXR1cm4gdGhpcyB9XG4gIHJldHVybiBuZXcgRnJhZ21lbnQodGhpcy5jb250ZW50LnNsaWNlKGZyb20sIHRvKSlcbn07XG5cbi8vIDo6IChudW1iZXIsIE5vZGUpIOKGkiBGcmFnbWVudFxuLy8gQ3JlYXRlIGEgbmV3IGZyYWdtZW50IGluIHdoaWNoIHRoZSBub2RlIGF0IHRoZSBnaXZlbiBpbmRleCBpc1xuLy8gcmVwbGFjZWQgYnkgdGhlIGdpdmVuIG5vZGUuXG5GcmFnbWVudC5wcm90b3R5cGUucmVwbGFjZUNoaWxkID0gZnVuY3Rpb24gcmVwbGFjZUNoaWxkIChpbmRleCwgbm9kZSkge1xuICB2YXIgY3VycmVudCA9IHRoaXMuY29udGVudFtpbmRleF07XG4gIGlmIChjdXJyZW50ID09IG5vZGUpIHsgcmV0dXJuIHRoaXMgfVxuICB2YXIgY29weSA9IHRoaXMuY29udGVudC5zbGljZSgpO1xuICB2YXIgc2l6ZSA9IHRoaXMuc2l6ZSArIG5vZGUubm9kZVNpemUgLSBjdXJyZW50Lm5vZGVTaXplO1xuICBjb3B5W2luZGV4XSA9IG5vZGU7XG4gIHJldHVybiBuZXcgRnJhZ21lbnQoY29weSwgc2l6ZSlcbn07XG5cbi8vIDogKE5vZGUpIOKGkiBGcmFnbWVudFxuLy8gQ3JlYXRlIGEgbmV3IGZyYWdtZW50IGJ5IHByZXBlbmRpbmcgdGhlIGdpdmVuIG5vZGUgdG8gdGhpc1xuLy8gZnJhZ21lbnQuXG5GcmFnbWVudC5wcm90b3R5cGUuYWRkVG9TdGFydCA9IGZ1bmN0aW9uIGFkZFRvU3RhcnQgKG5vZGUpIHtcbiAgcmV0dXJuIG5ldyBGcmFnbWVudChbbm9kZV0uY29uY2F0KHRoaXMuY29udGVudCksIHRoaXMuc2l6ZSArIG5vZGUubm9kZVNpemUpXG59O1xuXG4vLyA6IChOb2RlKSDihpIgRnJhZ21lbnRcbi8vIENyZWF0ZSBhIG5ldyBmcmFnbWVudCBieSBhcHBlbmRpbmcgdGhlIGdpdmVuIG5vZGUgdG8gdGhpc1xuLy8gZnJhZ21lbnQuXG5GcmFnbWVudC5wcm90b3R5cGUuYWRkVG9FbmQgPSBmdW5jdGlvbiBhZGRUb0VuZCAobm9kZSkge1xuICByZXR1cm4gbmV3IEZyYWdtZW50KHRoaXMuY29udGVudC5jb25jYXQobm9kZSksIHRoaXMuc2l6ZSArIG5vZGUubm9kZVNpemUpXG59O1xuXG4vLyA6OiAoRnJhZ21lbnQpIOKGkiBib29sXG4vLyBDb21wYXJlIHRoaXMgZnJhZ21lbnQgdG8gYW5vdGhlciBvbmUuXG5GcmFnbWVudC5wcm90b3R5cGUuZXEgPSBmdW5jdGlvbiBlcSAob3RoZXIpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICBpZiAodGhpcy5jb250ZW50Lmxlbmd0aCAhPSBvdGhlci5jb250ZW50Lmxlbmd0aCkgeyByZXR1cm4gZmFsc2UgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY29udGVudC5sZW5ndGg7IGkrKylcbiAgICB7IGlmICghdGhpcyQxLmNvbnRlbnRbaV0uZXEob3RoZXIuY29udGVudFtpXSkpIHsgcmV0dXJuIGZhbHNlIH0gfVxuICByZXR1cm4gdHJ1ZVxufTtcblxuLy8gOjogP05vZGVcbi8vIFRoZSBmaXJzdCBjaGlsZCBvZiB0aGUgZnJhZ21lbnQsIG9yIGBudWxsYCBpZiBpdCBpcyBlbXB0eS5cbnByb3RvdHlwZUFjY2Vzc29ycyQxLmZpcnN0Q2hpbGQuZ2V0ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5jb250ZW50Lmxlbmd0aCA/IHRoaXMuY29udGVudFswXSA6IG51bGwgfTtcblxuLy8gOjogP05vZGVcbi8vIFRoZSBsYXN0IGNoaWxkIG9mIHRoZSBmcmFnbWVudCwgb3IgYG51bGxgIGlmIGl0IGlzIGVtcHR5LlxucHJvdG90eXBlQWNjZXNzb3JzJDEubGFzdENoaWxkLmdldCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuY29udGVudC5sZW5ndGggPyB0aGlzLmNvbnRlbnRbdGhpcy5jb250ZW50Lmxlbmd0aCAtIDFdIDogbnVsbCB9O1xuXG4vLyA6OiBudW1iZXJcbi8vIFRoZSBudW1iZXIgb2YgY2hpbGQgbm9kZXMgaW4gdGhpcyBmcmFnbWVudC5cbnByb3RvdHlwZUFjY2Vzc29ycyQxLmNoaWxkQ291bnQuZ2V0ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5jb250ZW50Lmxlbmd0aCB9O1xuXG4vLyA6OiAobnVtYmVyKSDihpIgTm9kZVxuLy8gR2V0IHRoZSBjaGlsZCBub2RlIGF0IHRoZSBnaXZlbiBpbmRleC4gUmFpc2UgYW4gZXJyb3Igd2hlbiB0aGVcbi8vIGluZGV4IGlzIG91dCBvZiByYW5nZS5cbkZyYWdtZW50LnByb3RvdHlwZS5jaGlsZCA9IGZ1bmN0aW9uIGNoaWxkIChpbmRleCkge1xuICB2YXIgZm91bmQgPSB0aGlzLmNvbnRlbnRbaW5kZXhdO1xuICBpZiAoIWZvdW5kKSB7IHRocm93IG5ldyBSYW5nZUVycm9yKFwiSW5kZXggXCIgKyBpbmRleCArIFwiIG91dCBvZiByYW5nZSBmb3IgXCIgKyB0aGlzKSB9XG4gIHJldHVybiBmb3VuZFxufTtcblxuLy8gOjogKG51bWJlcikg4oaSID9Ob2RlXG4vLyBHZXQgdGhlIGNoaWxkIG5vZGUgYXQgdGhlIGdpdmVuIGluZGV4LCBpZiBpdCBleGlzdHMuXG5GcmFnbWVudC5wcm90b3R5cGUubWF5YmVDaGlsZCA9IGZ1bmN0aW9uIG1heWJlQ2hpbGQgKGluZGV4KSB7XG4gIHJldHVybiB0aGlzLmNvbnRlbnRbaW5kZXhdXG59O1xuXG4vLyA6OiAoKG5vZGU6IE5vZGUsIG9mZnNldDogbnVtYmVyLCBpbmRleDogbnVtYmVyKSlcbi8vIENhbGwgYGZgIGZvciBldmVyeSBjaGlsZCBub2RlLCBwYXNzaW5nIHRoZSBub2RlLCBpdHMgb2Zmc2V0XG4vLyBpbnRvIHRoaXMgcGFyZW50IG5vZGUsIGFuZCBpdHMgaW5kZXguXG5GcmFnbWVudC5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIGZvckVhY2ggKGYpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICBmb3IgKHZhciBpID0gMCwgcCA9IDA7IGkgPCB0aGlzLmNvbnRlbnQubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgY2hpbGQgPSB0aGlzJDEuY29udGVudFtpXTtcbiAgICBmKGNoaWxkLCBwLCBpKTtcbiAgICBwICs9IGNoaWxkLm5vZGVTaXplO1xuICB9XG59O1xuXG4vLyA6OiAoRnJhZ21lbnQpIOKGkiA/bnVtYmVyXG4vLyBGaW5kIHRoZSBmaXJzdCBwb3NpdGlvbiBhdCB3aGljaCB0aGlzIGZyYWdtZW50IGFuZCBhbm90aGVyXG4vLyBmcmFnbWVudCBkaWZmZXIsIG9yIGBudWxsYCBpZiB0aGV5IGFyZSB0aGUgc2FtZS5cbkZyYWdtZW50LnByb3RvdHlwZS5maW5kRGlmZlN0YXJ0ID0gZnVuY3Rpb24gZmluZERpZmZTdGFydCQxIChvdGhlciwgcG9zKSB7XG4gICAgaWYgKCBwb3MgPT09IHZvaWQgMCApIHBvcyA9IDA7XG5cbiAgcmV0dXJuIGZpbmREaWZmU3RhcnQodGhpcywgb3RoZXIsIHBvcylcbn07XG5cbi8vIDo6IChGcmFnbWVudCkg4oaSID97YTogbnVtYmVyLCBiOiBudW1iZXJ9XG4vLyBGaW5kIHRoZSBmaXJzdCBwb3NpdGlvbiwgc2VhcmNoaW5nIGZyb20gdGhlIGVuZCwgYXQgd2hpY2ggdGhpc1xuLy8gZnJhZ21lbnQgYW5kIHRoZSBnaXZlbiBmcmFnbWVudCBkaWZmZXIsIG9yIGBudWxsYCBpZiB0aGV5IGFyZSB0aGVcbi8vIHNhbWUuIFNpbmNlIHRoaXMgcG9zaXRpb24gd2lsbCBub3QgYmUgdGhlIHNhbWUgaW4gYm90aCBub2RlcywgYW5cbi8vIG9iamVjdCB3aXRoIHR3byBzZXBhcmF0ZSBwb3NpdGlvbnMgaXMgcmV0dXJuZWQuXG5GcmFnbWVudC5wcm90b3R5cGUuZmluZERpZmZFbmQgPSBmdW5jdGlvbiBmaW5kRGlmZkVuZCQxIChvdGhlciwgcG9zLCBvdGhlclBvcykge1xuICAgIGlmICggcG9zID09PSB2b2lkIDAgKSBwb3MgPSB0aGlzLnNpemU7XG4gICAgaWYgKCBvdGhlclBvcyA9PT0gdm9pZCAwICkgb3RoZXJQb3MgPSBvdGhlci5zaXplO1xuXG4gIHJldHVybiBmaW5kRGlmZkVuZCh0aGlzLCBvdGhlciwgcG9zLCBvdGhlclBvcylcbn07XG5cbi8vIDogKG51bWJlciwgP251bWJlcikg4oaSIHtpbmRleDogbnVtYmVyLCBvZmZzZXQ6IG51bWJlcn1cbi8vIEZpbmQgdGhlIGluZGV4IGFuZCBpbm5lciBvZmZzZXQgY29ycmVzcG9uZGluZyB0byBhIGdpdmVuIHJlbGF0aXZlXG4vLyBwb3NpdGlvbiBpbiB0aGlzIGZyYWdtZW50LiBUaGUgcmVzdWx0IG9iamVjdCB3aWxsIGJlIHJldXNlZFxuLy8gKG92ZXJ3cml0dGVuKSB0aGUgbmV4dCB0aW1lIHRoZSBmdW5jdGlvbiBpcyBjYWxsZWQuIChOb3QgcHVibGljLilcbkZyYWdtZW50LnByb3RvdHlwZS5maW5kSW5kZXggPSBmdW5jdGlvbiBmaW5kSW5kZXggKHBvcywgcm91bmQpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcbiAgICBpZiAoIHJvdW5kID09PSB2b2lkIDAgKSByb3VuZCA9IC0xO1xuXG4gIGlmIChwb3MgPT0gMCkgeyByZXR1cm4gcmV0SW5kZXgoMCwgcG9zKSB9XG4gIGlmIChwb3MgPT0gdGhpcy5zaXplKSB7IHJldHVybiByZXRJbmRleCh0aGlzLmNvbnRlbnQubGVuZ3RoLCBwb3MpIH1cbiAgaWYgKHBvcyA+IHRoaXMuc2l6ZSB8fCBwb3MgPCAwKSB7IHRocm93IG5ldyBSYW5nZUVycm9yKChcIlBvc2l0aW9uIFwiICsgcG9zICsgXCIgb3V0c2lkZSBvZiBmcmFnbWVudCAoXCIgKyAodGhpcykgKyBcIilcIikpIH1cbiAgZm9yICh2YXIgaSA9IDAsIGN1clBvcyA9IDA7OyBpKyspIHtcbiAgICB2YXIgY3VyID0gdGhpcyQxLmNoaWxkKGkpLCBlbmQgPSBjdXJQb3MgKyBjdXIubm9kZVNpemU7XG4gICAgaWYgKGVuZCA+PSBwb3MpIHtcbiAgICAgIGlmIChlbmQgPT0gcG9zIHx8IHJvdW5kID4gMCkgeyByZXR1cm4gcmV0SW5kZXgoaSArIDEsIGVuZCkgfVxuICAgICAgcmV0dXJuIHJldEluZGV4KGksIGN1clBvcylcbiAgICB9XG4gICAgY3VyUG9zID0gZW5kO1xuICB9XG59O1xuXG4vLyA6OiAoKSDihpIgc3RyaW5nXG4vLyBSZXR1cm4gYSBkZWJ1Z2dpbmcgc3RyaW5nIHRoYXQgZGVzY3JpYmVzIHRoaXMgZnJhZ21lbnQuXG5GcmFnbWVudC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyAoKSB7IHJldHVybiBcIjxcIiArIHRoaXMudG9TdHJpbmdJbm5lcigpICsgXCI+XCIgfTtcblxuRnJhZ21lbnQucHJvdG90eXBlLnRvU3RyaW5nSW5uZXIgPSBmdW5jdGlvbiB0b1N0cmluZ0lubmVyICgpIHsgcmV0dXJuIHRoaXMuY29udGVudC5qb2luKFwiLCBcIikgfTtcblxuLy8gOjogKCkg4oaSID9PYmplY3Rcbi8vIENyZWF0ZSBhIEpTT04tc2VyaWFsaXplYWJsZSByZXByZXNlbnRhdGlvbiBvZiB0aGlzIGZyYWdtZW50LlxuRnJhZ21lbnQucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uIHRvSlNPTiAoKSB7XG4gIHJldHVybiB0aGlzLmNvbnRlbnQubGVuZ3RoID8gdGhpcy5jb250ZW50Lm1hcChmdW5jdGlvbiAobikgeyByZXR1cm4gbi50b0pTT04oKTsgfSkgOiBudWxsXG59O1xuXG4vLyA6OiAoU2NoZW1hLCA/T2JqZWN0KSDihpIgRnJhZ21lbnRcbi8vIERlc2VyaWFsaXplIGEgZnJhZ21lbnQgZnJvbSBpdHMgSlNPTiByZXByZXNlbnRhdGlvbi5cbkZyYWdtZW50LmZyb21KU09OID0gZnVuY3Rpb24gZnJvbUpTT04gKHNjaGVtYSwgdmFsdWUpIHtcbiAgaWYgKCF2YWx1ZSkgeyByZXR1cm4gRnJhZ21lbnQuZW1wdHkgfVxuICBpZiAoIUFycmF5LmlzQXJyYXkodmFsdWUpKSB7IHRocm93IG5ldyBSYW5nZUVycm9yKFwiSW52YWxpZCBpbnB1dCBmb3IgRnJhZ21lbnQuZnJvbUpTT05cIikgfVxuICByZXR1cm4gbmV3IEZyYWdtZW50KHZhbHVlLm1hcChzY2hlbWEubm9kZUZyb21KU09OKSlcbn07XG5cbi8vIDo6IChbTm9kZV0pIOKGkiBGcmFnbWVudFxuLy8gQnVpbGQgYSBmcmFnbWVudCBmcm9tIGFuIGFycmF5IG9mIG5vZGVzLiBFbnN1cmVzIHRoYXQgYWRqYWNlbnRcbi8vIHRleHQgbm9kZXMgd2l0aCB0aGUgc2FtZSBtYXJrcyBhcmUgam9pbmVkIHRvZ2V0aGVyLlxuRnJhZ21lbnQuZnJvbUFycmF5ID0gZnVuY3Rpb24gZnJvbUFycmF5IChhcnJheSkge1xuICBpZiAoIWFycmF5Lmxlbmd0aCkgeyByZXR1cm4gRnJhZ21lbnQuZW1wdHkgfVxuICB2YXIgam9pbmVkLCBzaXplID0gMDtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgIHZhciBub2RlID0gYXJyYXlbaV07XG4gICAgc2l6ZSArPSBub2RlLm5vZGVTaXplO1xuICAgIGlmIChpICYmIG5vZGUuaXNUZXh0ICYmIGFycmF5W2kgLSAxXS5zYW1lTWFya3VwKG5vZGUpKSB7XG4gICAgICBpZiAoIWpvaW5lZCkgeyBqb2luZWQgPSBhcnJheS5zbGljZSgwLCBpKTsgfVxuICAgICAgam9pbmVkW2pvaW5lZC5sZW5ndGggLSAxXSA9IG5vZGUud2l0aFRleHQoam9pbmVkW2pvaW5lZC5sZW5ndGggLSAxXS50ZXh0ICsgbm9kZS50ZXh0KTtcbiAgICB9IGVsc2UgaWYgKGpvaW5lZCkge1xuICAgICAgam9pbmVkLnB1c2gobm9kZSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBuZXcgRnJhZ21lbnQoam9pbmVkIHx8IGFycmF5LCBzaXplKVxufTtcblxuLy8gOjogKD91bmlvbjxGcmFnbWVudCwgTm9kZSwgW05vZGVdPikg4oaSIEZyYWdtZW50XG4vLyBDcmVhdGUgYSBmcmFnbWVudCBmcm9tIHNvbWV0aGluZyB0aGF0IGNhbiBiZSBpbnRlcnByZXRlZCBhcyBhIHNldFxuLy8gb2Ygbm9kZXMuIEZvciBgbnVsbGAsIGl0IHJldHVybnMgdGhlIGVtcHR5IGZyYWdtZW50LiBGb3IgYVxuLy8gZnJhZ21lbnQsIHRoZSBmcmFnbWVudCBpdHNlbGYuIEZvciBhIG5vZGUgb3IgYXJyYXkgb2Ygbm9kZXMsIGFcbi8vIGZyYWdtZW50IGNvbnRhaW5pbmcgdGhvc2Ugbm9kZXMuXG5GcmFnbWVudC5mcm9tID0gZnVuY3Rpb24gZnJvbSAobm9kZXMpIHtcbiAgaWYgKCFub2RlcykgeyByZXR1cm4gRnJhZ21lbnQuZW1wdHkgfVxuICBpZiAobm9kZXMgaW5zdGFuY2VvZiBGcmFnbWVudCkgeyByZXR1cm4gbm9kZXMgfVxuICBpZiAoQXJyYXkuaXNBcnJheShub2RlcykpIHsgcmV0dXJuIHRoaXMuZnJvbUFycmF5KG5vZGVzKSB9XG4gIHJldHVybiBuZXcgRnJhZ21lbnQoW25vZGVzXSwgbm9kZXMubm9kZVNpemUpXG59O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyggRnJhZ21lbnQucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMkMSApO1xuXG52YXIgZm91bmQgPSB7aW5kZXg6IDAsIG9mZnNldDogMH07XG5mdW5jdGlvbiByZXRJbmRleChpbmRleCwgb2Zmc2V0KSB7XG4gIGZvdW5kLmluZGV4ID0gaW5kZXg7XG4gIGZvdW5kLm9mZnNldCA9IG9mZnNldDtcbiAgcmV0dXJuIGZvdW5kXG59XG5cbi8vIDo6IEZyYWdtZW50XG4vLyBBbiBlbXB0eSBmcmFnbWVudC4gSW50ZW5kZWQgdG8gYmUgcmV1c2VkIHdoZW5ldmVyIGEgbm9kZSBkb2Vzbid0XG4vLyBjb250YWluIGFueXRoaW5nIChyYXRoZXIgdGhhbiBhbGxvY2F0aW5nIGEgbmV3IGVtcHR5IGZyYWdtZW50IGZvclxuLy8gZWFjaCBsZWFmIG5vZGUpLlxuRnJhZ21lbnQuZW1wdHkgPSBuZXcgRnJhZ21lbnQoW10sIDApO1xuXG5mdW5jdGlvbiBjb21wYXJlRGVlcChhLCBiKSB7XG4gIGlmIChhID09PSBiKSB7IHJldHVybiB0cnVlIH1cbiAgaWYgKCEoYSAmJiB0eXBlb2YgYSA9PSBcIm9iamVjdFwiKSB8fFxuICAgICAgIShiICYmIHR5cGVvZiBiID09IFwib2JqZWN0XCIpKSB7IHJldHVybiBmYWxzZSB9XG4gIHZhciBhcnJheSA9IEFycmF5LmlzQXJyYXkoYSk7XG4gIGlmIChBcnJheS5pc0FycmF5KGIpICE9IGFycmF5KSB7IHJldHVybiBmYWxzZSB9XG4gIGlmIChhcnJheSkge1xuICAgIGlmIChhLmxlbmd0aCAhPSBiLmxlbmd0aCkgeyByZXR1cm4gZmFsc2UgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYS5sZW5ndGg7IGkrKykgeyBpZiAoIWNvbXBhcmVEZWVwKGFbaV0sIGJbaV0pKSB7IHJldHVybiBmYWxzZSB9IH1cbiAgfSBlbHNlIHtcbiAgICBmb3IgKHZhciBwIGluIGEpIHsgaWYgKCEocCBpbiBiKSB8fCAhY29tcGFyZURlZXAoYVtwXSwgYltwXSkpIHsgcmV0dXJuIGZhbHNlIH0gfVxuICAgIGZvciAodmFyIHAkMSBpbiBiKSB7IGlmICghKHAkMSBpbiBhKSkgeyByZXR1cm4gZmFsc2UgfSB9XG4gIH1cbiAgcmV0dXJuIHRydWVcbn1cblxuLy8gOjotIEEgbWFyayBpcyBhIHBpZWNlIG9mIGluZm9ybWF0aW9uIHRoYXQgY2FuIGJlIGF0dGFjaGVkIHRvIGEgbm9kZSxcbi8vIHN1Y2ggYXMgaXQgYmVpbmcgZW1waGFzaXplZCwgaW4gY29kZSBmb250LCBvciBhIGxpbmsuIEl0IGhhcyBhIHR5cGVcbi8vIGFuZCBvcHRpb25hbGx5IGEgc2V0IG9mIGF0dHJpYnV0ZXMgdGhhdCBwcm92aWRlIGZ1cnRoZXIgaW5mb3JtYXRpb25cbi8vIChzdWNoIGFzIHRoZSB0YXJnZXQgb2YgdGhlIGxpbmspLiBNYXJrcyBhcmUgY3JlYXRlZCB0aHJvdWdoIGFcbi8vIGBTY2hlbWFgLCB3aGljaCBjb250cm9scyB3aGljaCB0eXBlcyBleGlzdCBhbmQgd2hpY2hcbi8vIGF0dHJpYnV0ZXMgdGhleSBoYXZlLlxudmFyIE1hcmsgPSBmdW5jdGlvbiBNYXJrKHR5cGUsIGF0dHJzKSB7XG4gIC8vIDo6IE1hcmtUeXBlXG4gIC8vIFRoZSB0eXBlIG9mIHRoaXMgbWFyay5cbiAgdGhpcy50eXBlID0gdHlwZTtcbiAgLy8gOjogT2JqZWN0XG4gIC8vIFRoZSBhdHRyaWJ1dGVzIGFzc29jaWF0ZWQgd2l0aCB0aGlzIG1hcmsuXG4gIHRoaXMuYXR0cnMgPSBhdHRycztcbn07XG5cbi8vIDo6IChbTWFya10pIOKGkiBbTWFya11cbi8vIEdpdmVuIGEgc2V0IG9mIG1hcmtzLCBjcmVhdGUgYSBuZXcgc2V0IHdoaWNoIGNvbnRhaW5zIHRoaXMgb25lIGFzXG4vLyB3ZWxsLCBpbiB0aGUgcmlnaHQgcG9zaXRpb24uIElmIHRoaXMgbWFyayBpcyBhbHJlYWR5IGluIHRoZSBzZXQsXG4vLyB0aGUgc2V0IGl0c2VsZiBpcyByZXR1cm5lZC4gSWYgYW55IG1hcmtzIHRoYXQgYXJlIHNldCB0byBiZVxuLy8gW2V4Y2x1c2l2ZV0oI21vZGVsLk1hcmtTcGVjLmV4Y2x1ZGVzKSB3aXRoIHRoaXMgbWFyayBhcmUgcHJlc2VudCxcbi8vIHRob3NlIGFyZSByZXBsYWNlZCBieSB0aGlzIG9uZS5cbk1hcmsucHJvdG90eXBlLmFkZFRvU2V0ID0gZnVuY3Rpb24gYWRkVG9TZXQgKHNldCkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gIHZhciBjb3B5LCBwbGFjZWQgPSBmYWxzZTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZXQubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgb3RoZXIgPSBzZXRbaV07XG4gICAgaWYgKHRoaXMkMS5lcShvdGhlcikpIHsgcmV0dXJuIHNldCB9XG4gICAgaWYgKHRoaXMkMS50eXBlLmV4Y2x1ZGVzKG90aGVyLnR5cGUpKSB7XG4gICAgICBpZiAoIWNvcHkpIHsgY29weSA9IHNldC5zbGljZSgwLCBpKTsgfVxuICAgIH0gZWxzZSBpZiAob3RoZXIudHlwZS5leGNsdWRlcyh0aGlzJDEudHlwZSkpIHtcbiAgICAgIHJldHVybiBzZXRcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFwbGFjZWQgJiYgb3RoZXIudHlwZS5yYW5rID4gdGhpcyQxLnR5cGUucmFuaykge1xuICAgICAgICBpZiAoIWNvcHkpIHsgY29weSA9IHNldC5zbGljZSgwLCBpKTsgfVxuICAgICAgICBjb3B5LnB1c2godGhpcyQxKTtcbiAgICAgICAgcGxhY2VkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChjb3B5KSB7IGNvcHkucHVzaChvdGhlcik7IH1cbiAgICB9XG4gIH1cbiAgaWYgKCFjb3B5KSB7IGNvcHkgPSBzZXQuc2xpY2UoKTsgfVxuICBpZiAoIXBsYWNlZCkgeyBjb3B5LnB1c2godGhpcyk7IH1cbiAgcmV0dXJuIGNvcHlcbn07XG5cbi8vIDo6IChbTWFya10pIOKGkiBbTWFya11cbi8vIFJlbW92ZSB0aGlzIG1hcmsgZnJvbSB0aGUgZ2l2ZW4gc2V0LCByZXR1cm5pbmcgYSBuZXcgc2V0LiBJZiB0aGlzXG4vLyBtYXJrIGlzIG5vdCBpbiB0aGUgc2V0LCB0aGUgc2V0IGl0c2VsZiBpcyByZXR1cm5lZC5cbk1hcmsucHJvdG90eXBlLnJlbW92ZUZyb21TZXQgPSBmdW5jdGlvbiByZW1vdmVGcm9tU2V0IChzZXQpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHNldC5sZW5ndGg7IGkrKylcbiAgICB7IGlmICh0aGlzJDEuZXEoc2V0W2ldKSlcbiAgICAgIHsgcmV0dXJuIHNldC5zbGljZSgwLCBpKS5jb25jYXQoc2V0LnNsaWNlKGkgKyAxKSkgfSB9XG4gIHJldHVybiBzZXRcbn07XG5cbi8vIDo6IChbTWFya10pIOKGkiBib29sXG4vLyBUZXN0IHdoZXRoZXIgdGhpcyBtYXJrIGlzIGluIHRoZSBnaXZlbiBzZXQgb2YgbWFya3MuXG5NYXJrLnByb3RvdHlwZS5pc0luU2V0ID0gZnVuY3Rpb24gaXNJblNldCAoc2V0KSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZXQubGVuZ3RoOyBpKyspXG4gICAgeyBpZiAodGhpcyQxLmVxKHNldFtpXSkpIHsgcmV0dXJuIHRydWUgfSB9XG4gIHJldHVybiBmYWxzZVxufTtcblxuLy8gOjogKE1hcmspIOKGkiBib29sXG4vLyBUZXN0IHdoZXRoZXIgdGhpcyBtYXJrIGhhcyB0aGUgc2FtZSB0eXBlIGFuZCBhdHRyaWJ1dGVzIGFzXG4vLyBhbm90aGVyIG1hcmsuXG5NYXJrLnByb3RvdHlwZS5lcSA9IGZ1bmN0aW9uIGVxIChvdGhlcikge1xuICByZXR1cm4gdGhpcyA9PSBvdGhlciB8fFxuICAgICh0aGlzLnR5cGUgPT0gb3RoZXIudHlwZSAmJiBjb21wYXJlRGVlcCh0aGlzLmF0dHJzLCBvdGhlci5hdHRycykpXG59O1xuXG4vLyA6OiAoKSDihpIgT2JqZWN0XG4vLyBDb252ZXJ0IHRoaXMgbWFyayB0byBhIEpTT04tc2VyaWFsaXplYWJsZSByZXByZXNlbnRhdGlvbi5cbk1hcmsucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uIHRvSlNPTiAoKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgdmFyIG9iaiA9IHt0eXBlOiB0aGlzLnR5cGUubmFtZX07XG4gIGZvciAodmFyIF8gaW4gdGhpcyQxLmF0dHJzKSB7XG4gICAgb2JqLmF0dHJzID0gdGhpcyQxLmF0dHJzO1xuICAgIGJyZWFrXG4gIH1cbiAgcmV0dXJuIG9ialxufTtcblxuLy8gOjogKFNjaGVtYSwgT2JqZWN0KSDihpIgTWFya1xuTWFyay5mcm9tSlNPTiA9IGZ1bmN0aW9uIGZyb21KU09OIChzY2hlbWEsIGpzb24pIHtcbiAgaWYgKCFqc29uKSB7IHRocm93IG5ldyBSYW5nZUVycm9yKFwiSW52YWxpZCBpbnB1dCBmb3IgTWFyay5mcm9tSlNPTlwiKSB9XG4gIHZhciB0eXBlID0gc2NoZW1hLm1hcmtzW2pzb24udHlwZV07XG4gIGlmICghdHlwZSkgeyB0aHJvdyBuZXcgUmFuZ2VFcnJvcigoXCJUaGVyZSBpcyBubyBtYXJrIHR5cGUgXCIgKyAoanNvbi50eXBlKSArIFwiIGluIHRoaXMgc2NoZW1hXCIpKSB9XG4gIHJldHVybiB0eXBlLmNyZWF0ZShqc29uLmF0dHJzKVxufTtcblxuLy8gOjogKFtNYXJrXSwgW01hcmtdKSDihpIgYm9vbFxuLy8gVGVzdCB3aGV0aGVyIHR3byBzZXRzIG9mIG1hcmtzIGFyZSBpZGVudGljYWwuXG5NYXJrLnNhbWVTZXQgPSBmdW5jdGlvbiBzYW1lU2V0IChhLCBiKSB7XG4gIGlmIChhID09IGIpIHsgcmV0dXJuIHRydWUgfVxuICBpZiAoYS5sZW5ndGggIT0gYi5sZW5ndGgpIHsgcmV0dXJuIGZhbHNlIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhLmxlbmd0aDsgaSsrKVxuICAgIHsgaWYgKCFhW2ldLmVxKGJbaV0pKSB7IHJldHVybiBmYWxzZSB9IH1cbiAgcmV0dXJuIHRydWVcbn07XG5cbi8vIDo6ICg/dW5pb248TWFyaywgW01hcmtdPikg4oaSIFtNYXJrXVxuLy8gQ3JlYXRlIGEgcHJvcGVybHkgc29ydGVkIG1hcmsgc2V0IGZyb20gbnVsbCwgYSBzaW5nbGUgbWFyaywgb3IgYW5cbi8vIHVuc29ydGVkIGFycmF5IG9mIG1hcmtzLlxuTWFyay5zZXRGcm9tID0gZnVuY3Rpb24gc2V0RnJvbSAobWFya3MpIHtcbiAgaWYgKCFtYXJrcyB8fCBtYXJrcy5sZW5ndGggPT0gMCkgeyByZXR1cm4gTWFyay5ub25lIH1cbiAgaWYgKG1hcmtzIGluc3RhbmNlb2YgTWFyaykgeyByZXR1cm4gW21hcmtzXSB9XG4gIHZhciBjb3B5ID0gbWFya3Muc2xpY2UoKTtcbiAgY29weS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhLnR5cGUucmFuayAtIGIudHlwZS5yYW5rOyB9KTtcbiAgcmV0dXJuIGNvcHlcbn07XG5cbi8vIDo6IFtNYXJrXSBUaGUgZW1wdHkgc2V0IG9mIG1hcmtzLlxuTWFyay5ub25lID0gW107XG5cbi8vIFJlcGxhY2VFcnJvcjo6IGNsYXNzIGV4dGVuZHMgRXJyb3Jcbi8vIEVycm9yIHR5cGUgcmFpc2VkIGJ5IFtgTm9kZS5yZXBsYWNlYF0oI21vZGVsLk5vZGUucmVwbGFjZSkgd2hlblxuLy8gZ2l2ZW4gYW4gaW52YWxpZCByZXBsYWNlbWVudC5cblxuZnVuY3Rpb24gUmVwbGFjZUVycm9yKG1lc3NhZ2UpIHtcbiAgdmFyIGVyciA9IEVycm9yLmNhbGwodGhpcywgbWVzc2FnZSk7XG4gIGVyci5fX3Byb3RvX18gPSBSZXBsYWNlRXJyb3IucHJvdG90eXBlO1xuICByZXR1cm4gZXJyXG59XG5cblJlcGxhY2VFcnJvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSk7XG5SZXBsYWNlRXJyb3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUmVwbGFjZUVycm9yO1xuUmVwbGFjZUVycm9yLnByb3RvdHlwZS5uYW1lID0gXCJSZXBsYWNlRXJyb3JcIjtcblxuLy8gOjotIEEgc2xpY2UgcmVwcmVzZW50cyBhIHBpZWNlIGN1dCBvdXQgb2YgYSBsYXJnZXIgZG9jdW1lbnQuIEl0XG4vLyBzdG9yZXMgbm90IG9ubHkgYSBmcmFnbWVudCwgYnV0IGFsc28gdGhlIGRlcHRoIHVwIHRvIHdoaWNoIG5vZGVzIG9uXG4vLyBib3RoIHNpZGUgYXJlIOKAmG9wZW7igJkgKGN1dCB0aHJvdWdoKS5cbnZhciBTbGljZSA9IGZ1bmN0aW9uIFNsaWNlKGNvbnRlbnQsIG9wZW5TdGFydCwgb3BlbkVuZCkge1xuICAvLyA6OiBGcmFnbWVudCBUaGUgc2xpY2UncyBjb250ZW50LlxuICB0aGlzLmNvbnRlbnQgPSBjb250ZW50O1xuICAvLyA6OiBudW1iZXIgVGhlIG9wZW4gZGVwdGggYXQgdGhlIHN0YXJ0LlxuICB0aGlzLm9wZW5TdGFydCA9IG9wZW5TdGFydDtcbiAgLy8gOjogbnVtYmVyIFRoZSBvcGVuIGRlcHRoIGF0IHRoZSBlbmQuXG4gIHRoaXMub3BlbkVuZCA9IG9wZW5FbmQ7XG59O1xuXG52YXIgcHJvdG90eXBlQWNjZXNzb3JzJDIgPSB7IHNpemU6IHt9IH07XG5cbi8vIDo6IG51bWJlclxuLy8gVGhlIHNpemUgdGhpcyBzbGljZSB3b3VsZCBhZGQgd2hlbiBpbnNlcnRlZCBpbnRvIGEgZG9jdW1lbnQuXG5wcm90b3R5cGVBY2Nlc3NvcnMkMi5zaXplLmdldCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMuY29udGVudC5zaXplIC0gdGhpcy5vcGVuU3RhcnQgLSB0aGlzLm9wZW5FbmRcbn07XG5cblNsaWNlLnByb3RvdHlwZS5pbnNlcnRBdCA9IGZ1bmN0aW9uIGluc2VydEF0IChwb3MsIGZyYWdtZW50KSB7XG4gIHZhciBjb250ZW50ID0gaW5zZXJ0SW50byh0aGlzLmNvbnRlbnQsIHBvcyArIHRoaXMub3BlblN0YXJ0LCBmcmFnbWVudCwgbnVsbCk7XG4gIHJldHVybiBjb250ZW50ICYmIG5ldyBTbGljZShjb250ZW50LCB0aGlzLm9wZW5TdGFydCwgdGhpcy5vcGVuRW5kKVxufTtcblxuU2xpY2UucHJvdG90eXBlLnJlbW92ZUJldHdlZW4gPSBmdW5jdGlvbiByZW1vdmVCZXR3ZWVuIChmcm9tLCB0bykge1xuICByZXR1cm4gbmV3IFNsaWNlKHJlbW92ZVJhbmdlKHRoaXMuY29udGVudCwgZnJvbSArIHRoaXMub3BlblN0YXJ0LCB0byArIHRoaXMub3BlblN0YXJ0KSwgdGhpcy5vcGVuU3RhcnQsIHRoaXMub3BlbkVuZClcbn07XG5cbi8vIDo6IChTbGljZSkg4oaSIGJvb2xcbi8vIFRlc3RzIHdoZXRoZXIgdGhpcyBzbGljZSBpcyBlcXVhbCB0byBhbm90aGVyIHNsaWNlLlxuU2xpY2UucHJvdG90eXBlLmVxID0gZnVuY3Rpb24gZXEgKG90aGVyKSB7XG4gIHJldHVybiB0aGlzLmNvbnRlbnQuZXEob3RoZXIuY29udGVudCkgJiYgdGhpcy5vcGVuU3RhcnQgPT0gb3RoZXIub3BlblN0YXJ0ICYmIHRoaXMub3BlbkVuZCA9PSBvdGhlci5vcGVuRW5kXG59O1xuXG5TbGljZS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyAoKSB7XG4gIHJldHVybiB0aGlzLmNvbnRlbnQgKyBcIihcIiArIHRoaXMub3BlblN0YXJ0ICsgXCIsXCIgKyB0aGlzLm9wZW5FbmQgKyBcIilcIlxufTtcblxuLy8gOjogKCkg4oaSID9PYmplY3Rcbi8vIENvbnZlcnQgYSBzbGljZSB0byBhIEpTT04tc2VyaWFsaXphYmxlIHJlcHJlc2VudGF0aW9uLlxuU2xpY2UucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uIHRvSlNPTiAoKSB7XG4gIGlmICghdGhpcy5jb250ZW50LnNpemUpIHsgcmV0dXJuIG51bGwgfVxuICB2YXIganNvbiA9IHtjb250ZW50OiB0aGlzLmNvbnRlbnQudG9KU09OKCl9O1xuICBpZiAodGhpcy5vcGVuU3RhcnQgPiAwKSB7IGpzb24ub3BlblN0YXJ0ID0gdGhpcy5vcGVuU3RhcnQ7IH1cbiAgaWYgKHRoaXMub3BlbkVuZCA+IDApIHsganNvbi5vcGVuRW5kID0gdGhpcy5vcGVuRW5kOyB9XG4gIHJldHVybiBqc29uXG59O1xuXG4vLyA6OiAoU2NoZW1hLCA/T2JqZWN0KSDihpIgU2xpY2Vcbi8vIERlc2VyaWFsaXplIGEgc2xpY2UgZnJvbSBpdHMgSlNPTiByZXByZXNlbnRhdGlvbi5cblNsaWNlLmZyb21KU09OID0gZnVuY3Rpb24gZnJvbUpTT04gKHNjaGVtYSwganNvbikge1xuICBpZiAoIWpzb24pIHsgcmV0dXJuIFNsaWNlLmVtcHR5IH1cbiAgdmFyIG9wZW5TdGFydCA9IGpzb24ub3BlblN0YXJ0IHx8IDAsIG9wZW5FbmQgPSBqc29uLm9wZW5FbmQgfHwgMDtcbiAgaWYgKHR5cGVvZiBvcGVuU3RhcnQgIT0gXCJudW1iZXJcIiB8fCB0eXBlb2Ygb3BlbkVuZCAhPSBcIm51bWJlclwiKVxuICAgIHsgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbnZhbGlkIGlucHV0IGZvciBTbGljZS5mcm9tSlNPTlwiKSB9XG4gIHJldHVybiBuZXcgU2xpY2UoRnJhZ21lbnQuZnJvbUpTT04oc2NoZW1hLCBqc29uLmNvbnRlbnQpLCBqc29uLm9wZW5TdGFydCB8fCAwLCBqc29uLm9wZW5FbmQgfHwgMClcbn07XG5cbi8vIDo6IChGcmFnbWVudCwgP2Jvb2wpIOKGkiBTbGljZVxuLy8gQ3JlYXRlIGEgc2xpY2UgZnJvbSBhIGZyYWdtZW50IGJ5IHRha2luZyB0aGUgbWF4aW11bSBwb3NzaWJsZVxuLy8gb3BlbiB2YWx1ZSBvbiBib3RoIHNpZGUgb2YgdGhlIGZyYWdtZW50LlxuU2xpY2UubWF4T3BlbiA9IGZ1bmN0aW9uIG1heE9wZW4gKGZyYWdtZW50LCBvcGVuSXNvbGF0aW5nKSB7XG4gICAgaWYgKCBvcGVuSXNvbGF0aW5nID09PSB2b2lkIDAgKSBvcGVuSXNvbGF0aW5nPXRydWU7XG5cbiAgdmFyIG9wZW5TdGFydCA9IDAsIG9wZW5FbmQgPSAwO1xuICBmb3IgKHZhciBuID0gZnJhZ21lbnQuZmlyc3RDaGlsZDsgbiAmJiAhbi5pc0xlYWYgJiYgKG9wZW5Jc29sYXRpbmcgfHwgIW4udHlwZS5zcGVjLmlzb2xhdGluZyk7IG4gPSBuLmZpcnN0Q2hpbGQpIHsgb3BlblN0YXJ0Kys7IH1cbiAgZm9yICh2YXIgbiQxID0gZnJhZ21lbnQubGFzdENoaWxkOyBuJDEgJiYgIW4kMS5pc0xlYWYgJiYgKG9wZW5Jc29sYXRpbmcgfHwgIW4kMS50eXBlLnNwZWMuaXNvbGF0aW5nKTsgbiQxID0gbiQxLmxhc3RDaGlsZCkgeyBvcGVuRW5kKys7IH1cbiAgcmV0dXJuIG5ldyBTbGljZShmcmFnbWVudCwgb3BlblN0YXJ0LCBvcGVuRW5kKVxufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIFNsaWNlLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzJDIgKTtcblxuZnVuY3Rpb24gcmVtb3ZlUmFuZ2UoY29udGVudCwgZnJvbSwgdG8pIHtcbiAgdmFyIHJlZiA9IGNvbnRlbnQuZmluZEluZGV4KGZyb20pO1xuICB2YXIgaW5kZXggPSByZWYuaW5kZXg7XG4gIHZhciBvZmZzZXQgPSByZWYub2Zmc2V0O1xuICB2YXIgY2hpbGQgPSBjb250ZW50Lm1heWJlQ2hpbGQoaW5kZXgpO1xuICB2YXIgcmVmJDEgPSBjb250ZW50LmZpbmRJbmRleCh0byk7XG4gIHZhciBpbmRleFRvID0gcmVmJDEuaW5kZXg7XG4gIHZhciBvZmZzZXRUbyA9IHJlZiQxLm9mZnNldDtcbiAgaWYgKG9mZnNldCA9PSBmcm9tIHx8IGNoaWxkLmlzVGV4dCkge1xuICAgIGlmIChvZmZzZXRUbyAhPSB0byAmJiAhY29udGVudC5jaGlsZChpbmRleFRvKS5pc1RleHQpIHsgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJSZW1vdmluZyBub24tZmxhdCByYW5nZVwiKSB9XG4gICAgcmV0dXJuIGNvbnRlbnQuY3V0KDAsIGZyb20pLmFwcGVuZChjb250ZW50LmN1dCh0bykpXG4gIH1cbiAgaWYgKGluZGV4ICE9IGluZGV4VG8pIHsgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJSZW1vdmluZyBub24tZmxhdCByYW5nZVwiKSB9XG4gIHJldHVybiBjb250ZW50LnJlcGxhY2VDaGlsZChpbmRleCwgY2hpbGQuY29weShyZW1vdmVSYW5nZShjaGlsZC5jb250ZW50LCBmcm9tIC0gb2Zmc2V0IC0gMSwgdG8gLSBvZmZzZXQgLSAxKSkpXG59XG5cbmZ1bmN0aW9uIGluc2VydEludG8oY29udGVudCwgZGlzdCwgaW5zZXJ0LCBwYXJlbnQpIHtcbiAgdmFyIHJlZiA9IGNvbnRlbnQuZmluZEluZGV4KGRpc3QpO1xuICB2YXIgaW5kZXggPSByZWYuaW5kZXg7XG4gIHZhciBvZmZzZXQgPSByZWYub2Zmc2V0O1xuICB2YXIgY2hpbGQgPSBjb250ZW50Lm1heWJlQ2hpbGQoaW5kZXgpO1xuICBpZiAob2Zmc2V0ID09IGRpc3QgfHwgY2hpbGQuaXNUZXh0KSB7XG4gICAgaWYgKHBhcmVudCAmJiAhcGFyZW50LmNhblJlcGxhY2UoaW5kZXgsIGluZGV4LCBpbnNlcnQpKSB7IHJldHVybiBudWxsIH1cbiAgICByZXR1cm4gY29udGVudC5jdXQoMCwgZGlzdCkuYXBwZW5kKGluc2VydCkuYXBwZW5kKGNvbnRlbnQuY3V0KGRpc3QpKVxuICB9XG4gIHZhciBpbm5lciA9IGluc2VydEludG8oY2hpbGQuY29udGVudCwgZGlzdCAtIG9mZnNldCAtIDEsIGluc2VydCk7XG4gIHJldHVybiBpbm5lciAmJiBjb250ZW50LnJlcGxhY2VDaGlsZChpbmRleCwgY2hpbGQuY29weShpbm5lcikpXG59XG5cbi8vIDo6IFNsaWNlXG4vLyBUaGUgZW1wdHkgc2xpY2UuXG5TbGljZS5lbXB0eSA9IG5ldyBTbGljZShGcmFnbWVudC5lbXB0eSwgMCwgMCk7XG5cbmZ1bmN0aW9uIHJlcGxhY2UoJGZyb20sICR0bywgc2xpY2UpIHtcbiAgaWYgKHNsaWNlLm9wZW5TdGFydCA+ICRmcm9tLmRlcHRoKVxuICAgIHsgdGhyb3cgbmV3IFJlcGxhY2VFcnJvcihcIkluc2VydGVkIGNvbnRlbnQgZGVlcGVyIHRoYW4gaW5zZXJ0aW9uIHBvc2l0aW9uXCIpIH1cbiAgaWYgKCRmcm9tLmRlcHRoIC0gc2xpY2Uub3BlblN0YXJ0ICE9ICR0by5kZXB0aCAtIHNsaWNlLm9wZW5FbmQpXG4gICAgeyB0aHJvdyBuZXcgUmVwbGFjZUVycm9yKFwiSW5jb25zaXN0ZW50IG9wZW4gZGVwdGhzXCIpIH1cbiAgcmV0dXJuIHJlcGxhY2VPdXRlcigkZnJvbSwgJHRvLCBzbGljZSwgMClcbn1cblxuZnVuY3Rpb24gcmVwbGFjZU91dGVyKCRmcm9tLCAkdG8sIHNsaWNlLCBkZXB0aCkge1xuICB2YXIgaW5kZXggPSAkZnJvbS5pbmRleChkZXB0aCksIG5vZGUgPSAkZnJvbS5ub2RlKGRlcHRoKTtcbiAgaWYgKGluZGV4ID09ICR0by5pbmRleChkZXB0aCkgJiYgZGVwdGggPCAkZnJvbS5kZXB0aCAtIHNsaWNlLm9wZW5TdGFydCkge1xuICAgIHZhciBpbm5lciA9IHJlcGxhY2VPdXRlcigkZnJvbSwgJHRvLCBzbGljZSwgZGVwdGggKyAxKTtcbiAgICByZXR1cm4gbm9kZS5jb3B5KG5vZGUuY29udGVudC5yZXBsYWNlQ2hpbGQoaW5kZXgsIGlubmVyKSlcbiAgfSBlbHNlIGlmICghc2xpY2UuY29udGVudC5zaXplKSB7XG4gICAgcmV0dXJuIGNsb3NlKG5vZGUsIHJlcGxhY2VUd29XYXkoJGZyb20sICR0bywgZGVwdGgpKVxuICB9IGVsc2UgaWYgKCFzbGljZS5vcGVuU3RhcnQgJiYgIXNsaWNlLm9wZW5FbmQgJiYgJGZyb20uZGVwdGggPT0gZGVwdGggJiYgJHRvLmRlcHRoID09IGRlcHRoKSB7IC8vIFNpbXBsZSwgZmxhdCBjYXNlXG4gICAgdmFyIHBhcmVudCA9ICRmcm9tLnBhcmVudCwgY29udGVudCA9IHBhcmVudC5jb250ZW50O1xuICAgIHJldHVybiBjbG9zZShwYXJlbnQsIGNvbnRlbnQuY3V0KDAsICRmcm9tLnBhcmVudE9mZnNldCkuYXBwZW5kKHNsaWNlLmNvbnRlbnQpLmFwcGVuZChjb250ZW50LmN1dCgkdG8ucGFyZW50T2Zmc2V0KSkpXG4gIH0gZWxzZSB7XG4gICAgdmFyIHJlZiA9IHByZXBhcmVTbGljZUZvclJlcGxhY2Uoc2xpY2UsICRmcm9tKTtcbiAgICB2YXIgc3RhcnQgPSByZWYuc3RhcnQ7XG4gICAgdmFyIGVuZCA9IHJlZi5lbmQ7XG4gICAgcmV0dXJuIGNsb3NlKG5vZGUsIHJlcGxhY2VUaHJlZVdheSgkZnJvbSwgc3RhcnQsIGVuZCwgJHRvLCBkZXB0aCkpXG4gIH1cbn1cblxuZnVuY3Rpb24gY2hlY2tKb2luKG1haW4sIHN1Yikge1xuICBpZiAoIXN1Yi50eXBlLmNvbXBhdGlibGVDb250ZW50KG1haW4udHlwZSkpXG4gICAgeyB0aHJvdyBuZXcgUmVwbGFjZUVycm9yKFwiQ2Fubm90IGpvaW4gXCIgKyBzdWIudHlwZS5uYW1lICsgXCIgb250byBcIiArIG1haW4udHlwZS5uYW1lKSB9XG59XG5cbmZ1bmN0aW9uIGpvaW5hYmxlKCRiZWZvcmUsICRhZnRlciwgZGVwdGgpIHtcbiAgdmFyIG5vZGUgPSAkYmVmb3JlLm5vZGUoZGVwdGgpO1xuICBjaGVja0pvaW4obm9kZSwgJGFmdGVyLm5vZGUoZGVwdGgpKTtcbiAgcmV0dXJuIG5vZGVcbn1cblxuZnVuY3Rpb24gYWRkTm9kZShjaGlsZCwgdGFyZ2V0KSB7XG4gIHZhciBsYXN0ID0gdGFyZ2V0Lmxlbmd0aCAtIDE7XG4gIGlmIChsYXN0ID49IDAgJiYgY2hpbGQuaXNUZXh0ICYmIGNoaWxkLnNhbWVNYXJrdXAodGFyZ2V0W2xhc3RdKSlcbiAgICB7IHRhcmdldFtsYXN0XSA9IGNoaWxkLndpdGhUZXh0KHRhcmdldFtsYXN0XS50ZXh0ICsgY2hpbGQudGV4dCk7IH1cbiAgZWxzZVxuICAgIHsgdGFyZ2V0LnB1c2goY2hpbGQpOyB9XG59XG5cbmZ1bmN0aW9uIGFkZFJhbmdlKCRzdGFydCwgJGVuZCwgZGVwdGgsIHRhcmdldCkge1xuICB2YXIgbm9kZSA9ICgkZW5kIHx8ICRzdGFydCkubm9kZShkZXB0aCk7XG4gIHZhciBzdGFydEluZGV4ID0gMCwgZW5kSW5kZXggPSAkZW5kID8gJGVuZC5pbmRleChkZXB0aCkgOiBub2RlLmNoaWxkQ291bnQ7XG4gIGlmICgkc3RhcnQpIHtcbiAgICBzdGFydEluZGV4ID0gJHN0YXJ0LmluZGV4KGRlcHRoKTtcbiAgICBpZiAoJHN0YXJ0LmRlcHRoID4gZGVwdGgpIHtcbiAgICAgIHN0YXJ0SW5kZXgrKztcbiAgICB9IGVsc2UgaWYgKCRzdGFydC50ZXh0T2Zmc2V0KSB7XG4gICAgICBhZGROb2RlKCRzdGFydC5ub2RlQWZ0ZXIsIHRhcmdldCk7XG4gICAgICBzdGFydEluZGV4Kys7XG4gICAgfVxuICB9XG4gIGZvciAodmFyIGkgPSBzdGFydEluZGV4OyBpIDwgZW5kSW5kZXg7IGkrKykgeyBhZGROb2RlKG5vZGUuY2hpbGQoaSksIHRhcmdldCk7IH1cbiAgaWYgKCRlbmQgJiYgJGVuZC5kZXB0aCA9PSBkZXB0aCAmJiAkZW5kLnRleHRPZmZzZXQpXG4gICAgeyBhZGROb2RlKCRlbmQubm9kZUJlZm9yZSwgdGFyZ2V0KTsgfVxufVxuXG5mdW5jdGlvbiBjbG9zZShub2RlLCBjb250ZW50KSB7XG4gIGlmICghbm9kZS50eXBlLnZhbGlkQ29udGVudChjb250ZW50KSlcbiAgICB7IHRocm93IG5ldyBSZXBsYWNlRXJyb3IoXCJJbnZhbGlkIGNvbnRlbnQgZm9yIG5vZGUgXCIgKyBub2RlLnR5cGUubmFtZSkgfVxuICByZXR1cm4gbm9kZS5jb3B5KGNvbnRlbnQpXG59XG5cbmZ1bmN0aW9uIHJlcGxhY2VUaHJlZVdheSgkZnJvbSwgJHN0YXJ0LCAkZW5kLCAkdG8sIGRlcHRoKSB7XG4gIHZhciBvcGVuU3RhcnQgPSAkZnJvbS5kZXB0aCA+IGRlcHRoICYmIGpvaW5hYmxlKCRmcm9tLCAkc3RhcnQsIGRlcHRoICsgMSk7XG4gIHZhciBvcGVuRW5kID0gJHRvLmRlcHRoID4gZGVwdGggJiYgam9pbmFibGUoJGVuZCwgJHRvLCBkZXB0aCArIDEpO1xuXG4gIHZhciBjb250ZW50ID0gW107XG4gIGFkZFJhbmdlKG51bGwsICRmcm9tLCBkZXB0aCwgY29udGVudCk7XG4gIGlmIChvcGVuU3RhcnQgJiYgb3BlbkVuZCAmJiAkc3RhcnQuaW5kZXgoZGVwdGgpID09ICRlbmQuaW5kZXgoZGVwdGgpKSB7XG4gICAgY2hlY2tKb2luKG9wZW5TdGFydCwgb3BlbkVuZCk7XG4gICAgYWRkTm9kZShjbG9zZShvcGVuU3RhcnQsIHJlcGxhY2VUaHJlZVdheSgkZnJvbSwgJHN0YXJ0LCAkZW5kLCAkdG8sIGRlcHRoICsgMSkpLCBjb250ZW50KTtcbiAgfSBlbHNlIHtcbiAgICBpZiAob3BlblN0YXJ0KVxuICAgICAgeyBhZGROb2RlKGNsb3NlKG9wZW5TdGFydCwgcmVwbGFjZVR3b1dheSgkZnJvbSwgJHN0YXJ0LCBkZXB0aCArIDEpKSwgY29udGVudCk7IH1cbiAgICBhZGRSYW5nZSgkc3RhcnQsICRlbmQsIGRlcHRoLCBjb250ZW50KTtcbiAgICBpZiAob3BlbkVuZClcbiAgICAgIHsgYWRkTm9kZShjbG9zZShvcGVuRW5kLCByZXBsYWNlVHdvV2F5KCRlbmQsICR0bywgZGVwdGggKyAxKSksIGNvbnRlbnQpOyB9XG4gIH1cbiAgYWRkUmFuZ2UoJHRvLCBudWxsLCBkZXB0aCwgY29udGVudCk7XG4gIHJldHVybiBuZXcgRnJhZ21lbnQoY29udGVudClcbn1cblxuZnVuY3Rpb24gcmVwbGFjZVR3b1dheSgkZnJvbSwgJHRvLCBkZXB0aCkge1xuICB2YXIgY29udGVudCA9IFtdO1xuICBhZGRSYW5nZShudWxsLCAkZnJvbSwgZGVwdGgsIGNvbnRlbnQpO1xuICBpZiAoJGZyb20uZGVwdGggPiBkZXB0aCkge1xuICAgIHZhciB0eXBlID0gam9pbmFibGUoJGZyb20sICR0bywgZGVwdGggKyAxKTtcbiAgICBhZGROb2RlKGNsb3NlKHR5cGUsIHJlcGxhY2VUd29XYXkoJGZyb20sICR0bywgZGVwdGggKyAxKSksIGNvbnRlbnQpO1xuICB9XG4gIGFkZFJhbmdlKCR0bywgbnVsbCwgZGVwdGgsIGNvbnRlbnQpO1xuICByZXR1cm4gbmV3IEZyYWdtZW50KGNvbnRlbnQpXG59XG5cbmZ1bmN0aW9uIHByZXBhcmVTbGljZUZvclJlcGxhY2Uoc2xpY2UsICRhbG9uZykge1xuICB2YXIgZXh0cmEgPSAkYWxvbmcuZGVwdGggLSBzbGljZS5vcGVuU3RhcnQsIHBhcmVudCA9ICRhbG9uZy5ub2RlKGV4dHJhKTtcbiAgdmFyIG5vZGUgPSBwYXJlbnQuY29weShzbGljZS5jb250ZW50KTtcbiAgZm9yICh2YXIgaSA9IGV4dHJhIC0gMTsgaSA+PSAwOyBpLS0pXG4gICAgeyBub2RlID0gJGFsb25nLm5vZGUoaSkuY29weShGcmFnbWVudC5mcm9tKG5vZGUpKTsgfVxuICByZXR1cm4ge3N0YXJ0OiBub2RlLnJlc29sdmVOb0NhY2hlKHNsaWNlLm9wZW5TdGFydCArIGV4dHJhKSxcbiAgICAgICAgICBlbmQ6IG5vZGUucmVzb2x2ZU5vQ2FjaGUobm9kZS5jb250ZW50LnNpemUgLSBzbGljZS5vcGVuRW5kIC0gZXh0cmEpfVxufVxuXG4vLyA6Oi0gWW91IGNhbiBbX3Jlc29sdmVfXSgjbW9kZWwuTm9kZS5yZXNvbHZlKSBhIHBvc2l0aW9uIHRvIGdldCBtb3JlXG4vLyBpbmZvcm1hdGlvbiBhYm91dCBpdC4gT2JqZWN0cyBvZiB0aGlzIGNsYXNzIHJlcHJlc2VudCBzdWNoIGFcbi8vIHJlc29sdmVkIHBvc2l0aW9uLCBwcm92aWRpbmcgdmFyaW91cyBwaWVjZXMgb2YgY29udGV4dCBpbmZvcm1hdGlvbixcbi8vIGFuZCBzb21lIGhlbHBlciBtZXRob2RzLlxuLy9cbi8vIFRocm91Z2hvdXQgdGhpcyBpbnRlcmZhY2UsIG1ldGhvZHMgdGhhdCB0YWtlIGFuIG9wdGlvbmFsIGBkZXB0aGBcbi8vIHBhcmFtZXRlciB3aWxsIGludGVycHJldCB1bmRlZmluZWQgYXMgYHRoaXMuZGVwdGhgIGFuZCBuZWdhdGl2ZVxuLy8gbnVtYmVycyBhcyBgdGhpcy5kZXB0aCArIHZhbHVlYC5cbnZhciBSZXNvbHZlZFBvcyA9IGZ1bmN0aW9uIFJlc29sdmVkUG9zKHBvcywgcGF0aCwgcGFyZW50T2Zmc2V0KSB7XG4gIC8vIDo6IG51bWJlciBUaGUgcG9zaXRpb24gdGhhdCB3YXMgcmVzb2x2ZWQuXG4gIHRoaXMucG9zID0gcG9zO1xuICB0aGlzLnBhdGggPSBwYXRoO1xuICAvLyA6OiBudW1iZXJcbiAgLy8gVGhlIG51bWJlciBvZiBsZXZlbHMgdGhlIHBhcmVudCBub2RlIGlzIGZyb20gdGhlIHJvb3QuIElmIHRoaXNcbiAgLy8gcG9zaXRpb24gcG9pbnRzIGRpcmVjdGx5IGludG8gdGhlIHJvb3Qgbm9kZSwgaXQgaXMgMC4gSWYgaXRcbiAgLy8gcG9pbnRzIGludG8gYSB0b3AtbGV2ZWwgcGFyYWdyYXBoLCAxLCBhbmQgc28gb24uXG4gIHRoaXMuZGVwdGggPSBwYXRoLmxlbmd0aCAvIDMgLSAxO1xuICAvLyA6OiBudW1iZXIgVGhlIG9mZnNldCB0aGlzIHBvc2l0aW9uIGhhcyBpbnRvIGl0cyBwYXJlbnQgbm9kZS5cbiAgdGhpcy5wYXJlbnRPZmZzZXQgPSBwYXJlbnRPZmZzZXQ7XG59O1xuXG52YXIgcHJvdG90eXBlQWNjZXNzb3JzJDMgPSB7IHBhcmVudDoge30sZG9jOiB7fSx0ZXh0T2Zmc2V0OiB7fSxub2RlQWZ0ZXI6IHt9LG5vZGVCZWZvcmU6IHt9IH07XG5cblJlc29sdmVkUG9zLnByb3RvdHlwZS5yZXNvbHZlRGVwdGggPSBmdW5jdGlvbiByZXNvbHZlRGVwdGggKHZhbCkge1xuICBpZiAodmFsID09IG51bGwpIHsgcmV0dXJuIHRoaXMuZGVwdGggfVxuICBpZiAodmFsIDwgMCkgeyByZXR1cm4gdGhpcy5kZXB0aCArIHZhbCB9XG4gIHJldHVybiB2YWxcbn07XG5cbi8vIDo6IE5vZGVcbi8vIFRoZSBwYXJlbnQgbm9kZSB0aGF0IHRoZSBwb3NpdGlvbiBwb2ludHMgaW50by4gTm90ZSB0aGF0IGV2ZW4gaWZcbi8vIGEgcG9zaXRpb24gcG9pbnRzIGludG8gYSB0ZXh0IG5vZGUsIHRoYXQgbm9kZSBpcyBub3QgY29uc2lkZXJlZFxuLy8gdGhlIHBhcmVudOKAlHRleHQgbm9kZXMgYXJlIOKAmGZsYXTigJkgaW4gdGhpcyBtb2RlbCwgYW5kIGhhdmUgbm8gY29udGVudC5cbnByb3RvdHlwZUFjY2Vzc29ycyQzLnBhcmVudC5nZXQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLm5vZGUodGhpcy5kZXB0aCkgfTtcblxuLy8gOjogTm9kZVxuLy8gVGhlIHJvb3Qgbm9kZSBpbiB3aGljaCB0aGUgcG9zaXRpb24gd2FzIHJlc29sdmVkLlxucHJvdG90eXBlQWNjZXNzb3JzJDMuZG9jLmdldCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMubm9kZSgwKSB9O1xuXG4vLyA6OiAoP251bWJlcikg4oaSIE5vZGVcbi8vIFRoZSBhbmNlc3RvciBub2RlIGF0IHRoZSBnaXZlbiBsZXZlbC4gYHAubm9kZShwLmRlcHRoKWAgaXMgdGhlXG4vLyBzYW1lIGFzIGBwLnBhcmVudGAuXG5SZXNvbHZlZFBvcy5wcm90b3R5cGUubm9kZSA9IGZ1bmN0aW9uIG5vZGUgKGRlcHRoKSB7IHJldHVybiB0aGlzLnBhdGhbdGhpcy5yZXNvbHZlRGVwdGgoZGVwdGgpICogM10gfTtcblxuLy8gOjogKD9udW1iZXIpIOKGkiBudW1iZXJcbi8vIFRoZSBpbmRleCBpbnRvIHRoZSBhbmNlc3RvciBhdCB0aGUgZ2l2ZW4gbGV2ZWwuIElmIHRoaXMgcG9pbnRzIGF0XG4vLyB0aGUgM3JkIG5vZGUgaW4gdGhlIDJuZCBwYXJhZ3JhcGggb24gdGhlIHRvcCBsZXZlbCwgZm9yIGV4YW1wbGUsXG4vLyBgcC5pbmRleCgwKWAgaXMgMiBhbmQgYHAuaW5kZXgoMSlgIGlzIDMuXG5SZXNvbHZlZFBvcy5wcm90b3R5cGUuaW5kZXggPSBmdW5jdGlvbiBpbmRleCAoZGVwdGgpIHsgcmV0dXJuIHRoaXMucGF0aFt0aGlzLnJlc29sdmVEZXB0aChkZXB0aCkgKiAzICsgMV0gfTtcblxuLy8gOjogKD9udW1iZXIpIOKGkiBudW1iZXJcbi8vIFRoZSBpbmRleCBwb2ludGluZyBhZnRlciB0aGlzIHBvc2l0aW9uIGludG8gdGhlIGFuY2VzdG9yIGF0IHRoZVxuLy8gZ2l2ZW4gbGV2ZWwuXG5SZXNvbHZlZFBvcy5wcm90b3R5cGUuaW5kZXhBZnRlciA9IGZ1bmN0aW9uIGluZGV4QWZ0ZXIgKGRlcHRoKSB7XG4gIGRlcHRoID0gdGhpcy5yZXNvbHZlRGVwdGgoZGVwdGgpO1xuICByZXR1cm4gdGhpcy5pbmRleChkZXB0aCkgKyAoZGVwdGggPT0gdGhpcy5kZXB0aCAmJiAhdGhpcy50ZXh0T2Zmc2V0ID8gMCA6IDEpXG59O1xuXG4vLyA6OiAoP251bWJlcikg4oaSIG51bWJlclxuLy8gVGhlIChhYnNvbHV0ZSkgcG9zaXRpb24gYXQgdGhlIHN0YXJ0IG9mIHRoZSBub2RlIGF0IHRoZSBnaXZlblxuLy8gbGV2ZWwuXG5SZXNvbHZlZFBvcy5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiBzdGFydCAoZGVwdGgpIHtcbiAgZGVwdGggPSB0aGlzLnJlc29sdmVEZXB0aChkZXB0aCk7XG4gIHJldHVybiBkZXB0aCA9PSAwID8gMCA6IHRoaXMucGF0aFtkZXB0aCAqIDMgLSAxXSArIDFcbn07XG5cbi8vIDo6ICg/bnVtYmVyKSDihpIgbnVtYmVyXG4vLyBUaGUgKGFic29sdXRlKSBwb3NpdGlvbiBhdCB0aGUgZW5kIG9mIHRoZSBub2RlIGF0IHRoZSBnaXZlblxuLy8gbGV2ZWwuXG5SZXNvbHZlZFBvcy5wcm90b3R5cGUuZW5kID0gZnVuY3Rpb24gZW5kIChkZXB0aCkge1xuICBkZXB0aCA9IHRoaXMucmVzb2x2ZURlcHRoKGRlcHRoKTtcbiAgcmV0dXJuIHRoaXMuc3RhcnQoZGVwdGgpICsgdGhpcy5ub2RlKGRlcHRoKS5jb250ZW50LnNpemVcbn07XG5cbi8vIDo6ICg/bnVtYmVyKSDihpIgbnVtYmVyXG4vLyBUaGUgKGFic29sdXRlKSBwb3NpdGlvbiBkaXJlY3RseSBiZWZvcmUgdGhlIHdyYXBwaW5nIG5vZGUgYXQgdGhlXG4vLyBnaXZlbiBsZXZlbCwgb3IsIHdoZW4gYGxldmVsYCBpcyBgdGhpcy5kZXB0aCArIDFgLCB0aGUgb3JpZ2luYWxcbi8vIHBvc2l0aW9uLlxuUmVzb2x2ZWRQb3MucHJvdG90eXBlLmJlZm9yZSA9IGZ1bmN0aW9uIGJlZm9yZSAoZGVwdGgpIHtcbiAgZGVwdGggPSB0aGlzLnJlc29sdmVEZXB0aChkZXB0aCk7XG4gIGlmICghZGVwdGgpIHsgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJUaGVyZSBpcyBubyBwb3NpdGlvbiBiZWZvcmUgdGhlIHRvcC1sZXZlbCBub2RlXCIpIH1cbiAgcmV0dXJuIGRlcHRoID09IHRoaXMuZGVwdGggKyAxID8gdGhpcy5wb3MgOiB0aGlzLnBhdGhbZGVwdGggKiAzIC0gMV1cbn07XG5cbi8vIDo6ICg/bnVtYmVyKSDihpIgbnVtYmVyXG4vLyBUaGUgKGFic29sdXRlKSBwb3NpdGlvbiBkaXJlY3RseSBhZnRlciB0aGUgd3JhcHBpbmcgbm9kZSBhdCB0aGVcbi8vIGdpdmVuIGxldmVsLCBvciB0aGUgb3JpZ2luYWwgcG9zaXRpb24gd2hlbiBgbGV2ZWxgIGlzIGB0aGlzLmRlcHRoICsgMWAuXG5SZXNvbHZlZFBvcy5wcm90b3R5cGUuYWZ0ZXIgPSBmdW5jdGlvbiBhZnRlciAoZGVwdGgpIHtcbiAgZGVwdGggPSB0aGlzLnJlc29sdmVEZXB0aChkZXB0aCk7XG4gIGlmICghZGVwdGgpIHsgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJUaGVyZSBpcyBubyBwb3NpdGlvbiBhZnRlciB0aGUgdG9wLWxldmVsIG5vZGVcIikgfVxuICByZXR1cm4gZGVwdGggPT0gdGhpcy5kZXB0aCArIDEgPyB0aGlzLnBvcyA6IHRoaXMucGF0aFtkZXB0aCAqIDMgLSAxXSArIHRoaXMucGF0aFtkZXB0aCAqIDNdLm5vZGVTaXplXG59O1xuXG4vLyA6OiBudW1iZXJcbi8vIFdoZW4gdGhpcyBwb3NpdGlvbiBwb2ludHMgaW50byBhIHRleHQgbm9kZSwgdGhpcyByZXR1cm5zIHRoZVxuLy8gZGlzdGFuY2UgYmV0d2VlbiB0aGUgcG9zaXRpb24gYW5kIHRoZSBzdGFydCBvZiB0aGUgdGV4dCBub2RlLlxuLy8gV2lsbCBiZSB6ZXJvIGZvciBwb3NpdGlvbnMgdGhhdCBwb2ludCBiZXR3ZWVuIG5vZGVzLlxucHJvdG90eXBlQWNjZXNzb3JzJDMudGV4dE9mZnNldC5nZXQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLnBvcyAtIHRoaXMucGF0aFt0aGlzLnBhdGgubGVuZ3RoIC0gMV0gfTtcblxuLy8gOjogP05vZGVcbi8vIEdldCB0aGUgbm9kZSBkaXJlY3RseSBhZnRlciB0aGUgcG9zaXRpb24sIGlmIGFueS4gSWYgdGhlIHBvc2l0aW9uXG4vLyBwb2ludHMgaW50byBhIHRleHQgbm9kZSwgb25seSB0aGUgcGFydCBvZiB0aGF0IG5vZGUgYWZ0ZXIgdGhlXG4vLyBwb3NpdGlvbiBpcyByZXR1cm5lZC5cbnByb3RvdHlwZUFjY2Vzc29ycyQzLm5vZGVBZnRlci5nZXQgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBwYXJlbnQgPSB0aGlzLnBhcmVudCwgaW5kZXggPSB0aGlzLmluZGV4KHRoaXMuZGVwdGgpO1xuICBpZiAoaW5kZXggPT0gcGFyZW50LmNoaWxkQ291bnQpIHsgcmV0dXJuIG51bGwgfVxuICB2YXIgZE9mZiA9IHRoaXMucG9zIC0gdGhpcy5wYXRoW3RoaXMucGF0aC5sZW5ndGggLSAxXSwgY2hpbGQgPSBwYXJlbnQuY2hpbGQoaW5kZXgpO1xuICByZXR1cm4gZE9mZiA/IHBhcmVudC5jaGlsZChpbmRleCkuY3V0KGRPZmYpIDogY2hpbGRcbn07XG5cbi8vIDo6ID9Ob2RlXG4vLyBHZXQgdGhlIG5vZGUgZGlyZWN0bHkgYmVmb3JlIHRoZSBwb3NpdGlvbiwgaWYgYW55LiBJZiB0aGVcbi8vIHBvc2l0aW9uIHBvaW50cyBpbnRvIGEgdGV4dCBub2RlLCBvbmx5IHRoZSBwYXJ0IG9mIHRoYXQgbm9kZVxuLy8gYmVmb3JlIHRoZSBwb3NpdGlvbiBpcyByZXR1cm5lZC5cbnByb3RvdHlwZUFjY2Vzc29ycyQzLm5vZGVCZWZvcmUuZ2V0ID0gZnVuY3Rpb24gKCkge1xuICB2YXIgaW5kZXggPSB0aGlzLmluZGV4KHRoaXMuZGVwdGgpO1xuICB2YXIgZE9mZiA9IHRoaXMucG9zIC0gdGhpcy5wYXRoW3RoaXMucGF0aC5sZW5ndGggLSAxXTtcbiAgaWYgKGRPZmYpIHsgcmV0dXJuIHRoaXMucGFyZW50LmNoaWxkKGluZGV4KS5jdXQoMCwgZE9mZikgfVxuICByZXR1cm4gaW5kZXggPT0gMCA/IG51bGwgOiB0aGlzLnBhcmVudC5jaGlsZChpbmRleCAtIDEpXG59O1xuXG4vLyA6OiAoKSDihpIgW01hcmtdXG4vLyBHZXQgdGhlIG1hcmtzIGF0IHRoaXMgcG9zaXRpb24sIGZhY3RvcmluZyBpbiB0aGUgc3Vycm91bmRpbmdcbi8vIG1hcmtzJyBbYGluY2x1c2l2ZWBdKCNtb2RlbC5NYXJrU3BlYy5pbmNsdXNpdmUpIHByb3BlcnR5LiBJZiB0aGVcbi8vIHBvc2l0aW9uIGlzIGF0IHRoZSBzdGFydCBvZiBhIG5vbi1lbXB0eSBub2RlLCB0aGUgbWFya3Mgb2YgdGhlXG4vLyBub2RlIGFmdGVyIGl0IChpZiBhbnkpIGFyZSByZXR1cm5lZC5cblJlc29sdmVkUG9zLnByb3RvdHlwZS5tYXJrcyA9IGZ1bmN0aW9uIG1hcmtzICgpIHtcbiAgdmFyIHBhcmVudCA9IHRoaXMucGFyZW50LCBpbmRleCA9IHRoaXMuaW5kZXgoKTtcblxuICAvLyBJbiBhbiBlbXB0eSBwYXJlbnQsIHJldHVybiB0aGUgZW1wdHkgYXJyYXlcbiAgaWYgKHBhcmVudC5jb250ZW50LnNpemUgPT0gMCkgeyByZXR1cm4gTWFyay5ub25lIH1cblxuICAvLyBXaGVuIGluc2lkZSBhIHRleHQgbm9kZSwganVzdCByZXR1cm4gdGhlIHRleHQgbm9kZSdzIG1hcmtzXG4gIGlmICh0aGlzLnRleHRPZmZzZXQpIHsgcmV0dXJuIHBhcmVudC5jaGlsZChpbmRleCkubWFya3MgfVxuXG4gIHZhciBtYWluID0gcGFyZW50Lm1heWJlQ2hpbGQoaW5kZXggLSAxKSwgb3RoZXIgPSBwYXJlbnQubWF5YmVDaGlsZChpbmRleCk7XG4gIC8vIElmIHRoZSBgYWZ0ZXJgIGZsYWcgaXMgdHJ1ZSBvZiB0aGVyZSBpcyBubyBub2RlIGJlZm9yZSwgbWFrZVxuICAvLyB0aGUgbm9kZSBhZnRlciB0aGlzIHBvc2l0aW9uIHRoZSBtYWluIHJlZmVyZW5jZS5cbiAgaWYgKCFtYWluKSB7IHZhciB0bXAgPSBtYWluOyBtYWluID0gb3RoZXI7IG90aGVyID0gdG1wOyB9XG5cbiAgLy8gVXNlIGFsbCBtYXJrcyBpbiB0aGUgbWFpbiBub2RlLCBleGNlcHQgdGhvc2UgdGhhdCBoYXZlXG4gIC8vIGBpbmNsdXNpdmVgIHNldCB0byBmYWxzZSBhbmQgYXJlIG5vdCBwcmVzZW50IGluIHRoZSBvdGhlciBub2RlLlxuICB2YXIgbWFya3MgPSBtYWluLm1hcmtzO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IG1hcmtzLmxlbmd0aDsgaSsrKVxuICAgIHsgaWYgKG1hcmtzW2ldLnR5cGUuc3BlYy5pbmNsdXNpdmUgPT09IGZhbHNlICYmICghb3RoZXIgfHwgIW1hcmtzW2ldLmlzSW5TZXQob3RoZXIubWFya3MpKSlcbiAgICAgIHsgbWFya3MgPSBtYXJrc1tpLS1dLnJlbW92ZUZyb21TZXQobWFya3MpOyB9IH1cblxuICByZXR1cm4gbWFya3Ncbn07XG5cbi8vIDo6IChSZXNvbHZlZFBvcykg4oaSID9bTWFya11cbi8vIEdldCB0aGUgbWFya3MgYWZ0ZXIgdGhlIGN1cnJlbnQgcG9zaXRpb24sIGlmIGFueSwgZXhjZXB0IHRob3NlXG4vLyB0aGF0IGFyZSBub24taW5jbHVzaXZlIGFuZCBub3QgcHJlc2VudCBhdCBwb3NpdGlvbiBgJGVuZGAuIFRoaXNcbi8vIGlzIG1vc3RseSB1c2VmdWwgZm9yIGdldHRpbmcgdGhlIHNldCBvZiBtYXJrcyB0byBwcmVzZXJ2ZSBhZnRlciBhXG4vLyBkZWxldGlvbi4gV2lsbCByZXR1cm4gYG51bGxgIGlmIHRoaXMgcG9zaXRpb24gaXMgYXQgdGhlIGVuZCBvZlxuLy8gaXRzIHBhcmVudCBub2RlIG9yIGl0cyBwYXJlbnQgbm9kZSBpc24ndCBhIHRleHRibG9jayAoaW4gd2hpY2hcbi8vIGNhc2Ugbm8gbWFya3Mgc2hvdWxkIGJlIHByZXNlcnZlZCkuXG5SZXNvbHZlZFBvcy5wcm90b3R5cGUubWFya3NBY3Jvc3MgPSBmdW5jdGlvbiBtYXJrc0Fjcm9zcyAoJGVuZCkge1xuICB2YXIgYWZ0ZXIgPSB0aGlzLnBhcmVudC5tYXliZUNoaWxkKHRoaXMuaW5kZXgoKSk7XG4gIGlmICghYWZ0ZXIgfHwgIWFmdGVyLmlzSW5saW5lKSB7IHJldHVybiBudWxsIH1cblxuICB2YXIgbWFya3MgPSBhZnRlci5tYXJrcywgbmV4dCA9ICRlbmQucGFyZW50Lm1heWJlQ2hpbGQoJGVuZC5pbmRleCgpKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXJrcy5sZW5ndGg7IGkrKylcbiAgICB7IGlmIChtYXJrc1tpXS50eXBlLnNwZWMuaW5jbHVzaXZlID09PSBmYWxzZSAmJiAoIW5leHQgfHwgIW1hcmtzW2ldLmlzSW5TZXQobmV4dC5tYXJrcykpKVxuICAgICAgeyBtYXJrcyA9IG1hcmtzW2ktLV0ucmVtb3ZlRnJvbVNldChtYXJrcyk7IH0gfVxuICByZXR1cm4gbWFya3Ncbn07XG5cbi8vIDo6IChudW1iZXIpIOKGkiBudW1iZXJcbi8vIFRoZSBkZXB0aCB1cCB0byB3aGljaCB0aGlzIHBvc2l0aW9uIGFuZCB0aGUgZ2l2ZW4gKG5vbi1yZXNvbHZlZClcbi8vIHBvc2l0aW9uIHNoYXJlIHRoZSBzYW1lIHBhcmVudCBub2Rlcy5cblJlc29sdmVkUG9zLnByb3RvdHlwZS5zaGFyZWREZXB0aCA9IGZ1bmN0aW9uIHNoYXJlZERlcHRoIChwb3MpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICBmb3IgKHZhciBkZXB0aCA9IHRoaXMuZGVwdGg7IGRlcHRoID4gMDsgZGVwdGgtLSlcbiAgICB7IGlmICh0aGlzJDEuc3RhcnQoZGVwdGgpIDw9IHBvcyAmJiB0aGlzJDEuZW5kKGRlcHRoKSA+PSBwb3MpIHsgcmV0dXJuIGRlcHRoIH0gfVxuICByZXR1cm4gMFxufTtcblxuLy8gOjogKD9SZXNvbHZlZFBvcywgPyhOb2RlKSDihpIgYm9vbCkg4oaSID9Ob2RlUmFuZ2Vcbi8vIFJldHVybnMgYSByYW5nZSBiYXNlZCBvbiB0aGUgcGxhY2Ugd2hlcmUgdGhpcyBwb3NpdGlvbiBhbmQgdGhlXG4vLyBnaXZlbiBwb3NpdGlvbiBkaXZlcmdlIGFyb3VuZCBibG9jayBjb250ZW50LiBJZiBib3RoIHBvaW50IGludG9cbi8vIHRoZSBzYW1lIHRleHRibG9jaywgZm9yIGV4YW1wbGUsIGEgcmFuZ2UgYXJvdW5kIHRoYXQgdGV4dGJsb2NrXG4vLyB3aWxsIGJlIHJldHVybmVkLiBJZiB0aGV5IHBvaW50IGludG8gZGlmZmVyZW50IGJsb2NrcywgdGhlIHJhbmdlXG4vLyBhcm91bmQgdGhvc2UgYmxvY2tzIGluIHRoZWlyIHNoYXJlZCBhbmNlc3RvciBpcyByZXR1cm5lZC4gWW91IGNhblxuLy8gcGFzcyBpbiBhbiBvcHRpb25hbCBwcmVkaWNhdGUgdGhhdCB3aWxsIGJlIGNhbGxlZCB3aXRoIGEgcGFyZW50XG4vLyBub2RlIHRvIHNlZSBpZiBhIHJhbmdlIGludG8gdGhhdCBwYXJlbnQgaXMgYWNjZXB0YWJsZS5cblJlc29sdmVkUG9zLnByb3RvdHlwZS5ibG9ja1JhbmdlID0gZnVuY3Rpb24gYmxvY2tSYW5nZSAob3RoZXIsIHByZWQpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcbiAgICBpZiAoIG90aGVyID09PSB2b2lkIDAgKSBvdGhlciA9IHRoaXM7XG5cbiAgaWYgKG90aGVyLnBvcyA8IHRoaXMucG9zKSB7IHJldHVybiBvdGhlci5ibG9ja1JhbmdlKHRoaXMpIH1cbiAgZm9yICh2YXIgZCA9IHRoaXMuZGVwdGggLSAodGhpcy5wYXJlbnQuaW5saW5lQ29udGVudCB8fCB0aGlzLnBvcyA9PSBvdGhlci5wb3MgPyAxIDogMCk7IGQgPj0gMDsgZC0tKVxuICAgIHsgaWYgKG90aGVyLnBvcyA8PSB0aGlzJDEuZW5kKGQpICYmICghcHJlZCB8fCBwcmVkKHRoaXMkMS5ub2RlKGQpKSkpXG4gICAgICB7IHJldHVybiBuZXcgTm9kZVJhbmdlKHRoaXMkMSwgb3RoZXIsIGQpIH0gfVxufTtcblxuLy8gOjogKFJlc29sdmVkUG9zKSDihpIgYm9vbFxuLy8gUXVlcnkgd2hldGhlciB0aGUgZ2l2ZW4gcG9zaXRpb24gc2hhcmVzIHRoZSBzYW1lIHBhcmVudCBub2RlLlxuUmVzb2x2ZWRQb3MucHJvdG90eXBlLnNhbWVQYXJlbnQgPSBmdW5jdGlvbiBzYW1lUGFyZW50IChvdGhlcikge1xuICByZXR1cm4gdGhpcy5wb3MgLSB0aGlzLnBhcmVudE9mZnNldCA9PSBvdGhlci5wb3MgLSBvdGhlci5wYXJlbnRPZmZzZXRcbn07XG5cbi8vIDo6IChSZXNvbHZlZFBvcykg4oaSIFJlc29sdmVkUG9zXG4vLyBSZXR1cm4gdGhlIGdyZWF0ZXIgb2YgdGhpcyBhbmQgdGhlIGdpdmVuIHBvc2l0aW9uLlxuUmVzb2x2ZWRQb3MucHJvdG90eXBlLm1heCA9IGZ1bmN0aW9uIG1heCAob3RoZXIpIHtcbiAgcmV0dXJuIG90aGVyLnBvcyA+IHRoaXMucG9zID8gb3RoZXIgOiB0aGlzXG59O1xuXG4vLyA6OiAoUmVzb2x2ZWRQb3MpIOKGkiBSZXNvbHZlZFBvc1xuLy8gUmV0dXJuIHRoZSBzbWFsbGVyIG9mIHRoaXMgYW5kIHRoZSBnaXZlbiBwb3NpdGlvbi5cblJlc29sdmVkUG9zLnByb3RvdHlwZS5taW4gPSBmdW5jdGlvbiBtaW4gKG90aGVyKSB7XG4gIHJldHVybiBvdGhlci5wb3MgPCB0aGlzLnBvcyA/IG90aGVyIDogdGhpc1xufTtcblxuUmVzb2x2ZWRQb3MucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcgKCkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gIHZhciBzdHIgPSBcIlwiO1xuICBmb3IgKHZhciBpID0gMTsgaSA8PSB0aGlzLmRlcHRoOyBpKyspXG4gICAgeyBzdHIgKz0gKHN0ciA/IFwiL1wiIDogXCJcIikgKyB0aGlzJDEubm9kZShpKS50eXBlLm5hbWUgKyBcIl9cIiArIHRoaXMkMS5pbmRleChpIC0gMSk7IH1cbiAgcmV0dXJuIHN0ciArIFwiOlwiICsgdGhpcy5wYXJlbnRPZmZzZXRcbn07XG5cblJlc29sdmVkUG9zLnJlc29sdmUgPSBmdW5jdGlvbiByZXNvbHZlIChkb2MsIHBvcykge1xuICBpZiAoIShwb3MgPj0gMCAmJiBwb3MgPD0gZG9jLmNvbnRlbnQuc2l6ZSkpIHsgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJQb3NpdGlvbiBcIiArIHBvcyArIFwiIG91dCBvZiByYW5nZVwiKSB9XG4gIHZhciBwYXRoID0gW107XG4gIHZhciBzdGFydCA9IDAsIHBhcmVudE9mZnNldCA9IHBvcztcbiAgZm9yICh2YXIgbm9kZSA9IGRvYzs7KSB7XG4gICAgdmFyIHJlZiA9IG5vZGUuY29udGVudC5maW5kSW5kZXgocGFyZW50T2Zmc2V0KTtcbiAgICAgIHZhciBpbmRleCA9IHJlZi5pbmRleDtcbiAgICAgIHZhciBvZmZzZXQgPSByZWYub2Zmc2V0O1xuICAgIHZhciByZW0gPSBwYXJlbnRPZmZzZXQgLSBvZmZzZXQ7XG4gICAgcGF0aC5wdXNoKG5vZGUsIGluZGV4LCBzdGFydCArIG9mZnNldCk7XG4gICAgaWYgKCFyZW0pIHsgYnJlYWsgfVxuICAgIG5vZGUgPSBub2RlLmNoaWxkKGluZGV4KTtcbiAgICBpZiAobm9kZS5pc1RleHQpIHsgYnJlYWsgfVxuICAgIHBhcmVudE9mZnNldCA9IHJlbSAtIDE7XG4gICAgc3RhcnQgKz0gb2Zmc2V0ICsgMTtcbiAgfVxuICByZXR1cm4gbmV3IFJlc29sdmVkUG9zKHBvcywgcGF0aCwgcGFyZW50T2Zmc2V0KVxufTtcblxuUmVzb2x2ZWRQb3MucmVzb2x2ZUNhY2hlZCA9IGZ1bmN0aW9uIHJlc29sdmVDYWNoZWQgKGRvYywgcG9zKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzb2x2ZUNhY2hlLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGNhY2hlZCA9IHJlc29sdmVDYWNoZVtpXTtcbiAgICBpZiAoY2FjaGVkLnBvcyA9PSBwb3MgJiYgY2FjaGVkLmRvYyA9PSBkb2MpIHsgcmV0dXJuIGNhY2hlZCB9XG4gIH1cbiAgdmFyIHJlc3VsdCA9IHJlc29sdmVDYWNoZVtyZXNvbHZlQ2FjaGVQb3NdID0gUmVzb2x2ZWRQb3MucmVzb2x2ZShkb2MsIHBvcyk7XG4gIHJlc29sdmVDYWNoZVBvcyA9IChyZXNvbHZlQ2FjaGVQb3MgKyAxKSAlIHJlc29sdmVDYWNoZVNpemU7XG4gIHJldHVybiByZXN1bHRcbn07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBSZXNvbHZlZFBvcy5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyQzICk7XG5cbnZhciByZXNvbHZlQ2FjaGUgPSBbXTtcbnZhciByZXNvbHZlQ2FjaGVQb3MgPSAwO1xudmFyIHJlc29sdmVDYWNoZVNpemUgPSAxMjtcblxuLy8gOjotIFJlcHJlc2VudHMgYSBmbGF0IHJhbmdlIG9mIGNvbnRlbnQsIGkuZS4gb25lIHRoYXQgc3RhcnRzIGFuZFxuLy8gZW5kcyBpbiB0aGUgc2FtZSBub2RlLlxudmFyIE5vZGVSYW5nZSA9IGZ1bmN0aW9uIE5vZGVSYW5nZSgkZnJvbSwgJHRvLCBkZXB0aCkge1xuICAvLyA6OiBSZXNvbHZlZFBvcyBBIHJlc29sdmVkIHBvc2l0aW9uIGFsb25nIHRoZSBzdGFydCBvZiB0aGVcbiAgLy8gY29udGVudC4gTWF5IGhhdmUgYSBgZGVwdGhgIGdyZWF0ZXIgdGhhbiB0aGlzIG9iamVjdCdzIGBkZXB0aGBcbiAgLy8gcHJvcGVydHksIHNpbmNlIHRoZXNlIGFyZSB0aGUgcG9zaXRpb25zIHRoYXQgd2VyZSB1c2VkIHRvXG4gIC8vIGNvbXB1dGUgdGhlIHJhbmdlLCBub3QgcmUtcmVzb2x2ZWQgcG9zaXRpb25zIGRpcmVjdGx5IGF0IGl0c1xuICAvLyBib3VuZGFyaWVzLlxuICB0aGlzLiRmcm9tID0gJGZyb207XG4gIC8vIDo6IFJlc29sdmVkUG9zIEEgcG9zaXRpb24gYWxvbmcgdGhlIGVuZCBvZiB0aGUgY29udGVudC4gU2VlXG4gIC8vIGNhdmVhdCBmb3IgW2AkZnJvbWBdKCNtb2RlbC5Ob2RlUmFuZ2UuJGZyb20pLlxuICB0aGlzLiR0byA9ICR0bztcbiAgLy8gOjogbnVtYmVyIFRoZSBkZXB0aCBvZiB0aGUgbm9kZSB0aGF0IHRoaXMgcmFuZ2UgcG9pbnRzIGludG8uXG4gIHRoaXMuZGVwdGggPSBkZXB0aDtcbn07XG5cbnZhciBwcm90b3R5cGVBY2Nlc3NvcnMkMSQxID0geyBzdGFydDoge30sZW5kOiB7fSxwYXJlbnQ6IHt9LHN0YXJ0SW5kZXg6IHt9LGVuZEluZGV4OiB7fSB9O1xuXG4vLyA6OiBudW1iZXIgVGhlIHBvc2l0aW9uIGF0IHRoZSBzdGFydCBvZiB0aGUgcmFuZ2UuXG5wcm90b3R5cGVBY2Nlc3NvcnMkMSQxLnN0YXJ0LmdldCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuJGZyb20uYmVmb3JlKHRoaXMuZGVwdGggKyAxKSB9O1xuLy8gOjogbnVtYmVyIFRoZSBwb3NpdGlvbiBhdCB0aGUgZW5kIG9mIHRoZSByYW5nZS5cbnByb3RvdHlwZUFjY2Vzc29ycyQxJDEuZW5kLmdldCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuJHRvLmFmdGVyKHRoaXMuZGVwdGggKyAxKSB9O1xuXG4vLyA6OiBOb2RlIFRoZSBwYXJlbnQgbm9kZSB0aGF0IHRoZSByYW5nZSBwb2ludHMgaW50by5cbnByb3RvdHlwZUFjY2Vzc29ycyQxJDEucGFyZW50LmdldCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuJGZyb20ubm9kZSh0aGlzLmRlcHRoKSB9O1xuLy8gOjogbnVtYmVyIFRoZSBzdGFydCBpbmRleCBvZiB0aGUgcmFuZ2UgaW4gdGhlIHBhcmVudCBub2RlLlxucHJvdG90eXBlQWNjZXNzb3JzJDEkMS5zdGFydEluZGV4LmdldCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuJGZyb20uaW5kZXgodGhpcy5kZXB0aCkgfTtcbi8vIDo6IG51bWJlciBUaGUgZW5kIGluZGV4IG9mIHRoZSByYW5nZSBpbiB0aGUgcGFyZW50IG5vZGUuXG5wcm90b3R5cGVBY2Nlc3NvcnMkMSQxLmVuZEluZGV4LmdldCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuJHRvLmluZGV4QWZ0ZXIodGhpcy5kZXB0aCkgfTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIE5vZGVSYW5nZS5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyQxJDEgKTtcblxudmFyIGVtcHR5QXR0cnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4vLyA6Oi0gVGhpcyBjbGFzcyByZXByZXNlbnRzIGEgbm9kZSBpbiB0aGUgdHJlZSB0aGF0IG1ha2VzIHVwIGFcbi8vIFByb3NlTWlycm9yIGRvY3VtZW50LiBTbyBhIGRvY3VtZW50IGlzIGFuIGluc3RhbmNlIG9mIGBOb2RlYCwgd2l0aFxuLy8gY2hpbGRyZW4gdGhhdCBhcmUgYWxzbyBpbnN0YW5jZXMgb2YgYE5vZGVgLlxuLy9cbi8vIE5vZGVzIGFyZSBwZXJzaXN0ZW50IGRhdGEgc3RydWN0dXJlcy4gSW5zdGVhZCBvZiBjaGFuZ2luZyB0aGVtLCB5b3Vcbi8vIGNyZWF0ZSBuZXcgb25lcyB3aXRoIHRoZSBjb250ZW50IHlvdSB3YW50LiBPbGQgb25lcyBrZWVwIHBvaW50aW5nXG4vLyBhdCB0aGUgb2xkIGRvY3VtZW50IHNoYXBlLiBUaGlzIGlzIG1hZGUgY2hlYXBlciBieSBzaGFyaW5nXG4vLyBzdHJ1Y3R1cmUgYmV0d2VlbiB0aGUgb2xkIGFuZCBuZXcgZGF0YSBhcyBtdWNoIGFzIHBvc3NpYmxlLCB3aGljaCBhXG4vLyB0cmVlIHNoYXBlIGxpa2UgdGhpcyAod2l0aG91dCBiYWNrIHBvaW50ZXJzKSBtYWtlcyBlYXN5LlxuLy9cbi8vICoqRG8gbm90KiogZGlyZWN0bHkgbXV0YXRlIHRoZSBwcm9wZXJ0aWVzIG9mIGEgYE5vZGVgIG9iamVjdC4gU2VlXG4vLyBbdGhlIGd1aWRlXSgvZG9jcy9ndWlkZS8jZG9jKSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbnZhciBOb2RlID0gZnVuY3Rpb24gTm9kZSh0eXBlLCBhdHRycywgY29udGVudCwgbWFya3MpIHtcbiAgLy8gOjogTm9kZVR5cGVcbiAgLy8gVGhlIHR5cGUgb2Ygbm9kZSB0aGF0IHRoaXMgaXMuXG4gIHRoaXMudHlwZSA9IHR5cGU7XG5cbiAgLy8gOjogT2JqZWN0XG4gIC8vIEFuIG9iamVjdCBtYXBwaW5nIGF0dHJpYnV0ZSBuYW1lcyB0byB2YWx1ZXMuIFRoZSBraW5kIG9mXG4gIC8vIGF0dHJpYnV0ZXMgYWxsb3dlZCBhbmQgcmVxdWlyZWQgYXJlXG4gIC8vIFtkZXRlcm1pbmVkXSgjbW9kZWwuTm9kZVNwZWMuYXR0cnMpIGJ5IHRoZSBub2RlIHR5cGUuXG4gIHRoaXMuYXR0cnMgPSBhdHRycztcblxuICAvLyA6OiBGcmFnbWVudFxuICAvLyBBIGNvbnRhaW5lciBob2xkaW5nIHRoZSBub2RlJ3MgY2hpbGRyZW4uXG4gIHRoaXMuY29udGVudCA9IGNvbnRlbnQgfHwgRnJhZ21lbnQuZW1wdHk7XG5cbiAgLy8gOjogW01hcmtdXG4gIC8vIFRoZSBtYXJrcyAodGhpbmdzIGxpa2Ugd2hldGhlciBpdCBpcyBlbXBoYXNpemVkIG9yIHBhcnQgb2YgYVxuICAvLyBsaW5rKSBhcHBsaWVkIHRvIHRoaXMgbm9kZS5cbiAgdGhpcy5tYXJrcyA9IG1hcmtzIHx8IE1hcmsubm9uZTtcbn07XG5cbnZhciBwcm90b3R5cGVBY2Nlc3NvcnMgPSB7IG5vZGVTaXplOiB7fSxjaGlsZENvdW50OiB7fSx0ZXh0Q29udGVudDoge30sZmlyc3RDaGlsZDoge30sbGFzdENoaWxkOiB7fSxpc0Jsb2NrOiB7fSxpc1RleHRibG9jazoge30saW5saW5lQ29udGVudDoge30saXNJbmxpbmU6IHt9LGlzVGV4dDoge30saXNMZWFmOiB7fSxpc0F0b206IHt9IH07XG5cbi8vIHRleHQ6OiA/c3RyaW5nXG4vLyBGb3IgdGV4dCBub2RlcywgdGhpcyBjb250YWlucyB0aGUgbm9kZSdzIHRleHQgY29udGVudC5cblxuLy8gOjogbnVtYmVyXG4vLyBUaGUgc2l6ZSBvZiB0aGlzIG5vZGUsIGFzIGRlZmluZWQgYnkgdGhlIGludGVnZXItYmFzZWQgW2luZGV4aW5nXG4vLyBzY2hlbWVdKC9kb2NzL2d1aWRlLyNkb2MuaW5kZXhpbmcpLiBGb3IgdGV4dCBub2RlcywgdGhpcyBpcyB0aGVcbi8vIGFtb3VudCBvZiBjaGFyYWN0ZXJzLiBGb3Igb3RoZXIgbGVhZiBub2RlcywgaXQgaXMgb25lLiBGb3Jcbi8vIG5vbi1sZWFmIG5vZGVzLCBpdCBpcyB0aGUgc2l6ZSBvZiB0aGUgY29udGVudCBwbHVzIHR3byAodGhlIHN0YXJ0XG4vLyBhbmQgZW5kIHRva2VuKS5cbnByb3RvdHlwZUFjY2Vzc29ycy5ub2RlU2l6ZS5nZXQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmlzTGVhZiA/IDEgOiAyICsgdGhpcy5jb250ZW50LnNpemUgfTtcblxuLy8gOjogbnVtYmVyXG4vLyBUaGUgbnVtYmVyIG9mIGNoaWxkcmVuIHRoYXQgdGhlIG5vZGUgaGFzLlxucHJvdG90eXBlQWNjZXNzb3JzLmNoaWxkQ291bnQuZ2V0ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5jb250ZW50LmNoaWxkQ291bnQgfTtcblxuLy8gOjogKG51bWJlcikg4oaSIE5vZGVcbi8vIEdldCB0aGUgY2hpbGQgbm9kZSBhdCB0aGUgZ2l2ZW4gaW5kZXguIFJhaXNlcyBhbiBlcnJvciB3aGVuIHRoZVxuLy8gaW5kZXggaXMgb3V0IG9mIHJhbmdlLlxuTm9kZS5wcm90b3R5cGUuY2hpbGQgPSBmdW5jdGlvbiBjaGlsZCAoaW5kZXgpIHsgcmV0dXJuIHRoaXMuY29udGVudC5jaGlsZChpbmRleCkgfTtcblxuLy8gOjogKG51bWJlcikg4oaSID9Ob2RlXG4vLyBHZXQgdGhlIGNoaWxkIG5vZGUgYXQgdGhlIGdpdmVuIGluZGV4LCBpZiBpdCBleGlzdHMuXG5Ob2RlLnByb3RvdHlwZS5tYXliZUNoaWxkID0gZnVuY3Rpb24gbWF5YmVDaGlsZCAoaW5kZXgpIHsgcmV0dXJuIHRoaXMuY29udGVudC5tYXliZUNoaWxkKGluZGV4KSB9O1xuXG4vLyA6OiAoKG5vZGU6IE5vZGUsIG9mZnNldDogbnVtYmVyLCBpbmRleDogbnVtYmVyKSlcbi8vIENhbGwgYGZgIGZvciBldmVyeSBjaGlsZCBub2RlLCBwYXNzaW5nIHRoZSBub2RlLCBpdHMgb2Zmc2V0XG4vLyBpbnRvIHRoaXMgcGFyZW50IG5vZGUsIGFuZCBpdHMgaW5kZXguXG5Ob2RlLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gZm9yRWFjaCAoZikgeyB0aGlzLmNvbnRlbnQuZm9yRWFjaChmKTsgfTtcblxuLy8gOjogKG51bWJlciwgbnVtYmVyLCAobm9kZTogTm9kZSwgcG9zOiBudW1iZXIsIHBhcmVudDogTm9kZSwgaW5kZXg6IG51bWJlcikg4oaSID9ib29sLCA/bnVtYmVyKVxuLy8gSW52b2tlIGEgY2FsbGJhY2sgZm9yIGFsbCBkZXNjZW5kYW50IG5vZGVzIHJlY3Vyc2l2ZWx5IGJldHdlZW5cbi8vIHRoZSBnaXZlbiB0d28gcG9zaXRpb25zIHRoYXQgYXJlIHJlbGF0aXZlIHRvIHN0YXJ0IG9mIHRoaXMgbm9kZSdzXG4vLyBjb250ZW50LiBUaGUgY2FsbGJhY2sgaXMgaW52b2tlZCB3aXRoIHRoZSBub2RlLCBpdHNcbi8vIHBhcmVudC1yZWxhdGl2ZSBwb3NpdGlvbiwgaXRzIHBhcmVudCBub2RlLCBhbmQgaXRzIGNoaWxkIGluZGV4LlxuLy8gV2hlbiB0aGUgY2FsbGJhY2sgcmV0dXJucyBmYWxzZSBmb3IgYSBnaXZlbiBub2RlLCB0aGF0IG5vZGUnc1xuLy8gY2hpbGRyZW4gd2lsbCBub3QgYmUgcmVjdXJzZWQgb3Zlci4gVGhlIGxhc3QgcGFyYW1ldGVyIGNhbiBiZVxuLy8gdXNlZCB0byBzcGVjaWZ5IGEgc3RhcnRpbmcgcG9zaXRpb24gdG8gY291bnQgZnJvbS5cbk5vZGUucHJvdG90eXBlLm5vZGVzQmV0d2VlbiA9IGZ1bmN0aW9uIG5vZGVzQmV0d2VlbiAoZnJvbSwgdG8sIGYsIHN0YXJ0UG9zKSB7XG4gICAgaWYgKCBzdGFydFBvcyA9PT0gdm9pZCAwICkgc3RhcnRQb3MgPSAwO1xuXG4gIHRoaXMuY29udGVudC5ub2Rlc0JldHdlZW4oZnJvbSwgdG8sIGYsIHN0YXJ0UG9zLCB0aGlzKTtcbn07XG5cbi8vIDo6ICgobm9kZTogTm9kZSwgcG9zOiBudW1iZXIsIHBhcmVudDogTm9kZSkg4oaSID9ib29sKVxuLy8gQ2FsbCB0aGUgZ2l2ZW4gY2FsbGJhY2sgZm9yIGV2ZXJ5IGRlc2NlbmRhbnQgbm9kZS4gRG9lc24ndFxuLy8gZGVzY2VuZCBpbnRvIGEgbm9kZSB3aGVuIHRoZSBjYWxsYmFjayByZXR1cm5zIGBmYWxzZWAuXG5Ob2RlLnByb3RvdHlwZS5kZXNjZW5kYW50cyA9IGZ1bmN0aW9uIGRlc2NlbmRhbnRzIChmKSB7XG4gIHRoaXMubm9kZXNCZXR3ZWVuKDAsIHRoaXMuY29udGVudC5zaXplLCBmKTtcbn07XG5cbi8vIDo6IHN0cmluZ1xuLy8gQ29uY2F0ZW5hdGVzIGFsbCB0aGUgdGV4dCBub2RlcyBmb3VuZCBpbiB0aGlzIGZyYWdtZW50IGFuZCBpdHNcbi8vIGNoaWxkcmVuLlxucHJvdG90eXBlQWNjZXNzb3JzLnRleHRDb250ZW50LmdldCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMudGV4dEJldHdlZW4oMCwgdGhpcy5jb250ZW50LnNpemUsIFwiXCIpIH07XG5cbi8vIDo6IChudW1iZXIsIG51bWJlciwgP3N0cmluZywgP3N0cmluZykg4oaSIHN0cmluZ1xuLy8gR2V0IGFsbCB0ZXh0IGJldHdlZW4gcG9zaXRpb25zIGBmcm9tYCBhbmQgYHRvYC4gV2hlblxuLy8gYGJsb2NrU2VwYXJhdG9yYCBpcyBnaXZlbiwgaXQgd2lsbCBiZSBpbnNlcnRlZCB3aGVuZXZlciBhIG5ld1xuLy8gYmxvY2sgbm9kZSBpcyBzdGFydGVkLiBXaGVuIGBsZWFmVGV4dGAgaXMgZ2l2ZW4sIGl0J2xsIGJlXG4vLyBpbnNlcnRlZCBmb3IgZXZlcnkgbm9uLXRleHQgbGVhZiBub2RlIGVuY291bnRlcmVkLlxuTm9kZS5wcm90b3R5cGUudGV4dEJldHdlZW4gPSBmdW5jdGlvbiB0ZXh0QmV0d2VlbiAoZnJvbSwgdG8sIGJsb2NrU2VwYXJhdG9yLCBsZWFmVGV4dCkge1xuICByZXR1cm4gdGhpcy5jb250ZW50LnRleHRCZXR3ZWVuKGZyb20sIHRvLCBibG9ja1NlcGFyYXRvciwgbGVhZlRleHQpXG59O1xuXG4vLyA6OiA/Tm9kZVxuLy8gUmV0dXJucyB0aGlzIG5vZGUncyBmaXJzdCBjaGlsZCwgb3IgYG51bGxgIGlmIHRoZXJlIGFyZSBub1xuLy8gY2hpbGRyZW4uXG5wcm90b3R5cGVBY2Nlc3NvcnMuZmlyc3RDaGlsZC5nZXQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmNvbnRlbnQuZmlyc3RDaGlsZCB9O1xuXG4vLyA6OiA/Tm9kZVxuLy8gUmV0dXJucyB0aGlzIG5vZGUncyBsYXN0IGNoaWxkLCBvciBgbnVsbGAgaWYgdGhlcmUgYXJlIG5vXG4vLyBjaGlsZHJlbi5cbnByb3RvdHlwZUFjY2Vzc29ycy5sYXN0Q2hpbGQuZ2V0ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5jb250ZW50Lmxhc3RDaGlsZCB9O1xuXG4vLyA6OiAoTm9kZSkg4oaSIGJvb2xcbi8vIFRlc3Qgd2hldGhlciB0d28gbm9kZXMgcmVwcmVzZW50IHRoZSBzYW1lIHBpZWNlIG9mIGRvY3VtZW50LlxuTm9kZS5wcm90b3R5cGUuZXEgPSBmdW5jdGlvbiBlcSAob3RoZXIpIHtcbiAgcmV0dXJuIHRoaXMgPT0gb3RoZXIgfHwgKHRoaXMuc2FtZU1hcmt1cChvdGhlcikgJiYgdGhpcy5jb250ZW50LmVxKG90aGVyLmNvbnRlbnQpKVxufTtcblxuLy8gOjogKE5vZGUpIOKGkiBib29sXG4vLyBDb21wYXJlIHRoZSBtYXJrdXAgKHR5cGUsIGF0dHJpYnV0ZXMsIGFuZCBtYXJrcykgb2YgdGhpcyBub2RlIHRvXG4vLyB0aG9zZSBvZiBhbm90aGVyLiBSZXR1cm5zIGB0cnVlYCBpZiBib3RoIGhhdmUgdGhlIHNhbWUgbWFya3VwLlxuTm9kZS5wcm90b3R5cGUuc2FtZU1hcmt1cCA9IGZ1bmN0aW9uIHNhbWVNYXJrdXAgKG90aGVyKSB7XG4gIHJldHVybiB0aGlzLmhhc01hcmt1cChvdGhlci50eXBlLCBvdGhlci5hdHRycywgb3RoZXIubWFya3MpXG59O1xuXG4vLyA6OiAoTm9kZVR5cGUsID9PYmplY3QsID9bTWFya10pIOKGkiBib29sXG4vLyBDaGVjayB3aGV0aGVyIHRoaXMgbm9kZSdzIG1hcmt1cCBjb3JyZXNwb25kIHRvIHRoZSBnaXZlbiB0eXBlLFxuLy8gYXR0cmlidXRlcywgYW5kIG1hcmtzLlxuTm9kZS5wcm90b3R5cGUuaGFzTWFya3VwID0gZnVuY3Rpb24gaGFzTWFya3VwICh0eXBlLCBhdHRycywgbWFya3MpIHtcbiAgcmV0dXJuIHRoaXMudHlwZSA9PSB0eXBlICYmXG4gICAgY29tcGFyZURlZXAodGhpcy5hdHRycywgYXR0cnMgfHwgdHlwZS5kZWZhdWx0QXR0cnMgfHwgZW1wdHlBdHRycykgJiZcbiAgICBNYXJrLnNhbWVTZXQodGhpcy5tYXJrcywgbWFya3MgfHwgTWFyay5ub25lKVxufTtcblxuLy8gOjogKD9GcmFnbWVudCkg4oaSIE5vZGVcbi8vIENyZWF0ZSBhIG5ldyBub2RlIHdpdGggdGhlIHNhbWUgbWFya3VwIGFzIHRoaXMgbm9kZSwgY29udGFpbmluZ1xuLy8gdGhlIGdpdmVuIGNvbnRlbnQgKG9yIGVtcHR5LCBpZiBubyBjb250ZW50IGlzIGdpdmVuKS5cbk5vZGUucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbiBjb3B5IChjb250ZW50KSB7XG4gICAgaWYgKCBjb250ZW50ID09PSB2b2lkIDAgKSBjb250ZW50ID0gbnVsbDtcblxuICBpZiAoY29udGVudCA9PSB0aGlzLmNvbnRlbnQpIHsgcmV0dXJuIHRoaXMgfVxuICByZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy50eXBlLCB0aGlzLmF0dHJzLCBjb250ZW50LCB0aGlzLm1hcmtzKVxufTtcblxuLy8gOjogKFtNYXJrXSkg4oaSIE5vZGVcbi8vIENyZWF0ZSBhIGNvcHkgb2YgdGhpcyBub2RlLCB3aXRoIHRoZSBnaXZlbiBzZXQgb2YgbWFya3MgaW5zdGVhZFxuLy8gb2YgdGhlIG5vZGUncyBvd24gbWFya3MuXG5Ob2RlLnByb3RvdHlwZS5tYXJrID0gZnVuY3Rpb24gbWFyayAobWFya3MpIHtcbiAgcmV0dXJuIG1hcmtzID09IHRoaXMubWFya3MgPyB0aGlzIDogbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy50eXBlLCB0aGlzLmF0dHJzLCB0aGlzLmNvbnRlbnQsIG1hcmtzKVxufTtcblxuLy8gOjogKG51bWJlciwgP251bWJlcikg4oaSIE5vZGVcbi8vIENyZWF0ZSBhIGNvcHkgb2YgdGhpcyBub2RlIHdpdGggb25seSB0aGUgY29udGVudCBiZXR3ZWVuIHRoZVxuLy8gZ2l2ZW4gcG9zaXRpb25zLiBJZiBgdG9gIGlzIG5vdCBnaXZlbiwgaXQgZGVmYXVsdHMgdG8gdGhlIGVuZCBvZlxuLy8gdGhlIG5vZGUuXG5Ob2RlLnByb3RvdHlwZS5jdXQgPSBmdW5jdGlvbiBjdXQgKGZyb20sIHRvKSB7XG4gIGlmIChmcm9tID09IDAgJiYgdG8gPT0gdGhpcy5jb250ZW50LnNpemUpIHsgcmV0dXJuIHRoaXMgfVxuICByZXR1cm4gdGhpcy5jb3B5KHRoaXMuY29udGVudC5jdXQoZnJvbSwgdG8pKVxufTtcblxuLy8gOjogKG51bWJlciwgP251bWJlcikg4oaSIFNsaWNlXG4vLyBDdXQgb3V0IHRoZSBwYXJ0IG9mIHRoZSBkb2N1bWVudCBiZXR3ZWVuIHRoZSBnaXZlbiBwb3NpdGlvbnMsIGFuZFxuLy8gcmV0dXJuIGl0IGFzIGEgYFNsaWNlYCBvYmplY3QuXG5Ob2RlLnByb3RvdHlwZS5zbGljZSA9IGZ1bmN0aW9uIHNsaWNlIChmcm9tLCB0bywgaW5jbHVkZVBhcmVudHMpIHtcbiAgICBpZiAoIHRvID09PSB2b2lkIDAgKSB0byA9IHRoaXMuY29udGVudC5zaXplO1xuICAgIGlmICggaW5jbHVkZVBhcmVudHMgPT09IHZvaWQgMCApIGluY2x1ZGVQYXJlbnRzID0gZmFsc2U7XG5cbiAgaWYgKGZyb20gPT0gdG8pIHsgcmV0dXJuIFNsaWNlLmVtcHR5IH1cblxuICB2YXIgJGZyb20gPSB0aGlzLnJlc29sdmUoZnJvbSksICR0byA9IHRoaXMucmVzb2x2ZSh0byk7XG4gIHZhciBkZXB0aCA9IGluY2x1ZGVQYXJlbnRzID8gMCA6ICRmcm9tLnNoYXJlZERlcHRoKHRvKTtcbiAgdmFyIHN0YXJ0ID0gJGZyb20uc3RhcnQoZGVwdGgpLCBub2RlID0gJGZyb20ubm9kZShkZXB0aCk7XG4gIHZhciBjb250ZW50ID0gbm9kZS5jb250ZW50LmN1dCgkZnJvbS5wb3MgLSBzdGFydCwgJHRvLnBvcyAtIHN0YXJ0KTtcbiAgcmV0dXJuIG5ldyBTbGljZShjb250ZW50LCAkZnJvbS5kZXB0aCAtIGRlcHRoLCAkdG8uZGVwdGggLSBkZXB0aClcbn07XG5cbi8vIDo6IChudW1iZXIsIG51bWJlciwgU2xpY2UpIOKGkiBOb2RlXG4vLyBSZXBsYWNlIHRoZSBwYXJ0IG9mIHRoZSBkb2N1bWVudCBiZXR3ZWVuIHRoZSBnaXZlbiBwb3NpdGlvbnMgd2l0aFxuLy8gdGhlIGdpdmVuIHNsaWNlLiBUaGUgc2xpY2UgbXVzdCAnZml0JywgbWVhbmluZyBpdHMgb3BlbiBzaWRlc1xuLy8gbXVzdCBiZSBhYmxlIHRvIGNvbm5lY3QgdG8gdGhlIHN1cnJvdW5kaW5nIGNvbnRlbnQsIGFuZCBpdHNcbi8vIGNvbnRlbnQgbm9kZXMgbXVzdCBiZSB2YWxpZCBjaGlsZHJlbiBmb3IgdGhlIG5vZGUgdGhleSBhcmUgcGxhY2VkXG4vLyBpbnRvLiBJZiBhbnkgb2YgdGhpcyBpcyB2aW9sYXRlZCwgYW4gZXJyb3Igb2YgdHlwZVxuLy8gW2BSZXBsYWNlRXJyb3JgXSgjbW9kZWwuUmVwbGFjZUVycm9yKSBpcyB0aHJvd24uXG5Ob2RlLnByb3RvdHlwZS5yZXBsYWNlID0gZnVuY3Rpb24gcmVwbGFjZSQxIChmcm9tLCB0bywgc2xpY2UpIHtcbiAgcmV0dXJuIHJlcGxhY2UodGhpcy5yZXNvbHZlKGZyb20pLCB0aGlzLnJlc29sdmUodG8pLCBzbGljZSlcbn07XG5cbi8vIDo6IChudW1iZXIpIOKGkiA/Tm9kZVxuLy8gRmluZCB0aGUgbm9kZSBkaXJlY3RseSBhZnRlciB0aGUgZ2l2ZW4gcG9zaXRpb24uXG5Ob2RlLnByb3RvdHlwZS5ub2RlQXQgPSBmdW5jdGlvbiBub2RlQXQgKHBvcykge1xuICBmb3IgKHZhciBub2RlID0gdGhpczs7KSB7XG4gICAgdmFyIHJlZiA9IG5vZGUuY29udGVudC5maW5kSW5kZXgocG9zKTtcbiAgICAgIHZhciBpbmRleCA9IHJlZi5pbmRleDtcbiAgICAgIHZhciBvZmZzZXQgPSByZWYub2Zmc2V0O1xuICAgIG5vZGUgPSBub2RlLm1heWJlQ2hpbGQoaW5kZXgpO1xuICAgIGlmICghbm9kZSkgeyByZXR1cm4gbnVsbCB9XG4gICAgaWYgKG9mZnNldCA9PSBwb3MgfHwgbm9kZS5pc1RleHQpIHsgcmV0dXJuIG5vZGUgfVxuICAgIHBvcyAtPSBvZmZzZXQgKyAxO1xuICB9XG59O1xuXG4vLyA6OiAobnVtYmVyKSDihpIge25vZGU6ID9Ob2RlLCBpbmRleDogbnVtYmVyLCBvZmZzZXQ6IG51bWJlcn1cbi8vIEZpbmQgdGhlIChkaXJlY3QpIGNoaWxkIG5vZGUgYWZ0ZXIgdGhlIGdpdmVuIG9mZnNldCwgaWYgYW55LFxuLy8gYW5kIHJldHVybiBpdCBhbG9uZyB3aXRoIGl0cyBpbmRleCBhbmQgb2Zmc2V0IHJlbGF0aXZlIHRvIHRoaXNcbi8vIG5vZGUuXG5Ob2RlLnByb3RvdHlwZS5jaGlsZEFmdGVyID0gZnVuY3Rpb24gY2hpbGRBZnRlciAocG9zKSB7XG4gIHZhciByZWYgPSB0aGlzLmNvbnRlbnQuZmluZEluZGV4KHBvcyk7XG4gICAgdmFyIGluZGV4ID0gcmVmLmluZGV4O1xuICAgIHZhciBvZmZzZXQgPSByZWYub2Zmc2V0O1xuICByZXR1cm4ge25vZGU6IHRoaXMuY29udGVudC5tYXliZUNoaWxkKGluZGV4KSwgaW5kZXg6IGluZGV4LCBvZmZzZXQ6IG9mZnNldH1cbn07XG5cbi8vIDo6IChudW1iZXIpIOKGkiB7bm9kZTogP05vZGUsIGluZGV4OiBudW1iZXIsIG9mZnNldDogbnVtYmVyfVxuLy8gRmluZCB0aGUgKGRpcmVjdCkgY2hpbGQgbm9kZSBiZWZvcmUgdGhlIGdpdmVuIG9mZnNldCwgaWYgYW55LFxuLy8gYW5kIHJldHVybiBpdCBhbG9uZyB3aXRoIGl0cyBpbmRleCBhbmQgb2Zmc2V0IHJlbGF0aXZlIHRvIHRoaXNcbi8vIG5vZGUuXG5Ob2RlLnByb3RvdHlwZS5jaGlsZEJlZm9yZSA9IGZ1bmN0aW9uIGNoaWxkQmVmb3JlIChwb3MpIHtcbiAgaWYgKHBvcyA9PSAwKSB7IHJldHVybiB7bm9kZTogbnVsbCwgaW5kZXg6IDAsIG9mZnNldDogMH0gfVxuICB2YXIgcmVmID0gdGhpcy5jb250ZW50LmZpbmRJbmRleChwb3MpO1xuICAgIHZhciBpbmRleCA9IHJlZi5pbmRleDtcbiAgICB2YXIgb2Zmc2V0ID0gcmVmLm9mZnNldDtcbiAgaWYgKG9mZnNldCA8IHBvcykgeyByZXR1cm4ge25vZGU6IHRoaXMuY29udGVudC5jaGlsZChpbmRleCksIGluZGV4OiBpbmRleCwgb2Zmc2V0OiBvZmZzZXR9IH1cbiAgdmFyIG5vZGUgPSB0aGlzLmNvbnRlbnQuY2hpbGQoaW5kZXggLSAxKTtcbiAgcmV0dXJuIHtub2RlOiBub2RlLCBpbmRleDogaW5kZXggLSAxLCBvZmZzZXQ6IG9mZnNldCAtIG5vZGUubm9kZVNpemV9XG59O1xuXG4vLyA6OiAobnVtYmVyKSDihpIgUmVzb2x2ZWRQb3Ncbi8vIFJlc29sdmUgdGhlIGdpdmVuIHBvc2l0aW9uIGluIHRoZSBkb2N1bWVudCwgcmV0dXJuaW5nIGFuXG4vLyBbb2JqZWN0XSgjbW9kZWwuUmVzb2x2ZWRQb3MpIHdpdGggaW5mb3JtYXRpb24gYWJvdXQgaXRzIGNvbnRleHQuXG5Ob2RlLnByb3RvdHlwZS5yZXNvbHZlID0gZnVuY3Rpb24gcmVzb2x2ZSAocG9zKSB7IHJldHVybiBSZXNvbHZlZFBvcy5yZXNvbHZlQ2FjaGVkKHRoaXMsIHBvcykgfTtcblxuTm9kZS5wcm90b3R5cGUucmVzb2x2ZU5vQ2FjaGUgPSBmdW5jdGlvbiByZXNvbHZlTm9DYWNoZSAocG9zKSB7IHJldHVybiBSZXNvbHZlZFBvcy5yZXNvbHZlKHRoaXMsIHBvcykgfTtcblxuLy8gOjogKG51bWJlciwgbnVtYmVyLCBNYXJrVHlwZSkg4oaSIGJvb2xcbi8vIFRlc3Qgd2hldGhlciBhIG1hcmsgb2YgdGhlIGdpdmVuIHR5cGUgb2NjdXJzIGluIHRoaXMgZG9jdW1lbnRcbi8vIGJldHdlZW4gdGhlIHR3byBnaXZlbiBwb3NpdGlvbnMuXG5Ob2RlLnByb3RvdHlwZS5yYW5nZUhhc01hcmsgPSBmdW5jdGlvbiByYW5nZUhhc01hcmsgKGZyb20sIHRvLCB0eXBlKSB7XG4gIHZhciBmb3VuZCA9IGZhbHNlO1xuICBpZiAodG8gPiBmcm9tKSB7IHRoaXMubm9kZXNCZXR3ZWVuKGZyb20sIHRvLCBmdW5jdGlvbiAobm9kZSkge1xuICAgIGlmICh0eXBlLmlzSW5TZXQobm9kZS5tYXJrcykpIHsgZm91bmQgPSB0cnVlOyB9XG4gICAgcmV0dXJuICFmb3VuZFxuICB9KTsgfVxuICByZXR1cm4gZm91bmRcbn07XG5cbi8vIDo6IGJvb2xcbi8vIFRydWUgd2hlbiB0aGlzIGlzIGEgYmxvY2sgKG5vbi1pbmxpbmUgbm9kZSlcbnByb3RvdHlwZUFjY2Vzc29ycy5pc0Jsb2NrLmdldCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMudHlwZS5pc0Jsb2NrIH07XG5cbi8vIDo6IGJvb2xcbi8vIFRydWUgd2hlbiB0aGlzIGlzIGEgdGV4dGJsb2NrIG5vZGUsIGEgYmxvY2sgbm9kZSB3aXRoIGlubGluZVxuLy8gY29udGVudC5cbnByb3RvdHlwZUFjY2Vzc29ycy5pc1RleHRibG9jay5nZXQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLnR5cGUuaXNUZXh0YmxvY2sgfTtcblxuLy8gOjogYm9vbFxuLy8gVHJ1ZSB3aGVuIHRoaXMgbm9kZSBoYXMgaW5saW5lIGNvbnRlbnQuXG5wcm90b3R5cGVBY2Nlc3NvcnMuaW5saW5lQ29udGVudC5nZXQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLnR5cGUuaW5saW5lQ29udGVudCB9O1xuXG4vLyA6OiBib29sXG4vLyBUcnVlIHdoZW4gdGhpcyBpcyBhbiBpbmxpbmUgbm9kZSAoYSB0ZXh0IG5vZGUgb3IgYSBub2RlIHRoYXQgY2FuXG4vLyBhcHBlYXIgYW1vbmcgdGV4dCkuXG5wcm90b3R5cGVBY2Nlc3NvcnMuaXNJbmxpbmUuZ2V0ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy50eXBlLmlzSW5saW5lIH07XG5cbi8vIDo6IGJvb2xcbi8vIFRydWUgd2hlbiB0aGlzIGlzIGEgdGV4dCBub2RlLlxucHJvdG90eXBlQWNjZXNzb3JzLmlzVGV4dC5nZXQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLnR5cGUuaXNUZXh0IH07XG5cbi8vIDo6IGJvb2xcbi8vIFRydWUgd2hlbiB0aGlzIGlzIGEgbGVhZiBub2RlLlxucHJvdG90eXBlQWNjZXNzb3JzLmlzTGVhZi5nZXQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLnR5cGUuaXNMZWFmIH07XG5cbi8vIDo6IGJvb2xcbi8vIFRydWUgd2hlbiB0aGlzIGlzIGFuIGF0b20sIGkuZS4gd2hlbiBpdCBkb2VzIG5vdCBoYXZlIGRpcmVjdGx5XG4vLyBlZGl0YWJsZSBjb250ZW50LiBUaGlzIGlzIHVzdWFsbHkgdGhlIHNhbWUgYXMgYGlzTGVhZmAsIGJ1dCBjYW5cbi8vIGJlIGNvbmZpZ3VyZWQgd2l0aCB0aGUgW2BhdG9tYCBwcm9wZXJ0eV0oI21vZGVsLk5vZGVTcGVjLmF0b20pIG9uXG4vLyBhIG5vZGUncyBzcGVjICh0eXBpY2FsbHkgdXNlZCB3aGVuIHRoZSBub2RlIGlzIGRpc3BsYXllZCBhcyBhblxuLy8gdW5lZGl0YWJsZSBbbm9kZSB2aWV3XSgjdmlldy5Ob2RlVmlldykpLlxucHJvdG90eXBlQWNjZXNzb3JzLmlzQXRvbS5nZXQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLnR5cGUuaXNBdG9tIH07XG5cbi8vIDo6ICgpIOKGkiBzdHJpbmdcbi8vIFJldHVybiBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGlzIG5vZGUgZm9yIGRlYnVnZ2luZ1xuLy8gcHVycG9zZXMuXG5Ob2RlLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nICgpIHtcbiAgdmFyIG5hbWUgPSB0aGlzLnR5cGUubmFtZTtcbiAgaWYgKHRoaXMuY29udGVudC5zaXplKVxuICAgIHsgbmFtZSArPSBcIihcIiArIHRoaXMuY29udGVudC50b1N0cmluZ0lubmVyKCkgKyBcIilcIjsgfVxuICByZXR1cm4gd3JhcE1hcmtzKHRoaXMubWFya3MsIG5hbWUpXG59O1xuXG4vLyA6OiAobnVtYmVyKSDihpIgQ29udGVudE1hdGNoXG4vLyBHZXQgdGhlIGNvbnRlbnQgbWF0Y2ggaW4gdGhpcyBub2RlIGF0IHRoZSBnaXZlbiBpbmRleC5cbk5vZGUucHJvdG90eXBlLmNvbnRlbnRNYXRjaEF0ID0gZnVuY3Rpb24gY29udGVudE1hdGNoQXQgKGluZGV4KSB7XG4gIHJldHVybiB0aGlzLnR5cGUuY29udGVudE1hdGNoLm1hdGNoRnJhZ21lbnQodGhpcy5jb250ZW50LCAwLCBpbmRleClcbn07XG5cbi8vIDo6IChudW1iZXIsIG51bWJlciwgP0ZyYWdtZW50LCA/bnVtYmVyLCA/bnVtYmVyKSDihpIgYm9vbFxuLy8gVGVzdCB3aGV0aGVyIHJlcGxhY2luZyB0aGUgcmFuZ2UgYmV0d2VlbiBgZnJvbWAgYW5kIGB0b2AgKGJ5XG4vLyBjaGlsZCBpbmRleCkgd2l0aCB0aGUgZ2l2ZW4gcmVwbGFjZW1lbnQgZnJhZ21lbnQgKHdoaWNoIGRlZmF1bHRzXG4vLyB0byB0aGUgZW1wdHkgZnJhZ21lbnQpIHdvdWxkIGxlYXZlIHRoZSBub2RlJ3MgY29udGVudCB2YWxpZC4gWW91XG4vLyBjYW4gb3B0aW9uYWxseSBwYXNzIGBzdGFydGAgYW5kIGBlbmRgIGluZGljZXMgaW50byB0aGVcbi8vIHJlcGxhY2VtZW50IGZyYWdtZW50LlxuTm9kZS5wcm90b3R5cGUuY2FuUmVwbGFjZSA9IGZ1bmN0aW9uIGNhblJlcGxhY2UgKGZyb20sIHRvLCByZXBsYWNlbWVudCwgc3RhcnQsIGVuZCkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuICAgIGlmICggcmVwbGFjZW1lbnQgPT09IHZvaWQgMCApIHJlcGxhY2VtZW50ID0gRnJhZ21lbnQuZW1wdHk7XG4gICAgaWYgKCBzdGFydCA9PT0gdm9pZCAwICkgc3RhcnQgPSAwO1xuICAgIGlmICggZW5kID09PSB2b2lkIDAgKSBlbmQgPSByZXBsYWNlbWVudC5jaGlsZENvdW50O1xuXG4gIHZhciBvbmUgPSB0aGlzLmNvbnRlbnRNYXRjaEF0KGZyb20pLm1hdGNoRnJhZ21lbnQocmVwbGFjZW1lbnQsIHN0YXJ0LCBlbmQpO1xuICB2YXIgdHdvID0gb25lICYmIG9uZS5tYXRjaEZyYWdtZW50KHRoaXMuY29udGVudCwgdG8pO1xuICBpZiAoIXR3byB8fCAhdHdvLnZhbGlkRW5kKSB7IHJldHVybiBmYWxzZSB9XG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgaSsrKSB7IGlmICghdGhpcyQxLnR5cGUuYWxsb3dzTWFya3MocmVwbGFjZW1lbnQuY2hpbGQoaSkubWFya3MpKSB7IHJldHVybiBmYWxzZSB9IH1cbiAgcmV0dXJuIHRydWVcbn07XG5cbi8vIDo6IChudW1iZXIsIG51bWJlciwgTm9kZVR5cGUsID9bTWFya10pIOKGkiBib29sXG4vLyBUZXN0IHdoZXRoZXIgcmVwbGFjaW5nIHRoZSByYW5nZSBgZnJvbWAgdG8gYHRvYCAoYnkgaW5kZXgpIHdpdGggYVxuLy8gbm9kZSBvZiB0aGUgZ2l2ZW4gdHlwZSB3b3VsZCBsZWF2ZSB0aGUgbm9kZSdzIGNvbnRlbnQgdmFsaWQuXG5Ob2RlLnByb3RvdHlwZS5jYW5SZXBsYWNlV2l0aCA9IGZ1bmN0aW9uIGNhblJlcGxhY2VXaXRoIChmcm9tLCB0bywgdHlwZSwgbWFya3MpIHtcbiAgaWYgKG1hcmtzICYmICF0aGlzLnR5cGUuYWxsb3dzTWFya3MobWFya3MpKSB7IHJldHVybiBmYWxzZSB9XG4gIHZhciBzdGFydCA9IHRoaXMuY29udGVudE1hdGNoQXQoZnJvbSkubWF0Y2hUeXBlKHR5cGUpO1xuICB2YXIgZW5kID0gc3RhcnQgJiYgc3RhcnQubWF0Y2hGcmFnbWVudCh0aGlzLmNvbnRlbnQsIHRvKTtcbiAgcmV0dXJuIGVuZCA/IGVuZC52YWxpZEVuZCA6IGZhbHNlXG59O1xuXG4vLyA6OiAoTm9kZSkg4oaSIGJvb2xcbi8vIFRlc3Qgd2hldGhlciB0aGUgZ2l2ZW4gbm9kZSdzIGNvbnRlbnQgY291bGQgYmUgYXBwZW5kZWQgdG8gdGhpc1xuLy8gbm9kZS4gSWYgdGhhdCBub2RlIGlzIGVtcHR5LCB0aGlzIHdpbGwgb25seSByZXR1cm4gdHJ1ZSBpZiB0aGVyZVxuLy8gaXMgYXQgbGVhc3Qgb25lIG5vZGUgdHlwZSB0aGF0IGNhbiBhcHBlYXIgaW4gYm90aCBub2RlcyAodG8gYXZvaWRcbi8vIG1lcmdpbmcgY29tcGxldGVseSBpbmNvbXBhdGlibGUgbm9kZXMpLlxuTm9kZS5wcm90b3R5cGUuY2FuQXBwZW5kID0gZnVuY3Rpb24gY2FuQXBwZW5kIChvdGhlcikge1xuICBpZiAob3RoZXIuY29udGVudC5zaXplKSB7IHJldHVybiB0aGlzLmNhblJlcGxhY2UodGhpcy5jaGlsZENvdW50LCB0aGlzLmNoaWxkQ291bnQsIG90aGVyLmNvbnRlbnQpIH1cbiAgZWxzZSB7IHJldHVybiB0aGlzLnR5cGUuY29tcGF0aWJsZUNvbnRlbnQob3RoZXIudHlwZSkgfVxufTtcblxuLy8gVW51c2VkLiBMZWZ0IGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eS5cbk5vZGUucHJvdG90eXBlLmRlZmF1bHRDb250ZW50VHlwZSA9IGZ1bmN0aW9uIGRlZmF1bHRDb250ZW50VHlwZSAoYXQpIHtcbiAgcmV0dXJuIHRoaXMuY29udGVudE1hdGNoQXQoYXQpLmRlZmF1bHRUeXBlXG59O1xuXG4vLyA6OiAoKVxuLy8gQ2hlY2sgd2hldGhlciB0aGlzIG5vZGUgYW5kIGl0cyBkZXNjZW5kYW50cyBjb25mb3JtIHRvIHRoZVxuLy8gc2NoZW1hLCBhbmQgcmFpc2UgZXJyb3Igd2hlbiB0aGV5IGRvIG5vdC5cbk5vZGUucHJvdG90eXBlLmNoZWNrID0gZnVuY3Rpb24gY2hlY2sgKCkge1xuICBpZiAoIXRoaXMudHlwZS52YWxpZENvbnRlbnQodGhpcy5jb250ZW50KSlcbiAgICB7IHRocm93IG5ldyBSYW5nZUVycm9yKChcIkludmFsaWQgY29udGVudCBmb3Igbm9kZSBcIiArICh0aGlzLnR5cGUubmFtZSkgKyBcIjogXCIgKyAodGhpcy5jb250ZW50LnRvU3RyaW5nKCkuc2xpY2UoMCwgNTApKSkpIH1cbiAgdGhpcy5jb250ZW50LmZvckVhY2goZnVuY3Rpb24gKG5vZGUpIHsgcmV0dXJuIG5vZGUuY2hlY2soKTsgfSk7XG59O1xuXG4vLyA6OiAoKSDihpIgT2JqZWN0XG4vLyBSZXR1cm4gYSBKU09OLXNlcmlhbGl6ZWFibGUgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBub2RlLlxuTm9kZS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gdG9KU09OICgpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICB2YXIgb2JqID0ge3R5cGU6IHRoaXMudHlwZS5uYW1lfTtcbiAgZm9yICh2YXIgXyBpbiB0aGlzJDEuYXR0cnMpIHtcbiAgICBvYmouYXR0cnMgPSB0aGlzJDEuYXR0cnM7XG4gICAgYnJlYWtcbiAgfVxuICBpZiAodGhpcy5jb250ZW50LnNpemUpXG4gICAgeyBvYmouY29udGVudCA9IHRoaXMuY29udGVudC50b0pTT04oKTsgfVxuICBpZiAodGhpcy5tYXJrcy5sZW5ndGgpXG4gICAgeyBvYmoubWFya3MgPSB0aGlzLm1hcmtzLm1hcChmdW5jdGlvbiAobikgeyByZXR1cm4gbi50b0pTT04oKTsgfSk7IH1cbiAgcmV0dXJuIG9ialxufTtcblxuLy8gOjogKFNjaGVtYSwgT2JqZWN0KSDihpIgTm9kZVxuLy8gRGVzZXJpYWxpemUgYSBub2RlIGZyb20gaXRzIEpTT04gcmVwcmVzZW50YXRpb24uXG5Ob2RlLmZyb21KU09OID0gZnVuY3Rpb24gZnJvbUpTT04gKHNjaGVtYSwganNvbikge1xuICBpZiAoIWpzb24pIHsgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbnZhbGlkIGlucHV0IGZvciBOb2RlLmZyb21KU09OXCIpIH1cbiAgdmFyIG1hcmtzID0gbnVsbDtcbiAgaWYgKGpzb24ubWFya3MpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoanNvbi5tYXJrcykpIHsgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbnZhbGlkIG1hcmsgZGF0YSBmb3IgTm9kZS5mcm9tSlNPTlwiKSB9XG4gICAgbWFya3MgPSBqc29uLm1hcmtzLm1hcChzY2hlbWEubWFya0Zyb21KU09OKTtcbiAgfVxuICBpZiAoanNvbi50eXBlID09IFwidGV4dFwiKSB7XG4gICAgaWYgKHR5cGVvZiBqc29uLnRleHQgIT0gXCJzdHJpbmdcIikgeyB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkludmFsaWQgdGV4dCBub2RlIGluIEpTT05cIikgfVxuICAgIHJldHVybiBzY2hlbWEudGV4dChqc29uLnRleHQsIG1hcmtzKVxuICB9XG4gIHZhciBjb250ZW50ID0gRnJhZ21lbnQuZnJvbUpTT04oc2NoZW1hLCBqc29uLmNvbnRlbnQpO1xuICByZXR1cm4gc2NoZW1hLm5vZGVUeXBlKGpzb24udHlwZSkuY3JlYXRlKGpzb24uYXR0cnMsIGNvbnRlbnQsIG1hcmtzKVxufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIE5vZGUucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxudmFyIFRleHROb2RlID0gKGZ1bmN0aW9uIChOb2RlKSB7XG4gIGZ1bmN0aW9uIFRleHROb2RlKHR5cGUsIGF0dHJzLCBjb250ZW50LCBtYXJrcykge1xuICAgIE5vZGUuY2FsbCh0aGlzLCB0eXBlLCBhdHRycywgbnVsbCwgbWFya3MpO1xuXG4gICAgaWYgKCFjb250ZW50KSB7IHRocm93IG5ldyBSYW5nZUVycm9yKFwiRW1wdHkgdGV4dCBub2RlcyBhcmUgbm90IGFsbG93ZWRcIikgfVxuXG4gICAgdGhpcy50ZXh0ID0gY29udGVudDtcbiAgfVxuXG4gIGlmICggTm9kZSApIFRleHROb2RlLl9fcHJvdG9fXyA9IE5vZGU7XG4gIFRleHROb2RlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIE5vZGUgJiYgTm9kZS5wcm90b3R5cGUgKTtcbiAgVGV4dE5vZGUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gVGV4dE5vZGU7XG5cbiAgdmFyIHByb3RvdHlwZUFjY2Vzc29ycyQxID0geyB0ZXh0Q29udGVudDoge30sbm9kZVNpemU6IHt9IH07XG5cbiAgVGV4dE5vZGUucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcgKCkgeyByZXR1cm4gd3JhcE1hcmtzKHRoaXMubWFya3MsIEpTT04uc3RyaW5naWZ5KHRoaXMudGV4dCkpIH07XG5cbiAgcHJvdG90eXBlQWNjZXNzb3JzJDEudGV4dENvbnRlbnQuZ2V0ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy50ZXh0IH07XG5cbiAgVGV4dE5vZGUucHJvdG90eXBlLnRleHRCZXR3ZWVuID0gZnVuY3Rpb24gdGV4dEJldHdlZW4gKGZyb20sIHRvKSB7IHJldHVybiB0aGlzLnRleHQuc2xpY2UoZnJvbSwgdG8pIH07XG5cbiAgcHJvdG90eXBlQWNjZXNzb3JzJDEubm9kZVNpemUuZ2V0ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy50ZXh0Lmxlbmd0aCB9O1xuXG4gIFRleHROb2RlLnByb3RvdHlwZS5tYXJrID0gZnVuY3Rpb24gbWFyayAobWFya3MpIHtcbiAgICByZXR1cm4gbWFya3MgPT0gdGhpcy5tYXJrcyA/IHRoaXMgOiBuZXcgVGV4dE5vZGUodGhpcy50eXBlLCB0aGlzLmF0dHJzLCB0aGlzLnRleHQsIG1hcmtzKVxuICB9O1xuXG4gIFRleHROb2RlLnByb3RvdHlwZS53aXRoVGV4dCA9IGZ1bmN0aW9uIHdpdGhUZXh0ICh0ZXh0KSB7XG4gICAgaWYgKHRleHQgPT0gdGhpcy50ZXh0KSB7IHJldHVybiB0aGlzIH1cbiAgICByZXR1cm4gbmV3IFRleHROb2RlKHRoaXMudHlwZSwgdGhpcy5hdHRycywgdGV4dCwgdGhpcy5tYXJrcylcbiAgfTtcblxuICBUZXh0Tm9kZS5wcm90b3R5cGUuY3V0ID0gZnVuY3Rpb24gY3V0IChmcm9tLCB0bykge1xuICAgIGlmICggZnJvbSA9PT0gdm9pZCAwICkgZnJvbSA9IDA7XG4gICAgaWYgKCB0byA9PT0gdm9pZCAwICkgdG8gPSB0aGlzLnRleHQubGVuZ3RoO1xuXG4gICAgaWYgKGZyb20gPT0gMCAmJiB0byA9PSB0aGlzLnRleHQubGVuZ3RoKSB7IHJldHVybiB0aGlzIH1cbiAgICByZXR1cm4gdGhpcy53aXRoVGV4dCh0aGlzLnRleHQuc2xpY2UoZnJvbSwgdG8pKVxuICB9O1xuXG4gIFRleHROb2RlLnByb3RvdHlwZS5lcSA9IGZ1bmN0aW9uIGVxIChvdGhlcikge1xuICAgIHJldHVybiB0aGlzLnNhbWVNYXJrdXAob3RoZXIpICYmIHRoaXMudGV4dCA9PSBvdGhlci50ZXh0XG4gIH07XG5cbiAgVGV4dE5vZGUucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uIHRvSlNPTiAoKSB7XG4gICAgdmFyIGJhc2UgPSBOb2RlLnByb3RvdHlwZS50b0pTT04uY2FsbCh0aGlzKTtcbiAgICBiYXNlLnRleHQgPSB0aGlzLnRleHQ7XG4gICAgcmV0dXJuIGJhc2VcbiAgfTtcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyggVGV4dE5vZGUucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMkMSApO1xuXG4gIHJldHVybiBUZXh0Tm9kZTtcbn0oTm9kZSkpO1xuXG5mdW5jdGlvbiB3cmFwTWFya3MobWFya3MsIHN0cikge1xuICBmb3IgKHZhciBpID0gbWFya3MubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pXG4gICAgeyBzdHIgPSBtYXJrc1tpXS50eXBlLm5hbWUgKyBcIihcIiArIHN0ciArIFwiKVwiOyB9XG4gIHJldHVybiBzdHJcbn1cblxuLy8gOjotIEluc3RhbmNlcyBvZiB0aGlzIGNsYXNzIHJlcHJlc2VudCBhIG1hdGNoIHN0YXRlIG9mIGEgbm9kZVxuLy8gdHlwZSdzIFtjb250ZW50IGV4cHJlc3Npb25dKCNtb2RlbC5Ob2RlU3BlYy5jb250ZW50KSwgYW5kIGNhbiBiZVxuLy8gdXNlZCB0byBmaW5kIG91dCB3aGV0aGVyIGZ1cnRoZXIgY29udGVudCBtYXRjaGVzIGhlcmUsIGFuZCB3aGV0aGVyXG4vLyBhIGdpdmVuIHBvc2l0aW9uIGlzIGEgdmFsaWQgZW5kIG9mIHRoZSBub2RlLlxudmFyIENvbnRlbnRNYXRjaCA9IGZ1bmN0aW9uIENvbnRlbnRNYXRjaCh2YWxpZEVuZCkge1xuICAvLyA6OiBib29sXG4gIC8vIFRydWUgd2hlbiB0aGlzIG1hdGNoIHN0YXRlIHJlcHJlc2VudHMgYSB2YWxpZCBlbmQgb2YgdGhlIG5vZGUuXG4gIHRoaXMudmFsaWRFbmQgPSB2YWxpZEVuZDtcbiAgdGhpcy5uZXh0ID0gW107XG4gIHRoaXMud3JhcENhY2hlID0gW107XG59O1xuXG52YXIgcHJvdG90eXBlQWNjZXNzb3JzJDUgPSB7IGlubGluZUNvbnRlbnQ6IHt9LGRlZmF1bHRUeXBlOiB7fSxlZGdlQ291bnQ6IHt9IH07XG5cbkNvbnRlbnRNYXRjaC5wYXJzZSA9IGZ1bmN0aW9uIHBhcnNlIChzdHJpbmcsIG5vZGVUeXBlcykge1xuICB2YXIgc3RyZWFtID0gbmV3IFRva2VuU3RyZWFtKHN0cmluZywgbm9kZVR5cGVzKTtcbiAgaWYgKHN0cmVhbS5uZXh0ID09IG51bGwpIHsgcmV0dXJuIENvbnRlbnRNYXRjaC5lbXB0eSB9XG4gIHZhciBleHByID0gcGFyc2VFeHByKHN0cmVhbSk7XG4gIGlmIChzdHJlYW0ubmV4dCkgeyBzdHJlYW0uZXJyKFwiVW5leHBlY3RlZCB0cmFpbGluZyB0ZXh0XCIpOyB9XG4gIHZhciBtYXRjaCA9IGRmYShuZmEoZXhwcikpO1xuICBjaGVja0ZvckRlYWRFbmRzKG1hdGNoLCBzdHJlYW0pO1xuICByZXR1cm4gbWF0Y2hcbn07XG5cbi8vIDo6IChOb2RlVHlwZSkg4oaSID9Db250ZW50TWF0Y2hcbi8vIE1hdGNoIGEgbm9kZSB0eXBlLCByZXR1cm5pbmcgYSBtYXRjaCBhZnRlciB0aGF0IG5vZGUgaWZcbi8vIHN1Y2Nlc3NmdWwuXG5Db250ZW50TWF0Y2gucHJvdG90eXBlLm1hdGNoVHlwZSA9IGZ1bmN0aW9uIG1hdGNoVHlwZSAodHlwZSkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5uZXh0Lmxlbmd0aDsgaSArPSAyKVxuICAgIHsgaWYgKHRoaXMkMS5uZXh0W2ldID09IHR5cGUpIHsgcmV0dXJuIHRoaXMkMS5uZXh0W2kgKyAxXSB9IH1cbiAgcmV0dXJuIG51bGxcbn07XG5cbi8vIDo6IChGcmFnbWVudCwgP251bWJlciwgP251bWJlcikg4oaSID9Db250ZW50TWF0Y2hcbi8vIFRyeSB0byBtYXRjaCBhIGZyYWdtZW50LiBSZXR1cm5zIHRoZSByZXN1bHRpbmcgbWF0Y2ggd2hlblxuLy8gc3VjY2Vzc2Z1bC5cbkNvbnRlbnRNYXRjaC5wcm90b3R5cGUubWF0Y2hGcmFnbWVudCA9IGZ1bmN0aW9uIG1hdGNoRnJhZ21lbnQgKGZyYWcsIHN0YXJ0LCBlbmQpIHtcbiAgICBpZiAoIHN0YXJ0ID09PSB2b2lkIDAgKSBzdGFydCA9IDA7XG4gICAgaWYgKCBlbmQgPT09IHZvaWQgMCApIGVuZCA9IGZyYWcuY2hpbGRDb3VudDtcblxuICB2YXIgY3VyID0gdGhpcztcbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBjdXIgJiYgaSA8IGVuZDsgaSsrKVxuICAgIHsgY3VyID0gY3VyLm1hdGNoVHlwZShmcmFnLmNoaWxkKGkpLnR5cGUpOyB9XG4gIHJldHVybiBjdXJcbn07XG5cbnByb3RvdHlwZUFjY2Vzc29ycyQ1LmlubGluZUNvbnRlbnQuZ2V0ID0gZnVuY3Rpb24gKCkge1xuICB2YXIgZmlyc3QgPSB0aGlzLm5leHRbMF07XG4gIHJldHVybiBmaXJzdCA/IGZpcnN0LmlzSW5saW5lIDogZmFsc2Vcbn07XG5cbi8vIDo6ID9Ob2RlVHlwZVxuLy8gR2V0IHRoZSBmaXJzdCBtYXRjaGluZyBub2RlIHR5cGUgYXQgdGhpcyBtYXRjaCBwb3NpdGlvbiB0aGF0IGNhblxuLy8gYmUgZ2VuZXJhdGVkLlxucHJvdG90eXBlQWNjZXNzb3JzJDUuZGVmYXVsdFR5cGUuZ2V0ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5uZXh0Lmxlbmd0aDsgaSArPSAyKSB7XG4gICAgdmFyIHR5cGUgPSB0aGlzJDEubmV4dFtpXTtcbiAgICBpZiAoISh0eXBlLmlzVGV4dCB8fCB0eXBlLmhhc1JlcXVpcmVkQXR0cnMoKSkpIHsgcmV0dXJuIHR5cGUgfVxuICB9XG59O1xuXG5Db250ZW50TWF0Y2gucHJvdG90eXBlLmNvbXBhdGlibGUgPSBmdW5jdGlvbiBjb21wYXRpYmxlIChvdGhlcikge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5uZXh0Lmxlbmd0aDsgaSArPSAyKVxuICAgIHsgZm9yICh2YXIgaiA9IDA7IGogPCBvdGhlci5uZXh0Lmxlbmd0aDsgaiArPSAyKVxuICAgICAgeyBpZiAodGhpcyQxLm5leHRbaV0gPT0gb3RoZXIubmV4dFtqXSkgeyByZXR1cm4gdHJ1ZSB9IH0gfVxuICByZXR1cm4gZmFsc2Vcbn07XG5cbi8vIDo6IChGcmFnbWVudCwgYm9vbCwgP251bWJlcikg4oaSID9GcmFnbWVudFxuLy8gVHJ5IHRvIG1hdGNoIHRoZSBnaXZlbiBmcmFnbWVudCwgYW5kIGlmIHRoYXQgZmFpbHMsIHNlZSBpZiBpdCBjYW5cbi8vIGJlIG1hZGUgdG8gbWF0Y2ggYnkgaW5zZXJ0aW5nIG5vZGVzIGluIGZyb250IG9mIGl0LiBXaGVuXG4vLyBzdWNjZXNzZnVsLCByZXR1cm4gYSBmcmFnbWVudCBvZiBpbnNlcnRlZCBub2RlcyAod2hpY2ggbWF5IGJlXG4vLyBlbXB0eSBpZiBub3RoaW5nIGhhZCB0byBiZSBpbnNlcnRlZCkuIFdoZW4gYHRvRW5kYCBpcyB0cnVlLCBvbmx5XG4vLyByZXR1cm4gYSBmcmFnbWVudCBpZiB0aGUgcmVzdWx0aW5nIG1hdGNoIGdvZXMgdG8gdGhlIGVuZCBvZiB0aGVcbi8vIGNvbnRlbnQgZXhwcmVzc2lvbi5cbkNvbnRlbnRNYXRjaC5wcm90b3R5cGUuZmlsbEJlZm9yZSA9IGZ1bmN0aW9uIGZpbGxCZWZvcmUgKGFmdGVyLCB0b0VuZCwgc3RhcnRJbmRleCkge1xuICAgIGlmICggdG9FbmQgPT09IHZvaWQgMCApIHRvRW5kID0gZmFsc2U7XG4gICAgaWYgKCBzdGFydEluZGV4ID09PSB2b2lkIDAgKSBzdGFydEluZGV4ID0gMDtcblxuICB2YXIgc2VlbiA9IFt0aGlzXTtcbiAgZnVuY3Rpb24gc2VhcmNoKG1hdGNoLCB0eXBlcykge1xuICAgIHZhciBmaW5pc2hlZCA9IG1hdGNoLm1hdGNoRnJhZ21lbnQoYWZ0ZXIsIHN0YXJ0SW5kZXgpO1xuICAgIGlmIChmaW5pc2hlZCAmJiAoIXRvRW5kIHx8IGZpbmlzaGVkLnZhbGlkRW5kKSlcbiAgICAgIHsgcmV0dXJuIEZyYWdtZW50LmZyb20odHlwZXMubWFwKGZ1bmN0aW9uICh0cCkgeyByZXR1cm4gdHAuY3JlYXRlQW5kRmlsbCgpOyB9KSkgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXRjaC5uZXh0Lmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICB2YXIgdHlwZSA9IG1hdGNoLm5leHRbaV0sIG5leHQgPSBtYXRjaC5uZXh0W2kgKyAxXTtcbiAgICAgIGlmICghKHR5cGUuaXNUZXh0IHx8IHR5cGUuaGFzUmVxdWlyZWRBdHRycygpKSAmJiBzZWVuLmluZGV4T2YobmV4dCkgPT0gLTEpIHtcbiAgICAgICAgc2Vlbi5wdXNoKG5leHQpO1xuICAgICAgICB2YXIgZm91bmQgPSBzZWFyY2gobmV4dCwgdHlwZXMuY29uY2F0KHR5cGUpKTtcbiAgICAgICAgaWYgKGZvdW5kKSB7IHJldHVybiBmb3VuZCB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHNlYXJjaCh0aGlzLCBbXSlcbn07XG5cbi8vIDo6IChOb2RlVHlwZSkg4oaSID9bTm9kZVR5cGVdXG4vLyBGaW5kIGEgc2V0IG9mIHdyYXBwaW5nIG5vZGUgdHlwZXMgdGhhdCB3b3VsZCBhbGxvdyBhIG5vZGUgb2YgdGhlXG4vLyBnaXZlbiB0eXBlIHRvIGFwcGVhciBhdCB0aGlzIHBvc2l0aW9uLiBUaGUgcmVzdWx0IG1heSBiZSBlbXB0eVxuLy8gKHdoZW4gaXQgZml0cyBkaXJlY3RseSkgYW5kIHdpbGwgYmUgbnVsbCB3aGVuIG5vIHN1Y2ggd3JhcHBpbmdcbi8vIGV4aXN0cy5cbkNvbnRlbnRNYXRjaC5wcm90b3R5cGUuZmluZFdyYXBwaW5nID0gZnVuY3Rpb24gZmluZFdyYXBwaW5nICh0YXJnZXQpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMud3JhcENhY2hlLmxlbmd0aDsgaSArPSAyKVxuICAgIHsgaWYgKHRoaXMkMS53cmFwQ2FjaGVbaV0gPT0gdGFyZ2V0KSB7IHJldHVybiB0aGlzJDEud3JhcENhY2hlW2kgKyAxXSB9IH1cbiAgdmFyIGNvbXB1dGVkID0gdGhpcy5jb21wdXRlV3JhcHBpbmcodGFyZ2V0KTtcbiAgdGhpcy53cmFwQ2FjaGUucHVzaCh0YXJnZXQsIGNvbXB1dGVkKTtcbiAgcmV0dXJuIGNvbXB1dGVkXG59O1xuXG5Db250ZW50TWF0Y2gucHJvdG90eXBlLmNvbXB1dGVXcmFwcGluZyA9IGZ1bmN0aW9uIGNvbXB1dGVXcmFwcGluZyAodGFyZ2V0KSB7XG4gIHZhciBzZWVuID0gT2JqZWN0LmNyZWF0ZShudWxsKSwgYWN0aXZlID0gW3ttYXRjaDogdGhpcywgdHlwZTogbnVsbCwgdmlhOiBudWxsfV07XG4gIHdoaWxlIChhY3RpdmUubGVuZ3RoKSB7XG4gICAgdmFyIGN1cnJlbnQgPSBhY3RpdmUuc2hpZnQoKSwgbWF0Y2ggPSBjdXJyZW50Lm1hdGNoO1xuICAgIGlmIChtYXRjaC5tYXRjaFR5cGUodGFyZ2V0KSkge1xuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgZm9yICh2YXIgb2JqID0gY3VycmVudDsgb2JqLnR5cGU7IG9iaiA9IG9iai52aWEpXG4gICAgICAgIHsgcmVzdWx0LnB1c2gob2JqLnR5cGUpOyB9XG4gICAgICByZXR1cm4gcmVzdWx0LnJldmVyc2UoKVxuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1hdGNoLm5leHQubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgIHZhciB0eXBlID0gbWF0Y2gubmV4dFtpXTtcbiAgICAgIGlmICghdHlwZS5pc0xlYWYgJiYgISh0eXBlLm5hbWUgaW4gc2VlbikgJiYgKCFjdXJyZW50LnR5cGUgfHwgbWF0Y2gubmV4dFtpICsgMV0udmFsaWRFbmQpKSB7XG4gICAgICAgIGFjdGl2ZS5wdXNoKHttYXRjaDogdHlwZS5jb250ZW50TWF0Y2gsIHR5cGU6IHR5cGUsIHZpYTogY3VycmVudH0pO1xuICAgICAgICBzZWVuW3R5cGUubmFtZV0gPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuLy8gOjogbnVtYmVyXG4vLyBUaGUgbnVtYmVyIG9mIG91dGdvaW5nIGVkZ2VzIHRoaXMgbm9kZSBoYXMgaW4gdGhlIGZpbml0ZVxuLy8gYXV0b21hdG9uIHRoYXQgZGVzY3JpYmVzIHRoZSBjb250ZW50IGV4cHJlc3Npb24uXG5wcm90b3R5cGVBY2Nlc3NvcnMkNS5lZGdlQ291bnQuZ2V0ID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5uZXh0Lmxlbmd0aCA+PiAxXG59O1xuXG4vLyA6OiAobnVtYmVyKSDihpIge3R5cGU6IE5vZGVUeXBlLCBuZXh0OiBDb250ZW50TWF0Y2h9XG4vLyBHZXQgdGhlIF9uX3RoIG91dGdvaW5nIGVkZ2UgZnJvbSB0aGlzIG5vZGUgaW4gdGhlIGZpbml0ZVxuLy8gYXV0b21hdG9uIHRoYXQgZGVzY3JpYmVzIHRoZSBjb250ZW50IGV4cHJlc3Npb24uXG5Db250ZW50TWF0Y2gucHJvdG90eXBlLmVkZ2UgPSBmdW5jdGlvbiBlZGdlIChuKSB7XG4gIHZhciBpID0gbiA8PCAxO1xuICBpZiAoaSA+IHRoaXMubmV4dC5sZW5ndGgpIHsgdGhyb3cgbmV3IFJhbmdlRXJyb3IoKFwiVGhlcmUncyBubyBcIiArIG4gKyBcInRoIGVkZ2UgaW4gdGhpcyBjb250ZW50IG1hdGNoXCIpKSB9XG4gIHJldHVybiB7dHlwZTogdGhpcy5uZXh0W2ldLCBuZXh0OiB0aGlzLm5leHRbaSArIDFdfVxufTtcblxuQ29udGVudE1hdGNoLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nICgpIHtcbiAgdmFyIHNlZW4gPSBbXTtcbiAgZnVuY3Rpb24gc2NhbihtKSB7XG4gICAgc2Vlbi5wdXNoKG0pO1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgbS5uZXh0Lmxlbmd0aDsgaSArPSAyKVxuICAgICAgeyBpZiAoc2Vlbi5pbmRleE9mKG0ubmV4dFtpXSkgPT0gLTEpIHsgc2NhbihtLm5leHRbaV0pOyB9IH1cbiAgfVxuICBzY2FuKHRoaXMpO1xuICByZXR1cm4gc2Vlbi5tYXAoZnVuY3Rpb24gKG0sIGkpIHtcbiAgICB2YXIgb3V0ID0gaSArIChtLnZhbGlkRW5kID8gXCIqXCIgOiBcIiBcIikgKyBcIiBcIjtcbiAgICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCBtLm5leHQubGVuZ3RoOyBpJDEgKz0gMilcbiAgICAgIHsgb3V0ICs9IChpJDEgPyBcIiwgXCIgOiBcIlwiKSArIG0ubmV4dFtpJDFdLm5hbWUgKyBcIi0+XCIgKyBzZWVuLmluZGV4T2YobS5uZXh0W2kkMSArIDFdKTsgfVxuICAgIHJldHVybiBvdXRcbiAgfSkuam9pbihcIlxcblwiKVxufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIENvbnRlbnRNYXRjaC5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyQ1ICk7XG5cbkNvbnRlbnRNYXRjaC5lbXB0eSA9IG5ldyBDb250ZW50TWF0Y2godHJ1ZSk7XG5cbnZhciBUb2tlblN0cmVhbSA9IGZ1bmN0aW9uIFRva2VuU3RyZWFtKHN0cmluZywgbm9kZVR5cGVzKSB7XG4gIHRoaXMuc3RyaW5nID0gc3RyaW5nO1xuICB0aGlzLm5vZGVUeXBlcyA9IG5vZGVUeXBlcztcbiAgdGhpcy5pbmxpbmUgPSBudWxsO1xuICB0aGlzLnBvcyA9IDA7XG4gIHRoaXMudG9rZW5zID0gc3RyaW5nLnNwbGl0KC9cXHMqKD89XFxifFxcV3wkKS8pO1xuICBpZiAodGhpcy50b2tlbnNbdGhpcy50b2tlbnMubGVuZ3RoIC0gMV0gPT0gXCJcIikgeyB0aGlzLnRva2Vucy5wb3AoKTsgfVxuICBpZiAodGhpcy50b2tlbnNbMF0gPT0gXCJcIikgeyB0aGlzLnRva2Vucy51bnNoaWZ0KCk7IH1cbn07XG5cbnZhciBwcm90b3R5cGVBY2Nlc3NvcnMkMSQzID0geyBuZXh0OiB7fSB9O1xuXG5wcm90b3R5cGVBY2Nlc3NvcnMkMSQzLm5leHQuZ2V0ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy50b2tlbnNbdGhpcy5wb3NdIH07XG5cblRva2VuU3RyZWFtLnByb3RvdHlwZS5lYXQgPSBmdW5jdGlvbiBlYXQgKHRvaykgeyByZXR1cm4gdGhpcy5uZXh0ID09IHRvayAmJiAodGhpcy5wb3MrKyB8fCB0cnVlKSB9O1xuXG5Ub2tlblN0cmVhbS5wcm90b3R5cGUuZXJyID0gZnVuY3Rpb24gZXJyIChzdHIpIHsgdGhyb3cgbmV3IFN5bnRheEVycm9yKHN0ciArIFwiIChpbiBjb250ZW50IGV4cHJlc3Npb24gJ1wiICsgdGhpcy5zdHJpbmcgKyBcIicpXCIpIH07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBUb2tlblN0cmVhbS5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyQxJDMgKTtcblxuZnVuY3Rpb24gcGFyc2VFeHByKHN0cmVhbSkge1xuICB2YXIgZXhwcnMgPSBbXTtcbiAgZG8geyBleHBycy5wdXNoKHBhcnNlRXhwclNlcShzdHJlYW0pKTsgfVxuICB3aGlsZSAoc3RyZWFtLmVhdChcInxcIikpXG4gIHJldHVybiBleHBycy5sZW5ndGggPT0gMSA/IGV4cHJzWzBdIDoge3R5cGU6IFwiY2hvaWNlXCIsIGV4cHJzOiBleHByc31cbn1cblxuZnVuY3Rpb24gcGFyc2VFeHByU2VxKHN0cmVhbSkge1xuICB2YXIgZXhwcnMgPSBbXTtcbiAgZG8geyBleHBycy5wdXNoKHBhcnNlRXhwclN1YnNjcmlwdChzdHJlYW0pKTsgfVxuICB3aGlsZSAoc3RyZWFtLm5leHQgJiYgc3RyZWFtLm5leHQgIT0gXCIpXCIgJiYgc3RyZWFtLm5leHQgIT0gXCJ8XCIpXG4gIHJldHVybiBleHBycy5sZW5ndGggPT0gMSA/IGV4cHJzWzBdIDoge3R5cGU6IFwic2VxXCIsIGV4cHJzOiBleHByc31cbn1cblxuZnVuY3Rpb24gcGFyc2VFeHByU3Vic2NyaXB0KHN0cmVhbSkge1xuICB2YXIgZXhwciA9IHBhcnNlRXhwckF0b20oc3RyZWFtKTtcbiAgZm9yICg7Oykge1xuICAgIGlmIChzdHJlYW0uZWF0KFwiK1wiKSlcbiAgICAgIHsgZXhwciA9IHt0eXBlOiBcInBsdXNcIiwgZXhwcjogZXhwcn07IH1cbiAgICBlbHNlIGlmIChzdHJlYW0uZWF0KFwiKlwiKSlcbiAgICAgIHsgZXhwciA9IHt0eXBlOiBcInN0YXJcIiwgZXhwcjogZXhwcn07IH1cbiAgICBlbHNlIGlmIChzdHJlYW0uZWF0KFwiP1wiKSlcbiAgICAgIHsgZXhwciA9IHt0eXBlOiBcIm9wdFwiLCBleHByOiBleHByfTsgfVxuICAgIGVsc2UgaWYgKHN0cmVhbS5lYXQoXCJ7XCIpKVxuICAgICAgeyBleHByID0gcGFyc2VFeHByUmFuZ2Uoc3RyZWFtLCBleHByKTsgfVxuICAgIGVsc2UgeyBicmVhayB9XG4gIH1cbiAgcmV0dXJuIGV4cHJcbn1cblxuZnVuY3Rpb24gcGFyc2VOdW0oc3RyZWFtKSB7XG4gIGlmICgvXFxELy50ZXN0KHN0cmVhbS5uZXh0KSkgeyBzdHJlYW0uZXJyKFwiRXhwZWN0ZWQgbnVtYmVyLCBnb3QgJ1wiICsgc3RyZWFtLm5leHQgKyBcIidcIik7IH1cbiAgdmFyIHJlc3VsdCA9IE51bWJlcihzdHJlYW0ubmV4dCk7XG4gIHN0cmVhbS5wb3MrKztcbiAgcmV0dXJuIHJlc3VsdFxufVxuXG5mdW5jdGlvbiBwYXJzZUV4cHJSYW5nZShzdHJlYW0sIGV4cHIpIHtcbiAgdmFyIG1pbiA9IHBhcnNlTnVtKHN0cmVhbSksIG1heCA9IG1pbjtcbiAgaWYgKHN0cmVhbS5lYXQoXCIsXCIpKSB7XG4gICAgaWYgKHN0cmVhbS5uZXh0ICE9IFwifVwiKSB7IG1heCA9IHBhcnNlTnVtKHN0cmVhbSk7IH1cbiAgICBlbHNlIHsgbWF4ID0gLTE7IH1cbiAgfVxuICBpZiAoIXN0cmVhbS5lYXQoXCJ9XCIpKSB7IHN0cmVhbS5lcnIoXCJVbmNsb3NlZCBicmFjZWQgcmFuZ2VcIik7IH1cbiAgcmV0dXJuIHt0eXBlOiBcInJhbmdlXCIsIG1pbjogbWluLCBtYXg6IG1heCwgZXhwcjogZXhwcn1cbn1cblxuZnVuY3Rpb24gcmVzb2x2ZU5hbWUoc3RyZWFtLCBuYW1lKSB7XG4gIHZhciB0eXBlcyA9IHN0cmVhbS5ub2RlVHlwZXMsIHR5cGUgPSB0eXBlc1tuYW1lXTtcbiAgaWYgKHR5cGUpIHsgcmV0dXJuIFt0eXBlXSB9XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgZm9yICh2YXIgdHlwZU5hbWUgaW4gdHlwZXMpIHtcbiAgICB2YXIgdHlwZSQxID0gdHlwZXNbdHlwZU5hbWVdO1xuICAgIGlmICh0eXBlJDEuZ3JvdXBzLmluZGV4T2YobmFtZSkgPiAtMSkgeyByZXN1bHQucHVzaCh0eXBlJDEpOyB9XG4gIH1cbiAgaWYgKHJlc3VsdC5sZW5ndGggPT0gMCkgeyBzdHJlYW0uZXJyKFwiTm8gbm9kZSB0eXBlIG9yIGdyb3VwICdcIiArIG5hbWUgKyBcIicgZm91bmRcIik7IH1cbiAgcmV0dXJuIHJlc3VsdFxufVxuXG5mdW5jdGlvbiBwYXJzZUV4cHJBdG9tKHN0cmVhbSkge1xuICBpZiAoc3RyZWFtLmVhdChcIihcIikpIHtcbiAgICB2YXIgZXhwciA9IHBhcnNlRXhwcihzdHJlYW0pO1xuICAgIGlmICghc3RyZWFtLmVhdChcIilcIikpIHsgc3RyZWFtLmVycihcIk1pc3NpbmcgY2xvc2luZyBwYXJlblwiKTsgfVxuICAgIHJldHVybiBleHByXG4gIH0gZWxzZSBpZiAoIS9cXFcvLnRlc3Qoc3RyZWFtLm5leHQpKSB7XG4gICAgdmFyIGV4cHJzID0gcmVzb2x2ZU5hbWUoc3RyZWFtLCBzdHJlYW0ubmV4dCkubWFwKGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICBpZiAoc3RyZWFtLmlubGluZSA9PSBudWxsKSB7IHN0cmVhbS5pbmxpbmUgPSB0eXBlLmlzSW5saW5lOyB9XG4gICAgICBlbHNlIGlmIChzdHJlYW0uaW5saW5lICE9IHR5cGUuaXNJbmxpbmUpIHsgc3RyZWFtLmVycihcIk1peGluZyBpbmxpbmUgYW5kIGJsb2NrIGNvbnRlbnRcIik7IH1cbiAgICAgIHJldHVybiB7dHlwZTogXCJuYW1lXCIsIHZhbHVlOiB0eXBlfVxuICAgIH0pO1xuICAgIHN0cmVhbS5wb3MrKztcbiAgICByZXR1cm4gZXhwcnMubGVuZ3RoID09IDEgPyBleHByc1swXSA6IHt0eXBlOiBcImNob2ljZVwiLCBleHByczogZXhwcnN9XG4gIH0gZWxzZSB7XG4gICAgc3RyZWFtLmVycihcIlVuZXhwZWN0ZWQgdG9rZW4gJ1wiICsgc3RyZWFtLm5leHQgKyBcIidcIik7XG4gIH1cbn1cblxuLy8gVGhlIGNvZGUgYmVsb3cgaGVscHMgY29tcGlsZSBhIHJlZ3VsYXItZXhwcmVzc2lvbi1saWtlIGxhbmd1YWdlXG4vLyBpbnRvIGEgZGV0ZXJtaW5pc3RpYyBmaW5pdGUgYXV0b21hdG9uLiBGb3IgYSBnb29kIGludHJvZHVjdGlvbiB0b1xuLy8gdGhlc2UgY29uY2VwdHMsIHNlZSBodHRwczovL3N3dGNoLmNvbS9+cnNjL3JlZ2V4cC9yZWdleHAxLmh0bWxcblxuLy8gOiAoT2JqZWN0KSDihpIgW1t7dGVybTogP2FueSwgdG86IG51bWJlcn1dXVxuLy8gQ29uc3RydWN0IGFuIE5GQSBmcm9tIGFuIGV4cHJlc3Npb24gYXMgcmV0dXJuZWQgYnkgdGhlIHBhcnNlci4gVGhlXG4vLyBORkEgaXMgcmVwcmVzZW50ZWQgYXMgYW4gYXJyYXkgb2Ygc3RhdGVzLCB3aGljaCBhcmUgdGhlbXNlbHZlc1xuLy8gYXJyYXlzIG9mIGVkZ2VzLCB3aGljaCBhcmUgYHt0ZXJtLCB0b31gIG9iamVjdHMuIFRoZSBmaXJzdCBzdGF0ZSBpc1xuLy8gdGhlIGVudHJ5IHN0YXRlIGFuZCB0aGUgbGFzdCBub2RlIGlzIHRoZSBzdWNjZXNzIHN0YXRlLlxuLy9cbi8vIE5vdGUgdGhhdCB1bmxpa2UgdHlwaWNhbCBORkFzLCB0aGUgZWRnZSBvcmRlcmluZyBpbiB0aGlzIG9uZSBpc1xuLy8gc2lnbmlmaWNhbnQsIGluIHRoYXQgaXQgaXMgdXNlZCB0byBjb250cnVjdCBmaWxsZXIgY29udGVudCB3aGVuXG4vLyBuZWNlc3NhcnkuXG5mdW5jdGlvbiBuZmEoZXhwcikge1xuICB2YXIgbmZhID0gW1tdXTtcbiAgY29ubmVjdChjb21waWxlKGV4cHIsIDApLCBub2RlKCkpO1xuICByZXR1cm4gbmZhXG5cbiAgZnVuY3Rpb24gbm9kZSgpIHsgcmV0dXJuIG5mYS5wdXNoKFtdKSAtIDEgfVxuICBmdW5jdGlvbiBlZGdlKGZyb20sIHRvLCB0ZXJtKSB7XG4gICAgdmFyIGVkZ2UgPSB7dGVybTogdGVybSwgdG86IHRvfTtcbiAgICBuZmFbZnJvbV0ucHVzaChlZGdlKTtcbiAgICByZXR1cm4gZWRnZVxuICB9XG4gIGZ1bmN0aW9uIGNvbm5lY3QoZWRnZXMsIHRvKSB7IGVkZ2VzLmZvckVhY2goZnVuY3Rpb24gKGVkZ2UpIHsgcmV0dXJuIGVkZ2UudG8gPSB0bzsgfSk7IH1cblxuICBmdW5jdGlvbiBjb21waWxlKGV4cHIsIGZyb20pIHtcbiAgICBpZiAoZXhwci50eXBlID09IFwiY2hvaWNlXCIpIHtcbiAgICAgIHJldHVybiBleHByLmV4cHJzLnJlZHVjZShmdW5jdGlvbiAob3V0LCBleHByKSB7IHJldHVybiBvdXQuY29uY2F0KGNvbXBpbGUoZXhwciwgZnJvbSkpOyB9LCBbXSlcbiAgICB9IGVsc2UgaWYgKGV4cHIudHlwZSA9PSBcInNlcVwiKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDs7IGkrKykge1xuICAgICAgICB2YXIgbmV4dCA9IGNvbXBpbGUoZXhwci5leHByc1tpXSwgZnJvbSk7XG4gICAgICAgIGlmIChpID09IGV4cHIuZXhwcnMubGVuZ3RoIC0gMSkgeyByZXR1cm4gbmV4dCB9XG4gICAgICAgIGNvbm5lY3QobmV4dCwgZnJvbSA9IG5vZGUoKSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChleHByLnR5cGUgPT0gXCJzdGFyXCIpIHtcbiAgICAgIHZhciBsb29wID0gbm9kZSgpO1xuICAgICAgZWRnZShmcm9tLCBsb29wKTtcbiAgICAgIGNvbm5lY3QoY29tcGlsZShleHByLmV4cHIsIGxvb3ApLCBsb29wKTtcbiAgICAgIHJldHVybiBbZWRnZShsb29wKV1cbiAgICB9IGVsc2UgaWYgKGV4cHIudHlwZSA9PSBcInBsdXNcIikge1xuICAgICAgdmFyIGxvb3AkMSA9IG5vZGUoKTtcbiAgICAgIGNvbm5lY3QoY29tcGlsZShleHByLmV4cHIsIGZyb20pLCBsb29wJDEpO1xuICAgICAgY29ubmVjdChjb21waWxlKGV4cHIuZXhwciwgbG9vcCQxKSwgbG9vcCQxKTtcbiAgICAgIHJldHVybiBbZWRnZShsb29wJDEpXVxuICAgIH0gZWxzZSBpZiAoZXhwci50eXBlID09IFwib3B0XCIpIHtcbiAgICAgIHJldHVybiBbZWRnZShmcm9tKV0uY29uY2F0KGNvbXBpbGUoZXhwci5leHByLCBmcm9tKSlcbiAgICB9IGVsc2UgaWYgKGV4cHIudHlwZSA9PSBcInJhbmdlXCIpIHtcbiAgICAgIHZhciBjdXIgPSBmcm9tO1xuICAgICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgZXhwci5taW47IGkkMSsrKSB7XG4gICAgICAgIHZhciBuZXh0JDEgPSBub2RlKCk7XG4gICAgICAgIGNvbm5lY3QoY29tcGlsZShleHByLmV4cHIsIGN1ciksIG5leHQkMSk7XG4gICAgICAgIGN1ciA9IG5leHQkMTtcbiAgICAgIH1cbiAgICAgIGlmIChleHByLm1heCA9PSAtMSkge1xuICAgICAgICBjb25uZWN0KGNvbXBpbGUoZXhwci5leHByLCBjdXIpLCBjdXIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yICh2YXIgaSQyID0gZXhwci5taW47IGkkMiA8IGV4cHIubWF4OyBpJDIrKykge1xuICAgICAgICAgIHZhciBuZXh0JDIgPSBub2RlKCk7XG4gICAgICAgICAgZWRnZShjdXIsIG5leHQkMik7XG4gICAgICAgICAgY29ubmVjdChjb21waWxlKGV4cHIuZXhwciwgY3VyKSwgbmV4dCQyKTtcbiAgICAgICAgICBjdXIgPSBuZXh0JDI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBbZWRnZShjdXIpXVxuICAgIH0gZWxzZSBpZiAoZXhwci50eXBlID09IFwibmFtZVwiKSB7XG4gICAgICByZXR1cm4gW2VkZ2UoZnJvbSwgbnVsbCwgZXhwci52YWx1ZSldXG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGNtcChhLCBiKSB7IHJldHVybiBhIC0gYiB9XG5cbi8vIEdldCB0aGUgc2V0IG9mIG5vZGVzIHJlYWNoYWJsZSBieSBudWxsIGVkZ2VzIGZyb20gYG5vZGVgLiBPbWl0XG4vLyBub2RlcyB3aXRoIG9ubHkgYSBzaW5nbGUgbnVsbC1vdXQtZWRnZSwgc2luY2UgdGhleSBtYXkgbGVhZCB0b1xuLy8gbmVlZGxlc3MgZHVwbGljYXRlZCBub2Rlcy5cbmZ1bmN0aW9uIG51bGxGcm9tKG5mYSwgbm9kZSkge1xuICB2YXIgcmVzdWx0ID0gW107XG4gIHNjYW4obm9kZSk7XG4gIHJldHVybiByZXN1bHQuc29ydChjbXApXG5cbiAgZnVuY3Rpb24gc2Nhbihub2RlKSB7XG4gICAgdmFyIGVkZ2VzID0gbmZhW25vZGVdO1xuICAgIGlmIChlZGdlcy5sZW5ndGggPT0gMSAmJiAhZWRnZXNbMF0udGVybSkgeyByZXR1cm4gc2NhbihlZGdlc1swXS50bykgfVxuICAgIHJlc3VsdC5wdXNoKG5vZGUpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWRnZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciByZWYgPSBlZGdlc1tpXTtcbiAgICAgIHZhciB0ZXJtID0gcmVmLnRlcm07XG4gICAgICB2YXIgdG8gPSByZWYudG87XG4gICAgICBpZiAoIXRlcm0gJiYgcmVzdWx0LmluZGV4T2YodG8pID09IC0xKSB7IHNjYW4odG8pOyB9XG4gICAgfVxuICB9XG59XG5cbi8vIDogKFtbe3Rlcm06ID9hbnksIHRvOiBudW1iZXJ9XV0pIOKGkiBDb250ZW50TWF0Y2hcbi8vIENvbXBpbGVzIGFuIE5GQSBhcyBwcm9kdWNlZCBieSBgbmZhYCBpbnRvIGEgREZBLCBtb2RlbGVkIGFzIGEgc2V0XG4vLyBvZiBzdGF0ZSBvYmplY3RzIChgQ29udGVudE1hdGNoYCBpbnN0YW5jZXMpIHdpdGggdHJhbnNpdGlvbnNcbi8vIGJldHdlZW4gdGhlbS5cbmZ1bmN0aW9uIGRmYShuZmEpIHtcbiAgdmFyIGxhYmVsZWQgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICByZXR1cm4gZXhwbG9yZShudWxsRnJvbShuZmEsIDApKVxuXG4gIGZ1bmN0aW9uIGV4cGxvcmUoc3RhdGVzKSB7XG4gICAgdmFyIG91dCA9IFtdO1xuICAgIHN0YXRlcy5mb3JFYWNoKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICBuZmFbbm9kZV0uZm9yRWFjaChmdW5jdGlvbiAocmVmKSB7XG4gICAgICAgIHZhciB0ZXJtID0gcmVmLnRlcm07XG4gICAgICAgIHZhciB0byA9IHJlZi50bztcblxuICAgICAgICBpZiAoIXRlcm0pIHsgcmV0dXJuIH1cbiAgICAgICAgdmFyIGtub3duID0gb3V0LmluZGV4T2YodGVybSksIHNldCA9IGtub3duID4gLTEgJiYgb3V0W2tub3duICsgMV07XG4gICAgICAgIG51bGxGcm9tKG5mYSwgdG8pLmZvckVhY2goZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICBpZiAoIXNldCkgeyBvdXQucHVzaCh0ZXJtLCBzZXQgPSBbXSk7IH1cbiAgICAgICAgICBpZiAoc2V0LmluZGV4T2Yobm9kZSkgPT0gLTEpIHsgc2V0LnB1c2gobm9kZSk7IH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICB2YXIgc3RhdGUgPSBsYWJlbGVkW3N0YXRlcy5qb2luKFwiLFwiKV0gPSBuZXcgQ29udGVudE1hdGNoKHN0YXRlcy5pbmRleE9mKG5mYS5sZW5ndGggLSAxKSA+IC0xKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG91dC5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgdmFyIHN0YXRlcyQxID0gb3V0W2kgKyAxXS5zb3J0KGNtcCk7XG4gICAgICBzdGF0ZS5uZXh0LnB1c2gob3V0W2ldLCBsYWJlbGVkW3N0YXRlcyQxLmpvaW4oXCIsXCIpXSB8fCBleHBsb3JlKHN0YXRlcyQxKSk7XG4gICAgfVxuICAgIHJldHVybiBzdGF0ZVxuICB9XG59XG5cbmZ1bmN0aW9uIGNoZWNrRm9yRGVhZEVuZHMobWF0Y2gsIHN0cmVhbSkge1xuICBmb3IgKHZhciBpID0gMCwgd29yayA9IFttYXRjaF07IGkgPCB3b3JrLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHN0YXRlID0gd29ya1tpXSwgZGVhZCA9ICFzdGF0ZS52YWxpZEVuZCwgbm9kZXMgPSBbXTtcbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IHN0YXRlLm5leHQubGVuZ3RoOyBqICs9IDIpIHtcbiAgICAgIHZhciBub2RlID0gc3RhdGUubmV4dFtqXSwgbmV4dCA9IHN0YXRlLm5leHRbaiArIDFdO1xuICAgICAgbm9kZXMucHVzaChub2RlLm5hbWUpO1xuICAgICAgaWYgKGRlYWQgJiYgIShub2RlLmlzVGV4dCB8fCBub2RlLmhhc1JlcXVpcmVkQXR0cnMoKSkpIHsgZGVhZCA9IGZhbHNlOyB9XG4gICAgICBpZiAod29yay5pbmRleE9mKG5leHQpID09IC0xKSB7IHdvcmsucHVzaChuZXh0KTsgfVxuICAgIH1cbiAgICBpZiAoZGVhZCkgeyBzdHJlYW0uZXJyKFwiT25seSBub24tZ2VuZXJhdGFibGUgbm9kZXMgKFwiICsgbm9kZXMuam9pbihcIiwgXCIpICsgXCIpIGluIGEgcmVxdWlyZWQgcG9zaXRpb25cIik7IH1cbiAgfVxufVxuXG4vLyBGb3Igbm9kZSB0eXBlcyB3aGVyZSBhbGwgYXR0cnMgaGF2ZSBhIGRlZmF1bHQgdmFsdWUgKG9yIHdoaWNoIGRvbid0XG4vLyBoYXZlIGFueSBhdHRyaWJ1dGVzKSwgYnVpbGQgdXAgYSBzaW5nbGUgcmV1c2FibGUgZGVmYXVsdCBhdHRyaWJ1dGVcbi8vIG9iamVjdCwgYW5kIHVzZSBpdCBmb3IgYWxsIG5vZGVzIHRoYXQgZG9uJ3Qgc3BlY2lmeSBzcGVjaWZpY1xuLy8gYXR0cmlidXRlcy5cbmZ1bmN0aW9uIGRlZmF1bHRBdHRycyhhdHRycykge1xuICB2YXIgZGVmYXVsdHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICBmb3IgKHZhciBhdHRyTmFtZSBpbiBhdHRycykge1xuICAgIHZhciBhdHRyID0gYXR0cnNbYXR0ck5hbWVdO1xuICAgIGlmICghYXR0ci5oYXNEZWZhdWx0KSB7IHJldHVybiBudWxsIH1cbiAgICBkZWZhdWx0c1thdHRyTmFtZV0gPSBhdHRyLmRlZmF1bHQ7XG4gIH1cbiAgcmV0dXJuIGRlZmF1bHRzXG59XG5cbmZ1bmN0aW9uIGNvbXB1dGVBdHRycyhhdHRycywgdmFsdWUpIHtcbiAgdmFyIGJ1aWx0ID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgZm9yICh2YXIgbmFtZSBpbiBhdHRycykge1xuICAgIHZhciBnaXZlbiA9IHZhbHVlICYmIHZhbHVlW25hbWVdO1xuICAgIGlmIChnaXZlbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB2YXIgYXR0ciA9IGF0dHJzW25hbWVdO1xuICAgICAgaWYgKGF0dHIuaGFzRGVmYXVsdCkgeyBnaXZlbiA9IGF0dHIuZGVmYXVsdDsgfVxuICAgICAgZWxzZSB7IHRocm93IG5ldyBSYW5nZUVycm9yKFwiTm8gdmFsdWUgc3VwcGxpZWQgZm9yIGF0dHJpYnV0ZSBcIiArIG5hbWUpIH1cbiAgICB9XG4gICAgYnVpbHRbbmFtZV0gPSBnaXZlbjtcbiAgfVxuICByZXR1cm4gYnVpbHRcbn1cblxuZnVuY3Rpb24gaW5pdEF0dHJzKGF0dHJzKSB7XG4gIHZhciByZXN1bHQgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICBpZiAoYXR0cnMpIHsgZm9yICh2YXIgbmFtZSBpbiBhdHRycykgeyByZXN1bHRbbmFtZV0gPSBuZXcgQXR0cmlidXRlKGF0dHJzW25hbWVdKTsgfSB9XG4gIHJldHVybiByZXN1bHRcbn1cblxuLy8gOjotIE5vZGUgdHlwZXMgYXJlIG9iamVjdHMgYWxsb2NhdGVkIG9uY2UgcGVyIGBTY2hlbWFgIGFuZCB1c2VkIHRvXG4vLyBbdGFnXSgjbW9kZWwuTm9kZS50eXBlKSBgTm9kZWAgaW5zdGFuY2VzLiBUaGV5IGNvbnRhaW4gaW5mb3JtYXRpb25cbi8vIGFib3V0IHRoZSBub2RlIHR5cGUsIHN1Y2ggYXMgaXRzIG5hbWUgYW5kIHdoYXQga2luZCBvZiBub2RlIGl0XG4vLyByZXByZXNlbnRzLlxudmFyIE5vZGVUeXBlID0gZnVuY3Rpb24gTm9kZVR5cGUobmFtZSwgc2NoZW1hLCBzcGVjKSB7XG4gIC8vIDo6IHN0cmluZ1xuICAvLyBUaGUgbmFtZSB0aGUgbm9kZSB0eXBlIGhhcyBpbiB0aGlzIHNjaGVtYS5cbiAgdGhpcy5uYW1lID0gbmFtZTtcblxuICAvLyA6OiBTY2hlbWFcbiAgLy8gQSBsaW5rIGJhY2sgdG8gdGhlIGBTY2hlbWFgIHRoZSBub2RlIHR5cGUgYmVsb25ncyB0by5cbiAgdGhpcy5zY2hlbWEgPSBzY2hlbWE7XG5cbiAgLy8gOjogTm9kZVNwZWNcbiAgLy8gVGhlIHNwZWMgdGhhdCB0aGlzIHR5cGUgaXMgYmFzZWQgb25cbiAgdGhpcy5zcGVjID0gc3BlYztcblxuICB0aGlzLmdyb3VwcyA9IHNwZWMuZ3JvdXAgPyBzcGVjLmdyb3VwLnNwbGl0KFwiIFwiKSA6IFtdO1xuICB0aGlzLmF0dHJzID0gaW5pdEF0dHJzKHNwZWMuYXR0cnMpO1xuXG4gIHRoaXMuZGVmYXVsdEF0dHJzID0gZGVmYXVsdEF0dHJzKHRoaXMuYXR0cnMpO1xuXG4gIC8vIDo6IENvbnRlbnRNYXRjaFxuICAvLyBUaGUgc3RhcnRpbmcgbWF0Y2ggb2YgdGhlIG5vZGUgdHlwZSdzIGNvbnRlbnQgZXhwcmVzc2lvbi5cbiAgdGhpcy5jb250ZW50TWF0Y2ggPSBudWxsO1xuXG4gIC8vIDogP1tNYXJrVHlwZV1cbiAgLy8gVGhlIHNldCBvZiBtYXJrcyBhbGxvd2VkIGluIHRoaXMgbm9kZS4gYG51bGxgIG1lYW5zIGFsbCBtYXJrc1xuICAvLyBhcmUgYWxsb3dlZC5cbiAgdGhpcy5tYXJrU2V0ID0gbnVsbDtcblxuICAvLyA6OiBib29sXG4gIC8vIFRydWUgaWYgdGhpcyBub2RlIHR5cGUgaGFzIGlubGluZSBjb250ZW50LlxuICB0aGlzLmlubGluZUNvbnRlbnQgPSBudWxsO1xuXG4gIC8vIDo6IGJvb2xcbiAgLy8gVHJ1ZSBpZiB0aGlzIGlzIGEgYmxvY2sgdHlwZVxuICB0aGlzLmlzQmxvY2sgPSAhKHNwZWMuaW5saW5lIHx8IG5hbWUgPT0gXCJ0ZXh0XCIpO1xuXG4gIC8vIDo6IGJvb2xcbiAgLy8gVHJ1ZSBpZiB0aGlzIGlzIHRoZSB0ZXh0IG5vZGUgdHlwZS5cbiAgdGhpcy5pc1RleHQgPSBuYW1lID09IFwidGV4dFwiO1xufTtcblxudmFyIHByb3RvdHlwZUFjY2Vzc29ycyQ0ID0geyBpc0lubGluZToge30saXNUZXh0YmxvY2s6IHt9LGlzTGVhZjoge30saXNBdG9tOiB7fSB9O1xuXG4vLyA6OiBib29sXG4vLyBUcnVlIGlmIHRoaXMgaXMgYW4gaW5saW5lIHR5cGUuXG5wcm90b3R5cGVBY2Nlc3NvcnMkNC5pc0lubGluZS5nZXQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAhdGhpcy5pc0Jsb2NrIH07XG5cbi8vIDo6IGJvb2xcbi8vIFRydWUgaWYgdGhpcyBpcyBhIHRleHRibG9jayB0eXBlLCBhIGJsb2NrIHRoYXQgY29udGFpbnMgaW5saW5lXG4vLyBjb250ZW50LlxucHJvdG90eXBlQWNjZXNzb3JzJDQuaXNUZXh0YmxvY2suZ2V0ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5pc0Jsb2NrICYmIHRoaXMuaW5saW5lQ29udGVudCB9O1xuXG4vLyA6OiBib29sXG4vLyBUcnVlIGZvciBub2RlIHR5cGVzIHRoYXQgYWxsb3cgbm8gY29udGVudC5cbnByb3RvdHlwZUFjY2Vzc29ycyQ0LmlzTGVhZi5nZXQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmNvbnRlbnRNYXRjaCA9PSBDb250ZW50TWF0Y2guZW1wdHkgfTtcblxuLy8gOjogYm9vbFxuLy8gVHJ1ZSB3aGVuIHRoaXMgbm9kZSBpcyBhbiBhdG9tLCBpLmUuIHdoZW4gaXQgZG9lcyBub3QgaGF2ZVxuLy8gZGlyZWN0bHkgZWRpdGFibGUgY29udGVudC5cbnByb3RvdHlwZUFjY2Vzc29ycyQ0LmlzQXRvbS5nZXQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmlzTGVhZiB8fCB0aGlzLnNwZWMuYXRvbSB9O1xuXG5Ob2RlVHlwZS5wcm90b3R5cGUuaGFzUmVxdWlyZWRBdHRycyA9IGZ1bmN0aW9uIGhhc1JlcXVpcmVkQXR0cnMgKGlnbm9yZSkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gIGZvciAodmFyIG4gaW4gdGhpcyQxLmF0dHJzKVxuICAgIHsgaWYgKHRoaXMkMS5hdHRyc1tuXS5pc1JlcXVpcmVkICYmICghaWdub3JlIHx8ICEobiBpbiBpZ25vcmUpKSkgeyByZXR1cm4gdHJ1ZSB9IH1cbiAgcmV0dXJuIGZhbHNlXG59O1xuXG5Ob2RlVHlwZS5wcm90b3R5cGUuY29tcGF0aWJsZUNvbnRlbnQgPSBmdW5jdGlvbiBjb21wYXRpYmxlQ29udGVudCAob3RoZXIpIHtcbiAgcmV0dXJuIHRoaXMgPT0gb3RoZXIgfHwgdGhpcy5jb250ZW50TWF0Y2guY29tcGF0aWJsZShvdGhlci5jb250ZW50TWF0Y2gpXG59O1xuXG5Ob2RlVHlwZS5wcm90b3R5cGUuY29tcHV0ZUF0dHJzID0gZnVuY3Rpb24gY29tcHV0ZUF0dHJzJDEgKGF0dHJzKSB7XG4gIGlmICghYXR0cnMgJiYgdGhpcy5kZWZhdWx0QXR0cnMpIHsgcmV0dXJuIHRoaXMuZGVmYXVsdEF0dHJzIH1cbiAgZWxzZSB7IHJldHVybiBjb21wdXRlQXR0cnModGhpcy5hdHRycywgYXR0cnMpIH1cbn07XG5cbi8vIDo6ICg/T2JqZWN0LCA/dW5pb248RnJhZ21lbnQsIE5vZGUsIFtOb2RlXT4sID9bTWFya10pIOKGkiBOb2RlXG4vLyBDcmVhdGUgYSBgTm9kZWAgb2YgdGhpcyB0eXBlLiBUaGUgZ2l2ZW4gYXR0cmlidXRlcyBhcmVcbi8vIGNoZWNrZWQgYW5kIGRlZmF1bHRlZCAoeW91IGNhbiBwYXNzIGBudWxsYCB0byB1c2UgdGhlIHR5cGUnc1xuLy8gZGVmYXVsdHMgZW50aXJlbHksIGlmIG5vIHJlcXVpcmVkIGF0dHJpYnV0ZXMgZXhpc3QpLiBgY29udGVudGBcbi8vIG1heSBiZSBhIGBGcmFnbWVudGAsIGEgbm9kZSwgYW4gYXJyYXkgb2Ygbm9kZXMsIG9yXG4vLyBgbnVsbGAuIFNpbWlsYXJseSBgbWFya3NgIG1heSBiZSBgbnVsbGAgdG8gZGVmYXVsdCB0byB0aGUgZW1wdHlcbi8vIHNldCBvZiBtYXJrcy5cbk5vZGVUeXBlLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUgKGF0dHJzLCBjb250ZW50LCBtYXJrcykge1xuICBpZiAodGhpcy5pc1RleHQpIHsgdGhyb3cgbmV3IEVycm9yKFwiTm9kZVR5cGUuY3JlYXRlIGNhbid0IGNvbnN0cnVjdCB0ZXh0IG5vZGVzXCIpIH1cbiAgcmV0dXJuIG5ldyBOb2RlKHRoaXMsIHRoaXMuY29tcHV0ZUF0dHJzKGF0dHJzKSwgRnJhZ21lbnQuZnJvbShjb250ZW50KSwgTWFyay5zZXRGcm9tKG1hcmtzKSlcbn07XG5cbi8vIDo6ICg/T2JqZWN0LCA/dW5pb248RnJhZ21lbnQsIE5vZGUsIFtOb2RlXT4sID9bTWFya10pIOKGkiBOb2RlXG4vLyBMaWtlIFtgY3JlYXRlYF0oI21vZGVsLk5vZGVUeXBlLmNyZWF0ZSksIGJ1dCBjaGVjayB0aGUgZ2l2ZW4gY29udGVudFxuLy8gYWdhaW5zdCB0aGUgbm9kZSB0eXBlJ3MgY29udGVudCByZXN0cmljdGlvbnMsIGFuZCB0aHJvdyBhbiBlcnJvclxuLy8gaWYgaXQgZG9lc24ndCBtYXRjaC5cbk5vZGVUeXBlLnByb3RvdHlwZS5jcmVhdGVDaGVja2VkID0gZnVuY3Rpb24gY3JlYXRlQ2hlY2tlZCAoYXR0cnMsIGNvbnRlbnQsIG1hcmtzKSB7XG4gIGNvbnRlbnQgPSBGcmFnbWVudC5mcm9tKGNvbnRlbnQpO1xuICBpZiAoIXRoaXMudmFsaWRDb250ZW50KGNvbnRlbnQpKVxuICAgIHsgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbnZhbGlkIGNvbnRlbnQgZm9yIG5vZGUgXCIgKyB0aGlzLm5hbWUpIH1cbiAgcmV0dXJuIG5ldyBOb2RlKHRoaXMsIHRoaXMuY29tcHV0ZUF0dHJzKGF0dHJzKSwgY29udGVudCwgTWFyay5zZXRGcm9tKG1hcmtzKSlcbn07XG5cbi8vIDo6ICg/T2JqZWN0LCA/dW5pb248RnJhZ21lbnQsIE5vZGUsIFtOb2RlXT4sID9bTWFya10pIOKGkiA/Tm9kZVxuLy8gTGlrZSBbYGNyZWF0ZWBdKCNtb2RlbC5Ob2RlVHlwZS5jcmVhdGUpLCBidXQgc2VlIGlmIGl0IGlzIG5lY2Vzc2FyeSB0b1xuLy8gYWRkIG5vZGVzIHRvIHRoZSBzdGFydCBvciBlbmQgb2YgdGhlIGdpdmVuIGZyYWdtZW50IHRvIG1ha2UgaXRcbi8vIGZpdCB0aGUgbm9kZS4gSWYgbm8gZml0dGluZyB3cmFwcGluZyBjYW4gYmUgZm91bmQsIHJldHVybiBudWxsLlxuLy8gTm90ZSB0aGF0LCBkdWUgdG8gdGhlIGZhY3QgdGhhdCByZXF1aXJlZCBub2RlcyBjYW4gYWx3YXlzIGJlXG4vLyBjcmVhdGVkLCB0aGlzIHdpbGwgYWx3YXlzIHN1Y2NlZWQgaWYgeW91IHBhc3MgbnVsbCBvclxuLy8gYEZyYWdtZW50LmVtcHR5YCBhcyBjb250ZW50LlxuTm9kZVR5cGUucHJvdG90eXBlLmNyZWF0ZUFuZEZpbGwgPSBmdW5jdGlvbiBjcmVhdGVBbmRGaWxsIChhdHRycywgY29udGVudCwgbWFya3MpIHtcbiAgYXR0cnMgPSB0aGlzLmNvbXB1dGVBdHRycyhhdHRycyk7XG4gIGNvbnRlbnQgPSBGcmFnbWVudC5mcm9tKGNvbnRlbnQpO1xuICBpZiAoY29udGVudC5zaXplKSB7XG4gICAgdmFyIGJlZm9yZSA9IHRoaXMuY29udGVudE1hdGNoLmZpbGxCZWZvcmUoY29udGVudCk7XG4gICAgaWYgKCFiZWZvcmUpIHsgcmV0dXJuIG51bGwgfVxuICAgIGNvbnRlbnQgPSBiZWZvcmUuYXBwZW5kKGNvbnRlbnQpO1xuICB9XG4gIHZhciBhZnRlciA9IHRoaXMuY29udGVudE1hdGNoLm1hdGNoRnJhZ21lbnQoY29udGVudCkuZmlsbEJlZm9yZShGcmFnbWVudC5lbXB0eSwgdHJ1ZSk7XG4gIGlmICghYWZ0ZXIpIHsgcmV0dXJuIG51bGwgfVxuICByZXR1cm4gbmV3IE5vZGUodGhpcywgYXR0cnMsIGNvbnRlbnQuYXBwZW5kKGFmdGVyKSwgTWFyay5zZXRGcm9tKG1hcmtzKSlcbn07XG5cbi8vIDo6IChGcmFnbWVudCkg4oaSIGJvb2xcbi8vIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gZnJhZ21lbnQgaXMgdmFsaWQgY29udGVudCBmb3IgdGhpcyBub2RlXG4vLyB0eXBlIHdpdGggdGhlIGdpdmVuIGF0dHJpYnV0ZXMuXG5Ob2RlVHlwZS5wcm90b3R5cGUudmFsaWRDb250ZW50ID0gZnVuY3Rpb24gdmFsaWRDb250ZW50IChjb250ZW50KSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgdmFyIHJlc3VsdCA9IHRoaXMuY29udGVudE1hdGNoLm1hdGNoRnJhZ21lbnQoY29udGVudCk7XG4gIGlmICghcmVzdWx0IHx8ICFyZXN1bHQudmFsaWRFbmQpIHsgcmV0dXJuIGZhbHNlIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb250ZW50LmNoaWxkQ291bnQ7IGkrKylcbiAgICB7IGlmICghdGhpcyQxLmFsbG93c01hcmtzKGNvbnRlbnQuY2hpbGQoaSkubWFya3MpKSB7IHJldHVybiBmYWxzZSB9IH1cbiAgcmV0dXJuIHRydWVcbn07XG5cbi8vIDo6IChNYXJrVHlwZSkg4oaSIGJvb2xcbi8vIENoZWNrIHdoZXRoZXIgdGhlIGdpdmVuIG1hcmsgdHlwZSBpcyBhbGxvd2VkIGluIHRoaXMgbm9kZS5cbk5vZGVUeXBlLnByb3RvdHlwZS5hbGxvd3NNYXJrVHlwZSA9IGZ1bmN0aW9uIGFsbG93c01hcmtUeXBlIChtYXJrVHlwZSkge1xuICByZXR1cm4gdGhpcy5tYXJrU2V0ID09IG51bGwgfHwgdGhpcy5tYXJrU2V0LmluZGV4T2YobWFya1R5cGUpID4gLTFcbn07XG5cbi8vIDo6IChbTWFya10pIOKGkiBib29sXG4vLyBUZXN0IHdoZXRoZXIgdGhlIGdpdmVuIHNldCBvZiBtYXJrcyBhcmUgYWxsb3dlZCBpbiB0aGlzIG5vZGUuXG5Ob2RlVHlwZS5wcm90b3R5cGUuYWxsb3dzTWFya3MgPSBmdW5jdGlvbiBhbGxvd3NNYXJrcyAobWFya3MpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICBpZiAodGhpcy5tYXJrU2V0ID09IG51bGwpIHsgcmV0dXJuIHRydWUgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IG1hcmtzLmxlbmd0aDsgaSsrKSB7IGlmICghdGhpcyQxLmFsbG93c01hcmtUeXBlKG1hcmtzW2ldLnR5cGUpKSB7IHJldHVybiBmYWxzZSB9IH1cbiAgcmV0dXJuIHRydWVcbn07XG5cbi8vIDo6IChbTWFya10pIOKGkiBbTWFya11cbi8vIFJlbW92ZXMgdGhlIG1hcmtzIHRoYXQgYXJlIG5vdCBhbGxvd2VkIGluIHRoaXMgbm9kZSBmcm9tIHRoZSBnaXZlbiBzZXQuXG5Ob2RlVHlwZS5wcm90b3R5cGUuYWxsb3dlZE1hcmtzID0gZnVuY3Rpb24gYWxsb3dlZE1hcmtzIChtYXJrcykge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gIGlmICh0aGlzLm1hcmtTZXQgPT0gbnVsbCkgeyByZXR1cm4gbWFya3MgfVxuICB2YXIgY29weTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXJrcy5sZW5ndGg7IGkrKykge1xuICAgIGlmICghdGhpcyQxLmFsbG93c01hcmtUeXBlKG1hcmtzW2ldLnR5cGUpKSB7XG4gICAgICBpZiAoIWNvcHkpIHsgY29weSA9IG1hcmtzLnNsaWNlKDAsIGkpOyB9XG4gICAgfSBlbHNlIGlmIChjb3B5KSB7XG4gICAgICBjb3B5LnB1c2gobWFya3NbaV0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gIWNvcHkgPyBtYXJrcyA6IGNvcHkubGVuZ3RoID8gY29weSA6IE1hcmsuZW1wdHlcbn07XG5cbk5vZGVUeXBlLmNvbXBpbGUgPSBmdW5jdGlvbiBjb21waWxlIChub2Rlcywgc2NoZW1hKSB7XG4gIHZhciByZXN1bHQgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICBub2Rlcy5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lLCBzcGVjKSB7IHJldHVybiByZXN1bHRbbmFtZV0gPSBuZXcgTm9kZVR5cGUobmFtZSwgc2NoZW1hLCBzcGVjKTsgfSk7XG5cbiAgdmFyIHRvcFR5cGUgPSBzY2hlbWEuc3BlYy50b3BOb2RlIHx8IFwiZG9jXCI7XG4gIGlmICghcmVzdWx0W3RvcFR5cGVdKSB7IHRocm93IG5ldyBSYW5nZUVycm9yKFwiU2NoZW1hIGlzIG1pc3NpbmcgaXRzIHRvcCBub2RlIHR5cGUgKCdcIiArIHRvcFR5cGUgKyBcIicpXCIpIH1cbiAgaWYgKCFyZXN1bHQudGV4dCkgeyB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkV2ZXJ5IHNjaGVtYSBuZWVkcyBhICd0ZXh0JyB0eXBlXCIpIH1cbiAgZm9yICh2YXIgXyBpbiByZXN1bHQudGV4dC5hdHRycykgeyB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIlRoZSB0ZXh0IG5vZGUgdHlwZSBzaG91bGQgbm90IGhhdmUgYXR0cmlidXRlc1wiKSB9XG5cbiAgcmV0dXJuIHJlc3VsdFxufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIE5vZGVUeXBlLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzJDQgKTtcblxuLy8gQXR0cmlidXRlIGRlc2NyaXB0b3JzXG5cbnZhciBBdHRyaWJ1dGUgPSBmdW5jdGlvbiBBdHRyaWJ1dGUob3B0aW9ucykge1xuICB0aGlzLmhhc0RlZmF1bHQgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3B0aW9ucywgXCJkZWZhdWx0XCIpO1xuICB0aGlzLmRlZmF1bHQgPSBvcHRpb25zLmRlZmF1bHQ7XG59O1xuXG52YXIgcHJvdG90eXBlQWNjZXNzb3JzJDEkMiA9IHsgaXNSZXF1aXJlZDoge30gfTtcblxucHJvdG90eXBlQWNjZXNzb3JzJDEkMi5pc1JlcXVpcmVkLmdldCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuICF0aGlzLmhhc0RlZmF1bHRcbn07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBBdHRyaWJ1dGUucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMkMSQyICk7XG5cbi8vIE1hcmtzXG5cbi8vIDo6LSBMaWtlIG5vZGVzLCBtYXJrcyAod2hpY2ggYXJlIGFzc29jaWF0ZWQgd2l0aCBub2RlcyB0byBzaWduaWZ5XG4vLyB0aGluZ3MgbGlrZSBlbXBoYXNpcyBvciBiZWluZyBwYXJ0IG9mIGEgbGluaykgYXJlXG4vLyBbdGFnZ2VkXSgjbW9kZWwuTWFyay50eXBlKSB3aXRoIHR5cGUgb2JqZWN0cywgd2hpY2ggYXJlXG4vLyBpbnN0YW50aWF0ZWQgb25jZSBwZXIgYFNjaGVtYWAuXG52YXIgTWFya1R5cGUgPSBmdW5jdGlvbiBNYXJrVHlwZShuYW1lLCByYW5rLCBzY2hlbWEsIHNwZWMpIHtcbiAgLy8gOjogc3RyaW5nXG4gIC8vIFRoZSBuYW1lIG9mIHRoZSBtYXJrIHR5cGUuXG4gIHRoaXMubmFtZSA9IG5hbWU7XG5cbiAgLy8gOjogU2NoZW1hXG4gIC8vIFRoZSBzY2hlbWEgdGhhdCB0aGlzIG1hcmsgdHlwZSBpbnN0YW5jZSBpcyBwYXJ0IG9mLlxuICB0aGlzLnNjaGVtYSA9IHNjaGVtYTtcblxuICAvLyA6OiBNYXJrU3BlY1xuICAvLyBUaGUgc3BlYyBvbiB3aGljaCB0aGUgdHlwZSBpcyBiYXNlZC5cbiAgdGhpcy5zcGVjID0gc3BlYztcblxuICB0aGlzLmF0dHJzID0gaW5pdEF0dHJzKHNwZWMuYXR0cnMpO1xuXG4gIHRoaXMucmFuayA9IHJhbms7XG4gIHRoaXMuZXhjbHVkZWQgPSBudWxsO1xuICB2YXIgZGVmYXVsdHMgPSBkZWZhdWx0QXR0cnModGhpcy5hdHRycyk7XG4gIHRoaXMuaW5zdGFuY2UgPSBkZWZhdWx0cyAmJiBuZXcgTWFyayh0aGlzLCBkZWZhdWx0cyk7XG59O1xuXG4vLyA6OiAoP09iamVjdCkg4oaSIE1hcmtcbi8vIENyZWF0ZSBhIG1hcmsgb2YgdGhpcyB0eXBlLiBgYXR0cnNgIG1heSBiZSBgbnVsbGAgb3IgYW4gb2JqZWN0XG4vLyBjb250YWluaW5nIG9ubHkgc29tZSBvZiB0aGUgbWFyaydzIGF0dHJpYnV0ZXMuIFRoZSBvdGhlcnMsIGlmXG4vLyB0aGV5IGhhdmUgZGVmYXVsdHMsIHdpbGwgYmUgYWRkZWQuXG5NYXJrVHlwZS5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlIChhdHRycykge1xuICBpZiAoIWF0dHJzICYmIHRoaXMuaW5zdGFuY2UpIHsgcmV0dXJuIHRoaXMuaW5zdGFuY2UgfVxuICByZXR1cm4gbmV3IE1hcmsodGhpcywgY29tcHV0ZUF0dHJzKHRoaXMuYXR0cnMsIGF0dHJzKSlcbn07XG5cbk1hcmtUeXBlLmNvbXBpbGUgPSBmdW5jdGlvbiBjb21waWxlIChtYXJrcywgc2NoZW1hKSB7XG4gIHZhciByZXN1bHQgPSBPYmplY3QuY3JlYXRlKG51bGwpLCByYW5rID0gMDtcbiAgbWFya3MuZm9yRWFjaChmdW5jdGlvbiAobmFtZSwgc3BlYykgeyByZXR1cm4gcmVzdWx0W25hbWVdID0gbmV3IE1hcmtUeXBlKG5hbWUsIHJhbmsrKywgc2NoZW1hLCBzcGVjKTsgfSk7XG4gIHJldHVybiByZXN1bHRcbn07XG5cbi8vIDo6IChbTWFya10pIOKGkiBbTWFya11cbi8vIFdoZW4gdGhlcmUgaXMgYSBtYXJrIG9mIHRoaXMgdHlwZSBpbiB0aGUgZ2l2ZW4gc2V0LCBhIG5ldyBzZXRcbi8vIHdpdGhvdXQgaXQgaXMgcmV0dXJuZWQuIE90aGVyd2lzZSwgdGhlIGlucHV0IHNldCBpcyByZXR1cm5lZC5cbk1hcmtUeXBlLnByb3RvdHlwZS5yZW1vdmVGcm9tU2V0ID0gZnVuY3Rpb24gcmVtb3ZlRnJvbVNldCAoc2V0KSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZXQubGVuZ3RoOyBpKyspXG4gICAgeyBpZiAoc2V0W2ldLnR5cGUgPT0gdGhpcyQxKVxuICAgICAgeyByZXR1cm4gc2V0LnNsaWNlKDAsIGkpLmNvbmNhdChzZXQuc2xpY2UoaSArIDEpKSB9IH1cbiAgcmV0dXJuIHNldFxufTtcblxuLy8gOjogKFtNYXJrXSkg4oaSID9NYXJrXG4vLyBUZXN0cyB3aGV0aGVyIHRoZXJlIGlzIGEgbWFyayBvZiB0aGlzIHR5cGUgaW4gdGhlIGdpdmVuIHNldC5cbk1hcmtUeXBlLnByb3RvdHlwZS5pc0luU2V0ID0gZnVuY3Rpb24gaXNJblNldCAoc2V0KSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZXQubGVuZ3RoOyBpKyspXG4gICAgeyBpZiAoc2V0W2ldLnR5cGUgPT0gdGhpcyQxKSB7IHJldHVybiBzZXRbaV0gfSB9XG59O1xuXG4vLyA6OiAoTWFya1R5cGUpIOKGkiBib29sXG4vLyBRdWVyaWVzIHdoZXRoZXIgYSBnaXZlbiBtYXJrIHR5cGUgaXNcbi8vIFtleGNsdWRlZF0oI21vZGVsLk1hcmtTcGVjLmV4Y2x1ZGVzKSBieSB0aGlzIG9uZS5cbk1hcmtUeXBlLnByb3RvdHlwZS5leGNsdWRlcyA9IGZ1bmN0aW9uIGV4Y2x1ZGVzIChvdGhlcikge1xuICByZXR1cm4gdGhpcy5leGNsdWRlZC5pbmRleE9mKG90aGVyKSA+IC0xXG59O1xuXG4vLyBTY2hlbWFTcGVjOjogaW50ZXJmYWNlXG4vLyBBbiBvYmplY3QgZGVzY3JpYmluZyBhIHNjaGVtYSwgYXMgcGFzc2VkIHRvIHRoZSBbYFNjaGVtYWBdKCNtb2RlbC5TY2hlbWEpXG4vLyBjb25zdHJ1Y3Rvci5cbi8vXG4vLyAgIG5vZGVzOjogdW5pb248T2JqZWN0PE5vZGVTcGVjPiwgT3JkZXJlZE1hcDxOb2RlU3BlYz4+XG4vLyAgIFRoZSBub2RlIHR5cGVzIGluIHRoaXMgc2NoZW1hLiBNYXBzIG5hbWVzIHRvXG4vLyAgIFtgTm9kZVNwZWNgXSgjbW9kZWwuTm9kZVNwZWMpIG9iamVjdHMgdGhhdCBkZXNjcmliZSB0aGUgbm9kZSB0eXBlXG4vLyAgIGFzc29jaWF0ZWQgd2l0aCB0aGF0IG5hbWUuIFRoZWlyIG9yZGVyIGlzIHNpZ25pZmljYW504oCUaXRcbi8vICAgZGV0ZXJtaW5lcyB3aGljaCBbcGFyc2UgcnVsZXNdKCNtb2RlbC5Ob2RlU3BlYy5wYXJzZURPTSkgdGFrZVxuLy8gICBwcmVjZWRlbmNlIGJ5IGRlZmF1bHQsIGFuZCB3aGljaCBub2RlcyBjb21lIGZpcnN0IGluIGEgZ2l2ZW5cbi8vICAgW2dyb3VwXSgjbW9kZWwuTm9kZVNwZWMuZ3JvdXApLlxuLy9cbi8vICAgbWFya3M6OiA/dW5pb248T2JqZWN0PE1hcmtTcGVjPiwgT3JkZXJlZE1hcDxNYXJrU3BlYz4+XG4vLyAgIFRoZSBtYXJrIHR5cGVzIHRoYXQgZXhpc3QgaW4gdGhpcyBzY2hlbWEuIFRoZSBvcmRlciBpbiB3aGljaCB0aGV5XG4vLyAgIGFyZSBwcm92aWRlZCBkZXRlcm1pbmVzIHRoZSBvcmRlciBpbiB3aGljaCBbbWFya1xuLy8gICBzZXRzXSgjbW9kZWwuTWFyay5hZGRUb1NldCkgYXJlIHNvcnRlZCBhbmQgaW4gd2hpY2ggW3BhcnNlXG4vLyAgIHJ1bGVzXSgjbW9kZWwuTWFya1NwZWMucGFyc2VET00pIGFyZSB0cmllZC5cbi8vXG4vLyAgIHRvcE5vZGU6OiA/c3RyaW5nXG4vLyAgIFRoZSBuYW1lIG9mIHRoZSBkZWZhdWx0IHRvcC1sZXZlbCBub2RlIGZvciB0aGUgc2NoZW1hLiBEZWZhdWx0c1xuLy8gICB0byBgXCJkb2NcImAuXG5cbi8vIE5vZGVTcGVjOjogaW50ZXJmYWNlXG4vL1xuLy8gICBjb250ZW50OjogP3N0cmluZ1xuLy8gICBUaGUgY29udGVudCBleHByZXNzaW9uIGZvciB0aGlzIG5vZGUsIGFzIGRlc2NyaWJlZCBpbiB0aGUgW3NjaGVtYVxuLy8gICBndWlkZV0oL2RvY3MvZ3VpZGUvI3NjaGVtYS5jb250ZW50X2V4cHJlc3Npb25zKS4gV2hlbiBub3QgZ2l2ZW4sXG4vLyAgIHRoZSBub2RlIGRvZXMgbm90IGFsbG93IGFueSBjb250ZW50LlxuLy9cbi8vICAgbWFya3M6OiA/c3RyaW5nXG4vLyAgIFRoZSBtYXJrcyB0aGF0IGFyZSBhbGxvd2VkIGluc2lkZSBvZiB0aGlzIG5vZGUuIE1heSBiZSBhXG4vLyAgIHNwYWNlLXNlcGFyYXRlZCBzdHJpbmcgcmVmZXJyaW5nIHRvIG1hcmsgbmFtZXMgb3IgZ3JvdXBzLCBgXCJfXCJgXG4vLyAgIHRvIGV4cGxpY2l0bHkgYWxsb3cgYWxsIG1hcmtzLCBvciBgXCJcImAgdG8gZGlzYWxsb3cgbWFya3MuIFdoZW5cbi8vICAgbm90IGdpdmVuLCBub2RlcyB3aXRoIGlubGluZSBjb250ZW50IGRlZmF1bHQgdG8gYWxsb3dpbmcgYWxsXG4vLyAgIG1hcmtzLCBvdGhlciBub2RlcyBkZWZhdWx0IHRvIG5vdCBhbGxvd2luZyBtYXJrcy5cbi8vXG4vLyAgIGdyb3VwOjogP3N0cmluZ1xuLy8gICBUaGUgZ3JvdXAgb3Igc3BhY2Utc2VwYXJhdGVkIGdyb3VwcyB0byB3aGljaCB0aGlzIG5vZGUgYmVsb25ncyxcbi8vICAgd2hpY2ggY2FuIGJlIHJlZmVycmVkIHRvIGluIHRoZSBjb250ZW50IGV4cHJlc3Npb25zIGZvciB0aGVcbi8vICAgc2NoZW1hLlxuLy9cbi8vICAgaW5saW5lOjogP2Jvb2xcbi8vICAgU2hvdWxkIGJlIHNldCB0byB0cnVlIGZvciBpbmxpbmUgbm9kZXMuIChJbXBsaWVkIGZvciB0ZXh0IG5vZGVzLilcbi8vXG4vLyAgIGF0b206OiA/Ym9vbFxuLy8gICBDYW4gYmUgc2V0IHRvIHRydWUgdG8gaW5kaWNhdGUgdGhhdCwgdGhvdWdoIHRoaXMgaXNuJ3QgYSBbbGVhZlxuLy8gICBub2RlXSgjbW9kZWwuTm9kZVR5cGUuaXNMZWFmKSwgaXQgZG9lc24ndCBoYXZlIGRpcmVjdGx5IGVkaXRhYmxlXG4vLyAgIGNvbnRlbnQgYW5kIHNob3VsZCBiZSB0cmVhdGVkIGFzIGEgc2luZ2xlIHVuaXQgaW4gdGhlIHZpZXcuXG4vL1xuLy8gICBhdHRyczo6ID9PYmplY3Q8QXR0cmlidXRlU3BlYz5cbi8vICAgVGhlIGF0dHJpYnV0ZXMgdGhhdCBub2RlcyBvZiB0aGlzIHR5cGUgZ2V0LlxuLy9cbi8vICAgc2VsZWN0YWJsZTo6ID9ib29sXG4vLyAgIENvbnRyb2xzIHdoZXRoZXIgbm9kZXMgb2YgdGhpcyB0eXBlIGNhbiBiZSBzZWxlY3RlZCBhcyBhIFtub2RlXG4vLyAgIHNlbGVjdGlvbl0oI3N0YXRlLk5vZGVTZWxlY3Rpb24pLiBEZWZhdWx0cyB0byB0cnVlIGZvciBub24tdGV4dFxuLy8gICBub2Rlcy5cbi8vXG4vLyAgIGRyYWdnYWJsZTo6ID9ib29sXG4vLyAgIERldGVybWluZXMgd2hldGhlciBub2RlcyBvZiB0aGlzIHR5cGUgY2FuIGJlIGRyYWdnZWQgd2l0aG91dFxuLy8gICBiZWluZyBzZWxlY3RlZC4gRGVmYXVsdHMgdG8gZmFsc2UuXG4vL1xuLy8gICBjb2RlOjogP2Jvb2xcbi8vICAgQ2FuIGJlIHVzZWQgdG8gaW5kaWNhdGUgdGhhdCB0aGlzIG5vZGUgY29udGFpbnMgY29kZSwgd2hpY2hcbi8vICAgY2F1c2VzIHNvbWUgY29tbWFuZHMgdG8gYmVoYXZlIGRpZmZlcmVudGx5LlxuLy9cbi8vICAgZGVmaW5pbmc6OiA/Ym9vbFxuLy8gICBEZXRlcm1pbmVzIHdoZXRoZXIgdGhpcyBub2RlIGlzIGNvbnNpZGVyZWQgYW4gaW1wb3J0YW50IHBhcmVudFxuLy8gICBub2RlIGR1cmluZyByZXBsYWNlIG9wZXJhdGlvbnMgKHN1Y2ggYXMgcGFzdGUpLiBOb24tZGVmaW5pbmcgKHRoZVxuLy8gICBkZWZhdWx0KSBub2RlcyBnZXQgZHJvcHBlZCB3aGVuIHRoZWlyIGVudGlyZSBjb250ZW50IGlzIHJlcGxhY2VkLFxuLy8gICB3aGVyZWFzIGRlZmluaW5nIG5vZGVzIHBlcnNpc3QgYW5kIHdyYXAgdGhlIGluc2VydGVkIGNvbnRlbnQuXG4vLyAgIExpa2V3aXNlLCBpbiBfaW5zZXJ0ZWRfIGNvbnRlbnQgdGhlIGRlZmluaW5nIHBhcmVudHMgb2YgdGhlXG4vLyAgIGNvbnRlbnQgYXJlIHByZXNlcnZlZCB3aGVuIHBvc3NpYmxlLiBUeXBpY2FsbHksXG4vLyAgIG5vbi1kZWZhdWx0LXBhcmFncmFwaCB0ZXh0YmxvY2sgdHlwZXMsIGFuZCBwb3NzaWJseSBsaXN0IGl0ZW1zLFxuLy8gICBhcmUgbWFya2VkIGFzIGRlZmluaW5nLlxuLy9cbi8vICAgaXNvbGF0aW5nOjogP2Jvb2xcbi8vICAgV2hlbiBlbmFibGVkIChkZWZhdWx0IGlzIGZhbHNlKSwgdGhlIHNpZGVzIG9mIG5vZGVzIG9mIHRoaXMgdHlwZVxuLy8gICBjb3VudCBhcyBib3VuZGFyaWVzIHRoYXQgcmVndWxhciBlZGl0aW5nIG9wZXJhdGlvbnMsIGxpa2Vcbi8vICAgYmFja3NwYWNpbmcgb3IgbGlmdGluZywgd29uJ3QgY3Jvc3MuIEFuIGV4YW1wbGUgb2YgYSBub2RlIHRoYXRcbi8vICAgc2hvdWxkIHByb2JhYmx5IGhhdmUgdGhpcyBlbmFibGVkIGlzIGEgdGFibGUgY2VsbC5cbi8vXG4vLyAgIHRvRE9NOjogPyhub2RlOiBOb2RlKSDihpIgRE9NT3V0cHV0U3BlY1xuLy8gICBEZWZpbmVzIHRoZSBkZWZhdWx0IHdheSBhIG5vZGUgb2YgdGhpcyB0eXBlIHNob3VsZCBiZSBzZXJpYWxpemVkXG4vLyAgIHRvIERPTS9IVE1MIChhcyB1c2VkIGJ5XG4vLyAgIFtgRE9NU2VyaWFsaXplci5mcm9tU2NoZW1hYF0oI21vZGVsLkRPTVNlcmlhbGl6ZXJeZnJvbVNjaGVtYSkpLlxuLy8gICBTaG91bGQgcmV0dXJuIGEgRE9NIG5vZGUgb3IgYW4gW2FycmF5XG4vLyAgIHN0cnVjdHVyZV0oI21vZGVsLkRPTU91dHB1dFNwZWMpIHRoYXQgZGVzY3JpYmVzIG9uZSwgd2l0aCBhblxuLy8gICBvcHRpb25hbCBudW1iZXIgemVybyAo4oCcaG9sZeKAnSkgaW4gaXQgdG8gaW5kaWNhdGUgd2hlcmUgdGhlIG5vZGUnc1xuLy8gICBjb250ZW50IHNob3VsZCBiZSBpbnNlcnRlZC5cbi8vXG4vLyAgIEZvciB0ZXh0IG5vZGVzLCB0aGUgZGVmYXVsdCBpcyB0byBjcmVhdGUgYSB0ZXh0IERPTSBub2RlLiBUaG91Z2hcbi8vICAgaXQgaXMgcG9zc2libGUgdG8gY3JlYXRlIGEgc2VyaWFsaXplciB3aGVyZSB0ZXh0IGlzIHJlbmRlcmVkXG4vLyAgIGRpZmZlcmVudGx5LCB0aGlzIGlzIG5vdCBzdXBwb3J0ZWQgaW5zaWRlIHRoZSBlZGl0b3IsIHNvIHlvdVxuLy8gICBzaG91bGRuJ3Qgb3ZlcnJpZGUgdGhhdCBpbiB5b3VyIHRleHQgbm9kZSBzcGVjLlxuLy9cbi8vICAgcGFyc2VET006OiA/W1BhcnNlUnVsZV1cbi8vICAgQXNzb2NpYXRlcyBET00gcGFyc2VyIGluZm9ybWF0aW9uIHdpdGggdGhpcyBub2RlLCB3aGljaCBjYW4gYmVcbi8vICAgdXNlZCBieSBbYERPTVBhcnNlci5mcm9tU2NoZW1hYF0oI21vZGVsLkRPTVBhcnNlcl5mcm9tU2NoZW1hKSB0b1xuLy8gICBhdXRvbWF0aWNhbGx5IGRlcml2ZSBhIHBhcnNlci4gVGhlIGBub2RlYCBmaWVsZCBpbiB0aGUgcnVsZXMgaXNcbi8vICAgaW1wbGllZCAodGhlIG5hbWUgb2YgdGhpcyBub2RlIHdpbGwgYmUgZmlsbGVkIGluIGF1dG9tYXRpY2FsbHkpLlxuLy8gICBJZiB5b3Ugc3VwcGx5IHlvdXIgb3duIHBhcnNlciwgeW91IGRvIG5vdCBuZWVkIHRvIGFsc28gc3BlY2lmeVxuLy8gICBwYXJzaW5nIHJ1bGVzIGluIHlvdXIgc2NoZW1hLlxuXG4vLyBNYXJrU3BlYzo6IGludGVyZmFjZVxuLy9cbi8vICAgYXR0cnM6OiA/T2JqZWN0PEF0dHJpYnV0ZVNwZWM+XG4vLyAgIFRoZSBhdHRyaWJ1dGVzIHRoYXQgbWFya3Mgb2YgdGhpcyB0eXBlIGdldC5cbi8vXG4vLyAgIGluY2x1c2l2ZTo6ID9ib29sXG4vLyAgIFdoZXRoZXIgdGhpcyBtYXJrIHNob3VsZCBiZSBhY3RpdmUgd2hlbiB0aGUgY3Vyc29yIGlzIHBvc2l0aW9uZWRcbi8vICAgYXQgaXRzIGVuZCAob3IgYXQgaXRzIHN0YXJ0IHdoZW4gdGhhdCBpcyBhbHNvIHRoZSBzdGFydCBvZiB0aGVcbi8vICAgcGFyZW50IG5vZGUpLiBEZWZhdWx0cyB0byB0cnVlLlxuLy9cbi8vICAgZXhjbHVkZXM6OiA/c3RyaW5nXG4vLyAgIERldGVybWluZXMgd2hpY2ggb3RoZXIgbWFya3MgdGhpcyBtYXJrIGNhbiBjb2V4aXN0IHdpdGguIFNob3VsZFxuLy8gICBiZSBhIHNwYWNlLXNlcGFyYXRlZCBzdHJpbmdzIG5hbWluZyBvdGhlciBtYXJrcyBvciBncm91cHMgb2YgbWFya3MuXG4vLyAgIFdoZW4gYSBtYXJrIGlzIFthZGRlZF0oI21vZGVsLk1hcmsuYWRkVG9TZXQpIHRvIGEgc2V0LCBhbGwgbWFya3Ncbi8vICAgdGhhdCBpdCBleGNsdWRlcyBhcmUgcmVtb3ZlZCBpbiB0aGUgcHJvY2Vzcy4gSWYgdGhlIHNldCBjb250YWluc1xuLy8gICBhbnkgbWFyayB0aGF0IGV4Y2x1ZGVzIHRoZSBuZXcgbWFyayBidXQgaXMgbm90LCBpdHNlbGYsIGV4Y2x1ZGVkXG4vLyAgIGJ5IHRoZSBuZXcgbWFyaywgdGhlIG1hcmsgY2FuIG5vdCBiZSBhZGRlZCBhbiB0aGUgc2V0LiBZb3UgY2FuXG4vLyAgIHVzZSB0aGUgdmFsdWUgYFwiX1wiYCB0byBpbmRpY2F0ZSB0aGF0IHRoZSBtYXJrIGV4Y2x1ZGVzIGFsbFxuLy8gICBtYXJrcyBpbiB0aGUgc2NoZW1hLlxuLy9cbi8vICAgRGVmYXVsdHMgdG8gb25seSBiZWluZyBleGNsdXNpdmUgd2l0aCBtYXJrcyBvZiB0aGUgc2FtZSB0eXBlLiBZb3Vcbi8vICAgY2FuIHNldCBpdCB0byBhbiBlbXB0eSBzdHJpbmcgKG9yIGFueSBzdHJpbmcgbm90IGNvbnRhaW5pbmcgdGhlXG4vLyAgIG1hcmsncyBvd24gbmFtZSkgdG8gYWxsb3cgbXVsdGlwbGUgbWFya3Mgb2YgYSBnaXZlbiB0eXBlIHRvXG4vLyAgIGNvZXhpc3QgKGFzIGxvbmcgYXMgdGhleSBoYXZlIGRpZmZlcmVudCBhdHRyaWJ1dGVzKS5cbi8vXG4vLyAgIGdyb3VwOjogP3N0cmluZ1xuLy8gICBUaGUgZ3JvdXAgb3Igc3BhY2Utc2VwYXJhdGVkIGdyb3VwcyB0byB3aGljaCB0aGlzIG1hcmsgYmVsb25ncy5cbi8vXG4vLyAgIHRvRE9NOjogPyhtYXJrOiBNYXJrLCBpbmxpbmU6IGJvb2wpIOKGkiBET01PdXRwdXRTcGVjXG4vLyAgIERlZmluZXMgdGhlIGRlZmF1bHQgd2F5IG1hcmtzIG9mIHRoaXMgdHlwZSBzaG91bGQgYmUgc2VyaWFsaXplZFxuLy8gICB0byBET00vSFRNTC4gV2hlbiB0aGUgcmVzdWx0aW5nIHNwZWMgY29udGFpbnMgYSBob2xlLCB0aGF0IGlzXG4vLyAgIHdoZXJlIHRoZSBtYXJrZWQgY29udGVudCBpcyBwbGFjZWQuIE90aGVyd2lzZSwgaXQgaXMgYXBwZW5kZWQgdG9cbi8vICAgdGhlIHRvcCBub2RlLlxuLy9cbi8vICAgcGFyc2VET006OiA/W1BhcnNlUnVsZV1cbi8vICAgQXNzb2NpYXRlcyBET00gcGFyc2VyIGluZm9ybWF0aW9uIHdpdGggdGhpcyBtYXJrIChzZWUgdGhlXG4vLyAgIGNvcnJlc3BvbmRpbmcgW25vZGUgc3BlYyBmaWVsZF0oI21vZGVsLk5vZGVTcGVjLnBhcnNlRE9NKSkuIFRoZVxuLy8gICBgbWFya2AgZmllbGQgaW4gdGhlIHJ1bGVzIGlzIGltcGxpZWQuXG5cbi8vIEF0dHJpYnV0ZVNwZWM6OiBpbnRlcmZhY2Vcbi8vXG4vLyBVc2VkIHRvIFtkZWZpbmVdKCNtb2RlbC5Ob2RlU3BlYy5hdHRycykgYXR0cmlidXRlcyBvbiBub2RlcyBvclxuLy8gbWFya3MuXG4vL1xuLy8gICBkZWZhdWx0OjogP2FueVxuLy8gICBUaGUgZGVmYXVsdCB2YWx1ZSBmb3IgdGhpcyBhdHRyaWJ1dGUsIHRvIHVzZSB3aGVuIG5vIGV4cGxpY2l0XG4vLyAgIHZhbHVlIGlzIHByb3ZpZGVkLiBBdHRyaWJ1dGVzIHRoYXQgaGF2ZSBubyBkZWZhdWx0IG11c3QgYmVcbi8vICAgcHJvdmlkZWQgd2hlbmV2ZXIgYSBub2RlIG9yIG1hcmsgb2YgYSB0eXBlIHRoYXQgaGFzIHRoZW0gaXNcbi8vICAgY3JlYXRlZC5cblxuLy8gOjotIEEgZG9jdW1lbnQgc2NoZW1hLiBIb2xkcyBbbm9kZV0oI21vZGVsLk5vZGVUeXBlKSBhbmQgW21hcmtcbi8vIHR5cGVdKCNtb2RlbC5NYXJrVHlwZSkgb2JqZWN0cyBmb3IgdGhlIG5vZGVzIGFuZCBtYXJrcyB0aGF0IG1heVxuLy8gb2NjdXIgaW4gY29uZm9ybWluZyBkb2N1bWVudHMsIGFuZCBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IGZvclxuLy8gY3JlYXRpbmcgYW5kIGRlc2VyaWFsaXppbmcgc3VjaCBkb2N1bWVudHMuXG52YXIgU2NoZW1hID0gZnVuY3Rpb24gU2NoZW1hKHNwZWMpIHtcbiAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgLy8gOjogU2NoZW1hU3BlY1xuICAvLyBUaGUgW3NwZWNdKCNtb2RlbC5TY2hlbWFTcGVjKSBvbiB3aGljaCB0aGUgc2NoZW1hIGlzIGJhc2VkLFxuICAvLyB3aXRoIHRoZSBhZGRlZCBndWFyYW50ZWUgdGhhdCBpdHMgYG5vZGVzYCBhbmQgYG1hcmtzYFxuICAvLyBwcm9wZXJ0aWVzIGFyZVxuICAvLyBbYE9yZGVyZWRNYXBgXShodHRwczovL2dpdGh1Yi5jb20vbWFyaWpuaC9vcmRlcmVkbWFwKSBpbnN0YW5jZXNcbiAgLy8gKG5vdCByYXcgb2JqZWN0cykuXG4gIHRoaXMuc3BlYyA9IHt9O1xuICBmb3IgKHZhciBwcm9wIGluIHNwZWMpIHsgdGhpcyQxLnNwZWNbcHJvcF0gPSBzcGVjW3Byb3BdOyB9XG4gIHRoaXMuc3BlYy5ub2RlcyA9IE9yZGVyZWRNYXAuZnJvbShzcGVjLm5vZGVzKTtcbiAgdGhpcy5zcGVjLm1hcmtzID0gT3JkZXJlZE1hcC5mcm9tKHNwZWMubWFya3MpO1xuXG4gIC8vIDo6IE9iamVjdDxOb2RlVHlwZT5cbiAgLy8gQW4gb2JqZWN0IG1hcHBpbmcgdGhlIHNjaGVtYSdzIG5vZGUgbmFtZXMgdG8gbm9kZSB0eXBlIG9iamVjdHMuXG4gIHRoaXMubm9kZXMgPSBOb2RlVHlwZS5jb21waWxlKHRoaXMuc3BlYy5ub2RlcywgdGhpcyk7XG5cbiAgLy8gOjogT2JqZWN0PE1hcmtUeXBlPlxuICAvLyBBIG1hcCBmcm9tIG1hcmsgbmFtZXMgdG8gbWFyayB0eXBlIG9iamVjdHMuXG4gIHRoaXMubWFya3MgPSBNYXJrVHlwZS5jb21waWxlKHRoaXMuc3BlYy5tYXJrcywgdGhpcyk7XG5cbiAgdmFyIGNvbnRlbnRFeHByQ2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICBmb3IgKHZhciBwcm9wJDEgaW4gdGhpcyQxLm5vZGVzKSB7XG4gICAgaWYgKHByb3AkMSBpbiB0aGlzJDEubWFya3MpXG4gICAgICB7IHRocm93IG5ldyBSYW5nZUVycm9yKHByb3AkMSArIFwiIGNhbiBub3QgYmUgYm90aCBhIG5vZGUgYW5kIGEgbWFya1wiKSB9XG4gICAgdmFyIHR5cGUgPSB0aGlzJDEubm9kZXNbcHJvcCQxXSwgY29udGVudEV4cHIgPSB0eXBlLnNwZWMuY29udGVudCB8fCBcIlwiLCBtYXJrRXhwciA9IHR5cGUuc3BlYy5tYXJrcztcbiAgICB0eXBlLmNvbnRlbnRNYXRjaCA9IGNvbnRlbnRFeHByQ2FjaGVbY29udGVudEV4cHJdIHx8XG4gICAgICAoY29udGVudEV4cHJDYWNoZVtjb250ZW50RXhwcl0gPSBDb250ZW50TWF0Y2gucGFyc2UoY29udGVudEV4cHIsIHRoaXMkMS5ub2RlcykpO1xuICAgIHR5cGUuaW5saW5lQ29udGVudCA9IHR5cGUuY29udGVudE1hdGNoLmlubGluZUNvbnRlbnQ7XG4gICAgdHlwZS5tYXJrU2V0ID0gbWFya0V4cHIgPT0gXCJfXCIgPyBudWxsIDpcbiAgICAgIG1hcmtFeHByID8gZ2F0aGVyTWFya3ModGhpcyQxLCBtYXJrRXhwci5zcGxpdChcIiBcIikpIDpcbiAgICAgIG1hcmtFeHByID09IFwiXCIgfHwgIXR5cGUuaW5saW5lQ29udGVudCA/IFtdIDogbnVsbDtcbiAgfVxuICBmb3IgKHZhciBwcm9wJDIgaW4gdGhpcyQxLm1hcmtzKSB7XG4gICAgdmFyIHR5cGUkMSA9IHRoaXMkMS5tYXJrc1twcm9wJDJdLCBleGNsID0gdHlwZSQxLnNwZWMuZXhjbHVkZXM7XG4gICAgdHlwZSQxLmV4Y2x1ZGVkID0gZXhjbCA9PSBudWxsID8gW3R5cGUkMV0gOiBleGNsID09IFwiXCIgPyBbXSA6IGdhdGhlck1hcmtzKHRoaXMkMSwgZXhjbC5zcGxpdChcIiBcIikpO1xuICB9XG5cbiAgdGhpcy5ub2RlRnJvbUpTT04gPSB0aGlzLm5vZGVGcm9tSlNPTi5iaW5kKHRoaXMpO1xuICB0aGlzLm1hcmtGcm9tSlNPTiA9IHRoaXMubWFya0Zyb21KU09OLmJpbmQodGhpcyk7XG5cbiAgLy8gOjogTm9kZVR5cGVcbiAgLy8gVGhlIHR5cGUgb2YgdGhlIFtkZWZhdWx0IHRvcCBub2RlXSgjbW9kZWwuU2NoZW1hU3BlYy50b3BOb2RlKVxuICAvLyBmb3IgdGhpcyBzY2hlbWEuXG4gIHRoaXMudG9wTm9kZVR5cGUgPSB0aGlzLm5vZGVzW3RoaXMuc3BlYy50b3BOb2RlIHx8IFwiZG9jXCJdO1xuXG4gIC8vIDo6IE9iamVjdFxuICAvLyBBbiBvYmplY3QgZm9yIHN0b3Jpbmcgd2hhdGV2ZXIgdmFsdWVzIG1vZHVsZXMgbWF5IHdhbnQgdG9cbiAgLy8gY29tcHV0ZSBhbmQgY2FjaGUgcGVyIHNjaGVtYS4gKElmIHlvdSB3YW50IHRvIHN0b3JlIHNvbWV0aGluZ1xuICAvLyBpbiBpdCwgdHJ5IHRvIHVzZSBwcm9wZXJ0eSBuYW1lcyB1bmxpa2VseSB0byBjbGFzaC4pXG4gIHRoaXMuY2FjaGVkID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgdGhpcy5jYWNoZWQud3JhcHBpbmdzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbn07XG5cbi8vIDo6ICh1bmlvbjxzdHJpbmcsIE5vZGVUeXBlPiwgP09iamVjdCwgP3VuaW9uPEZyYWdtZW50LCBOb2RlLCBbTm9kZV0+LCA/W01hcmtdKSDihpIgTm9kZVxuLy8gQ3JlYXRlIGEgbm9kZSBpbiB0aGlzIHNjaGVtYS4gVGhlIGB0eXBlYCBtYXkgYmUgYSBzdHJpbmcgb3IgYVxuLy8gYE5vZGVUeXBlYCBpbnN0YW5jZS4gQXR0cmlidXRlcyB3aWxsIGJlIGV4dGVuZGVkXG4vLyB3aXRoIGRlZmF1bHRzLCBgY29udGVudGAgbWF5IGJlIGEgYEZyYWdtZW50YCxcbi8vIGBudWxsYCwgYSBgTm9kZWAsIG9yIGFuIGFycmF5IG9mIG5vZGVzLlxuU2NoZW1hLnByb3RvdHlwZS5ub2RlID0gZnVuY3Rpb24gbm9kZSAodHlwZSwgYXR0cnMsIGNvbnRlbnQsIG1hcmtzKSB7XG4gIGlmICh0eXBlb2YgdHlwZSA9PSBcInN0cmluZ1wiKVxuICAgIHsgdHlwZSA9IHRoaXMubm9kZVR5cGUodHlwZSk7IH1cbiAgZWxzZSBpZiAoISh0eXBlIGluc3RhbmNlb2YgTm9kZVR5cGUpKVxuICAgIHsgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbnZhbGlkIG5vZGUgdHlwZTogXCIgKyB0eXBlKSB9XG4gIGVsc2UgaWYgKHR5cGUuc2NoZW1hICE9IHRoaXMpXG4gICAgeyB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIk5vZGUgdHlwZSBmcm9tIGRpZmZlcmVudCBzY2hlbWEgdXNlZCAoXCIgKyB0eXBlLm5hbWUgKyBcIilcIikgfVxuXG4gIHJldHVybiB0eXBlLmNyZWF0ZUNoZWNrZWQoYXR0cnMsIGNvbnRlbnQsIG1hcmtzKVxufTtcblxuLy8gOjogKHN0cmluZywgP1tNYXJrXSkg4oaSIE5vZGVcbi8vIENyZWF0ZSBhIHRleHQgbm9kZSBpbiB0aGUgc2NoZW1hLiBFbXB0eSB0ZXh0IG5vZGVzIGFyZSBub3Rcbi8vIGFsbG93ZWQuXG5TY2hlbWEucHJvdG90eXBlLnRleHQgPSBmdW5jdGlvbiB0ZXh0ICh0ZXh0JDEsIG1hcmtzKSB7XG4gIHZhciB0eXBlID0gdGhpcy5ub2Rlcy50ZXh0O1xuICByZXR1cm4gbmV3IFRleHROb2RlKHR5cGUsIHR5cGUuZGVmYXVsdEF0dHJzLCB0ZXh0JDEsIE1hcmsuc2V0RnJvbShtYXJrcykpXG59O1xuXG4vLyA6OiAodW5pb248c3RyaW5nLCBNYXJrVHlwZT4sID9PYmplY3QpIOKGkiBNYXJrXG4vLyBDcmVhdGUgYSBtYXJrIHdpdGggdGhlIGdpdmVuIHR5cGUgYW5kIGF0dHJpYnV0ZXMuXG5TY2hlbWEucHJvdG90eXBlLm1hcmsgPSBmdW5jdGlvbiBtYXJrICh0eXBlLCBhdHRycykge1xuICBpZiAodHlwZW9mIHR5cGUgPT0gXCJzdHJpbmdcIikgeyB0eXBlID0gdGhpcy5tYXJrc1t0eXBlXTsgfVxuICByZXR1cm4gdHlwZS5jcmVhdGUoYXR0cnMpXG59O1xuXG4vLyA6OiAoT2JqZWN0KSDihpIgTm9kZVxuLy8gRGVzZXJpYWxpemUgYSBub2RlIGZyb20gaXRzIEpTT04gcmVwcmVzZW50YXRpb24uIFRoaXMgbWV0aG9kIGlzXG4vLyBib3VuZC5cblNjaGVtYS5wcm90b3R5cGUubm9kZUZyb21KU09OID0gZnVuY3Rpb24gbm9kZUZyb21KU09OIChqc29uKSB7XG4gIHJldHVybiBOb2RlLmZyb21KU09OKHRoaXMsIGpzb24pXG59O1xuXG4vLyA6OiAoT2JqZWN0KSDihpIgTWFya1xuLy8gRGVzZXJpYWxpemUgYSBtYXJrIGZyb20gaXRzIEpTT04gcmVwcmVzZW50YXRpb24uIFRoaXMgbWV0aG9kIGlzXG4vLyBib3VuZC5cblNjaGVtYS5wcm90b3R5cGUubWFya0Zyb21KU09OID0gZnVuY3Rpb24gbWFya0Zyb21KU09OIChqc29uKSB7XG4gIHJldHVybiBNYXJrLmZyb21KU09OKHRoaXMsIGpzb24pXG59O1xuXG5TY2hlbWEucHJvdG90eXBlLm5vZGVUeXBlID0gZnVuY3Rpb24gbm9kZVR5cGUgKG5hbWUpIHtcbiAgdmFyIGZvdW5kID0gdGhpcy5ub2Rlc1tuYW1lXTtcbiAgaWYgKCFmb3VuZCkgeyB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIlVua25vd24gbm9kZSB0eXBlOiBcIiArIG5hbWUpIH1cbiAgcmV0dXJuIGZvdW5kXG59O1xuXG5mdW5jdGlvbiBnYXRoZXJNYXJrcyhzY2hlbWEsIG1hcmtzKSB7XG4gIHZhciBmb3VuZCA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IG1hcmtzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIG5hbWUgPSBtYXJrc1tpXSwgbWFyayA9IHNjaGVtYS5tYXJrc1tuYW1lXSwgb2sgPSBtYXJrO1xuICAgIGlmIChtYXJrKSB7XG4gICAgICBmb3VuZC5wdXNoKG1hcmspO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKHZhciBwcm9wIGluIHNjaGVtYS5tYXJrcykge1xuICAgICAgICB2YXIgbWFyayQxID0gc2NoZW1hLm1hcmtzW3Byb3BdO1xuICAgICAgICBpZiAobmFtZSA9PSBcIl9cIiB8fCAobWFyayQxLnNwZWMuZ3JvdXAgJiYgbWFyayQxLnNwZWMuZ3JvdXAuc3BsaXQoXCIgXCIpLmluZGV4T2YobmFtZSkgPiAtMSkpXG4gICAgICAgICAgeyBmb3VuZC5wdXNoKG9rID0gbWFyayQxKTsgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIW9rKSB7IHRocm93IG5ldyBTeW50YXhFcnJvcihcIlVua25vd24gbWFyayB0eXBlOiAnXCIgKyBtYXJrc1tpXSArIFwiJ1wiKSB9XG4gIH1cbiAgcmV0dXJuIGZvdW5kXG59XG5cbi8vIFBhcnNlT3B0aW9uczo6IGludGVyZmFjZVxuLy8gVGhlc2UgYXJlIHRoZSBvcHRpb25zIHJlY29nbml6ZWQgYnkgdGhlXG4vLyBbYHBhcnNlYF0oI21vZGVsLkRPTVBhcnNlci5wYXJzZSkgYW5kXG4vLyBbYHBhcnNlU2xpY2VgXSgjbW9kZWwuRE9NUGFyc2VyLnBhcnNlU2xpY2UpIG1ldGhvZHMuXG4vL1xuLy8gICBwcmVzZXJ2ZVdoaXRlc3BhY2U6OiA/dW5pb248Ym9vbCwgXCJmdWxsXCI+XG4vLyAgIEJ5IGRlZmF1bHQsIHdoaXRlc3BhY2UgaXMgY29sbGFwc2VkIGFzIHBlciBIVE1MJ3MgcnVsZXMuIFBhc3Ncbi8vICAgYHRydWVgIHRvIHByZXNlcnZlIHdoaXRlc3BhY2UsIGJ1dCBub3JtYWxpemUgbmV3bGluZXMgdG9cbi8vICAgc3BhY2VzLCBhbmQgYFwiZnVsbFwiYCB0byBwcmVzZXJ2ZSB3aGl0ZXNwYWNlIGVudGlyZWx5LlxuLy9cbi8vICAgZmluZFBvc2l0aW9uczo6ID9be25vZGU6IGRvbS5Ob2RlLCBvZmZzZXQ6IG51bWJlcn1dXG4vLyAgIFdoZW4gZ2l2ZW4sIHRoZSBwYXJzZXIgd2lsbCwgYmVzaWRlIHBhcnNpbmcgdGhlIGNvbnRlbnQsXG4vLyAgIHJlY29yZCB0aGUgZG9jdW1lbnQgcG9zaXRpb25zIG9mIHRoZSBnaXZlbiBET00gcG9zaXRpb25zLiBJdFxuLy8gICB3aWxsIGRvIHNvIGJ5IHdyaXRpbmcgdG8gdGhlIG9iamVjdHMsIGFkZGluZyBhIGBwb3NgIHByb3BlcnR5XG4vLyAgIHRoYXQgaG9sZHMgdGhlIGRvY3VtZW50IHBvc2l0aW9uLiBET00gcG9zaXRpb25zIHRoYXQgYXJlIG5vdFxuLy8gICBpbiB0aGUgcGFyc2VkIGNvbnRlbnQgd2lsbCBub3QgYmUgd3JpdHRlbiB0by5cbi8vXG4vLyAgIGZyb206OiA/bnVtYmVyXG4vLyAgIFRoZSBjaGlsZCBub2RlIGluZGV4IHRvIHN0YXJ0IHBhcnNpbmcgZnJvbS5cbi8vXG4vLyAgIHRvOjogP251bWJlclxuLy8gICBUaGUgY2hpbGQgbm9kZSBpbmRleCB0byBzdG9wIHBhcnNpbmcgYXQuXG4vL1xuLy8gICB0b3BOb2RlOjogP05vZGVcbi8vICAgQnkgZGVmYXVsdCwgdGhlIGNvbnRlbnQgaXMgcGFyc2VkIGludG8gdGhlIHNjaGVtYSdzIGRlZmF1bHRcbi8vICAgW3RvcCBub2RlIHR5cGVdKCNtb2RlbC5TY2hlbWEudG9wTm9kZVR5cGUpLiBZb3UgY2FuIHBhc3MgdGhpc1xuLy8gICBvcHRpb24gdG8gdXNlIHRoZSB0eXBlIGFuZCBhdHRyaWJ1dGVzIGZyb20gYSBkaWZmZXJlbnQgbm9kZVxuLy8gICBhcyB0aGUgdG9wIGNvbnRhaW5lci5cbi8vXG4vLyAgIHRvcE1hdGNoOjogP0NvbnRlbnRNYXRjaFxuLy8gICBQcm92aWRlIHRoZSBzdGFydGluZyBjb250ZW50IG1hdGNoIHRoYXQgY29udGVudCBwYXJzZWQgaW50byB0aGVcbi8vICAgdG9wIG5vZGUgaXMgbWF0Y2hlZCBhZ2FpbnN0LlxuLy9cbi8vICAgY29udGV4dDo6ID9SZXNvbHZlZFBvc1xuLy8gICBBIHNldCBvZiBhZGRpdGlvbmFsIG5vZGVzIHRvIGNvdW50IGFzXG4vLyAgIFtjb250ZXh0XSgjbW9kZWwuUGFyc2VSdWxlLmNvbnRleHQpIHdoZW4gcGFyc2luZywgYWJvdmUgdGhlXG4vLyAgIGdpdmVuIFt0b3Agbm9kZV0oI21vZGVsLlBhcnNlT3B0aW9ucy50b3BOb2RlKS5cblxuLy8gUGFyc2VSdWxlOjogaW50ZXJmYWNlXG4vLyBBIHZhbHVlIHRoYXQgZGVzY3JpYmVzIGhvdyB0byBwYXJzZSBhIGdpdmVuIERPTSBub2RlIG9yIGlubGluZVxuLy8gc3R5bGUgYXMgYSBQcm9zZU1pcnJvciBub2RlIG9yIG1hcmsuXG4vL1xuLy8gICB0YWc6OiA/c3RyaW5nXG4vLyAgIEEgQ1NTIHNlbGVjdG9yIGRlc2NyaWJpbmcgdGhlIGtpbmQgb2YgRE9NIGVsZW1lbnRzIHRvIG1hdGNoLiBBXG4vLyAgIHNpbmdsZSBydWxlIHNob3VsZCBoYXZlIF9laXRoZXJfIGEgYHRhZ2Agb3IgYSBgc3R5bGVgIHByb3BlcnR5LlxuLy9cbi8vICAgbmFtZXNwYWNlOjogP3N0cmluZ1xuLy8gICBUaGUgbmFtZXNwYWNlIHRvIG1hdGNoLiBUaGlzIHNob3VsZCBiZSB1c2VkIHdpdGggYHRhZ2AuXG4vLyAgIE5vZGVzIGFyZSBvbmx5IG1hdGNoZWQgd2hlbiB0aGUgbmFtZXNwYWNlIG1hdGNoZXMgb3IgdGhpcyBwcm9wZXJ0eVxuLy8gICBpcyBudWxsLlxuLy9cbi8vICAgc3R5bGU6OiA/c3RyaW5nXG4vLyAgIEEgQ1NTIHByb3BlcnR5IG5hbWUgdG8gbWF0Y2guIFdoZW4gZ2l2ZW4sIHRoaXMgcnVsZSBtYXRjaGVzXG4vLyAgIGlubGluZSBzdHlsZXMgdGhhdCBsaXN0IHRoYXQgcHJvcGVydHkuIE1heSBhbHNvIGhhdmUgdGhlIGZvcm1cbi8vICAgYFwicHJvcGVydHk9dmFsdWVcImAsIGluIHdoaWNoIGNhc2UgdGhlIHJ1bGUgb25seSBtYXRjaGVzIGlmIHRoZVxuLy8gICBwcm9wZXJ5J3MgdmFsdWUgZXhhY3RseSBtYXRjaGVzIHRoZSBnaXZlbiB2YWx1ZS4gKEZvciBtb3JlXG4vLyAgIGNvbXBsaWNhdGVkIGZpbHRlcnMsIHVzZSBbYGdldEF0dHJzYF0oI21vZGVsLlBhcnNlUnVsZS5nZXRBdHRycylcbi8vICAgYW5kIHJldHVybiB1bmRlZmluZWQgdG8gaW5kaWNhdGUgdGhhdCB0aGUgbWF0Y2ggZmFpbGVkLilcbi8vXG4vLyAgIHByaW9yaXR5OjogP251bWJlclxuLy8gICBDYW4gYmUgdXNlZCB0byBjaGFuZ2UgdGhlIG9yZGVyIGluIHdoaWNoIHRoZSBwYXJzZSBydWxlcyBpbiBhXG4vLyAgIHNjaGVtYSBhcmUgdHJpZWQuIFRob3NlIHdpdGggaGlnaGVyIHByaW9yaXR5IGNvbWUgZmlyc3QuIFJ1bGVzXG4vLyAgIHdpdGhvdXQgYSBwcmlvcml0eSBhcmUgY291bnRlZCBhcyBoYXZpbmcgcHJpb3JpdHkgNTAuIFRoaXNcbi8vICAgcHJvcGVydHkgaXMgb25seSBtZWFuaW5nZnVsIGluIGEgc2NoZW1h4oCUd2hlbiBkaXJlY3RseVxuLy8gICBjb25zdHJ1Y3RpbmcgYSBwYXJzZXIsIHRoZSBvcmRlciBvZiB0aGUgcnVsZSBhcnJheSBpcyB1c2VkLlxuLy9cbi8vICAgY29udGV4dDo6ID9zdHJpbmdcbi8vICAgV2hlbiBnaXZlbiwgcmVzdHJpY3RzIHRoaXMgcnVsZSB0byBvbmx5IG1hdGNoIHdoZW4gdGhlIGN1cnJlbnRcbi8vICAgY29udGV4dOKAlHRoZSBwYXJlbnQgbm9kZXMgaW50byB3aGljaCB0aGUgY29udGVudCBpcyBiZWluZ1xuLy8gICBwYXJzZWTigJRtYXRjaGVzIHRoaXMgZXhwcmVzc2lvbi4gU2hvdWxkIGNvbnRhaW4gb25lIG9yIG1vcmUgbm9kZVxuLy8gICBuYW1lcyBvciBub2RlIGdyb3VwIG5hbWVzIGZvbGxvd2VkIGJ5IHNpbmdsZSBvciBkb3VibGUgc2xhc2hlcy5cbi8vICAgRm9yIGV4YW1wbGUgYFwicGFyYWdyYXBoL1wiYCBtZWFucyB0aGUgcnVsZSBvbmx5IG1hdGNoZXMgd2hlbiB0aGVcbi8vICAgcGFyZW50IG5vZGUgaXMgYSBwYXJhZ3JhcGgsIGBcImJsb2NrcXVvdGUvcGFyYWdyYXBoL1wiYCByZXN0cmljdHNcbi8vICAgaXQgdG8gYmUgaW4gYSBwYXJhZ3JhcGggdGhhdCBpcyBpbnNpZGUgYSBibG9ja3F1b3RlLCBhbmRcbi8vICAgYFwic2VjdGlvbi8vXCJgIG1hdGNoZXMgYW55IHBvc2l0aW9uIGluc2lkZSBhIHNlY3Rpb27igJRhIGRvdWJsZVxuLy8gICBzbGFzaCBtYXRjaGVzIGFueSBzZXF1ZW5jZSBvZiBhbmNlc3RvciBub2Rlcy4gVG8gYWxsb3cgbXVsdGlwbGVcbi8vICAgZGlmZmVyZW50IGNvbnRleHRzLCB0aGV5IGNhbiBiZSBzZXBhcmF0ZWQgYnkgYSBwaXBlIChgfGApXG4vLyAgIGNoYXJhY3RlciwgYXMgaW4gYFwiYmxvY2txdW90ZS98bGlzdF9pdGVtL1wiYC5cbi8vXG4vLyAgIG5vZGU6OiA/c3RyaW5nXG4vLyAgIFRoZSBuYW1lIG9mIHRoZSBub2RlIHR5cGUgdG8gY3JlYXRlIHdoZW4gdGhpcyBydWxlIG1hdGNoZXMuIE9ubHlcbi8vICAgdmFsaWQgZm9yIHJ1bGVzIHdpdGggYSBgdGFnYCBwcm9wZXJ0eSwgbm90IGZvciBzdHlsZSBydWxlcy4gRWFjaFxuLy8gICBydWxlIHNob3VsZCBoYXZlIG9uZSBvZiBhIGBub2RlYCwgYG1hcmtgLCBvciBgaWdub3JlYCBwcm9wZXJ0eVxuLy8gICAoZXhjZXB0IHdoZW4gaXQgYXBwZWFycyBpbiBhIFtub2RlXSgjbW9kZWwuTm9kZVNwZWMucGFyc2VET00pIG9yXG4vLyAgIFttYXJrIHNwZWNdKCNtb2RlbC5NYXJrU3BlYy5wYXJzZURPTSksIGluIHdoaWNoIGNhc2UgdGhlIGBub2RlYFxuLy8gICBvciBgbWFya2AgcHJvcGVydHkgd2lsbCBiZSBkZXJpdmVkIGZyb20gaXRzIHBvc2l0aW9uKS5cbi8vXG4vLyAgIG1hcms6OiA/c3RyaW5nXG4vLyAgIFRoZSBuYW1lIG9mIHRoZSBtYXJrIHR5cGUgdG8gd3JhcCB0aGUgbWF0Y2hlZCBjb250ZW50IGluLlxuLy9cbi8vICAgaWdub3JlOjogP2Jvb2xcbi8vICAgV2hlbiB0cnVlLCBpZ25vcmUgY29udGVudCB0aGF0IG1hdGNoZXMgdGhpcyBydWxlLlxuLy9cbi8vICAgc2tpcDo6ID9ib29sXG4vLyAgIFdoZW4gdHJ1ZSwgaWdub3JlIHRoZSBub2RlIHRoYXQgbWF0Y2hlcyB0aGlzIHJ1bGUsIGJ1dCBkbyBwYXJzZVxuLy8gICBpdHMgY29udGVudC5cbi8vXG4vLyAgIGF0dHJzOjogP09iamVjdFxuLy8gICBBdHRyaWJ1dGVzIGZvciB0aGUgbm9kZSBvciBtYXJrIGNyZWF0ZWQgYnkgdGhpcyBydWxlLiBXaGVuXG4vLyAgIGBnZXRBdHRyc2AgaXMgcHJvdmlkZWQsIGl0IHRha2VzIHByZWNlZGVuY2UuXG4vL1xuLy8gICBnZXRBdHRyczo6ID8odW5pb248ZG9tLk5vZGUsIHN0cmluZz4pIOKGkiA/dW5pb248T2JqZWN0LCBmYWxzZT5cbi8vICAgQSBmdW5jdGlvbiB1c2VkIHRvIGNvbXB1dGUgdGhlIGF0dHJpYnV0ZXMgZm9yIHRoZSBub2RlIG9yIG1hcmtcbi8vICAgY3JlYXRlZCBieSB0aGlzIHJ1bGUuIENhbiBhbHNvIGJlIHVzZWQgdG8gZGVzY3JpYmUgZnVydGhlclxuLy8gICBjb25kaXRpb25zIHRoZSBET00gZWxlbWVudCBvciBzdHlsZSBtdXN0IG1hdGNoLiBXaGVuIGl0IHJldHVybnNcbi8vICAgYGZhbHNlYCwgdGhlIHJ1bGUgd29uJ3QgbWF0Y2guIFdoZW4gaXQgcmV0dXJucyBudWxsIG9yIHVuZGVmaW5lZCxcbi8vICAgdGhhdCBpcyBpbnRlcnByZXRlZCBhcyBhbiBlbXB0eS9kZWZhdWx0IHNldCBvZiBhdHRyaWJ1dGVzLlxuLy9cbi8vICAgQ2FsbGVkIHdpdGggYSBET00gRWxlbWVudCBmb3IgYHRhZ2AgcnVsZXMsIGFuZCB3aXRoIGEgc3RyaW5nICh0aGVcbi8vICAgc3R5bGUncyB2YWx1ZSkgZm9yIGBzdHlsZWAgcnVsZXMuXG4vL1xuLy8gICBjb250ZW50RWxlbWVudDo6ID91bmlvbjxzdHJpbmcsIChkb20uTm9kZSkg4oaSIGRvbS5Ob2RlPlxuLy8gICBGb3IgYHRhZ2AgcnVsZXMgdGhhdCBwcm9kdWNlIG5vbi1sZWFmIG5vZGVzIG9yIG1hcmtzLCBieSBkZWZhdWx0XG4vLyAgIHRoZSBjb250ZW50IG9mIHRoZSBET00gZWxlbWVudCBpcyBwYXJzZWQgYXMgY29udGVudCBvZiB0aGUgbWFya1xuLy8gICBvciBub2RlLiBJZiB0aGUgY2hpbGQgbm9kZXMgYXJlIGluIGEgZGVzY2VuZGVudCBub2RlLCB0aGlzIG1heSBiZVxuLy8gICBhIENTUyBzZWxlY3RvciBzdHJpbmcgdGhhdCB0aGUgcGFyc2VyIG11c3QgdXNlIHRvIGZpbmQgdGhlIGFjdHVhbFxuLy8gICBjb250ZW50IGVsZW1lbnQsIG9yIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBhY3R1YWwgY29udGVudFxuLy8gICBlbGVtZW50IHRvIHRoZSBwYXJzZXIuXG4vL1xuLy8gICBnZXRDb250ZW50OjogPyhkb20uTm9kZSwgc2NoZW1hOiBTY2hlbWEpIOKGkiBGcmFnbWVudFxuLy8gICBDYW4gYmUgdXNlZCB0byBvdmVycmlkZSB0aGUgY29udGVudCBvZiBhIG1hdGNoZWQgbm9kZS4gV2hlblxuLy8gICBwcmVzZW50LCBpbnN0ZWFkIG9mIHBhcnNpbmcgdGhlIG5vZGUncyBjaGlsZCBub2RlcywgdGhlIHJlc3VsdCBvZlxuLy8gICB0aGlzIGZ1bmN0aW9uIGlzIHVzZWQuXG4vL1xuLy8gICBwcmVzZXJ2ZVdoaXRlc3BhY2U6OiA/dW5pb248Ym9vbCwgXCJmdWxsXCI+XG4vLyAgIENvbnRyb2xzIHdoZXRoZXIgd2hpdGVzcGFjZSBzaG91bGQgYmUgcHJlc2VydmVkIHdoZW4gcGFyc2luZyB0aGVcbi8vICAgY29udGVudCBpbnNpZGUgdGhlIG1hdGNoZWQgZWxlbWVudC4gYGZhbHNlYCBtZWFucyB3aGl0ZXNwYWNlIG1heVxuLy8gICBiZSBjb2xsYXBzZWQsIGB0cnVlYCBtZWFucyB0aGF0IHdoaXRlc3BhY2Ugc2hvdWxkIGJlIHByZXNlcnZlZFxuLy8gICBidXQgbmV3bGluZXMgbm9ybWFsaXplZCB0byBzcGFjZXMsIGFuZCBgXCJmdWxsXCJgIG1lYW5zIHRoYXRcbi8vICAgbmV3bGluZXMgc2hvdWxkIGFsc28gYmUgcHJlc2VydmVkLlxuXG4vLyA6Oi0gQSBET00gcGFyc2VyIHJlcHJlc2VudHMgYSBzdHJhdGVneSBmb3IgcGFyc2luZyBET00gY29udGVudCBpbnRvXG4vLyBhIFByb3NlTWlycm9yIGRvY3VtZW50IGNvbmZvcm1pbmcgdG8gYSBnaXZlbiBzY2hlbWEuIEl0cyBiZWhhdmlvclxuLy8gaXMgZGVmaW5lZCBieSBhbiBhcnJheSBvZiBbcnVsZXNdKCNtb2RlbC5QYXJzZVJ1bGUpLlxudmFyIERPTVBhcnNlciA9IGZ1bmN0aW9uIERPTVBhcnNlcihzY2hlbWEsIHJ1bGVzKSB7XG4gIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gIC8vIDo6IFNjaGVtYVxuICAvLyBUaGUgc2NoZW1hIGludG8gd2hpY2ggdGhlIHBhcnNlciBwYXJzZXMuXG4gIHRoaXMuc2NoZW1hID0gc2NoZW1hO1xuICAvLyA6OiBbUGFyc2VSdWxlXVxuICAvLyBUaGUgc2V0IG9mIFtwYXJzZSBydWxlc10oI21vZGVsLlBhcnNlUnVsZSkgdGhhdCB0aGUgcGFyc2VyXG4gIC8vIHVzZXMsIGluIG9yZGVyIG9mIHByZWNlZGVuY2UuXG4gIHRoaXMucnVsZXMgPSBydWxlcztcbiAgdGhpcy50YWdzID0gW107XG4gIHRoaXMuc3R5bGVzID0gW107XG5cbiAgcnVsZXMuZm9yRWFjaChmdW5jdGlvbiAocnVsZSkge1xuICAgIGlmIChydWxlLnRhZykgeyB0aGlzJDEudGFncy5wdXNoKHJ1bGUpOyB9XG4gICAgZWxzZSBpZiAocnVsZS5zdHlsZSkgeyB0aGlzJDEuc3R5bGVzLnB1c2gocnVsZSk7IH1cbiAgfSk7XG59O1xuXG4vLyA6OiAoZG9tLk5vZGUsID9QYXJzZU9wdGlvbnMpIOKGkiBOb2RlXG4vLyBQYXJzZSBhIGRvY3VtZW50IGZyb20gdGhlIGNvbnRlbnQgb2YgYSBET00gbm9kZS5cbkRPTVBhcnNlci5wcm90b3R5cGUucGFyc2UgPSBmdW5jdGlvbiBwYXJzZSAoZG9tLCBvcHRpb25zKSB7XG4gICAgaWYgKCBvcHRpb25zID09PSB2b2lkIDAgKSBvcHRpb25zID0ge307XG5cbiAgdmFyIGNvbnRleHQgPSBuZXcgUGFyc2VDb250ZXh0KHRoaXMsIG9wdGlvbnMsIGZhbHNlKTtcbiAgY29udGV4dC5hZGRBbGwoZG9tLCBudWxsLCBvcHRpb25zLmZyb20sIG9wdGlvbnMudG8pO1xuICByZXR1cm4gY29udGV4dC5maW5pc2goKVxufTtcblxuLy8gOjogKGRvbS5Ob2RlLCA/UGFyc2VPcHRpb25zKSDihpIgU2xpY2Vcbi8vIFBhcnNlcyB0aGUgY29udGVudCBvZiB0aGUgZ2l2ZW4gRE9NIG5vZGUsIGxpa2Vcbi8vIFtgcGFyc2VgXSgjbW9kZWwuRE9NUGFyc2VyLnBhcnNlKSwgYW5kIHRha2VzIHRoZSBzYW1lIHNldCBvZlxuLy8gb3B0aW9ucy4gQnV0IHVubGlrZSB0aGF0IG1ldGhvZCwgd2hpY2ggcHJvZHVjZXMgYSB3aG9sZSBub2RlLFxuLy8gdGhpcyBvbmUgcmV0dXJucyBhIHNsaWNlIHRoYXQgaXMgb3BlbiBhdCB0aGUgc2lkZXMsIG1lYW5pbmcgdGhhdFxuLy8gdGhlIHNjaGVtYSBjb25zdHJhaW50cyBhcmVuJ3QgYXBwbGllZCB0byB0aGUgc3RhcnQgb2Ygbm9kZXMgdG9cbi8vIHRoZSBsZWZ0IG9mIHRoZSBpbnB1dCBhbmQgdGhlIGVuZCBvZiBub2RlcyBhdCB0aGUgZW5kLlxuRE9NUGFyc2VyLnByb3RvdHlwZS5wYXJzZVNsaWNlID0gZnVuY3Rpb24gcGFyc2VTbGljZSAoZG9tLCBvcHRpb25zKSB7XG4gICAgaWYgKCBvcHRpb25zID09PSB2b2lkIDAgKSBvcHRpb25zID0ge307XG5cbiAgdmFyIGNvbnRleHQgPSBuZXcgUGFyc2VDb250ZXh0KHRoaXMsIG9wdGlvbnMsIHRydWUpO1xuICBjb250ZXh0LmFkZEFsbChkb20sIG51bGwsIG9wdGlvbnMuZnJvbSwgb3B0aW9ucy50byk7XG4gIHJldHVybiBTbGljZS5tYXhPcGVuKGNvbnRleHQuZmluaXNoKCkpXG59O1xuXG5ET01QYXJzZXIucHJvdG90eXBlLm1hdGNoVGFnID0gZnVuY3Rpb24gbWF0Y2hUYWcgKGRvbSwgY29udGV4dCkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy50YWdzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHJ1bGUgPSB0aGlzJDEudGFnc1tpXTtcbiAgICBpZiAobWF0Y2hlcyhkb20sIHJ1bGUudGFnKSAmJlxuICAgICAgICAocnVsZS5uYW1lc3BhY2UgPT09IHVuZGVmaW5lZCB8fCBkb20ubmFtZXNwYWNlVVJJID09IHJ1bGUubmFtZXNwYWNlKSAmJlxuICAgICAgICAoIXJ1bGUuY29udGV4dCB8fCBjb250ZXh0Lm1hdGNoZXNDb250ZXh0KHJ1bGUuY29udGV4dCkpKSB7XG4gICAgICBpZiAocnVsZS5nZXRBdHRycykge1xuICAgICAgICB2YXIgcmVzdWx0ID0gcnVsZS5nZXRBdHRycyhkb20pO1xuICAgICAgICBpZiAocmVzdWx0ID09PSBmYWxzZSkgeyBjb250aW51ZSB9XG4gICAgICAgIHJ1bGUuYXR0cnMgPSByZXN1bHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gcnVsZVxuICAgIH1cbiAgfVxufTtcblxuRE9NUGFyc2VyLnByb3RvdHlwZS5tYXRjaFN0eWxlID0gZnVuY3Rpb24gbWF0Y2hTdHlsZSAocHJvcCwgdmFsdWUsIGNvbnRleHQpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHJ1bGUgPSB0aGlzJDEuc3R5bGVzW2ldO1xuICAgIGlmIChydWxlLnN0eWxlLmluZGV4T2YocHJvcCkgIT0gMCB8fFxuICAgICAgICBydWxlLmNvbnRleHQgJiYgIWNvbnRleHQubWF0Y2hlc0NvbnRleHQocnVsZS5jb250ZXh0KSB8fFxuICAgICAgICAvLyBUZXN0IHRoYXQgdGhlIHN0eWxlIHN0cmluZyBlaXRoZXIgcHJlY2lzZWx5IG1hdGNoZXMgdGhlIHByb3AsXG4gICAgICAgIC8vIG9yIGhhcyBhbiAnPScgc2lnbiBhZnRlciB0aGUgcHJvcCwgZm9sbG93ZWQgYnkgdGhlIGdpdmVuXG4gICAgICAgIC8vIHZhbHVlLlxuICAgICAgICBydWxlLnN0eWxlLmxlbmd0aCA+IHByb3AubGVuZ3RoICYmXG4gICAgICAgIChydWxlLnN0eWxlLmNoYXJDb2RlQXQocHJvcC5sZW5ndGgpICE9IDYxIHx8IHJ1bGUuc3R5bGUuc2xpY2UocHJvcC5sZW5ndGggKyAxKSAhPSB2YWx1ZSkpXG4gICAgICB7IGNvbnRpbnVlIH1cbiAgICBpZiAocnVsZS5nZXRBdHRycykge1xuICAgICAgdmFyIHJlc3VsdCA9IHJ1bGUuZ2V0QXR0cnModmFsdWUpO1xuICAgICAgaWYgKHJlc3VsdCA9PT0gZmFsc2UpIHsgY29udGludWUgfVxuICAgICAgcnVsZS5hdHRycyA9IHJlc3VsdDtcbiAgICB9XG4gICAgcmV0dXJuIHJ1bGVcbiAgfVxufTtcblxuLy8gOiAoU2NoZW1hKSDihpIgW1BhcnNlUnVsZV1cbkRPTVBhcnNlci5zY2hlbWFSdWxlcyA9IGZ1bmN0aW9uIHNjaGVtYVJ1bGVzIChzY2hlbWEpIHtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICBmdW5jdGlvbiBpbnNlcnQocnVsZSkge1xuICAgIHZhciBwcmlvcml0eSA9IHJ1bGUucHJpb3JpdHkgPT0gbnVsbCA/IDUwIDogcnVsZS5wcmlvcml0eSwgaSA9IDA7XG4gICAgZm9yICg7IGkgPCByZXN1bHQubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBuZXh0ID0gcmVzdWx0W2ldLCBuZXh0UHJpb3JpdHkgPSBuZXh0LnByaW9yaXR5ID09IG51bGwgPyA1MCA6IG5leHQucHJpb3JpdHk7XG4gICAgICBpZiAobmV4dFByaW9yaXR5IDwgcHJpb3JpdHkpIHsgYnJlYWsgfVxuICAgIH1cbiAgICByZXN1bHQuc3BsaWNlKGksIDAsIHJ1bGUpO1xuICB9XG5cbiAgdmFyIGxvb3AgPSBmdW5jdGlvbiAoIG5hbWUgKSB7XG4gICAgdmFyIHJ1bGVzID0gc2NoZW1hLm1hcmtzW25hbWVdLnNwZWMucGFyc2VET007XG4gICAgaWYgKHJ1bGVzKSB7IHJ1bGVzLmZvckVhY2goZnVuY3Rpb24gKHJ1bGUpIHtcbiAgICAgIGluc2VydChydWxlID0gY29weShydWxlKSk7XG4gICAgICBydWxlLm1hcmsgPSBuYW1lO1xuICAgIH0pOyB9XG4gIH07XG5cbiAgICBmb3IgKHZhciBuYW1lIGluIHNjaGVtYS5tYXJrcykgbG9vcCggbmFtZSApO1xuICB2YXIgbG9vcCQxID0gZnVuY3Rpb24gKCBuYW1lICkge1xuICAgIHZhciBydWxlcyQxID0gc2NoZW1hLm5vZGVzW25hbWUkMV0uc3BlYy5wYXJzZURPTTtcbiAgICBpZiAocnVsZXMkMSkgeyBydWxlcyQxLmZvckVhY2goZnVuY3Rpb24gKHJ1bGUpIHtcbiAgICAgIGluc2VydChydWxlID0gY29weShydWxlKSk7XG4gICAgICBydWxlLm5vZGUgPSBuYW1lJDE7XG4gICAgfSk7IH1cbiAgfTtcblxuICAgIGZvciAodmFyIG5hbWUkMSBpbiBzY2hlbWEubm9kZXMpIGxvb3AkMSggbmFtZSApO1xuICByZXR1cm4gcmVzdWx0XG59O1xuXG4vLyA6OiAoU2NoZW1hKSDihpIgRE9NUGFyc2VyXG4vLyBDb25zdHJ1Y3QgYSBET00gcGFyc2VyIHVzaW5nIHRoZSBwYXJzaW5nIHJ1bGVzIGxpc3RlZCBpbiBhXG4vLyBzY2hlbWEncyBbbm9kZSBzcGVjc10oI21vZGVsLk5vZGVTcGVjLnBhcnNlRE9NKSwgcmVvcmRlcmVkIGJ5XG4vLyBbcHJpb3JpdHldKCNtb2RlbC5QYXJzZVJ1bGUucHJpb3JpdHkpLlxuRE9NUGFyc2VyLmZyb21TY2hlbWEgPSBmdW5jdGlvbiBmcm9tU2NoZW1hIChzY2hlbWEpIHtcbiAgcmV0dXJuIHNjaGVtYS5jYWNoZWQuZG9tUGFyc2VyIHx8XG4gICAgKHNjaGVtYS5jYWNoZWQuZG9tUGFyc2VyID0gbmV3IERPTVBhcnNlcihzY2hlbWEsIERPTVBhcnNlci5zY2hlbWFSdWxlcyhzY2hlbWEpKSlcbn07XG5cbi8vIDogT2JqZWN0PGJvb2w+IFRoZSBibG9jay1sZXZlbCB0YWdzIGluIEhUTUw1XG52YXIgYmxvY2tUYWdzID0ge1xuICBhZGRyZXNzOiB0cnVlLCBhcnRpY2xlOiB0cnVlLCBhc2lkZTogdHJ1ZSwgYmxvY2txdW90ZTogdHJ1ZSwgY2FudmFzOiB0cnVlLFxuICBkZDogdHJ1ZSwgZGl2OiB0cnVlLCBkbDogdHJ1ZSwgZmllbGRzZXQ6IHRydWUsIGZpZ2NhcHRpb246IHRydWUsIGZpZ3VyZTogdHJ1ZSxcbiAgZm9vdGVyOiB0cnVlLCBmb3JtOiB0cnVlLCBoMTogdHJ1ZSwgaDI6IHRydWUsIGgzOiB0cnVlLCBoNDogdHJ1ZSwgaDU6IHRydWUsXG4gIGg2OiB0cnVlLCBoZWFkZXI6IHRydWUsIGhncm91cDogdHJ1ZSwgaHI6IHRydWUsIGxpOiB0cnVlLCBub3NjcmlwdDogdHJ1ZSwgb2w6IHRydWUsXG4gIG91dHB1dDogdHJ1ZSwgcDogdHJ1ZSwgcHJlOiB0cnVlLCBzZWN0aW9uOiB0cnVlLCB0YWJsZTogdHJ1ZSwgdGZvb3Q6IHRydWUsIHVsOiB0cnVlXG59O1xuXG4vLyA6IE9iamVjdDxib29sPiBUaGUgdGFncyB0aGF0IHdlIG5vcm1hbGx5IGlnbm9yZS5cbnZhciBpZ25vcmVUYWdzID0ge1xuICBoZWFkOiB0cnVlLCBub3NjcmlwdDogdHJ1ZSwgb2JqZWN0OiB0cnVlLCBzY3JpcHQ6IHRydWUsIHN0eWxlOiB0cnVlLCB0aXRsZTogdHJ1ZVxufTtcblxuLy8gOiBPYmplY3Q8Ym9vbD4gTGlzdCB0YWdzLlxudmFyIGxpc3RUYWdzID0ge29sOiB0cnVlLCB1bDogdHJ1ZX07XG5cbi8vIFVzaW5nIGEgYml0ZmllbGQgZm9yIG5vZGUgY29udGV4dCBvcHRpb25zXG52YXIgT1BUX1BSRVNFUlZFX1dTID0gMTtcbnZhciBPUFRfUFJFU0VSVkVfV1NfRlVMTCA9IDI7XG52YXIgT1BUX09QRU5fTEVGVCA9IDQ7XG5cbmZ1bmN0aW9uIHdzT3B0aW9uc0ZvcihwcmVzZXJ2ZVdoaXRlc3BhY2UpIHtcbiAgcmV0dXJuIChwcmVzZXJ2ZVdoaXRlc3BhY2UgPyBPUFRfUFJFU0VSVkVfV1MgOiAwKSB8IChwcmVzZXJ2ZVdoaXRlc3BhY2UgPT09IFwiZnVsbFwiID8gT1BUX1BSRVNFUlZFX1dTX0ZVTEwgOiAwKVxufVxuXG52YXIgTm9kZUNvbnRleHQgPSBmdW5jdGlvbiBOb2RlQ29udGV4dCh0eXBlLCBhdHRycywgbWFya3MsIHNvbGlkLCBtYXRjaCwgb3B0aW9ucykge1xuICB0aGlzLnR5cGUgPSB0eXBlO1xuICB0aGlzLmF0dHJzID0gYXR0cnM7XG4gIHRoaXMuc29saWQgPSBzb2xpZDtcbiAgdGhpcy5tYXRjaCA9IG1hdGNoIHx8IChvcHRpb25zICYgT1BUX09QRU5fTEVGVCA/IG51bGwgOiB0eXBlLmNvbnRlbnRNYXRjaCk7XG4gIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gIHRoaXMuY29udGVudCA9IFtdO1xuICB0aGlzLm1hcmtzID0gbWFya3M7XG4gIHRoaXMuYWN0aXZlTWFya3MgPSBNYXJrLm5vbmU7XG59O1xuXG5Ob2RlQ29udGV4dC5wcm90b3R5cGUuZmluZFdyYXBwaW5nID0gZnVuY3Rpb24gZmluZFdyYXBwaW5nIChub2RlKSB7XG4gIGlmICghdGhpcy5tYXRjaCkge1xuICAgIGlmICghdGhpcy50eXBlKSB7IHJldHVybiBbXSB9XG4gICAgdmFyIGZpbGwgPSB0aGlzLnR5cGUuY29udGVudE1hdGNoLmZpbGxCZWZvcmUoRnJhZ21lbnQuZnJvbShub2RlKSk7XG4gICAgaWYgKGZpbGwpIHtcbiAgICAgIHRoaXMubWF0Y2ggPSB0aGlzLnR5cGUuY29udGVudE1hdGNoLm1hdGNoRnJhZ21lbnQoZmlsbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBzdGFydCA9IHRoaXMudHlwZS5jb250ZW50TWF0Y2gsIHdyYXA7XG4gICAgICBpZiAod3JhcCA9IHN0YXJ0LmZpbmRXcmFwcGluZyhub2RlLnR5cGUpKSB7XG4gICAgICAgIHRoaXMubWF0Y2ggPSBzdGFydDtcbiAgICAgICAgcmV0dXJuIHdyYXBcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBudWxsXG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB0aGlzLm1hdGNoLmZpbmRXcmFwcGluZyhub2RlLnR5cGUpXG59O1xuXG5Ob2RlQ29udGV4dC5wcm90b3R5cGUuZmluaXNoID0gZnVuY3Rpb24gZmluaXNoIChvcGVuRW5kKSB7XG4gIGlmICghKHRoaXMub3B0aW9ucyAmIE9QVF9QUkVTRVJWRV9XUykpIHsgLy8gU3RyaXAgdHJhaWxpbmcgd2hpdGVzcGFjZVxuICAgIHZhciBsYXN0ID0gdGhpcy5jb250ZW50W3RoaXMuY29udGVudC5sZW5ndGggLSAxXSwgbTtcbiAgICBpZiAobGFzdCAmJiBsYXN0LmlzVGV4dCAmJiAobSA9IC9cXHMrJC8uZXhlYyhsYXN0LnRleHQpKSkge1xuICAgICAgaWYgKGxhc3QudGV4dC5sZW5ndGggPT0gbVswXS5sZW5ndGgpIHsgdGhpcy5jb250ZW50LnBvcCgpOyB9XG4gICAgICBlbHNlIHsgdGhpcy5jb250ZW50W3RoaXMuY29udGVudC5sZW5ndGggLSAxXSA9IGxhc3Qud2l0aFRleHQobGFzdC50ZXh0LnNsaWNlKDAsIGxhc3QudGV4dC5sZW5ndGggLSBtWzBdLmxlbmd0aCkpOyB9XG4gICAgfVxuICB9XG4gIHZhciBjb250ZW50ID0gRnJhZ21lbnQuZnJvbSh0aGlzLmNvbnRlbnQpO1xuICBpZiAoIW9wZW5FbmQgJiYgdGhpcy5tYXRjaClcbiAgICB7IGNvbnRlbnQgPSBjb250ZW50LmFwcGVuZCh0aGlzLm1hdGNoLmZpbGxCZWZvcmUoRnJhZ21lbnQuZW1wdHksIHRydWUpKTsgfVxuICByZXR1cm4gdGhpcy50eXBlID8gdGhpcy50eXBlLmNyZWF0ZSh0aGlzLmF0dHJzLCBjb250ZW50LCB0aGlzLm1hcmtzKSA6IGNvbnRlbnRcbn07XG5cbnZhciBQYXJzZUNvbnRleHQgPSBmdW5jdGlvbiBQYXJzZUNvbnRleHQocGFyc2VyLCBvcHRpb25zLCBvcGVuKSB7XG4gIC8vIDogRE9NUGFyc2VyIFRoZSBwYXJzZXIgd2UgYXJlIHVzaW5nLlxuICB0aGlzLnBhcnNlciA9IHBhcnNlcjtcbiAgLy8gOiBPYmplY3QgVGhlIG9wdGlvbnMgcGFzc2VkIHRvIHRoaXMgcGFyc2UuXG4gIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gIHRoaXMuaXNPcGVuID0gb3BlbjtcbiAgdGhpcy5wZW5kaW5nTWFya3MgPSBbXTtcbiAgdmFyIHRvcE5vZGUgPSBvcHRpb25zLnRvcE5vZGUsIHRvcENvbnRleHQ7XG4gIHZhciB0b3BPcHRpb25zID0gd3NPcHRpb25zRm9yKG9wdGlvbnMucHJlc2VydmVXaGl0ZXNwYWNlKSB8IChvcGVuID8gT1BUX09QRU5fTEVGVCA6IDApO1xuICBpZiAodG9wTm9kZSlcbiAgICB7IHRvcENvbnRleHQgPSBuZXcgTm9kZUNvbnRleHQodG9wTm9kZS50eXBlLCB0b3BOb2RlLmF0dHJzLCBNYXJrLm5vbmUsIHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLnRvcE1hdGNoIHx8IHRvcE5vZGUudHlwZS5jb250ZW50TWF0Y2gsIHRvcE9wdGlvbnMpOyB9XG4gIGVsc2UgaWYgKG9wZW4pXG4gICAgeyB0b3BDb250ZXh0ID0gbmV3IE5vZGVDb250ZXh0KG51bGwsIG51bGwsIE1hcmsubm9uZSwgdHJ1ZSwgbnVsbCwgdG9wT3B0aW9ucyk7IH1cbiAgZWxzZVxuICAgIHsgdG9wQ29udGV4dCA9IG5ldyBOb2RlQ29udGV4dChwYXJzZXIuc2NoZW1hLnRvcE5vZGVUeXBlLCBudWxsLCBNYXJrLm5vbmUsIHRydWUsIG51bGwsIHRvcE9wdGlvbnMpOyB9XG4gIHRoaXMubm9kZXMgPSBbdG9wQ29udGV4dF07XG4gIC8vIDogW01hcmtdIFRoZSBjdXJyZW50IHNldCBvZiBtYXJrc1xuICB0aGlzLm9wZW4gPSAwO1xuICB0aGlzLmZpbmQgPSBvcHRpb25zLmZpbmRQb3NpdGlvbnM7XG4gIHRoaXMubmVlZHNCbG9jayA9IGZhbHNlO1xufTtcblxudmFyIHByb3RvdHlwZUFjY2Vzc29ycyQ2ID0geyB0b3A6IHt9LGN1cnJlbnRQb3M6IHt9IH07XG5cbnByb3RvdHlwZUFjY2Vzc29ycyQ2LnRvcC5nZXQgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLm5vZGVzW3RoaXMub3Blbl1cbn07XG5cbi8vIDogKGRvbS5Ob2RlKVxuLy8gQWRkIGEgRE9NIG5vZGUgdG8gdGhlIGNvbnRlbnQuIFRleHQgaXMgaW5zZXJ0ZWQgYXMgdGV4dCBub2RlLFxuLy8gb3RoZXJ3aXNlLCB0aGUgbm9kZSBpcyBwYXNzZWQgdG8gYGFkZEVsZW1lbnRgIG9yLCBpZiBpdCBoYXMgYVxuLy8gYHN0eWxlYCBhdHRyaWJ1dGUsIGBhZGRFbGVtZW50V2l0aFN0eWxlc2AuXG5QYXJzZUNvbnRleHQucHJvdG90eXBlLmFkZERPTSA9IGZ1bmN0aW9uIGFkZERPTSAoZG9tKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgaWYgKGRvbS5ub2RlVHlwZSA9PSAzKSB7XG4gICAgdGhpcy5hZGRUZXh0Tm9kZShkb20pO1xuICB9IGVsc2UgaWYgKGRvbS5ub2RlVHlwZSA9PSAxKSB7XG4gICAgdmFyIHN0eWxlID0gZG9tLmdldEF0dHJpYnV0ZShcInN0eWxlXCIpO1xuICAgIGlmICghc3R5bGUpIHtcbiAgICAgIHRoaXMuYWRkRWxlbWVudChkb20pO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgbWFya3MgPSB0aGlzLnJlYWRTdHlsZXMocGFyc2VTdHlsZXMoc3R5bGUpKTtcbiAgICAgIGlmIChtYXJrcyAhPSBudWxsKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWFya3MubGVuZ3RoOyBpKyspIHsgdGhpcyQxLmFkZFBlbmRpbmdNYXJrKG1hcmtzW2ldKTsgfVxuICAgICAgICB0aGlzLmFkZEVsZW1lbnQoZG9tKTtcbiAgICAgICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgbWFya3MubGVuZ3RoOyBpJDErKykgeyB0aGlzJDEucmVtb3ZlUGVuZGluZ01hcmsobWFya3NbaSQxXSk7IH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cblBhcnNlQ29udGV4dC5wcm90b3R5cGUuYWRkVGV4dE5vZGUgPSBmdW5jdGlvbiBhZGRUZXh0Tm9kZSAoZG9tKSB7XG4gIHZhciB2YWx1ZSA9IGRvbS5ub2RlVmFsdWU7XG4gIHZhciB0b3AgPSB0aGlzLnRvcDtcbiAgaWYgKCh0b3AudHlwZSA/IHRvcC50eXBlLmlubGluZUNvbnRlbnQgOiB0b3AuY29udGVudC5sZW5ndGggJiYgdG9wLmNvbnRlbnRbMF0uaXNJbmxpbmUpIHx8IC9cXFMvLnRlc3QodmFsdWUpKSB7XG4gICAgaWYgKCEodG9wLm9wdGlvbnMgJiBPUFRfUFJFU0VSVkVfV1MpKSB7XG4gICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoL1xccysvZywgXCIgXCIpO1xuICAgICAgLy8gSWYgdGhpcyBzdGFydHMgd2l0aCB3aGl0ZXNwYWNlLCBhbmQgdGhlcmUgaXMgZWl0aGVyIG5vIG5vZGVcbiAgICAgIC8vIGJlZm9yZSBpdCBvciBhIG5vZGUgdGhhdCBlbmRzIHdpdGggd2hpdGVzcGFjZSwgc3RyaXAgdGhlXG4gICAgICAvLyBsZWFkaW5nIHNwYWNlLlxuICAgICAgaWYgKC9eXFxzLy50ZXN0KHZhbHVlKSAmJiB0aGlzLm9wZW4gPT0gdGhpcy5ub2Rlcy5sZW5ndGggLSAxKSB7XG4gICAgICAgIHZhciBub2RlQmVmb3JlID0gdG9wLmNvbnRlbnRbdG9wLmNvbnRlbnQubGVuZ3RoIC0gMV07XG4gICAgICAgIGlmICghbm9kZUJlZm9yZSB8fCBub2RlQmVmb3JlLmlzVGV4dCAmJiAvXFxzJC8udGVzdChub2RlQmVmb3JlLnRleHQpKVxuICAgICAgICAgIHsgdmFsdWUgPSB2YWx1ZS5zbGljZSgxKTsgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoISh0b3Aub3B0aW9ucyAmIE9QVF9QUkVTRVJWRV9XU19GVUxMKSkge1xuICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC9cXHI/XFxufFxcci9nLCBcIiBcIik7XG4gICAgfVxuICAgIGlmICh2YWx1ZSkgeyB0aGlzLmluc2VydE5vZGUodGhpcy5wYXJzZXIuc2NoZW1hLnRleHQodmFsdWUpKTsgfVxuICAgIHRoaXMuZmluZEluVGV4dChkb20pO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuZmluZEluc2lkZShkb20pO1xuICB9XG59O1xuXG4vLyA6IChkb20uRWxlbWVudClcbi8vIFRyeSB0byBmaW5kIGEgaGFuZGxlciBmb3IgdGhlIGdpdmVuIHRhZyBhbmQgdXNlIHRoYXQgdG8gcGFyc2UuIElmXG4vLyBub25lIGlzIGZvdW5kLCB0aGUgZWxlbWVudCdzIGNvbnRlbnQgbm9kZXMgYXJlIGFkZGVkIGRpcmVjdGx5LlxuUGFyc2VDb250ZXh0LnByb3RvdHlwZS5hZGRFbGVtZW50ID0gZnVuY3Rpb24gYWRkRWxlbWVudCAoZG9tKSB7XG4gIHZhciBuYW1lID0gZG9tLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG4gIGlmIChsaXN0VGFncy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkgeyBub3JtYWxpemVMaXN0KGRvbSk7IH1cbiAgdmFyIHJ1bGUgPSAodGhpcy5vcHRpb25zLnJ1bGVGcm9tTm9kZSAmJiB0aGlzLm9wdGlvbnMucnVsZUZyb21Ob2RlKGRvbSkpIHx8IHRoaXMucGFyc2VyLm1hdGNoVGFnKGRvbSwgdGhpcyk7XG4gIGlmIChydWxlID8gcnVsZS5pZ25vcmUgOiBpZ25vcmVUYWdzLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgdGhpcy5maW5kSW5zaWRlKGRvbSk7XG4gIH0gZWxzZSBpZiAoIXJ1bGUgfHwgcnVsZS5za2lwKSB7XG4gICAgaWYgKHJ1bGUgJiYgcnVsZS5za2lwLm5vZGVUeXBlKSB7IGRvbSA9IHJ1bGUuc2tpcDsgfVxuICAgIHZhciBzeW5jLCB0b3AgPSB0aGlzLnRvcCwgb2xkTWFya3MgPSB0b3AuYWN0aXZlTWFya3MsIG9sZE5lZWRzQmxvY2sgPSB0aGlzLm5lZWRzQmxvY2s7XG4gICAgaWYgKGJsb2NrVGFncy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgc3luYyA9IHRydWU7XG4gICAgICBpZiAoIXRvcC50eXBlKSB7IHRoaXMubmVlZHNCbG9jayA9IHRydWU7IH1cbiAgICB9XG4gICAgdGhpcy5hZGRBbGwoZG9tKTtcbiAgICBpZiAoc3luYykgeyB0aGlzLnN5bmModG9wKTsgfVxuICAgIHRvcC5hY3RpdmVNYXJrcyA9IG9sZE1hcmtzO1xuICAgIHRoaXMubmVlZHNCbG9jayA9IG9sZE5lZWRzQmxvY2s7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5hZGRFbGVtZW50QnlSdWxlKGRvbSwgcnVsZSk7XG4gIH1cbn07XG5cbi8vIFJ1biBhbnkgc3R5bGUgcGFyc2VyIGFzc29jaWF0ZWQgd2l0aCB0aGUgbm9kZSdzIHN0eWxlcy4gRWl0aGVyXG4vLyByZXR1cm4gYW4gYXJyYXkgb2YgbWFya3MsIG9yIG51bGwgdG8gaW5kaWNhdGUgc29tZSBvZiB0aGUgc3R5bGVzXG4vLyBoYWQgYSBydWxlIHdpdGggYGlnbm9yZWAgc2V0LlxuUGFyc2VDb250ZXh0LnByb3RvdHlwZS5yZWFkU3R5bGVzID0gZnVuY3Rpb24gcmVhZFN0eWxlcyAoc3R5bGVzKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgdmFyIG1hcmtzID0gTWFyay5ub25lO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkgKz0gMikge1xuICAgIHZhciBydWxlID0gdGhpcyQxLnBhcnNlci5tYXRjaFN0eWxlKHN0eWxlc1tpXSwgc3R5bGVzW2kgKyAxXSwgdGhpcyQxKTtcbiAgICBpZiAoIXJ1bGUpIHsgY29udGludWUgfVxuICAgIGlmIChydWxlLmlnbm9yZSkgeyByZXR1cm4gbnVsbCB9XG4gICAgbWFya3MgPSB0aGlzJDEucGFyc2VyLnNjaGVtYS5tYXJrc1tydWxlLm1hcmtdLmNyZWF0ZShydWxlLmF0dHJzKS5hZGRUb1NldChtYXJrcyk7XG4gIH1cbiAgcmV0dXJuIG1hcmtzXG59O1xuXG4vLyA6IChkb20uRWxlbWVudCwgUGFyc2VSdWxlKSDihpIgYm9vbFxuLy8gTG9vayB1cCBhIGhhbmRsZXIgZm9yIHRoZSBnaXZlbiBub2RlLiBJZiBub25lIGFyZSBmb3VuZCwgcmV0dXJuXG4vLyBmYWxzZS4gT3RoZXJ3aXNlLCBhcHBseSBpdCwgdXNlIGl0cyByZXR1cm4gdmFsdWUgdG8gZHJpdmUgdGhlIHdheVxuLy8gdGhlIG5vZGUncyBjb250ZW50IGlzIHdyYXBwZWQsIGFuZCByZXR1cm4gdHJ1ZS5cblBhcnNlQ29udGV4dC5wcm90b3R5cGUuYWRkRWxlbWVudEJ5UnVsZSA9IGZ1bmN0aW9uIGFkZEVsZW1lbnRCeVJ1bGUgKGRvbSwgcnVsZSkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gIHZhciBzeW5jLCBub2RlVHlwZSwgbWFya1R5cGUsIG1hcms7XG4gIGlmIChydWxlLm5vZGUpIHtcbiAgICBub2RlVHlwZSA9IHRoaXMucGFyc2VyLnNjaGVtYS5ub2Rlc1tydWxlLm5vZGVdO1xuICAgIGlmIChub2RlVHlwZS5pc0xlYWYpIHsgdGhpcy5pbnNlcnROb2RlKG5vZGVUeXBlLmNyZWF0ZShydWxlLmF0dHJzKSk7IH1cbiAgICBlbHNlIHsgc3luYyA9IHRoaXMuZW50ZXIobm9kZVR5cGUsIHJ1bGUuYXR0cnMsIHJ1bGUucHJlc2VydmVXaGl0ZXNwYWNlKTsgfVxuICB9IGVsc2Uge1xuICAgIG1hcmtUeXBlID0gdGhpcy5wYXJzZXIuc2NoZW1hLm1hcmtzW3J1bGUubWFya107XG4gICAgbWFyayA9IG1hcmtUeXBlLmNyZWF0ZShydWxlLmF0dHJzKTtcbiAgICB0aGlzLmFkZFBlbmRpbmdNYXJrKG1hcmspO1xuICB9XG4gIHZhciBzdGFydEluID0gdGhpcy50b3A7XG5cbiAgaWYgKG5vZGVUeXBlICYmIG5vZGVUeXBlLmlzTGVhZikge1xuICAgIHRoaXMuZmluZEluc2lkZShkb20pO1xuICB9IGVsc2UgaWYgKHJ1bGUuZ2V0Q29udGVudCkge1xuICAgIHRoaXMuZmluZEluc2lkZShkb20pO1xuICAgIHJ1bGUuZ2V0Q29udGVudChkb20sIHRoaXMucGFyc2VyLnNjaGVtYSkuZm9yRWFjaChmdW5jdGlvbiAobm9kZSkgeyByZXR1cm4gdGhpcyQxLmluc2VydE5vZGUobm9kZSk7IH0pO1xuICB9IGVsc2Uge1xuICAgIHZhciBjb250ZW50RE9NID0gcnVsZS5jb250ZW50RWxlbWVudDtcbiAgICBpZiAodHlwZW9mIGNvbnRlbnRET00gPT0gXCJzdHJpbmdcIikgeyBjb250ZW50RE9NID0gZG9tLnF1ZXJ5U2VsZWN0b3IoY29udGVudERPTSk7IH1cbiAgICBlbHNlIGlmICh0eXBlb2YgY29udGVudERPTSA9PSBcImZ1bmN0aW9uXCIpIHsgY29udGVudERPTSA9IGNvbnRlbnRET00oZG9tKTsgfVxuICAgIGlmICghY29udGVudERPTSkgeyBjb250ZW50RE9NID0gZG9tOyB9XG4gICAgdGhpcy5maW5kQXJvdW5kKGRvbSwgY29udGVudERPTSwgdHJ1ZSk7XG4gICAgdGhpcy5hZGRBbGwoY29udGVudERPTSwgc3luYyk7XG4gIH1cbiAgaWYgKHN5bmMpIHsgdGhpcy5zeW5jKHN0YXJ0SW4pOyB0aGlzLm9wZW4tLTsgfVxuICBpZiAobWFyaykgeyB0aGlzLnJlbW92ZVBlbmRpbmdNYXJrKG1hcmspOyB9XG4gIHJldHVybiB0cnVlXG59O1xuXG4vLyA6IChkb20uTm9kZSwgP05vZGVCdWlsZGVyLCA/bnVtYmVyLCA/bnVtYmVyKVxuLy8gQWRkIGFsbCBjaGlsZCBub2RlcyBiZXR3ZWVuIGBzdGFydEluZGV4YCBhbmQgYGVuZEluZGV4YCAob3IgdGhlXG4vLyB3aG9sZSBub2RlLCBpZiBub3QgZ2l2ZW4pLiBJZiBgc3luY2AgaXMgcGFzc2VkLCB1c2UgaXQgdG9cbi8vIHN5bmNocm9uaXplIGFmdGVyIGV2ZXJ5IGJsb2NrIGVsZW1lbnQuXG5QYXJzZUNvbnRleHQucHJvdG90eXBlLmFkZEFsbCA9IGZ1bmN0aW9uIGFkZEFsbCAocGFyZW50LCBzeW5jLCBzdGFydEluZGV4LCBlbmRJbmRleCkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gIHZhciBpbmRleCA9IHN0YXJ0SW5kZXggfHwgMDtcbiAgZm9yICh2YXIgZG9tID0gc3RhcnRJbmRleCA/IHBhcmVudC5jaGlsZE5vZGVzW3N0YXJ0SW5kZXhdIDogcGFyZW50LmZpcnN0Q2hpbGQsXG4gICAgICAgICAgIGVuZCA9IGVuZEluZGV4ID09IG51bGwgPyBudWxsIDogcGFyZW50LmNoaWxkTm9kZXNbZW5kSW5kZXhdO1xuICAgICAgIGRvbSAhPSBlbmQ7IGRvbSA9IGRvbS5uZXh0U2libGluZywgKytpbmRleCkge1xuICAgIHRoaXMkMS5maW5kQXRQb2ludChwYXJlbnQsIGluZGV4KTtcbiAgICB0aGlzJDEuYWRkRE9NKGRvbSk7XG4gICAgaWYgKHN5bmMgJiYgYmxvY2tUYWdzLmhhc093blByb3BlcnR5KGRvbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKSlcbiAgICAgIHsgdGhpcyQxLnN5bmMoc3luYyk7IH1cbiAgfVxuICB0aGlzLmZpbmRBdFBvaW50KHBhcmVudCwgaW5kZXgpO1xufTtcblxuLy8gVHJ5IHRvIGZpbmQgYSB3YXkgdG8gZml0IHRoZSBnaXZlbiBub2RlIHR5cGUgaW50byB0aGUgY3VycmVudFxuLy8gY29udGV4dC4gTWF5IGFkZCBpbnRlcm1lZGlhdGUgd3JhcHBlcnMgYW5kL29yIGxlYXZlIG5vbi1zb2xpZFxuLy8gbm9kZXMgdGhhdCB3ZSdyZSBpbi5cblBhcnNlQ29udGV4dC5wcm90b3R5cGUuZmluZFBsYWNlID0gZnVuY3Rpb24gZmluZFBsYWNlIChub2RlKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgdmFyIHJvdXRlLCBzeW5jO1xuICBmb3IgKHZhciBkZXB0aCA9IHRoaXMub3BlbjsgZGVwdGggPj0gMDsgZGVwdGgtLSkge1xuICAgIHZhciBjeCA9IHRoaXMkMS5ub2Rlc1tkZXB0aF07XG4gICAgdmFyIGZvdW5kID0gY3guZmluZFdyYXBwaW5nKG5vZGUpO1xuICAgIGlmIChmb3VuZCAmJiAoIXJvdXRlIHx8IHJvdXRlLmxlbmd0aCA+IGZvdW5kLmxlbmd0aCkpIHtcbiAgICAgIHJvdXRlID0gZm91bmQ7XG4gICAgICBzeW5jID0gY3g7XG4gICAgICBpZiAoIWZvdW5kLmxlbmd0aCkgeyBicmVhayB9XG4gICAgfVxuICAgIGlmIChjeC5zb2xpZCkgeyBicmVhayB9XG4gIH1cbiAgaWYgKCFyb3V0ZSkgeyByZXR1cm4gZmFsc2UgfVxuICB0aGlzLnN5bmMoc3luYyk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcm91dGUubGVuZ3RoOyBpKyspXG4gICAgeyB0aGlzJDEuZW50ZXJJbm5lcihyb3V0ZVtpXSwgbnVsbCwgZmFsc2UpOyB9XG4gIHJldHVybiB0cnVlXG59O1xuXG4vLyA6IChOb2RlKSDihpIgP05vZGVcbi8vIFRyeSB0byBpbnNlcnQgdGhlIGdpdmVuIG5vZGUsIGFkanVzdGluZyB0aGUgY29udGV4dCB3aGVuIG5lZWRlZC5cblBhcnNlQ29udGV4dC5wcm90b3R5cGUuaW5zZXJ0Tm9kZSA9IGZ1bmN0aW9uIGluc2VydE5vZGUgKG5vZGUpIHtcbiAgaWYgKG5vZGUuaXNJbmxpbmUgJiYgdGhpcy5uZWVkc0Jsb2NrICYmICF0aGlzLnRvcC50eXBlKSB7XG4gICAgdmFyIGJsb2NrID0gdGhpcy50ZXh0YmxvY2tGcm9tQ29udGV4dCgpO1xuICAgIGlmIChibG9jaykgeyB0aGlzLmVudGVyKGJsb2NrKTsgfVxuICB9XG4gIGlmICh0aGlzLmZpbmRQbGFjZShub2RlKSkge1xuICAgIHRoaXMuY2xvc2VFeHRyYSgpO1xuICAgIHZhciB0b3AgPSB0aGlzLnRvcDtcbiAgICB0aGlzLmFwcGx5UGVuZGluZ01hcmtzKHRvcCk7XG4gICAgaWYgKHRvcC5tYXRjaCkgeyB0b3AubWF0Y2ggPSB0b3AubWF0Y2gubWF0Y2hUeXBlKG5vZGUudHlwZSk7IH1cbiAgICB2YXIgbWFya3MgPSB0b3AuYWN0aXZlTWFya3M7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlLm1hcmtzLmxlbmd0aDsgaSsrKVxuICAgICAgeyBpZiAoIXRvcC50eXBlIHx8IHRvcC50eXBlLmFsbG93c01hcmtUeXBlKG5vZGUubWFya3NbaV0udHlwZSkpXG4gICAgICAgIHsgbWFya3MgPSBub2RlLm1hcmtzW2ldLmFkZFRvU2V0KG1hcmtzKTsgfSB9XG4gICAgdG9wLmNvbnRlbnQucHVzaChub2RlLm1hcmsobWFya3MpKTtcbiAgfVxufTtcblxuUGFyc2VDb250ZXh0LnByb3RvdHlwZS5hcHBseVBlbmRpbmdNYXJrcyA9IGZ1bmN0aW9uIGFwcGx5UGVuZGluZ01hcmtzICh0b3ApIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucGVuZGluZ01hcmtzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIG1hcmsgPSB0aGlzJDEucGVuZGluZ01hcmtzW2ldO1xuICAgIGlmICgoIXRvcC50eXBlIHx8IHRvcC50eXBlLmFsbG93c01hcmtUeXBlKG1hcmsudHlwZSkpICYmICFtYXJrLnR5cGUuaXNJblNldCh0b3AuYWN0aXZlTWFya3MpKSB7XG4gICAgICB0b3AuYWN0aXZlTWFya3MgPSBtYXJrLmFkZFRvU2V0KHRvcC5hY3RpdmVNYXJrcyk7XG4gICAgICB0aGlzJDEucGVuZGluZ01hcmtzLnNwbGljZShpLS0sIDEpO1xuICAgIH1cbiAgfVxufTtcblxuLy8gOiAoTm9kZVR5cGUsID9PYmplY3QpIOKGkiBib29sXG4vLyBUcnkgdG8gc3RhcnQgYSBub2RlIG9mIHRoZSBnaXZlbiB0eXBlLCBhZGp1c3RpbmcgdGhlIGNvbnRleHQgd2hlblxuLy8gbmVjZXNzYXJ5LlxuUGFyc2VDb250ZXh0LnByb3RvdHlwZS5lbnRlciA9IGZ1bmN0aW9uIGVudGVyICh0eXBlLCBhdHRycywgcHJlc2VydmVXUykge1xuICB2YXIgb2sgPSB0aGlzLmZpbmRQbGFjZSh0eXBlLmNyZWF0ZShhdHRycykpO1xuICBpZiAob2spIHtcbiAgICB0aGlzLmFwcGx5UGVuZGluZ01hcmtzKHRoaXMudG9wKTtcbiAgICB0aGlzLmVudGVySW5uZXIodHlwZSwgYXR0cnMsIHRydWUsIHByZXNlcnZlV1MpO1xuICB9XG4gIHJldHVybiBva1xufTtcblxuLy8gT3BlbiBhIG5vZGUgb2YgdGhlIGdpdmVuIHR5cGVcblBhcnNlQ29udGV4dC5wcm90b3R5cGUuZW50ZXJJbm5lciA9IGZ1bmN0aW9uIGVudGVySW5uZXIgKHR5cGUsIGF0dHJzLCBzb2xpZCwgcHJlc2VydmVXUykge1xuICB0aGlzLmNsb3NlRXh0cmEoKTtcbiAgdmFyIHRvcCA9IHRoaXMudG9wO1xuICB0b3AubWF0Y2ggPSB0b3AubWF0Y2ggJiYgdG9wLm1hdGNoLm1hdGNoVHlwZSh0eXBlLCBhdHRycyk7XG4gIHZhciBvcHRpb25zID0gcHJlc2VydmVXUyA9PSBudWxsID8gdG9wLm9wdGlvbnMgJiB+T1BUX09QRU5fTEVGVCA6IHdzT3B0aW9uc0ZvcihwcmVzZXJ2ZVdTKTtcbiAgaWYgKCh0b3Aub3B0aW9ucyAmIE9QVF9PUEVOX0xFRlQpICYmIHRvcC5jb250ZW50Lmxlbmd0aCA9PSAwKSB7IG9wdGlvbnMgfD0gT1BUX09QRU5fTEVGVDsgfVxuICB0aGlzLm5vZGVzLnB1c2gobmV3IE5vZGVDb250ZXh0KHR5cGUsIGF0dHJzLCB0b3AuYWN0aXZlTWFya3MsIHNvbGlkLCBudWxsLCBvcHRpb25zKSk7XG4gIHRoaXMub3BlbisrO1xufTtcblxuLy8gTWFrZSBzdXJlIGFsbCBub2RlcyBhYm92ZSB0aGlzLm9wZW4gYXJlIGZpbmlzaGVkIGFuZCBhZGRlZCB0b1xuLy8gdGhlaXIgcGFyZW50c1xuUGFyc2VDb250ZXh0LnByb3RvdHlwZS5jbG9zZUV4dHJhID0gZnVuY3Rpb24gY2xvc2VFeHRyYSAob3BlbkVuZCkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gIHZhciBpID0gdGhpcy5ub2Rlcy5sZW5ndGggLSAxO1xuICBpZiAoaSA+IHRoaXMub3Blbikge1xuICAgIGZvciAoOyBpID4gdGhpcy5vcGVuOyBpLS0pIHsgdGhpcyQxLm5vZGVzW2kgLSAxXS5jb250ZW50LnB1c2godGhpcyQxLm5vZGVzW2ldLmZpbmlzaChvcGVuRW5kKSk7IH1cbiAgICB0aGlzLm5vZGVzLmxlbmd0aCA9IHRoaXMub3BlbiArIDE7XG4gIH1cbn07XG5cblBhcnNlQ29udGV4dC5wcm90b3R5cGUuZmluaXNoID0gZnVuY3Rpb24gZmluaXNoICgpIHtcbiAgdGhpcy5vcGVuID0gMDtcbiAgdGhpcy5jbG9zZUV4dHJhKHRoaXMuaXNPcGVuKTtcbiAgcmV0dXJuIHRoaXMubm9kZXNbMF0uZmluaXNoKHRoaXMuaXNPcGVuIHx8IHRoaXMub3B0aW9ucy50b3BPcGVuKVxufTtcblxuUGFyc2VDb250ZXh0LnByb3RvdHlwZS5zeW5jID0gZnVuY3Rpb24gc3luYyAodG8pIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICBmb3IgKHZhciBpID0gdGhpcy5vcGVuOyBpID49IDA7IGktLSkgeyBpZiAodGhpcyQxLm5vZGVzW2ldID09IHRvKSB7XG4gICAgdGhpcyQxLm9wZW4gPSBpO1xuICAgIHJldHVyblxuICB9IH1cbn07XG5cblBhcnNlQ29udGV4dC5wcm90b3R5cGUuYWRkUGVuZGluZ01hcmsgPSBmdW5jdGlvbiBhZGRQZW5kaW5nTWFyayAobWFyaykge1xuICB0aGlzLnBlbmRpbmdNYXJrcy5wdXNoKG1hcmspO1xufTtcblxuUGFyc2VDb250ZXh0LnByb3RvdHlwZS5yZW1vdmVQZW5kaW5nTWFyayA9IGZ1bmN0aW9uIHJlbW92ZVBlbmRpbmdNYXJrIChtYXJrKSB7XG4gIHZhciBmb3VuZCA9IHRoaXMucGVuZGluZ01hcmtzLmxhc3RJbmRleE9mKG1hcmspO1xuICBpZiAoZm91bmQgPiAtMSkge1xuICAgIHRoaXMucGVuZGluZ01hcmtzLnNwbGljZShtYXJrLCAxKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgdG9wID0gdGhpcy50b3A7XG4gICAgdG9wLmFjdGl2ZU1hcmtzID0gbWFyay5yZW1vdmVGcm9tU2V0KHRvcC5hY3RpdmVNYXJrcyk7XG4gIH1cbn07XG5cbnByb3RvdHlwZUFjY2Vzc29ycyQ2LmN1cnJlbnRQb3MuZ2V0ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gIHRoaXMuY2xvc2VFeHRyYSgpO1xuICB2YXIgcG9zID0gMDtcbiAgZm9yICh2YXIgaSA9IHRoaXMub3BlbjsgaSA+PSAwOyBpLS0pIHtcbiAgICB2YXIgY29udGVudCA9IHRoaXMkMS5ub2Rlc1tpXS5jb250ZW50O1xuICAgIGZvciAodmFyIGogPSBjb250ZW50Lmxlbmd0aCAtIDE7IGogPj0gMDsgai0tKVxuICAgICAgeyBwb3MgKz0gY29udGVudFtqXS5ub2RlU2l6ZTsgfVxuICAgIGlmIChpKSB7IHBvcysrOyB9XG4gIH1cbiAgcmV0dXJuIHBvc1xufTtcblxuUGFyc2VDb250ZXh0LnByb3RvdHlwZS5maW5kQXRQb2ludCA9IGZ1bmN0aW9uIGZpbmRBdFBvaW50IChwYXJlbnQsIG9mZnNldCkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gIGlmICh0aGlzLmZpbmQpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmZpbmQubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAodGhpcyQxLmZpbmRbaV0ubm9kZSA9PSBwYXJlbnQgJiYgdGhpcyQxLmZpbmRbaV0ub2Zmc2V0ID09IG9mZnNldClcbiAgICAgIHsgdGhpcyQxLmZpbmRbaV0ucG9zID0gdGhpcyQxLmN1cnJlbnRQb3M7IH1cbiAgfSB9XG59O1xuXG5QYXJzZUNvbnRleHQucHJvdG90eXBlLmZpbmRJbnNpZGUgPSBmdW5jdGlvbiBmaW5kSW5zaWRlIChwYXJlbnQpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICBpZiAodGhpcy5maW5kKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5maW5kLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHRoaXMkMS5maW5kW2ldLnBvcyA9PSBudWxsICYmIHBhcmVudC5ub2RlVHlwZSA9PSAxICYmIHBhcmVudC5jb250YWlucyh0aGlzJDEuZmluZFtpXS5ub2RlKSlcbiAgICAgIHsgdGhpcyQxLmZpbmRbaV0ucG9zID0gdGhpcyQxLmN1cnJlbnRQb3M7IH1cbiAgfSB9XG59O1xuXG5QYXJzZUNvbnRleHQucHJvdG90eXBlLmZpbmRBcm91bmQgPSBmdW5jdGlvbiBmaW5kQXJvdW5kIChwYXJlbnQsIGNvbnRlbnQsIGJlZm9yZSkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gIGlmIChwYXJlbnQgIT0gY29udGVudCAmJiB0aGlzLmZpbmQpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmZpbmQubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAodGhpcyQxLmZpbmRbaV0ucG9zID09IG51bGwgJiYgcGFyZW50Lm5vZGVUeXBlID09IDEgJiYgcGFyZW50LmNvbnRhaW5zKHRoaXMkMS5maW5kW2ldLm5vZGUpKSB7XG4gICAgICB2YXIgcG9zID0gY29udGVudC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbih0aGlzJDEuZmluZFtpXS5ub2RlKTtcbiAgICAgIGlmIChwb3MgJiAoYmVmb3JlID8gMiA6IDQpKVxuICAgICAgICB7IHRoaXMkMS5maW5kW2ldLnBvcyA9IHRoaXMkMS5jdXJyZW50UG9zOyB9XG4gICAgfVxuICB9IH1cbn07XG5cblBhcnNlQ29udGV4dC5wcm90b3R5cGUuZmluZEluVGV4dCA9IGZ1bmN0aW9uIGZpbmRJblRleHQgKHRleHROb2RlKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgaWYgKHRoaXMuZmluZCkgeyBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZmluZC5sZW5ndGg7IGkrKykge1xuICAgIGlmICh0aGlzJDEuZmluZFtpXS5ub2RlID09IHRleHROb2RlKVxuICAgICAgeyB0aGlzJDEuZmluZFtpXS5wb3MgPSB0aGlzJDEuY3VycmVudFBvcyAtICh0ZXh0Tm9kZS5ub2RlVmFsdWUubGVuZ3RoIC0gdGhpcyQxLmZpbmRbaV0ub2Zmc2V0KTsgfVxuICB9IH1cbn07XG5cbi8vIDogKHN0cmluZykg4oaSIGJvb2xcbi8vIERldGVybWluZXMgd2hldGhlciB0aGUgZ2l2ZW4gW2NvbnRleHRcbi8vIHN0cmluZ10oI1BhcnNlUnVsZS5jb250ZXh0KSBtYXRjaGVzIHRoaXMgY29udGV4dC5cblBhcnNlQ29udGV4dC5wcm90b3R5cGUubWF0Y2hlc0NvbnRleHQgPSBmdW5jdGlvbiBtYXRjaGVzQ29udGV4dCAoY29udGV4dCkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gIGlmIChjb250ZXh0LmluZGV4T2YoXCJ8XCIpID4gLTEpXG4gICAgeyByZXR1cm4gY29udGV4dC5zcGxpdCgvXFxzKlxcfFxccyovKS5zb21lKHRoaXMubWF0Y2hlc0NvbnRleHQsIHRoaXMpIH1cblxuICB2YXIgcGFydHMgPSBjb250ZXh0LnNwbGl0KFwiL1wiKTtcbiAgdmFyIG9wdGlvbiA9IHRoaXMub3B0aW9ucy5jb250ZXh0O1xuICB2YXIgdXNlUm9vdCA9ICF0aGlzLmlzT3BlbiAmJiAoIW9wdGlvbiB8fCBvcHRpb24ucGFyZW50LnR5cGUgPT0gdGhpcy5ub2Rlc1swXS50eXBlKTtcbiAgdmFyIG1pbkRlcHRoID0gLShvcHRpb24gPyBvcHRpb24uZGVwdGggKyAxIDogMCkgKyAodXNlUm9vdCA/IDAgOiAxKTtcbiAgdmFyIG1hdGNoID0gZnVuY3Rpb24gKGksIGRlcHRoKSB7XG4gICAgZm9yICg7IGkgPj0gMDsgaS0tKSB7XG4gICAgICB2YXIgcGFydCA9IHBhcnRzW2ldO1xuICAgICAgaWYgKHBhcnQgPT0gXCJcIikge1xuICAgICAgICBpZiAoaSA9PSBwYXJ0cy5sZW5ndGggLSAxIHx8IGkgPT0gMCkgeyBjb250aW51ZSB9XG4gICAgICAgIGZvciAoOyBkZXB0aCA+PSBtaW5EZXB0aDsgZGVwdGgtLSlcbiAgICAgICAgICB7IGlmIChtYXRjaChpIC0gMSwgZGVwdGgpKSB7IHJldHVybiB0cnVlIH0gfVxuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBuZXh0ID0gZGVwdGggPiAwIHx8IChkZXB0aCA9PSAwICYmIHVzZVJvb3QpID8gdGhpcyQxLm5vZGVzW2RlcHRoXS50eXBlXG4gICAgICAgICAgICA6IG9wdGlvbiAmJiBkZXB0aCA+PSBtaW5EZXB0aCA/IG9wdGlvbi5ub2RlKGRlcHRoIC0gbWluRGVwdGgpLnR5cGVcbiAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgaWYgKCFuZXh0IHx8IChuZXh0Lm5hbWUgIT0gcGFydCAmJiBuZXh0Lmdyb3Vwcy5pbmRleE9mKHBhcnQpID09IC0xKSlcbiAgICAgICAgICB7IHJldHVybiBmYWxzZSB9XG4gICAgICAgIGRlcHRoLS07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlXG4gIH07XG4gIHJldHVybiBtYXRjaChwYXJ0cy5sZW5ndGggLSAxLCB0aGlzLm9wZW4pXG59O1xuXG5QYXJzZUNvbnRleHQucHJvdG90eXBlLnRleHRibG9ja0Zyb21Db250ZXh0ID0gZnVuY3Rpb24gdGV4dGJsb2NrRnJvbUNvbnRleHQgKCkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gIHZhciAkY29udGV4dCA9IHRoaXMub3B0aW9ucy5jb250ZXh0O1xuICBpZiAoJGNvbnRleHQpIHsgZm9yICh2YXIgZCA9ICRjb250ZXh0LmRlcHRoOyBkID49IDA7IGQtLSkge1xuICAgIHZhciBkZWZsdCA9ICRjb250ZXh0Lm5vZGUoZCkuY29udGVudE1hdGNoQXQoJGNvbnRleHQuaW5kZXhBZnRlcihkKSkuZGVmYXVsdFR5cGU7XG4gICAgaWYgKGRlZmx0ICYmIGRlZmx0LmlzVGV4dGJsb2NrICYmIGRlZmx0LmRlZmF1bHRBdHRycykgeyByZXR1cm4gZGVmbHQgfVxuICB9IH1cbiAgZm9yICh2YXIgbmFtZSBpbiB0aGlzJDEucGFyc2VyLnNjaGVtYS5ub2Rlcykge1xuICAgIHZhciB0eXBlID0gdGhpcyQxLnBhcnNlci5zY2hlbWEubm9kZXNbbmFtZV07XG4gICAgaWYgKHR5cGUuaXNUZXh0YmxvY2sgJiYgdHlwZS5kZWZhdWx0QXR0cnMpIHsgcmV0dXJuIHR5cGUgfVxuICB9XG59O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyggUGFyc2VDb250ZXh0LnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzJDYgKTtcblxuLy8gS2x1ZGdlIHRvIHdvcmsgYXJvdW5kIGRpcmVjdGx5IG5lc3RlZCBsaXN0IG5vZGVzIHByb2R1Y2VkIGJ5IHNvbWVcbi8vIHRvb2xzIGFuZCBhbGxvd2VkIGJ5IGJyb3dzZXJzIHRvIG1lYW4gdGhhdCB0aGUgbmVzdGVkIGxpc3QgaXNcbi8vIGFjdHVhbGx5IHBhcnQgb2YgdGhlIGxpc3QgaXRlbSBhYm92ZSBpdC5cbmZ1bmN0aW9uIG5vcm1hbGl6ZUxpc3QoZG9tKSB7XG4gIGZvciAodmFyIGNoaWxkID0gZG9tLmZpcnN0Q2hpbGQsIHByZXZJdGVtID0gbnVsbDsgY2hpbGQ7IGNoaWxkID0gY2hpbGQubmV4dFNpYmxpbmcpIHtcbiAgICB2YXIgbmFtZSA9IGNoaWxkLm5vZGVUeXBlID09IDEgPyBjaGlsZC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIDogbnVsbDtcbiAgICBpZiAobmFtZSAmJiBsaXN0VGFncy5oYXNPd25Qcm9wZXJ0eShuYW1lKSAmJiBwcmV2SXRlbSkge1xuICAgICAgcHJldkl0ZW0uYXBwZW5kQ2hpbGQoY2hpbGQpO1xuICAgICAgY2hpbGQgPSBwcmV2SXRlbTtcbiAgICB9IGVsc2UgaWYgKG5hbWUgPT0gXCJsaVwiKSB7XG4gICAgICBwcmV2SXRlbSA9IGNoaWxkO1xuICAgIH0gZWxzZSBpZiAobmFtZSkge1xuICAgICAgcHJldkl0ZW0gPSBudWxsO1xuICAgIH1cbiAgfVxufVxuXG4vLyBBcHBseSBhIENTUyBzZWxlY3Rvci5cbmZ1bmN0aW9uIG1hdGNoZXMoZG9tLCBzZWxlY3Rvcikge1xuICByZXR1cm4gKGRvbS5tYXRjaGVzIHx8IGRvbS5tc01hdGNoZXNTZWxlY3RvciB8fCBkb20ud2Via2l0TWF0Y2hlc1NlbGVjdG9yIHx8IGRvbS5tb3pNYXRjaGVzU2VsZWN0b3IpLmNhbGwoZG9tLCBzZWxlY3Rvcilcbn1cblxuLy8gOiAoc3RyaW5nKSDihpIgW3N0cmluZ11cbi8vIFRva2VuaXplIGEgc3R5bGUgYXR0cmlidXRlIGludG8gcHJvcGVydHkvdmFsdWUgcGFpcnMuXG5mdW5jdGlvbiBwYXJzZVN0eWxlcyhzdHlsZSkge1xuICB2YXIgcmUgPSAvXFxzKihbXFx3LV0rKVxccyo6XFxzKihbXjtdKykvZywgbSwgcmVzdWx0ID0gW107XG4gIHdoaWxlIChtID0gcmUuZXhlYyhzdHlsZSkpIHsgcmVzdWx0LnB1c2gobVsxXSwgbVsyXS50cmltKCkpOyB9XG4gIHJldHVybiByZXN1bHRcbn1cblxuZnVuY3Rpb24gY29weShvYmopIHtcbiAgdmFyIGNvcHkgPSB7fTtcbiAgZm9yICh2YXIgcHJvcCBpbiBvYmopIHsgY29weVtwcm9wXSA9IG9ialtwcm9wXTsgfVxuICByZXR1cm4gY29weVxufVxuXG4vLyBET01PdXRwdXRTcGVjOjogaW50ZXJmYWNlXG4vLyBBIGRlc2NyaXB0aW9uIG9mIGEgRE9NIHN0cnVjdHVyZS4gQ2FuIGJlIGVpdGhlciBhIHN0cmluZywgd2hpY2ggaXNcbi8vIGludGVycHJldGVkIGFzIGEgdGV4dCBub2RlLCBhIERPTSBub2RlLCB3aGljaCBpcyBpbnRlcnByZXRlZCBhc1xuLy8gaXRzZWxmLCBvciBhbiBhcnJheS5cbi8vXG4vLyBBbiBhcnJheSBkZXNjcmliZXMgYSBET00gZWxlbWVudC4gVGhlIGZpcnN0IHZhbHVlIGluIHRoZSBhcnJheVxuLy8gc2hvdWxkIGJlIGEgc3RyaW5n4oCUdGhlIG5hbWUgb2YgdGhlIERPTSBlbGVtZW50LiBJZiB0aGUgc2Vjb25kXG4vLyBlbGVtZW50IGlzIHBsYWluIG9iamVjdCwgaXQgaXMgaW50ZXJwcmV0ZWQgYXMgYSBzZXQgb2YgYXR0cmlidXRlc1xuLy8gZm9yIHRoZSBlbGVtZW50LiBBbnkgZWxlbWVudHMgYWZ0ZXIgdGhhdCAoaW5jbHVkaW5nIHRoZSAybmQgaWYgaXQnc1xuLy8gbm90IGFuIGF0dHJpYnV0ZSBvYmplY3QpIGFyZSBpbnRlcnByZXRlZCBhcyBjaGlsZHJlbiBvZiB0aGUgRE9NXG4vLyBlbGVtZW50cywgYW5kIG11c3QgZWl0aGVyIGJlIHZhbGlkIGBET01PdXRwdXRTcGVjYCB2YWx1ZXMsIG9yIHRoZVxuLy8gbnVtYmVyIHplcm8uXG4vL1xuLy8gVGhlIG51bWJlciB6ZXJvIChwcm9ub3VuY2VkIOKAnGhvbGXigJ0pIGlzIHVzZWQgdG8gaW5kaWNhdGUgdGhlIHBsYWNlXG4vLyB3aGVyZSBhIG5vZGUncyBjaGlsZCBub2RlcyBzaG91bGQgYmUgaW5zZXJ0ZWQuIEl0IGl0IG9jY3VycyBpbiBhblxuLy8gb3V0cHV0IHNwZWMsIGl0IHNob3VsZCBiZSB0aGUgb25seSBjaGlsZCBlbGVtZW50IGluIGl0cyBwYXJlbnRcbi8vIG5vZGUuXG5cbi8vIDo6LSBBIERPTSBzZXJpYWxpemVyIGtub3dzIGhvdyB0byBjb252ZXJ0IFByb3NlTWlycm9yIG5vZGVzIGFuZFxuLy8gbWFya3Mgb2YgdmFyaW91cyB0eXBlcyB0byBET00gbm9kZXMuXG52YXIgRE9NU2VyaWFsaXplciA9IGZ1bmN0aW9uIERPTVNlcmlhbGl6ZXIobm9kZXMsIG1hcmtzKSB7XG4gIC8vIDo6IE9iamVjdDwobm9kZTogTm9kZSkg4oaSIERPTU91dHB1dFNwZWM+XG4gIC8vIFRoZSBub2RlIHNlcmlhbGl6YXRpb24gZnVuY3Rpb25zLlxuICB0aGlzLm5vZGVzID0gbm9kZXMgfHwge307XG4gIC8vIDo6IE9iamVjdDw/KG1hcms6IE1hcmssIGlubGluZTogYm9vbCkg4oaSIERPTU91dHB1dFNwZWM+XG4gIC8vIFRoZSBtYXJrIHNlcmlhbGl6YXRpb24gZnVuY3Rpb25zLlxuICB0aGlzLm1hcmtzID0gbWFya3MgfHwge307XG59O1xuXG4vLyA6OiAoRnJhZ21lbnQsID9PYmplY3QpIOKGkiBkb20uRG9jdW1lbnRGcmFnbWVudFxuLy8gU2VyaWFsaXplIHRoZSBjb250ZW50IG9mIHRoaXMgZnJhZ21lbnQgdG8gYSBET00gZnJhZ21lbnQuIFdoZW5cbi8vIG5vdCBpbiB0aGUgYnJvd3NlciwgdGhlIGBkb2N1bWVudGAgb3B0aW9uLCBjb250YWluaW5nIGEgRE9NXG4vLyBkb2N1bWVudCwgc2hvdWxkIGJlIHBhc3NlZCBzbyB0aGF0IHRoZSBzZXJpYWxpemVyIGNhbiBjcmVhdGVcbi8vIG5vZGVzLlxuRE9NU2VyaWFsaXplci5wcm90b3R5cGUuc2VyaWFsaXplRnJhZ21lbnQgPSBmdW5jdGlvbiBzZXJpYWxpemVGcmFnbWVudCAoZnJhZ21lbnQsIG9wdGlvbnMsIHRhcmdldCkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuICAgIGlmICggb3B0aW9ucyA9PT0gdm9pZCAwICkgb3B0aW9ucyA9IHt9O1xuXG4gIGlmICghdGFyZ2V0KSB7IHRhcmdldCA9IGRvYyhvcHRpb25zKS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7IH1cblxuICB2YXIgdG9wID0gdGFyZ2V0LCBhY3RpdmUgPSBudWxsO1xuICBmcmFnbWVudC5mb3JFYWNoKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgaWYgKGFjdGl2ZSB8fCBub2RlLm1hcmtzLmxlbmd0aCkge1xuICAgICAgaWYgKCFhY3RpdmUpIHsgYWN0aXZlID0gW107IH1cbiAgICAgIHZhciBrZWVwID0gMCwgcmVuZGVyZWQgPSAwO1xuICAgICAgd2hpbGUgKGtlZXAgPCBhY3RpdmUubGVuZ3RoICYmIHJlbmRlcmVkIDwgbm9kZS5tYXJrcy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIG5leHQgPSBub2RlLm1hcmtzW3JlbmRlcmVkXTtcbiAgICAgICAgaWYgKCF0aGlzJDEubWFya3NbbmV4dC50eXBlLm5hbWVdKSB7IHJlbmRlcmVkKys7IGNvbnRpbnVlIH1cbiAgICAgICAgaWYgKCFuZXh0LmVxKGFjdGl2ZVtrZWVwXSkpIHsgYnJlYWsgfVxuICAgICAgICBrZWVwICs9IDI7IHJlbmRlcmVkKys7XG4gICAgICB9XG4gICAgICB3aGlsZSAoa2VlcCA8IGFjdGl2ZS5sZW5ndGgpIHtcbiAgICAgICAgdG9wID0gYWN0aXZlLnBvcCgpO1xuICAgICAgICBhY3RpdmUucG9wKCk7XG4gICAgICB9XG4gICAgICB3aGlsZSAocmVuZGVyZWQgPCBub2RlLm1hcmtzLmxlbmd0aCkge1xuICAgICAgICB2YXIgYWRkID0gbm9kZS5tYXJrc1tyZW5kZXJlZCsrXTtcbiAgICAgICAgdmFyIG1hcmtET00gPSB0aGlzJDEuc2VyaWFsaXplTWFyayhhZGQsIG5vZGUuaXNJbmxpbmUsIG9wdGlvbnMpO1xuICAgICAgICBpZiAobWFya0RPTSkge1xuICAgICAgICAgIGFjdGl2ZS5wdXNoKGFkZCwgdG9wKTtcbiAgICAgICAgICB0b3AuYXBwZW5kQ2hpbGQobWFya0RPTS5kb20pO1xuICAgICAgICAgIHRvcCA9IG1hcmtET00uY29udGVudERPTSB8fCBtYXJrRE9NLmRvbTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB0b3AuYXBwZW5kQ2hpbGQodGhpcyQxLnNlcmlhbGl6ZU5vZGUobm9kZSwgb3B0aW9ucykpO1xuICB9KTtcblxuICByZXR1cm4gdGFyZ2V0XG59O1xuXG4vLyA6OiAoTm9kZSwgP09iamVjdCkg4oaSIGRvbS5Ob2RlXG4vLyBTZXJpYWxpemUgdGhpcyBub2RlIHRvIGEgRE9NIG5vZGUuIFRoaXMgY2FuIGJlIHVzZWZ1bCB3aGVuIHlvdVxuLy8gbmVlZCB0byBzZXJpYWxpemUgYSBwYXJ0IG9mIGEgZG9jdW1lbnQsIGFzIG9wcG9zZWQgdG8gdGhlIHdob2xlXG4vLyBkb2N1bWVudC4gVG8gc2VyaWFsaXplIGEgd2hvbGUgZG9jdW1lbnQsIHVzZVxuLy8gW2BzZXJpYWxpemVGcmFnbWVudGBdKCNtb2RlbC5ET01TZXJpYWxpemVyLnNlcmlhbGl6ZUZyYWdtZW50KSBvblxuLy8gaXRzIFtjb250ZW50XSgjbW9kZWwuTm9kZS5jb250ZW50KS5cbkRPTVNlcmlhbGl6ZXIucHJvdG90eXBlLnNlcmlhbGl6ZU5vZGUgPSBmdW5jdGlvbiBzZXJpYWxpemVOb2RlIChub2RlLCBvcHRpb25zKSB7XG4gICAgaWYgKCBvcHRpb25zID09PSB2b2lkIDAgKSBvcHRpb25zID0ge307XG5cbiAgdmFyIHJlZiA9XG4gICAgICBET01TZXJpYWxpemVyLnJlbmRlclNwZWMoZG9jKG9wdGlvbnMpLCB0aGlzLm5vZGVzW25vZGUudHlwZS5uYW1lXShub2RlKSk7XG4gICAgdmFyIGRvbSA9IHJlZi5kb207XG4gICAgdmFyIGNvbnRlbnRET00gPSByZWYuY29udGVudERPTTtcbiAgaWYgKGNvbnRlbnRET00pIHtcbiAgICBpZiAobm9kZS5pc0xlYWYpXG4gICAgICB7IHRocm93IG5ldyBSYW5nZUVycm9yKFwiQ29udGVudCBob2xlIG5vdCBhbGxvd2VkIGluIGEgbGVhZiBub2RlIHNwZWNcIikgfVxuICAgIGlmIChvcHRpb25zLm9uQ29udGVudClcbiAgICAgIHsgb3B0aW9ucy5vbkNvbnRlbnQobm9kZSwgY29udGVudERPTSwgb3B0aW9ucyk7IH1cbiAgICBlbHNlXG4gICAgICB7IHRoaXMuc2VyaWFsaXplRnJhZ21lbnQobm9kZS5jb250ZW50LCBvcHRpb25zLCBjb250ZW50RE9NKTsgfVxuICB9XG4gIHJldHVybiBkb21cbn07XG5cbkRPTVNlcmlhbGl6ZXIucHJvdG90eXBlLnNlcmlhbGl6ZU5vZGVBbmRNYXJrcyA9IGZ1bmN0aW9uIHNlcmlhbGl6ZU5vZGVBbmRNYXJrcyAobm9kZSwgb3B0aW9ucykge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuICAgIGlmICggb3B0aW9ucyA9PT0gdm9pZCAwICkgb3B0aW9ucyA9IHt9O1xuXG4gIHZhciBkb20gPSB0aGlzLnNlcmlhbGl6ZU5vZGUobm9kZSwgb3B0aW9ucyk7XG4gIGZvciAodmFyIGkgPSBub2RlLm1hcmtzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgdmFyIHdyYXAgPSB0aGlzJDEuc2VyaWFsaXplTWFyayhub2RlLm1hcmtzW2ldLCBub2RlLmlzSW5saW5lLCBvcHRpb25zKTtcbiAgICBpZiAod3JhcCkge1xuICAgICAgKHdyYXAuY29udGVudERPTSB8fCB3cmFwLmRvbSkuYXBwZW5kQ2hpbGQoZG9tKTtcbiAgICAgIGRvbSA9IHdyYXAuZG9tO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZG9tXG59O1xuXG5ET01TZXJpYWxpemVyLnByb3RvdHlwZS5zZXJpYWxpemVNYXJrID0gZnVuY3Rpb24gc2VyaWFsaXplTWFyayAobWFyaywgaW5saW5lLCBvcHRpb25zKSB7XG4gICAgaWYgKCBvcHRpb25zID09PSB2b2lkIDAgKSBvcHRpb25zID0ge307XG5cbiAgdmFyIHRvRE9NID0gdGhpcy5tYXJrc1ttYXJrLnR5cGUubmFtZV07XG4gIHJldHVybiB0b0RPTSAmJiBET01TZXJpYWxpemVyLnJlbmRlclNwZWMoZG9jKG9wdGlvbnMpLCB0b0RPTShtYXJrLCBpbmxpbmUpKVxufTtcblxuLy8gOjogKGRvbS5Eb2N1bWVudCwgRE9NT3V0cHV0U3BlYykg4oaSIHtkb206IGRvbS5Ob2RlLCBjb250ZW50RE9NOiA/ZG9tLk5vZGV9XG4vLyBSZW5kZXIgYW4gW291dHB1dCBzcGVjXSgjbW9kZWwuRE9NT3V0cHV0U3BlYykgdG8gYSBET00gbm9kZS4gSWZcbi8vIHRoZSBzcGVjIGhhcyBhIGhvbGUgKHplcm8pIGluIGl0LCBgY29udGVudERPTWAgd2lsbCBwb2ludCBhdCB0aGVcbi8vIG5vZGUgd2l0aCB0aGUgaG9sZS5cbkRPTVNlcmlhbGl6ZXIucmVuZGVyU3BlYyA9IGZ1bmN0aW9uIHJlbmRlclNwZWMgKGRvYywgc3RydWN0dXJlKSB7XG4gIGlmICh0eXBlb2Ygc3RydWN0dXJlID09IFwic3RyaW5nXCIpXG4gICAgeyByZXR1cm4ge2RvbTogZG9jLmNyZWF0ZVRleHROb2RlKHN0cnVjdHVyZSl9IH1cbiAgaWYgKHN0cnVjdHVyZS5ub2RlVHlwZSAhPSBudWxsKVxuICAgIHsgcmV0dXJuIHtkb206IHN0cnVjdHVyZX0gfVxuICB2YXIgZG9tID0gZG9jLmNyZWF0ZUVsZW1lbnQoc3RydWN0dXJlWzBdKSwgY29udGVudERPTSA9IG51bGw7XG4gIHZhciBhdHRycyA9IHN0cnVjdHVyZVsxXSwgc3RhcnQgPSAxO1xuICBpZiAoYXR0cnMgJiYgdHlwZW9mIGF0dHJzID09IFwib2JqZWN0XCIgJiYgYXR0cnMubm9kZVR5cGUgPT0gbnVsbCAmJiAhQXJyYXkuaXNBcnJheShhdHRycykpIHtcbiAgICBzdGFydCA9IDI7XG4gICAgZm9yICh2YXIgbmFtZSBpbiBhdHRycykge1xuICAgICAgaWYgKG5hbWUgPT0gXCJzdHlsZVwiKSB7IGRvbS5zdHlsZS5jc3NUZXh0ID0gYXR0cnNbbmFtZV07IH1cbiAgICAgIGVsc2UgaWYgKGF0dHJzW25hbWVdICE9IG51bGwpIHsgZG9tLnNldEF0dHJpYnV0ZShuYW1lLCBhdHRyc1tuYW1lXSk7IH1cbiAgICB9XG4gIH1cbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgc3RydWN0dXJlLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGNoaWxkID0gc3RydWN0dXJlW2ldO1xuICAgIGlmIChjaGlsZCA9PT0gMCkge1xuICAgICAgaWYgKGkgPCBzdHJ1Y3R1cmUubGVuZ3RoIC0gMSB8fCBpID4gc3RhcnQpXG4gICAgICAgIHsgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJDb250ZW50IGhvbGUgbXVzdCBiZSB0aGUgb25seSBjaGlsZCBvZiBpdHMgcGFyZW50IG5vZGVcIikgfVxuICAgICAgcmV0dXJuIHtkb206IGRvbSwgY29udGVudERPTTogZG9tfVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgcmVmID0gRE9NU2VyaWFsaXplci5yZW5kZXJTcGVjKGRvYywgY2hpbGQpO1xuICAgICAgICB2YXIgaW5uZXIgPSByZWYuZG9tO1xuICAgICAgICB2YXIgaW5uZXJDb250ZW50ID0gcmVmLmNvbnRlbnRET007XG4gICAgICBkb20uYXBwZW5kQ2hpbGQoaW5uZXIpO1xuICAgICAgaWYgKGlubmVyQ29udGVudCkge1xuICAgICAgICBpZiAoY29udGVudERPTSkgeyB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIk11bHRpcGxlIGNvbnRlbnQgaG9sZXNcIikgfVxuICAgICAgICBjb250ZW50RE9NID0gaW5uZXJDb250ZW50O1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4ge2RvbTogZG9tLCBjb250ZW50RE9NOiBjb250ZW50RE9NfVxufTtcblxuLy8gOjogKFNjaGVtYSkg4oaSIERPTVNlcmlhbGl6ZXJcbi8vIEJ1aWxkIGEgc2VyaWFsaXplciB1c2luZyB0aGUgW2B0b0RPTWBdKCNtb2RlbC5Ob2RlU3BlYy50b0RPTSlcbi8vIHByb3BlcnRpZXMgaW4gYSBzY2hlbWEncyBub2RlIGFuZCBtYXJrIHNwZWNzLlxuRE9NU2VyaWFsaXplci5mcm9tU2NoZW1hID0gZnVuY3Rpb24gZnJvbVNjaGVtYSAoc2NoZW1hKSB7XG4gIHJldHVybiBzY2hlbWEuY2FjaGVkLmRvbVNlcmlhbGl6ZXIgfHxcbiAgICAoc2NoZW1hLmNhY2hlZC5kb21TZXJpYWxpemVyID0gbmV3IERPTVNlcmlhbGl6ZXIodGhpcy5ub2Rlc0Zyb21TY2hlbWEoc2NoZW1hKSwgdGhpcy5tYXJrc0Zyb21TY2hlbWEoc2NoZW1hKSkpXG59O1xuXG4vLyA6IChTY2hlbWEpIOKGkiBPYmplY3Q8KG5vZGU6IE5vZGUpIOKGkiBET01PdXRwdXRTcGVjPlxuLy8gR2F0aGVyIHRoZSBzZXJpYWxpemVycyBpbiBhIHNjaGVtYSdzIG5vZGUgc3BlY3MgaW50byBhbiBvYmplY3QuXG4vLyBUaGlzIGNhbiBiZSB1c2VmdWwgYXMgYSBiYXNlIHRvIGJ1aWxkIGEgY3VzdG9tIHNlcmlhbGl6ZXIgZnJvbS5cbkRPTVNlcmlhbGl6ZXIubm9kZXNGcm9tU2NoZW1hID0gZnVuY3Rpb24gbm9kZXNGcm9tU2NoZW1hIChzY2hlbWEpIHtcbiAgdmFyIHJlc3VsdCA9IGdhdGhlclRvRE9NKHNjaGVtYS5ub2Rlcyk7XG4gIGlmICghcmVzdWx0LnRleHQpIHsgcmVzdWx0LnRleHQgPSBmdW5jdGlvbiAobm9kZSkgeyByZXR1cm4gbm9kZS50ZXh0OyB9OyB9XG4gIHJldHVybiByZXN1bHRcbn07XG5cbi8vIDogKFNjaGVtYSkg4oaSIE9iamVjdDwobWFyazogTWFyaykg4oaSIERPTU91dHB1dFNwZWM+XG4vLyBHYXRoZXIgdGhlIHNlcmlhbGl6ZXJzIGluIGEgc2NoZW1hJ3MgbWFyayBzcGVjcyBpbnRvIGFuIG9iamVjdC5cbkRPTVNlcmlhbGl6ZXIubWFya3NGcm9tU2NoZW1hID0gZnVuY3Rpb24gbWFya3NGcm9tU2NoZW1hIChzY2hlbWEpIHtcbiAgcmV0dXJuIGdhdGhlclRvRE9NKHNjaGVtYS5tYXJrcylcbn07XG5cbmZ1bmN0aW9uIGdhdGhlclRvRE9NKG9iaikge1xuICB2YXIgcmVzdWx0ID0ge307XG4gIGZvciAodmFyIG5hbWUgaW4gb2JqKSB7XG4gICAgdmFyIHRvRE9NID0gb2JqW25hbWVdLnNwZWMudG9ET007XG4gICAgaWYgKHRvRE9NKSB7IHJlc3VsdFtuYW1lXSA9IHRvRE9NOyB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdFxufVxuXG5mdW5jdGlvbiBkb2Mob3B0aW9ucykge1xuICAvLyBkZWNsYXJlIGdsb2JhbDogd2luZG93XG4gIHJldHVybiBvcHRpb25zLmRvY3VtZW50IHx8IHdpbmRvdy5kb2N1bWVudFxufVxuXG5leHBvcnRzLk5vZGUgPSBOb2RlO1xuZXhwb3J0cy5SZXNvbHZlZFBvcyA9IFJlc29sdmVkUG9zO1xuZXhwb3J0cy5Ob2RlUmFuZ2UgPSBOb2RlUmFuZ2U7XG5leHBvcnRzLkZyYWdtZW50ID0gRnJhZ21lbnQ7XG5leHBvcnRzLlNsaWNlID0gU2xpY2U7XG5leHBvcnRzLlJlcGxhY2VFcnJvciA9IFJlcGxhY2VFcnJvcjtcbmV4cG9ydHMuTWFyayA9IE1hcms7XG5leHBvcnRzLlNjaGVtYSA9IFNjaGVtYTtcbmV4cG9ydHMuTm9kZVR5cGUgPSBOb2RlVHlwZTtcbmV4cG9ydHMuTWFya1R5cGUgPSBNYXJrVHlwZTtcbmV4cG9ydHMuQ29udGVudE1hdGNoID0gQ29udGVudE1hdGNoO1xuZXhwb3J0cy5ET01QYXJzZXIgPSBET01QYXJzZXI7XG5leHBvcnRzLkRPTVNlcmlhbGl6ZXIgPSBET01TZXJpYWxpemVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG4iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG5cbnZhciBwcm9zZW1pcnJvck1vZGVsID0gcmVxdWlyZSgncHJvc2VtaXJyb3ItbW9kZWwnKTtcblxuLy8gTWFwcGFibGU6OiBpbnRlcmZhY2Vcbi8vIFRoZXJlIGFyZSBzZXZlcmFsIHRoaW5ncyB0aGF0IHBvc2l0aW9ucyBjYW4gYmUgbWFwcGVkIHRocm91Z2guXG4vLyBTdWNoIG9iamVjdHMgY29uZm9ybSB0byB0aGlzIGludGVyZmFjZS5cbi8vXG4vLyAgIG1hcDo6IChwb3M6IG51bWJlciwgYXNzb2M6ID9udW1iZXIpIOKGkiBudW1iZXJcbi8vICAgTWFwIGEgcG9zaXRpb24gdGhyb3VnaCB0aGlzIG9iamVjdC4gV2hlbiBnaXZlbiwgYGFzc29jYCAoc2hvdWxkXG4vLyAgIGJlIC0xIG9yIDEsIGRlZmF1bHRzIHRvIDEpIGRldGVybWluZXMgd2l0aCB3aGljaCBzaWRlIHRoZVxuLy8gICBwb3NpdGlvbiBpcyBhc3NvY2lhdGVkLCB3aGljaCBkZXRlcm1pbmVzIGluIHdoaWNoIGRpcmVjdGlvbiB0b1xuLy8gICBtb3ZlIHdoZW4gYSBjaHVuayBvZiBjb250ZW50IGlzIGluc2VydGVkIGF0IHRoZSBtYXBwZWQgcG9zaXRpb24uXG4vL1xuLy8gICBtYXBSZXN1bHQ6OiAocG9zOiBudW1iZXIsIGFzc29jOiA/bnVtYmVyKSDihpIgTWFwUmVzdWx0XG4vLyAgIE1hcCBhIHBvc2l0aW9uLCBhbmQgcmV0dXJuIGFuIG9iamVjdCBjb250YWluaW5nIGFkZGl0aW9uYWxcbi8vICAgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG1hcHBpbmcuIFRoZSByZXN1bHQncyBgZGVsZXRlZGAgZmllbGQgdGVsbHNcbi8vICAgeW91IHdoZXRoZXIgdGhlIHBvc2l0aW9uIHdhcyBkZWxldGVkIChjb21wbGV0ZWx5IGVuY2xvc2VkIGluIGFcbi8vICAgcmVwbGFjZWQgcmFuZ2UpIGR1cmluZyB0aGUgbWFwcGluZy4gV2hlbiBjb250ZW50IG9uIG9ubHkgb25lIHNpZGVcbi8vICAgaXMgZGVsZXRlZCwgdGhlIHBvc2l0aW9uIGl0c2VsZiBpcyBvbmx5IGNvbnNpZGVyZWQgZGVsZXRlZCB3aGVuXG4vLyAgIGBhc3NvY2AgcG9pbnRzIGluIHRoZSBkaXJlY3Rpb24gb2YgdGhlIGRlbGV0ZWQgY29udGVudC5cblxuLy8gUmVjb3ZlcnkgdmFsdWVzIGVuY29kZSBhIHJhbmdlIGluZGV4IGFuZCBhbiBvZmZzZXQuIFRoZXkgYXJlXG4vLyByZXByZXNlbnRlZCBhcyBudW1iZXJzLCBiZWNhdXNlIHRvbnMgb2YgdGhlbSB3aWxsIGJlIGNyZWF0ZWQgd2hlblxuLy8gbWFwcGluZywgZm9yIGV4YW1wbGUsIGEgbGFyZ2UgbnVtYmVyIG9mIGRlY29yYXRpb25zLiBUaGUgbnVtYmVyJ3Ncbi8vIGxvd2VyIDE2IGJpdHMgcHJvdmlkZSB0aGUgaW5kZXgsIHRoZSByZW1haW5pbmcgYml0cyB0aGUgb2Zmc2V0LlxuLy9cbi8vIE5vdGU6IFdlIGludGVudGlvbmFsbHkgZG9uJ3QgdXNlIGJpdCBzaGlmdCBvcGVyYXRvcnMgdG8gZW4tIGFuZFxuLy8gZGVjb2RlIHRoZXNlLCBzaW5jZSB0aG9zZSBjbGlwIHRvIDMyIGJpdHMsIHdoaWNoIHdlIG1pZ2h0IGluIHJhcmVcbi8vIGNhc2VzIHdhbnQgdG8gb3ZlcmZsb3cuIEEgNjQtYml0IGZsb2F0IGNhbiByZXByZXNlbnQgNDgtYml0XG4vLyBpbnRlZ2VycyBwcmVjaXNlbHkuXG5cbnZhciBsb3dlcjE2ID0gMHhmZmZmO1xudmFyIGZhY3RvcjE2ID0gTWF0aC5wb3coMiwgMTYpO1xuXG5mdW5jdGlvbiBtYWtlUmVjb3ZlcihpbmRleCwgb2Zmc2V0KSB7IHJldHVybiBpbmRleCArIG9mZnNldCAqIGZhY3RvcjE2IH1cbmZ1bmN0aW9uIHJlY292ZXJJbmRleCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgJiBsb3dlcjE2IH1cbmZ1bmN0aW9uIHJlY292ZXJPZmZzZXQodmFsdWUpIHsgcmV0dXJuICh2YWx1ZSAtICh2YWx1ZSAmIGxvd2VyMTYpKSAvIGZhY3RvcjE2IH1cblxuLy8gOjotIEFuIG9iamVjdCByZXByZXNlbnRpbmcgYSBtYXBwZWQgcG9zaXRpb24gd2l0aCBleHRyYVxuLy8gaW5mb3JtYXRpb24uXG52YXIgTWFwUmVzdWx0ID0gZnVuY3Rpb24gTWFwUmVzdWx0KHBvcywgZGVsZXRlZCwgcmVjb3Zlcikge1xuICBpZiAoIGRlbGV0ZWQgPT09IHZvaWQgMCApIGRlbGV0ZWQgPSBmYWxzZTtcbiAgaWYgKCByZWNvdmVyID09PSB2b2lkIDAgKSByZWNvdmVyID0gbnVsbDtcblxuICAvLyA6OiBudW1iZXIgVGhlIG1hcHBlZCB2ZXJzaW9uIG9mIHRoZSBwb3NpdGlvbi5cbiAgdGhpcy5wb3MgPSBwb3M7XG4gIC8vIDo6IGJvb2wgVGVsbHMgeW91IHdoZXRoZXIgdGhlIHBvc2l0aW9uIHdhcyBkZWxldGVkLCB0aGF0IGlzLFxuICAvLyB3aGV0aGVyIHRoZSBzdGVwIHJlbW92ZWQgaXRzIHN1cnJvdW5kaW5ncyBmcm9tIHRoZSBkb2N1bWVudC5cbiAgdGhpcy5kZWxldGVkID0gZGVsZXRlZDtcbiAgdGhpcy5yZWNvdmVyID0gcmVjb3Zlcjtcbn07XG5cbi8vIDo6IGNsYXNzIGV4dGVuZHMgTWFwcGFibGVcbi8vIEEgbWFwIGRlc2NyaWJpbmcgdGhlIGRlbGV0aW9ucyBhbmQgaW5zZXJ0aW9ucyBtYWRlIGJ5IGEgc3RlcCwgd2hpY2hcbi8vIGNhbiBiZSB1c2VkIHRvIGZpbmQgdGhlIGNvcnJlc3BvbmRlbmNlIGJldHdlZW4gcG9zaXRpb25zIGluIHRoZVxuLy8gcHJlLXN0ZXAgdmVyc2lvbiBvZiBhIGRvY3VtZW50IGFuZCB0aGUgc2FtZSBwb3NpdGlvbiBpbiB0aGVcbi8vIHBvc3Qtc3RlcCB2ZXJzaW9uLlxudmFyIFN0ZXBNYXAgPSBmdW5jdGlvbiBTdGVwTWFwKHJhbmdlcywgaW52ZXJ0ZWQpIHtcbiAgaWYgKCBpbnZlcnRlZCA9PT0gdm9pZCAwICkgaW52ZXJ0ZWQgPSBmYWxzZTtcblxuICB0aGlzLnJhbmdlcyA9IHJhbmdlcztcbiAgdGhpcy5pbnZlcnRlZCA9IGludmVydGVkO1xufTtcblxuU3RlcE1hcC5wcm90b3R5cGUucmVjb3ZlciA9IGZ1bmN0aW9uIHJlY292ZXIgKHZhbHVlKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgdmFyIGRpZmYgPSAwLCBpbmRleCA9IHJlY292ZXJJbmRleCh2YWx1ZSk7XG4gIGlmICghdGhpcy5pbnZlcnRlZCkgeyBmb3IgKHZhciBpID0gMDsgaSA8IGluZGV4OyBpKyspXG4gICAgeyBkaWZmICs9IHRoaXMkMS5yYW5nZXNbaSAqIDMgKyAyXSAtIHRoaXMkMS5yYW5nZXNbaSAqIDMgKyAxXTsgfSB9XG4gIHJldHVybiB0aGlzLnJhbmdlc1tpbmRleCAqIDNdICsgZGlmZiArIHJlY292ZXJPZmZzZXQodmFsdWUpXG59O1xuXG4vLyA6IChudW1iZXIsID9udW1iZXIpIOKGkiBNYXBSZXN1bHRcblN0ZXBNYXAucHJvdG90eXBlLm1hcFJlc3VsdCA9IGZ1bmN0aW9uIG1hcFJlc3VsdCAocG9zLCBhc3NvYykge1xuICBpZiAoIGFzc29jID09PSB2b2lkIDAgKSBhc3NvYyA9IDE7XG4gcmV0dXJuIHRoaXMuX21hcChwb3MsIGFzc29jLCBmYWxzZSkgfTtcblxuLy8gOiAobnVtYmVyLCA/bnVtYmVyKSDihpIgbnVtYmVyXG5TdGVwTWFwLnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiBtYXAgKHBvcywgYXNzb2MpIHtcbiAgaWYgKCBhc3NvYyA9PT0gdm9pZCAwICkgYXNzb2MgPSAxO1xuIHJldHVybiB0aGlzLl9tYXAocG9zLCBhc3NvYywgdHJ1ZSkgfTtcblxuU3RlcE1hcC5wcm90b3R5cGUuX21hcCA9IGZ1bmN0aW9uIF9tYXAgKHBvcywgYXNzb2MsIHNpbXBsZSkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gIHZhciBkaWZmID0gMCwgb2xkSW5kZXggPSB0aGlzLmludmVydGVkID8gMiA6IDEsIG5ld0luZGV4ID0gdGhpcy5pbnZlcnRlZCA/IDEgOiAyO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucmFuZ2VzLmxlbmd0aDsgaSArPSAzKSB7XG4gICAgdmFyIHN0YXJ0ID0gdGhpcyQxLnJhbmdlc1tpXSAtICh0aGlzJDEuaW52ZXJ0ZWQgPyBkaWZmIDogMCk7XG4gICAgaWYgKHN0YXJ0ID4gcG9zKSB7IGJyZWFrIH1cbiAgICB2YXIgb2xkU2l6ZSA9IHRoaXMkMS5yYW5nZXNbaSArIG9sZEluZGV4XSwgbmV3U2l6ZSA9IHRoaXMkMS5yYW5nZXNbaSArIG5ld0luZGV4XSwgZW5kID0gc3RhcnQgKyBvbGRTaXplO1xuICAgIGlmIChwb3MgPD0gZW5kKSB7XG4gICAgICB2YXIgc2lkZSA9ICFvbGRTaXplID8gYXNzb2MgOiBwb3MgPT0gc3RhcnQgPyAtMSA6IHBvcyA9PSBlbmQgPyAxIDogYXNzb2M7XG4gICAgICB2YXIgcmVzdWx0ID0gc3RhcnQgKyBkaWZmICsgKHNpZGUgPCAwID8gMCA6IG5ld1NpemUpO1xuICAgICAgaWYgKHNpbXBsZSkgeyByZXR1cm4gcmVzdWx0IH1cbiAgICAgIHZhciByZWNvdmVyID0gbWFrZVJlY292ZXIoaSAvIDMsIHBvcyAtIHN0YXJ0KTtcbiAgICAgIHJldHVybiBuZXcgTWFwUmVzdWx0KHJlc3VsdCwgYXNzb2MgPCAwID8gcG9zICE9IHN0YXJ0IDogcG9zICE9IGVuZCwgcmVjb3ZlcilcbiAgICB9XG4gICAgZGlmZiArPSBuZXdTaXplIC0gb2xkU2l6ZTtcbiAgfVxuICByZXR1cm4gc2ltcGxlID8gcG9zICsgZGlmZiA6IG5ldyBNYXBSZXN1bHQocG9zICsgZGlmZilcbn07XG5cblN0ZXBNYXAucHJvdG90eXBlLnRvdWNoZXMgPSBmdW5jdGlvbiB0b3VjaGVzIChwb3MsIHJlY292ZXIpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICB2YXIgZGlmZiA9IDAsIGluZGV4ID0gcmVjb3ZlckluZGV4KHJlY292ZXIpO1xuICB2YXIgb2xkSW5kZXggPSB0aGlzLmludmVydGVkID8gMiA6IDEsIG5ld0luZGV4ID0gdGhpcy5pbnZlcnRlZCA/IDEgOiAyO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucmFuZ2VzLmxlbmd0aDsgaSArPSAzKSB7XG4gICAgdmFyIHN0YXJ0ID0gdGhpcyQxLnJhbmdlc1tpXSAtICh0aGlzJDEuaW52ZXJ0ZWQgPyBkaWZmIDogMCk7XG4gICAgaWYgKHN0YXJ0ID4gcG9zKSB7IGJyZWFrIH1cbiAgICB2YXIgb2xkU2l6ZSA9IHRoaXMkMS5yYW5nZXNbaSArIG9sZEluZGV4XSwgZW5kID0gc3RhcnQgKyBvbGRTaXplO1xuICAgIGlmIChwb3MgPD0gZW5kICYmIGkgPT0gaW5kZXggKiAzKSB7IHJldHVybiB0cnVlIH1cbiAgICBkaWZmICs9IHRoaXMkMS5yYW5nZXNbaSArIG5ld0luZGV4XSAtIG9sZFNpemU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlXG59O1xuXG4vLyA6OiAoKG9sZFN0YXJ0OiBudW1iZXIsIG9sZEVuZDogbnVtYmVyLCBuZXdTdGFydDogbnVtYmVyLCBuZXdFbmQ6IG51bWJlcikpXG4vLyBDYWxscyB0aGUgZ2l2ZW4gZnVuY3Rpb24gb24gZWFjaCBvZiB0aGUgY2hhbmdlZCByYW5nZXMgaW5jbHVkZWQgaW5cbi8vIHRoaXMgbWFwLlxuU3RlcE1hcC5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIGZvckVhY2ggKGYpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICB2YXIgb2xkSW5kZXggPSB0aGlzLmludmVydGVkID8gMiA6IDEsIG5ld0luZGV4ID0gdGhpcy5pbnZlcnRlZCA/IDEgOiAyO1xuICBmb3IgKHZhciBpID0gMCwgZGlmZiA9IDA7IGkgPCB0aGlzLnJhbmdlcy5sZW5ndGg7IGkgKz0gMykge1xuICAgIHZhciBzdGFydCA9IHRoaXMkMS5yYW5nZXNbaV0sIG9sZFN0YXJ0ID0gc3RhcnQgLSAodGhpcyQxLmludmVydGVkID8gZGlmZiA6IDApLCBuZXdTdGFydCA9IHN0YXJ0ICsgKHRoaXMkMS5pbnZlcnRlZCA/IDAgOiBkaWZmKTtcbiAgICB2YXIgb2xkU2l6ZSA9IHRoaXMkMS5yYW5nZXNbaSArIG9sZEluZGV4XSwgbmV3U2l6ZSA9IHRoaXMkMS5yYW5nZXNbaSArIG5ld0luZGV4XTtcbiAgICBmKG9sZFN0YXJ0LCBvbGRTdGFydCArIG9sZFNpemUsIG5ld1N0YXJ0LCBuZXdTdGFydCArIG5ld1NpemUpO1xuICAgIGRpZmYgKz0gbmV3U2l6ZSAtIG9sZFNpemU7XG4gIH1cbn07XG5cbi8vIDo6ICgpIOKGkiBTdGVwTWFwXG4vLyBDcmVhdGUgYW4gaW52ZXJ0ZWQgdmVyc2lvbiBvZiB0aGlzIG1hcC4gVGhlIHJlc3VsdCBjYW4gYmUgdXNlZCB0b1xuLy8gbWFwIHBvc2l0aW9ucyBpbiB0aGUgcG9zdC1zdGVwIGRvY3VtZW50IHRvIHRoZSBwcmUtc3RlcCBkb2N1bWVudC5cblN0ZXBNYXAucHJvdG90eXBlLmludmVydCA9IGZ1bmN0aW9uIGludmVydCAoKSB7XG4gIHJldHVybiBuZXcgU3RlcE1hcCh0aGlzLnJhbmdlcywgIXRoaXMuaW52ZXJ0ZWQpXG59O1xuXG5TdGVwTWFwLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nICgpIHtcbiAgcmV0dXJuICh0aGlzLmludmVydGVkID8gXCItXCIgOiBcIlwiKSArIEpTT04uc3RyaW5naWZ5KHRoaXMucmFuZ2VzKVxufTtcblxuLy8gOjogKG46IG51bWJlcikg4oaSIFN0ZXBNYXBcbi8vIENyZWF0ZSBhIG1hcCB0aGF0IG1vdmVzIGFsbCBwb3NpdGlvbnMgYnkgb2Zmc2V0IGBuYCAod2hpY2ggbWF5IGJlXG4vLyBuZWdhdGl2ZSkuIFRoaXMgY2FuIGJlIHVzZWZ1bCB3aGVuIGFwcGx5aW5nIHN0ZXBzIG1lYW50IGZvciBhXG4vLyBzdWItZG9jdW1lbnQgdG8gYSBsYXJnZXIgZG9jdW1lbnQsIG9yIHZpY2UtdmVyc2EuXG5TdGVwTWFwLm9mZnNldCA9IGZ1bmN0aW9uIG9mZnNldCAobikge1xuICByZXR1cm4gbiA9PSAwID8gU3RlcE1hcC5lbXB0eSA6IG5ldyBTdGVwTWFwKG4gPCAwID8gWzAsIC1uLCAwXSA6IFswLCAwLCBuXSlcbn07XG5cblN0ZXBNYXAuZW1wdHkgPSBuZXcgU3RlcE1hcChbXSk7XG5cbi8vIDo6IGNsYXNzIGV4dGVuZHMgTWFwcGFibGVcbi8vIEEgbWFwcGluZyByZXByZXNlbnRzIGEgcGlwZWxpbmUgb2YgemVybyBvciBtb3JlIFtzdGVwXG4vLyBtYXBzXSgjdHJhbnNmb3JtLlN0ZXBNYXApLiBJdCBoYXMgc3BlY2lhbCBwcm92aXNpb25zIGZvciBsb3NzbGVzc2x5XG4vLyBoYW5kbGluZyBtYXBwaW5nIHBvc2l0aW9ucyB0aHJvdWdoIGEgc2VyaWVzIG9mIHN0ZXBzIGluIHdoaWNoIHNvbWVcbi8vIHN0ZXBzIGFyZSBpbnZlcnRlZCB2ZXJzaW9ucyBvZiBlYXJsaWVyIHN0ZXBzLiAoVGhpcyBjb21lcyB1cCB3aGVuXG4vLyDigJhbcmViYXNpbmddKC9kb2NzL2d1aWRlLyN0cmFuc2Zvcm0ucmViYXNpbmcp4oCZIHN0ZXBzIGZvclxuLy8gY29sbGFib3JhdGlvbiBvciBoaXN0b3J5IG1hbmFnZW1lbnQuKVxudmFyIE1hcHBpbmcgPSBmdW5jdGlvbiBNYXBwaW5nKG1hcHMsIG1pcnJvciwgZnJvbSwgdG8pIHtcbiAgLy8gOjogW1N0ZXBNYXBdXG4gIC8vIFRoZSBzdGVwIG1hcHMgaW4gdGhpcyBtYXBwaW5nLlxuICB0aGlzLm1hcHMgPSBtYXBzIHx8IFtdO1xuICAvLyA6OiBudW1iZXJcbiAgLy8gVGhlIHN0YXJ0aW5nIHBvc2l0aW9uIGluIHRoZSBgbWFwc2AgYXJyYXksIHVzZWQgd2hlbiBgbWFwYCBvclxuICAvLyBgbWFwUmVzdWx0YCBpcyBjYWxsZWQuXG4gIHRoaXMuZnJvbSA9IGZyb20gfHwgMDtcbiAgLy8gOjogbnVtYmVyXG4gIC8vIFRoZSBlbmQgcG9zaXRpb24gaW4gdGhlIGBtYXBzYCBhcnJheS5cbiAgdGhpcy50byA9IHRvID09IG51bGwgPyB0aGlzLm1hcHMubGVuZ3RoIDogdG87XG4gIHRoaXMubWlycm9yID0gbWlycm9yO1xufTtcblxuLy8gOjogKD9udW1iZXIsID9udW1iZXIpIOKGkiBNYXBwaW5nXG4vLyBDcmVhdGUgYSBtYXBwaW5nIHRoYXQgbWFwcyBvbmx5IHRocm91Z2ggYSBwYXJ0IG9mIHRoaXMgb25lLlxuTWFwcGluZy5wcm90b3R5cGUuc2xpY2UgPSBmdW5jdGlvbiBzbGljZSAoZnJvbSwgdG8pIHtcbiAgICBpZiAoIGZyb20gPT09IHZvaWQgMCApIGZyb20gPSAwO1xuICAgIGlmICggdG8gPT09IHZvaWQgMCApIHRvID0gdGhpcy5tYXBzLmxlbmd0aDtcblxuICByZXR1cm4gbmV3IE1hcHBpbmcodGhpcy5tYXBzLCB0aGlzLm1pcnJvciwgZnJvbSwgdG8pXG59O1xuXG5NYXBwaW5nLnByb3RvdHlwZS5jb3B5ID0gZnVuY3Rpb24gY29weSAoKSB7XG4gIHJldHVybiBuZXcgTWFwcGluZyh0aGlzLm1hcHMuc2xpY2UoKSwgdGhpcy5taXJyb3IgJiYgdGhpcy5taXJyb3Iuc2xpY2UoKSwgdGhpcy5mcm9tLCB0aGlzLnRvKVxufTtcblxuTWFwcGluZy5wcm90b3R5cGUuZ2V0TWlycm9yID0gZnVuY3Rpb24gZ2V0TWlycm9yIChuKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgaWYgKHRoaXMubWlycm9yKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5taXJyb3IubGVuZ3RoOyBpKyspXG4gICAgeyBpZiAodGhpcyQxLm1pcnJvcltpXSA9PSBuKSB7IHJldHVybiB0aGlzJDEubWlycm9yW2kgKyAoaSAlIDIgPyAtMSA6IDEpXSB9IH0gfVxufTtcblxuTWFwcGluZy5wcm90b3R5cGUuc2V0TWlycm9yID0gZnVuY3Rpb24gc2V0TWlycm9yIChuLCBtKSB7XG4gIGlmICghdGhpcy5taXJyb3IpIHsgdGhpcy5taXJyb3IgPSBbXTsgfVxuICB0aGlzLm1pcnJvci5wdXNoKG4sIG0pO1xufTtcblxuLy8gOjogKFN0ZXBNYXAsID9udW1iZXIpXG4vLyBBZGQgYSBzdGVwIG1hcCB0byB0aGUgZW5kIG9mIHRoaXMgbWFwcGluZy4gSWYgYG1pcnJvcnNgIGlzXG4vLyBnaXZlbiwgaXQgc2hvdWxkIGJlIHRoZSBpbmRleCBvZiB0aGUgc3RlcCBtYXAgdGhhdCBpcyB0aGUgbWlycm9yXG4vLyBpbWFnZSBvZiB0aGlzIG9uZS5cbk1hcHBpbmcucHJvdG90eXBlLmFwcGVuZE1hcCA9IGZ1bmN0aW9uIGFwcGVuZE1hcCAobWFwLCBtaXJyb3JzKSB7XG4gIHRoaXMudG8gPSB0aGlzLm1hcHMucHVzaChtYXApO1xuICBpZiAobWlycm9ycyAhPSBudWxsKSB7IHRoaXMuc2V0TWlycm9yKHRoaXMubWFwcy5sZW5ndGggLSAxLCBtaXJyb3JzKTsgfVxufTtcblxuLy8gOjogKE1hcHBpbmcpXG4vLyBBZGQgYWxsIHRoZSBzdGVwIG1hcHMgaW4gYSBnaXZlbiBtYXBwaW5nIHRvIHRoaXMgb25lIChwcmVzZXJ2aW5nXG4vLyBtaXJyb3JpbmcgaW5mb3JtYXRpb24pLlxuTWFwcGluZy5wcm90b3R5cGUuYXBwZW5kTWFwcGluZyA9IGZ1bmN0aW9uIGFwcGVuZE1hcHBpbmcgKG1hcHBpbmcpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICBmb3IgKHZhciBpID0gMCwgc3RhcnRTaXplID0gdGhpcy5tYXBzLmxlbmd0aDsgaSA8IG1hcHBpbmcubWFwcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBtaXJyID0gbWFwcGluZy5nZXRNaXJyb3IoaSk7XG4gICAgdGhpcyQxLmFwcGVuZE1hcChtYXBwaW5nLm1hcHNbaV0sIG1pcnIgIT0gbnVsbCAmJiBtaXJyIDwgaSA/IHN0YXJ0U2l6ZSArIG1pcnIgOiBudWxsKTtcbiAgfVxufTtcblxuLy8gOjogKE1hcHBpbmcpXG4vLyBBcHBlbmQgdGhlIGludmVyc2Ugb2YgdGhlIGdpdmVuIG1hcHBpbmcgdG8gdGhpcyBvbmUuXG5NYXBwaW5nLnByb3RvdHlwZS5hcHBlbmRNYXBwaW5nSW52ZXJ0ZWQgPSBmdW5jdGlvbiBhcHBlbmRNYXBwaW5nSW52ZXJ0ZWQgKG1hcHBpbmcpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICBmb3IgKHZhciBpID0gbWFwcGluZy5tYXBzLmxlbmd0aCAtIDEsIHRvdGFsU2l6ZSA9IHRoaXMubWFwcy5sZW5ndGggKyBtYXBwaW5nLm1hcHMubGVuZ3RoOyBpID49IDA7IGktLSkge1xuICAgIHZhciBtaXJyID0gbWFwcGluZy5nZXRNaXJyb3IoaSk7XG4gICAgdGhpcyQxLmFwcGVuZE1hcChtYXBwaW5nLm1hcHNbaV0uaW52ZXJ0KCksIG1pcnIgIT0gbnVsbCAmJiBtaXJyID4gaSA/IHRvdGFsU2l6ZSAtIG1pcnIgLSAxIDogbnVsbCk7XG4gIH1cbn07XG5cbi8vICgpIOKGkiBNYXBwaW5nXG4vLyBDcmVhdGUgYW4gaW52ZXJ0ZWQgdmVyc2lvbiBvZiB0aGlzIG1hcHBpbmcuXG5NYXBwaW5nLnByb3RvdHlwZS5pbnZlcnQgPSBmdW5jdGlvbiBpbnZlcnQgKCkge1xuICB2YXIgaW52ZXJzZSA9IG5ldyBNYXBwaW5nO1xuICBpbnZlcnNlLmFwcGVuZE1hcHBpbmdJbnZlcnRlZCh0aGlzKTtcbiAgcmV0dXJuIGludmVyc2Vcbn07XG5cbi8vIDogKG51bWJlciwgP251bWJlcikg4oaSIG51bWJlclxuLy8gTWFwIGEgcG9zaXRpb24gdGhyb3VnaCB0aGlzIG1hcHBpbmcuXG5NYXBwaW5nLnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiBtYXAgKHBvcywgYXNzb2MpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcbiAgICBpZiAoIGFzc29jID09PSB2b2lkIDAgKSBhc3NvYyA9IDE7XG5cbiAgaWYgKHRoaXMubWlycm9yKSB7IHJldHVybiB0aGlzLl9tYXAocG9zLCBhc3NvYywgdHJ1ZSkgfVxuICBmb3IgKHZhciBpID0gdGhpcy5mcm9tOyBpIDwgdGhpcy50bzsgaSsrKVxuICAgIHsgcG9zID0gdGhpcyQxLm1hcHNbaV0ubWFwKHBvcywgYXNzb2MpOyB9XG4gIHJldHVybiBwb3Ncbn07XG5cbi8vIDogKG51bWJlciwgP251bWJlcikg4oaSIE1hcFJlc3VsdFxuLy8gTWFwIGEgcG9zaXRpb24gdGhyb3VnaCB0aGlzIG1hcHBpbmcsIHJldHVybmluZyBhIG1hcHBpbmdcbi8vIHJlc3VsdC5cbk1hcHBpbmcucHJvdG90eXBlLm1hcFJlc3VsdCA9IGZ1bmN0aW9uIG1hcFJlc3VsdCAocG9zLCBhc3NvYykge1xuICBpZiAoIGFzc29jID09PSB2b2lkIDAgKSBhc3NvYyA9IDE7XG4gcmV0dXJuIHRoaXMuX21hcChwb3MsIGFzc29jLCBmYWxzZSkgfTtcblxuTWFwcGluZy5wcm90b3R5cGUuX21hcCA9IGZ1bmN0aW9uIF9tYXAgKHBvcywgYXNzb2MsIHNpbXBsZSkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gIHZhciBkZWxldGVkID0gZmFsc2UsIHJlY292ZXJhYmxlcyA9IG51bGw7XG5cbiAgZm9yICh2YXIgaSA9IHRoaXMuZnJvbTsgaSA8IHRoaXMudG87IGkrKykge1xuICAgIHZhciBtYXAgPSB0aGlzJDEubWFwc1tpXSwgcmVjID0gcmVjb3ZlcmFibGVzICYmIHJlY292ZXJhYmxlc1tpXTtcbiAgICBpZiAocmVjICE9IG51bGwgJiYgbWFwLnRvdWNoZXMocG9zLCByZWMpKSB7XG4gICAgICBwb3MgPSBtYXAucmVjb3ZlcihyZWMpO1xuICAgICAgY29udGludWVcbiAgICB9XG5cbiAgICB2YXIgcmVzdWx0ID0gbWFwLm1hcFJlc3VsdChwb3MsIGFzc29jKTtcbiAgICBpZiAocmVzdWx0LnJlY292ZXIgIT0gbnVsbCkge1xuICAgICAgdmFyIGNvcnIgPSB0aGlzJDEuZ2V0TWlycm9yKGkpO1xuICAgICAgaWYgKGNvcnIgIT0gbnVsbCAmJiBjb3JyID4gaSAmJiBjb3JyIDwgdGhpcyQxLnRvKSB7XG4gICAgICAgIGlmIChyZXN1bHQuZGVsZXRlZCkge1xuICAgICAgICAgIGkgPSBjb3JyO1xuICAgICAgICAgIHBvcyA9IHRoaXMkMS5tYXBzW2NvcnJdLnJlY292ZXIocmVzdWx0LnJlY292ZXIpO1xuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgKHJlY292ZXJhYmxlcyB8fCAocmVjb3ZlcmFibGVzID0gT2JqZWN0LmNyZWF0ZShudWxsKSkpW2NvcnJdID0gcmVzdWx0LnJlY292ZXI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocmVzdWx0LmRlbGV0ZWQpIHsgZGVsZXRlZCA9IHRydWU7IH1cbiAgICBwb3MgPSByZXN1bHQucG9zO1xuICB9XG5cbiAgcmV0dXJuIHNpbXBsZSA/IHBvcyA6IG5ldyBNYXBSZXN1bHQocG9zLCBkZWxldGVkKVxufTtcblxuZnVuY3Rpb24gVHJhbnNmb3JtRXJyb3IobWVzc2FnZSkge1xuICB2YXIgZXJyID0gRXJyb3IuY2FsbCh0aGlzLCBtZXNzYWdlKTtcbiAgZXJyLl9fcHJvdG9fXyA9IFRyYW5zZm9ybUVycm9yLnByb3RvdHlwZTtcbiAgcmV0dXJuIGVyclxufVxuXG5UcmFuc2Zvcm1FcnJvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSk7XG5UcmFuc2Zvcm1FcnJvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBUcmFuc2Zvcm1FcnJvcjtcblRyYW5zZm9ybUVycm9yLnByb3RvdHlwZS5uYW1lID0gXCJUcmFuc2Zvcm1FcnJvclwiO1xuXG4vLyA6Oi0gQWJzdHJhY3Rpb24gdG8gYnVpbGQgdXAgYW5kIHRyYWNrIGFuIGFycmF5IG9mXG4vLyBbc3RlcHNdKCN0cmFuc2Zvcm0uU3RlcCkgcmVwcmVzZW50aW5nIGEgZG9jdW1lbnQgdHJhbnNmb3JtYXRpb24uXG4vL1xuLy8gTW9zdCB0cmFuc2Zvcm1pbmcgbWV0aG9kcyByZXR1cm4gdGhlIGBUcmFuc2Zvcm1gIG9iamVjdCBpdHNlbGYsIHNvXG4vLyB0aGF0IHRoZXkgY2FuIGJlIGNoYWluZWQuXG52YXIgVHJhbnNmb3JtID0gZnVuY3Rpb24gVHJhbnNmb3JtKGRvYykge1xuICAvLyA6OiBOb2RlXG4gIC8vIFRoZSBjdXJyZW50IGRvY3VtZW50ICh0aGUgcmVzdWx0IG9mIGFwcGx5aW5nIHRoZSBzdGVwcyBpbiB0aGVcbiAgLy8gdHJhbnNmb3JtKS5cbiAgdGhpcy5kb2MgPSBkb2M7XG4gIC8vIDo6IFtTdGVwXVxuICAvLyBUaGUgc3RlcHMgaW4gdGhpcyB0cmFuc2Zvcm0uXG4gIHRoaXMuc3RlcHMgPSBbXTtcbiAgLy8gOjogW05vZGVdXG4gIC8vIFRoZSBkb2N1bWVudHMgYmVmb3JlIGVhY2ggb2YgdGhlIHN0ZXBzLlxuICB0aGlzLmRvY3MgPSBbXTtcbiAgLy8gOjogTWFwcGluZ1xuICAvLyBBIG1hcHBpbmcgd2l0aCB0aGUgbWFwcyBmb3IgZWFjaCBvZiB0aGUgc3RlcHMgaW4gdGhpcyB0cmFuc2Zvcm0uXG4gIHRoaXMubWFwcGluZyA9IG5ldyBNYXBwaW5nO1xufTtcblxudmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgYmVmb3JlOiB7fSxkb2NDaGFuZ2VkOiB7fSB9O1xuXG4vLyA6OiBOb2RlIFRoZSBzdGFydGluZyBkb2N1bWVudC5cbnByb3RvdHlwZUFjY2Vzc29ycy5iZWZvcmUuZ2V0ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5kb2NzLmxlbmd0aCA/IHRoaXMuZG9jc1swXSA6IHRoaXMuZG9jIH07XG5cbi8vIDo6IChzdGVwOiBTdGVwKSDihpIgdGhpc1xuLy8gQXBwbHkgYSBuZXcgc3RlcCBpbiB0aGlzIHRyYW5zZm9ybSwgc2F2aW5nIHRoZSByZXN1bHQuIFRocm93cyBhblxuLy8gZXJyb3Igd2hlbiB0aGUgc3RlcCBmYWlscy5cblRyYW5zZm9ybS5wcm90b3R5cGUuc3RlcCA9IGZ1bmN0aW9uIHN0ZXAgKG9iamVjdCkge1xuICB2YXIgcmVzdWx0ID0gdGhpcy5tYXliZVN0ZXAob2JqZWN0KTtcbiAgaWYgKHJlc3VsdC5mYWlsZWQpIHsgdGhyb3cgbmV3IFRyYW5zZm9ybUVycm9yKHJlc3VsdC5mYWlsZWQpIH1cbiAgcmV0dXJuIHRoaXNcbn07XG5cbi8vIDo6IChTdGVwKSDihpIgU3RlcFJlc3VsdFxuLy8gVHJ5IHRvIGFwcGx5IGEgc3RlcCBpbiB0aGlzIHRyYW5zZm9ybWF0aW9uLCBpZ25vcmluZyBpdCBpZiBpdFxuLy8gZmFpbHMuIFJldHVybnMgdGhlIHN0ZXAgcmVzdWx0LlxuVHJhbnNmb3JtLnByb3RvdHlwZS5tYXliZVN0ZXAgPSBmdW5jdGlvbiBtYXliZVN0ZXAgKHN0ZXApIHtcbiAgdmFyIHJlc3VsdCA9IHN0ZXAuYXBwbHkodGhpcy5kb2MpO1xuICBpZiAoIXJlc3VsdC5mYWlsZWQpIHsgdGhpcy5hZGRTdGVwKHN0ZXAsIHJlc3VsdC5kb2MpOyB9XG4gIHJldHVybiByZXN1bHRcbn07XG5cbi8vIDo6IGJvb2xcbi8vIFRydWUgd2hlbiB0aGUgZG9jdW1lbnQgaGFzIGJlZW4gY2hhbmdlZCAod2hlbiB0aGVyZSBhcmUgYW55XG4vLyBzdGVwcykuXG5wcm90b3R5cGVBY2Nlc3NvcnMuZG9jQ2hhbmdlZC5nZXQgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLnN0ZXBzLmxlbmd0aCA+IDBcbn07XG5cblRyYW5zZm9ybS5wcm90b3R5cGUuYWRkU3RlcCA9IGZ1bmN0aW9uIGFkZFN0ZXAgKHN0ZXAsIGRvYykge1xuICB0aGlzLmRvY3MucHVzaCh0aGlzLmRvYyk7XG4gIHRoaXMuc3RlcHMucHVzaChzdGVwKTtcbiAgdGhpcy5tYXBwaW5nLmFwcGVuZE1hcChzdGVwLmdldE1hcCgpKTtcbiAgdGhpcy5kb2MgPSBkb2M7XG59O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyggVHJhbnNmb3JtLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzICk7XG5cbmZ1bmN0aW9uIG11c3RPdmVycmlkZSgpIHsgdGhyb3cgbmV3IEVycm9yKFwiT3ZlcnJpZGUgbWVcIikgfVxuXG52YXIgc3RlcHNCeUlEID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuLy8gOjotIEEgc3RlcCBvYmplY3QgcmVwcmVzZW50cyBhbiBhdG9taWMgY2hhbmdlLiBJdCBnZW5lcmFsbHkgYXBwbGllc1xuLy8gb25seSB0byB0aGUgZG9jdW1lbnQgaXQgd2FzIGNyZWF0ZWQgZm9yLCBzaW5jZSB0aGUgcG9zaXRpb25zXG4vLyBzdG9yZWQgaW4gaXQgd2lsbCBvbmx5IG1ha2Ugc2Vuc2UgZm9yIHRoYXQgZG9jdW1lbnQuXG4vL1xuLy8gTmV3IHN0ZXBzIGFyZSBkZWZpbmVkIGJ5IGNyZWF0aW5nIGNsYXNzZXMgdGhhdCBleHRlbmQgYFN0ZXBgLFxuLy8gb3ZlcnJpZGluZyB0aGUgYGFwcGx5YCwgYGludmVydGAsIGBtYXBgLCBgZ2V0TWFwYCBhbmQgYGZyb21KU09OYFxuLy8gbWV0aG9kcywgYW5kIHJlZ2lzdGVyaW5nIHlvdXIgY2xhc3Mgd2l0aCBhIHVuaXF1ZVxuLy8gSlNPTi1zZXJpYWxpemF0aW9uIGlkZW50aWZpZXIgdXNpbmdcbi8vIFtgU3RlcC5qc29uSURgXSgjdHJhbnNmb3JtLlN0ZXBeanNvbklEKS5cbnZhciBTdGVwID0gZnVuY3Rpb24gU3RlcCAoKSB7fTtcblxuU3RlcC5wcm90b3R5cGUuYXBwbHkgPSBmdW5jdGlvbiBhcHBseSAoX2RvYykgeyByZXR1cm4gbXVzdE92ZXJyaWRlKCkgfTtcblxuLy8gOjogKCkg4oaSIFN0ZXBNYXBcbi8vIEdldCB0aGUgc3RlcCBtYXAgdGhhdCByZXByZXNlbnRzIHRoZSBjaGFuZ2VzIG1hZGUgYnkgdGhpcyBzdGVwLFxuLy8gYW5kIHdoaWNoIGNhbiBiZSB1c2VkIHRvIHRyYW5zZm9ybSBiZXR3ZWVuIHBvc2l0aW9ucyBpbiB0aGUgb2xkXG4vLyBhbmQgdGhlIG5ldyBkb2N1bWVudC5cblN0ZXAucHJvdG90eXBlLmdldE1hcCA9IGZ1bmN0aW9uIGdldE1hcCAoKSB7IHJldHVybiBTdGVwTWFwLmVtcHR5IH07XG5cbi8vIDo6IChkb2M6IE5vZGUpIOKGkiBTdGVwXG4vLyBDcmVhdGUgYW4gaW52ZXJ0ZWQgdmVyc2lvbiBvZiB0aGlzIHN0ZXAuIE5lZWRzIHRoZSBkb2N1bWVudCBhcyBpdFxuLy8gd2FzIGJlZm9yZSB0aGUgc3RlcCBhcyBhcmd1bWVudC5cblN0ZXAucHJvdG90eXBlLmludmVydCA9IGZ1bmN0aW9uIGludmVydCAoX2RvYykgeyByZXR1cm4gbXVzdE92ZXJyaWRlKCkgfTtcblxuLy8gOjogKG1hcHBpbmc6IE1hcHBhYmxlKSDihpIgP1N0ZXBcbi8vIE1hcCB0aGlzIHN0ZXAgdGhyb3VnaCBhIG1hcHBhYmxlIHRoaW5nLCByZXR1cm5pbmcgZWl0aGVyIGFcbi8vIHZlcnNpb24gb2YgdGhhdCBzdGVwIHdpdGggaXRzIHBvc2l0aW9ucyBhZGp1c3RlZCwgb3IgYG51bGxgIGlmXG4vLyB0aGUgc3RlcCB3YXMgZW50aXJlbHkgZGVsZXRlZCBieSB0aGUgbWFwcGluZy5cblN0ZXAucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIG1hcCAoX21hcHBpbmcpIHsgcmV0dXJuIG11c3RPdmVycmlkZSgpIH07XG5cbi8vIDo6IChvdGhlcjogU3RlcCkg4oaSID9TdGVwXG4vLyBUcnkgdG8gbWVyZ2UgdGhpcyBzdGVwIHdpdGggYW5vdGhlciBvbmUsIHRvIGJlIGFwcGxpZWQgZGlyZWN0bHlcbi8vIGFmdGVyIGl0LiBSZXR1cm5zIHRoZSBtZXJnZWQgc3RlcCB3aGVuIHBvc3NpYmxlLCBudWxsIGlmIHRoZVxuLy8gc3RlcHMgY2FuJ3QgYmUgbWVyZ2VkLlxuU3RlcC5wcm90b3R5cGUubWVyZ2UgPSBmdW5jdGlvbiBtZXJnZSAoX290aGVyKSB7IHJldHVybiBudWxsIH07XG5cbi8vIDo6ICgpIOKGkiBPYmplY3Rcbi8vIENyZWF0ZSBhIEpTT04tc2VyaWFsaXplYWJsZSByZXByZXNlbnRhdGlvbiBvZiB0aGlzIHN0ZXAuIFdoZW5cbi8vIGRlZmluaW5nIHRoaXMgZm9yIGEgY3VzdG9tIHN1YmNsYXNzLCBtYWtlIHN1cmUgdGhlIHJlc3VsdCBvYmplY3Rcbi8vIGluY2x1ZGVzIHRoZSBzdGVwIHR5cGUncyBbSlNPTiBpZF0oI3RyYW5zZm9ybS5TdGVwXmpzb25JRCkgdW5kZXJcbi8vIHRoZSBgc3RlcFR5cGVgIHByb3BlcnR5LlxuU3RlcC5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gdG9KU09OICgpIHsgcmV0dXJuIG11c3RPdmVycmlkZSgpIH07XG5cbi8vIDo6IChTY2hlbWEsIE9iamVjdCkg4oaSIFN0ZXBcbi8vIERlc2VyaWFsaXplIGEgc3RlcCBmcm9tIGl0cyBKU09OIHJlcHJlc2VudGF0aW9uLiBXaWxsIGNhbGxcbi8vIHRocm91Z2ggdG8gdGhlIHN0ZXAgY2xhc3MnIG93biBpbXBsZW1lbnRhdGlvbiBvZiB0aGlzIG1ldGhvZC5cblN0ZXAuZnJvbUpTT04gPSBmdW5jdGlvbiBmcm9tSlNPTiAoc2NoZW1hLCBqc29uKSB7XG4gIGlmICghanNvbiB8fCAhanNvbi5zdGVwVHlwZSkgeyB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkludmFsaWQgaW5wdXQgZm9yIFN0ZXAuZnJvbUpTT05cIikgfVxuICB2YXIgdHlwZSA9IHN0ZXBzQnlJRFtqc29uLnN0ZXBUeXBlXTtcbiAgaWYgKCF0eXBlKSB7IHRocm93IG5ldyBSYW5nZUVycm9yKChcIk5vIHN0ZXAgdHlwZSBcIiArIChqc29uLnN0ZXBUeXBlKSArIFwiIGRlZmluZWRcIikpIH1cbiAgcmV0dXJuIHR5cGUuZnJvbUpTT04oc2NoZW1hLCBqc29uKVxufTtcblxuLy8gOjogKHN0cmluZywgY29uc3RydWN0b3I8U3RlcD4pXG4vLyBUbyBiZSBhYmxlIHRvIHNlcmlhbGl6ZSBzdGVwcyB0byBKU09OLCBlYWNoIHN0ZXAgbmVlZHMgYSBzdHJpbmdcbi8vIElEIHRvIGF0dGFjaCB0byBpdHMgSlNPTiByZXByZXNlbnRhdGlvbi4gVXNlIHRoaXMgbWV0aG9kIHRvXG4vLyByZWdpc3RlciBhbiBJRCBmb3IgeW91ciBzdGVwIGNsYXNzZXMuIFRyeSB0byBwaWNrIHNvbWV0aGluZ1xuLy8gdGhhdCdzIHVubGlrZWx5IHRvIGNsYXNoIHdpdGggc3RlcHMgZnJvbSBvdGhlciBtb2R1bGVzLlxuU3RlcC5qc29uSUQgPSBmdW5jdGlvbiBqc29uSUQgKGlkLCBzdGVwQ2xhc3MpIHtcbiAgaWYgKGlkIGluIHN0ZXBzQnlJRCkgeyB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkR1cGxpY2F0ZSB1c2Ugb2Ygc3RlcCBKU09OIElEIFwiICsgaWQpIH1cbiAgc3RlcHNCeUlEW2lkXSA9IHN0ZXBDbGFzcztcbiAgc3RlcENsYXNzLnByb3RvdHlwZS5qc29uSUQgPSBpZDtcbiAgcmV0dXJuIHN0ZXBDbGFzc1xufTtcblxuLy8gOjotIFRoZSByZXN1bHQgb2YgW2FwcGx5aW5nXSgjdHJhbnNmb3JtLlN0ZXAuYXBwbHkpIGEgc3RlcC4gQ29udGFpbnMgZWl0aGVyIGFcbi8vIG5ldyBkb2N1bWVudCBvciBhIGZhaWx1cmUgdmFsdWUuXG52YXIgU3RlcFJlc3VsdCA9IGZ1bmN0aW9uIFN0ZXBSZXN1bHQoZG9jLCBmYWlsZWQpIHtcbiAgLy8gOjogP05vZGUgVGhlIHRyYW5zZm9ybWVkIGRvY3VtZW50LlxuICB0aGlzLmRvYyA9IGRvYztcbiAgLy8gOjogP3N0cmluZyBUZXh0IHByb3ZpZGluZyBpbmZvcm1hdGlvbiBhYm91dCBhIGZhaWxlZCBzdGVwLlxuICB0aGlzLmZhaWxlZCA9IGZhaWxlZDtcbn07XG5cbi8vIDo6IChOb2RlKSDihpIgU3RlcFJlc3VsdFxuLy8gQ3JlYXRlIGEgc3VjY2Vzc2Z1bCBzdGVwIHJlc3VsdC5cblN0ZXBSZXN1bHQub2sgPSBmdW5jdGlvbiBvayAoZG9jKSB7IHJldHVybiBuZXcgU3RlcFJlc3VsdChkb2MsIG51bGwpIH07XG5cbi8vIDo6IChzdHJpbmcpIOKGkiBTdGVwUmVzdWx0XG4vLyBDcmVhdGUgYSBmYWlsZWQgc3RlcCByZXN1bHQuXG5TdGVwUmVzdWx0LmZhaWwgPSBmdW5jdGlvbiBmYWlsIChtZXNzYWdlKSB7IHJldHVybiBuZXcgU3RlcFJlc3VsdChudWxsLCBtZXNzYWdlKSB9O1xuXG4vLyA6OiAoTm9kZSwgbnVtYmVyLCBudW1iZXIsIFNsaWNlKSDihpIgU3RlcFJlc3VsdFxuLy8gQ2FsbCBbYE5vZGUucmVwbGFjZWBdKCNtb2RlbC5Ob2RlLnJlcGxhY2UpIHdpdGggdGhlIGdpdmVuXG4vLyBhcmd1bWVudHMuIENyZWF0ZSBhIHN1Y2Nlc3NmdWwgcmVzdWx0IGlmIGl0IHN1Y2NlZWRzLCBhbmQgYVxuLy8gZmFpbGVkIG9uZSBpZiBpdCB0aHJvd3MgYSBgUmVwbGFjZUVycm9yYC5cblN0ZXBSZXN1bHQuZnJvbVJlcGxhY2UgPSBmdW5jdGlvbiBmcm9tUmVwbGFjZSAoZG9jLCBmcm9tLCB0bywgc2xpY2UpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gU3RlcFJlc3VsdC5vayhkb2MucmVwbGFjZShmcm9tLCB0bywgc2xpY2UpKVxuICB9IGNhdGNoIChlKSB7XG4gICAgaWYgKGUgaW5zdGFuY2VvZiBwcm9zZW1pcnJvck1vZGVsLlJlcGxhY2VFcnJvcikgeyByZXR1cm4gU3RlcFJlc3VsdC5mYWlsKGUubWVzc2FnZSkgfVxuICAgIHRocm93IGVcbiAgfVxufTtcblxuLy8gOjotIFJlcGxhY2UgYSBwYXJ0IG9mIHRoZSBkb2N1bWVudCB3aXRoIGEgc2xpY2Ugb2YgbmV3IGNvbnRlbnQuXG52YXIgUmVwbGFjZVN0ZXAgPSAoZnVuY3Rpb24gKFN0ZXAkJDEpIHtcbiAgZnVuY3Rpb24gUmVwbGFjZVN0ZXAoZnJvbSwgdG8sIHNsaWNlLCBzdHJ1Y3R1cmUpIHtcbiAgICBTdGVwJCQxLmNhbGwodGhpcyk7XG4gICAgdGhpcy5mcm9tID0gZnJvbTtcbiAgICB0aGlzLnRvID0gdG87XG4gICAgdGhpcy5zbGljZSA9IHNsaWNlO1xuICAgIHRoaXMuc3RydWN0dXJlID0gISFzdHJ1Y3R1cmU7XG4gIH1cblxuICBpZiAoIFN0ZXAkJDEgKSBSZXBsYWNlU3RlcC5fX3Byb3RvX18gPSBTdGVwJCQxO1xuICBSZXBsYWNlU3RlcC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBTdGVwJCQxICYmIFN0ZXAkJDEucHJvdG90eXBlICk7XG4gIFJlcGxhY2VTdGVwLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFJlcGxhY2VTdGVwO1xuXG4gIFJlcGxhY2VTdGVwLnByb3RvdHlwZS5hcHBseSA9IGZ1bmN0aW9uIGFwcGx5IChkb2MpIHtcbiAgICBpZiAodGhpcy5zdHJ1Y3R1cmUgJiYgY29udGVudEJldHdlZW4oZG9jLCB0aGlzLmZyb20sIHRoaXMudG8pKVxuICAgICAgeyByZXR1cm4gU3RlcFJlc3VsdC5mYWlsKFwiU3RydWN0dXJlIHJlcGxhY2Ugd291bGQgb3ZlcndyaXRlIGNvbnRlbnRcIikgfVxuICAgIHJldHVybiBTdGVwUmVzdWx0LmZyb21SZXBsYWNlKGRvYywgdGhpcy5mcm9tLCB0aGlzLnRvLCB0aGlzLnNsaWNlKVxuICB9O1xuXG4gIFJlcGxhY2VTdGVwLnByb3RvdHlwZS5nZXRNYXAgPSBmdW5jdGlvbiBnZXRNYXAgKCkge1xuICAgIHJldHVybiBuZXcgU3RlcE1hcChbdGhpcy5mcm9tLCB0aGlzLnRvIC0gdGhpcy5mcm9tLCB0aGlzLnNsaWNlLnNpemVdKVxuICB9O1xuXG4gIFJlcGxhY2VTdGVwLnByb3RvdHlwZS5pbnZlcnQgPSBmdW5jdGlvbiBpbnZlcnQgKGRvYykge1xuICAgIHJldHVybiBuZXcgUmVwbGFjZVN0ZXAodGhpcy5mcm9tLCB0aGlzLmZyb20gKyB0aGlzLnNsaWNlLnNpemUsIGRvYy5zbGljZSh0aGlzLmZyb20sIHRoaXMudG8pKVxuICB9O1xuXG4gIFJlcGxhY2VTdGVwLnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiBtYXAgKG1hcHBpbmcpIHtcbiAgICB2YXIgZnJvbSA9IG1hcHBpbmcubWFwUmVzdWx0KHRoaXMuZnJvbSwgMSksIHRvID0gbWFwcGluZy5tYXBSZXN1bHQodGhpcy50bywgLTEpO1xuICAgIGlmIChmcm9tLmRlbGV0ZWQgJiYgdG8uZGVsZXRlZCkgeyByZXR1cm4gbnVsbCB9XG4gICAgcmV0dXJuIG5ldyBSZXBsYWNlU3RlcChmcm9tLnBvcywgTWF0aC5tYXgoZnJvbS5wb3MsIHRvLnBvcyksIHRoaXMuc2xpY2UpXG4gIH07XG5cbiAgUmVwbGFjZVN0ZXAucHJvdG90eXBlLm1lcmdlID0gZnVuY3Rpb24gbWVyZ2UgKG90aGVyKSB7XG4gICAgaWYgKCEob3RoZXIgaW5zdGFuY2VvZiBSZXBsYWNlU3RlcCkgfHwgb3RoZXIuc3RydWN0dXJlICE9IHRoaXMuc3RydWN0dXJlKSB7IHJldHVybiBudWxsIH1cblxuICAgIGlmICh0aGlzLmZyb20gKyB0aGlzLnNsaWNlLnNpemUgPT0gb3RoZXIuZnJvbSAmJiAhdGhpcy5zbGljZS5vcGVuRW5kICYmICFvdGhlci5zbGljZS5vcGVuU3RhcnQpIHtcbiAgICAgIHZhciBzbGljZSA9IHRoaXMuc2xpY2Uuc2l6ZSArIG90aGVyLnNsaWNlLnNpemUgPT0gMCA/IHByb3NlbWlycm9yTW9kZWwuU2xpY2UuZW1wdHlcbiAgICAgICAgICA6IG5ldyBwcm9zZW1pcnJvck1vZGVsLlNsaWNlKHRoaXMuc2xpY2UuY29udGVudC5hcHBlbmQob3RoZXIuc2xpY2UuY29udGVudCksIHRoaXMuc2xpY2Uub3BlblN0YXJ0LCBvdGhlci5zbGljZS5vcGVuRW5kKTtcbiAgICAgIHJldHVybiBuZXcgUmVwbGFjZVN0ZXAodGhpcy5mcm9tLCB0aGlzLnRvICsgKG90aGVyLnRvIC0gb3RoZXIuZnJvbSksIHNsaWNlLCB0aGlzLnN0cnVjdHVyZSlcbiAgICB9IGVsc2UgaWYgKG90aGVyLnRvID09IHRoaXMuZnJvbSAmJiAhdGhpcy5zbGljZS5vcGVuU3RhcnQgJiYgIW90aGVyLnNsaWNlLm9wZW5FbmQpIHtcbiAgICAgIHZhciBzbGljZSQxID0gdGhpcy5zbGljZS5zaXplICsgb3RoZXIuc2xpY2Uuc2l6ZSA9PSAwID8gcHJvc2VtaXJyb3JNb2RlbC5TbGljZS5lbXB0eVxuICAgICAgICAgIDogbmV3IHByb3NlbWlycm9yTW9kZWwuU2xpY2Uob3RoZXIuc2xpY2UuY29udGVudC5hcHBlbmQodGhpcy5zbGljZS5jb250ZW50KSwgb3RoZXIuc2xpY2Uub3BlblN0YXJ0LCB0aGlzLnNsaWNlLm9wZW5FbmQpO1xuICAgICAgcmV0dXJuIG5ldyBSZXBsYWNlU3RlcChvdGhlci5mcm9tLCB0aGlzLnRvLCBzbGljZSQxLCB0aGlzLnN0cnVjdHVyZSlcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH07XG5cbiAgUmVwbGFjZVN0ZXAucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uIHRvSlNPTiAoKSB7XG4gICAgdmFyIGpzb24gPSB7c3RlcFR5cGU6IFwicmVwbGFjZVwiLCBmcm9tOiB0aGlzLmZyb20sIHRvOiB0aGlzLnRvfTtcbiAgICBpZiAodGhpcy5zbGljZS5zaXplKSB7IGpzb24uc2xpY2UgPSB0aGlzLnNsaWNlLnRvSlNPTigpOyB9XG4gICAgaWYgKHRoaXMuc3RydWN0dXJlKSB7IGpzb24uc3RydWN0dXJlID0gdHJ1ZTsgfVxuICAgIHJldHVybiBqc29uXG4gIH07XG5cbiAgUmVwbGFjZVN0ZXAuZnJvbUpTT04gPSBmdW5jdGlvbiBmcm9tSlNPTiAoc2NoZW1hLCBqc29uKSB7XG4gICAgaWYgKHR5cGVvZiBqc29uLmZyb20gIT0gXCJudW1iZXJcIiB8fCB0eXBlb2YganNvbi50byAhPSBcIm51bWJlclwiKVxuICAgICAgeyB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkludmFsaWQgaW5wdXQgZm9yIFJlcGxhY2VTdGVwLmZyb21KU09OXCIpIH1cbiAgICByZXR1cm4gbmV3IFJlcGxhY2VTdGVwKGpzb24uZnJvbSwganNvbi50bywgcHJvc2VtaXJyb3JNb2RlbC5TbGljZS5mcm9tSlNPTihzY2hlbWEsIGpzb24uc2xpY2UpLCAhIWpzb24uc3RydWN0dXJlKVxuICB9O1xuXG4gIHJldHVybiBSZXBsYWNlU3RlcDtcbn0oU3RlcCkpO1xuXG5TdGVwLmpzb25JRChcInJlcGxhY2VcIiwgUmVwbGFjZVN0ZXApO1xuXG4vLyA6Oi0gUmVwbGFjZSBhIHBhcnQgb2YgdGhlIGRvY3VtZW50IHdpdGggYSBzbGljZSBvZiBjb250ZW50LCBidXRcbi8vIHByZXNlcnZlIGEgcmFuZ2Ugb2YgdGhlIHJlcGxhY2VkIGNvbnRlbnQgYnkgbW92aW5nIGl0IGludG8gdGhlXG4vLyBzbGljZS5cbnZhciBSZXBsYWNlQXJvdW5kU3RlcCA9IChmdW5jdGlvbiAoU3RlcCQkMSkge1xuICBmdW5jdGlvbiBSZXBsYWNlQXJvdW5kU3RlcChmcm9tLCB0bywgZ2FwRnJvbSwgZ2FwVG8sIHNsaWNlLCBpbnNlcnQsIHN0cnVjdHVyZSkge1xuICAgIFN0ZXAkJDEuY2FsbCh0aGlzKTtcbiAgICB0aGlzLmZyb20gPSBmcm9tO1xuICAgIHRoaXMudG8gPSB0bztcbiAgICB0aGlzLmdhcEZyb20gPSBnYXBGcm9tO1xuICAgIHRoaXMuZ2FwVG8gPSBnYXBUbztcbiAgICB0aGlzLnNsaWNlID0gc2xpY2U7XG4gICAgdGhpcy5pbnNlcnQgPSBpbnNlcnQ7XG4gICAgdGhpcy5zdHJ1Y3R1cmUgPSAhIXN0cnVjdHVyZTtcbiAgfVxuXG4gIGlmICggU3RlcCQkMSApIFJlcGxhY2VBcm91bmRTdGVwLl9fcHJvdG9fXyA9IFN0ZXAkJDE7XG4gIFJlcGxhY2VBcm91bmRTdGVwLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFN0ZXAkJDEgJiYgU3RlcCQkMS5wcm90b3R5cGUgKTtcbiAgUmVwbGFjZUFyb3VuZFN0ZXAucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUmVwbGFjZUFyb3VuZFN0ZXA7XG5cbiAgUmVwbGFjZUFyb3VuZFN0ZXAucHJvdG90eXBlLmFwcGx5ID0gZnVuY3Rpb24gYXBwbHkgKGRvYykge1xuICAgIGlmICh0aGlzLnN0cnVjdHVyZSAmJiAoY29udGVudEJldHdlZW4oZG9jLCB0aGlzLmZyb20sIHRoaXMuZ2FwRnJvbSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRCZXR3ZWVuKGRvYywgdGhpcy5nYXBUbywgdGhpcy50bykpKVxuICAgICAgeyByZXR1cm4gU3RlcFJlc3VsdC5mYWlsKFwiU3RydWN0dXJlIGdhcC1yZXBsYWNlIHdvdWxkIG92ZXJ3cml0ZSBjb250ZW50XCIpIH1cblxuICAgIHZhciBnYXAgPSBkb2Muc2xpY2UodGhpcy5nYXBGcm9tLCB0aGlzLmdhcFRvKTtcbiAgICBpZiAoZ2FwLm9wZW5TdGFydCB8fCBnYXAub3BlbkVuZClcbiAgICAgIHsgcmV0dXJuIFN0ZXBSZXN1bHQuZmFpbChcIkdhcCBpcyBub3QgYSBmbGF0IHJhbmdlXCIpIH1cbiAgICB2YXIgaW5zZXJ0ZWQgPSB0aGlzLnNsaWNlLmluc2VydEF0KHRoaXMuaW5zZXJ0LCBnYXAuY29udGVudCk7XG4gICAgaWYgKCFpbnNlcnRlZCkgeyByZXR1cm4gU3RlcFJlc3VsdC5mYWlsKFwiQ29udGVudCBkb2VzIG5vdCBmaXQgaW4gZ2FwXCIpIH1cbiAgICByZXR1cm4gU3RlcFJlc3VsdC5mcm9tUmVwbGFjZShkb2MsIHRoaXMuZnJvbSwgdGhpcy50bywgaW5zZXJ0ZWQpXG4gIH07XG5cbiAgUmVwbGFjZUFyb3VuZFN0ZXAucHJvdG90eXBlLmdldE1hcCA9IGZ1bmN0aW9uIGdldE1hcCAoKSB7XG4gICAgcmV0dXJuIG5ldyBTdGVwTWFwKFt0aGlzLmZyb20sIHRoaXMuZ2FwRnJvbSAtIHRoaXMuZnJvbSwgdGhpcy5pbnNlcnQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdhcFRvLCB0aGlzLnRvIC0gdGhpcy5nYXBUbywgdGhpcy5zbGljZS5zaXplIC0gdGhpcy5pbnNlcnRdKVxuICB9O1xuXG4gIFJlcGxhY2VBcm91bmRTdGVwLnByb3RvdHlwZS5pbnZlcnQgPSBmdW5jdGlvbiBpbnZlcnQgKGRvYykge1xuICAgIHZhciBnYXAgPSB0aGlzLmdhcFRvIC0gdGhpcy5nYXBGcm9tO1xuICAgIHJldHVybiBuZXcgUmVwbGFjZUFyb3VuZFN0ZXAodGhpcy5mcm9tLCB0aGlzLmZyb20gKyB0aGlzLnNsaWNlLnNpemUgKyBnYXAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZyb20gKyB0aGlzLmluc2VydCwgdGhpcy5mcm9tICsgdGhpcy5pbnNlcnQgKyBnYXAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2Muc2xpY2UodGhpcy5mcm9tLCB0aGlzLnRvKS5yZW1vdmVCZXR3ZWVuKHRoaXMuZ2FwRnJvbSAtIHRoaXMuZnJvbSwgdGhpcy5nYXBUbyAtIHRoaXMuZnJvbSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdhcEZyb20gLSB0aGlzLmZyb20sIHRoaXMuc3RydWN0dXJlKVxuICB9O1xuXG4gIFJlcGxhY2VBcm91bmRTdGVwLnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiBtYXAgKG1hcHBpbmcpIHtcbiAgICB2YXIgZnJvbSA9IG1hcHBpbmcubWFwUmVzdWx0KHRoaXMuZnJvbSwgMSksIHRvID0gbWFwcGluZy5tYXBSZXN1bHQodGhpcy50bywgLTEpO1xuICAgIHZhciBnYXBGcm9tID0gbWFwcGluZy5tYXAodGhpcy5nYXBGcm9tLCAtMSksIGdhcFRvID0gbWFwcGluZy5tYXAodGhpcy5nYXBUbywgMSk7XG4gICAgaWYgKChmcm9tLmRlbGV0ZWQgJiYgdG8uZGVsZXRlZCkgfHwgZ2FwRnJvbSA8IGZyb20ucG9zIHx8IGdhcFRvID4gdG8ucG9zKSB7IHJldHVybiBudWxsIH1cbiAgICByZXR1cm4gbmV3IFJlcGxhY2VBcm91bmRTdGVwKGZyb20ucG9zLCB0by5wb3MsIGdhcEZyb20sIGdhcFRvLCB0aGlzLnNsaWNlLCB0aGlzLmluc2VydCwgdGhpcy5zdHJ1Y3R1cmUpXG4gIH07XG5cbiAgUmVwbGFjZUFyb3VuZFN0ZXAucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uIHRvSlNPTiAoKSB7XG4gICAgdmFyIGpzb24gPSB7c3RlcFR5cGU6IFwicmVwbGFjZUFyb3VuZFwiLCBmcm9tOiB0aGlzLmZyb20sIHRvOiB0aGlzLnRvLFxuICAgICAgICAgICAgICAgIGdhcEZyb206IHRoaXMuZ2FwRnJvbSwgZ2FwVG86IHRoaXMuZ2FwVG8sIGluc2VydDogdGhpcy5pbnNlcnR9O1xuICAgIGlmICh0aGlzLnNsaWNlLnNpemUpIHsganNvbi5zbGljZSA9IHRoaXMuc2xpY2UudG9KU09OKCk7IH1cbiAgICBpZiAodGhpcy5zdHJ1Y3R1cmUpIHsganNvbi5zdHJ1Y3R1cmUgPSB0cnVlOyB9XG4gICAgcmV0dXJuIGpzb25cbiAgfTtcblxuICBSZXBsYWNlQXJvdW5kU3RlcC5mcm9tSlNPTiA9IGZ1bmN0aW9uIGZyb21KU09OIChzY2hlbWEsIGpzb24pIHtcbiAgICBpZiAodHlwZW9mIGpzb24uZnJvbSAhPSBcIm51bWJlclwiIHx8IHR5cGVvZiBqc29uLnRvICE9IFwibnVtYmVyXCIgfHxcbiAgICAgICAgdHlwZW9mIGpzb24uZ2FwRnJvbSAhPSBcIm51bWJlclwiIHx8IHR5cGVvZiBqc29uLmdhcFRvICE9IFwibnVtYmVyXCIgfHwgdHlwZW9mIGpzb24uaW5zZXJ0ICE9IFwibnVtYmVyXCIpXG4gICAgICB7IHRocm93IG5ldyBSYW5nZUVycm9yKFwiSW52YWxpZCBpbnB1dCBmb3IgUmVwbGFjZUFyb3VuZFN0ZXAuZnJvbUpTT05cIikgfVxuICAgIHJldHVybiBuZXcgUmVwbGFjZUFyb3VuZFN0ZXAoanNvbi5mcm9tLCBqc29uLnRvLCBqc29uLmdhcEZyb20sIGpzb24uZ2FwVG8sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9zZW1pcnJvck1vZGVsLlNsaWNlLmZyb21KU09OKHNjaGVtYSwganNvbi5zbGljZSksIGpzb24uaW5zZXJ0LCAhIWpzb24uc3RydWN0dXJlKVxuICB9O1xuXG4gIHJldHVybiBSZXBsYWNlQXJvdW5kU3RlcDtcbn0oU3RlcCkpO1xuXG5TdGVwLmpzb25JRChcInJlcGxhY2VBcm91bmRcIiwgUmVwbGFjZUFyb3VuZFN0ZXApO1xuXG5mdW5jdGlvbiBjb250ZW50QmV0d2Vlbihkb2MsIGZyb20sIHRvKSB7XG4gIHZhciAkZnJvbSA9IGRvYy5yZXNvbHZlKGZyb20pLCBkaXN0ID0gdG8gLSBmcm9tLCBkZXB0aCA9ICRmcm9tLmRlcHRoO1xuICB3aGlsZSAoZGlzdCA+IDAgJiYgZGVwdGggPiAwICYmICRmcm9tLmluZGV4QWZ0ZXIoZGVwdGgpID09ICRmcm9tLm5vZGUoZGVwdGgpLmNoaWxkQ291bnQpIHtcbiAgICBkZXB0aC0tO1xuICAgIGRpc3QtLTtcbiAgfVxuICBpZiAoZGlzdCA+IDApIHtcbiAgICB2YXIgbmV4dCA9ICRmcm9tLm5vZGUoZGVwdGgpLm1heWJlQ2hpbGQoJGZyb20uaW5kZXhBZnRlcihkZXB0aCkpO1xuICAgIHdoaWxlIChkaXN0ID4gMCkge1xuICAgICAgaWYgKCFuZXh0IHx8IG5leHQuaXNMZWFmKSB7IHJldHVybiB0cnVlIH1cbiAgICAgIG5leHQgPSBuZXh0LmZpcnN0Q2hpbGQ7XG4gICAgICBkaXN0LS07XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZVxufVxuXG5mdW5jdGlvbiBjYW5DdXQobm9kZSwgc3RhcnQsIGVuZCkge1xuICByZXR1cm4gKHN0YXJ0ID09IDAgfHwgbm9kZS5jYW5SZXBsYWNlKHN0YXJ0LCBub2RlLmNoaWxkQ291bnQpKSAmJlxuICAgIChlbmQgPT0gbm9kZS5jaGlsZENvdW50IHx8IG5vZGUuY2FuUmVwbGFjZSgwLCBlbmQpKVxufVxuXG4vLyA6OiAoTm9kZVJhbmdlKSDihpIgP251bWJlclxuLy8gVHJ5IHRvIGZpbmQgYSB0YXJnZXQgZGVwdGggdG8gd2hpY2ggdGhlIGNvbnRlbnQgaW4gdGhlIGdpdmVuIHJhbmdlXG4vLyBjYW4gYmUgbGlmdGVkLiBXaWxsIG5vdCBnbyBhY3Jvc3Ncbi8vIFtpc29sYXRpbmddKCNtb2RlbC5Ob2RlU3BlYy5pc29sYXRpbmcpIHBhcmVudCBub2Rlcy5cbmZ1bmN0aW9uIGxpZnRUYXJnZXQocmFuZ2UpIHtcbiAgdmFyIHBhcmVudCA9IHJhbmdlLnBhcmVudDtcbiAgdmFyIGNvbnRlbnQgPSBwYXJlbnQuY29udGVudC5jdXRCeUluZGV4KHJhbmdlLnN0YXJ0SW5kZXgsIHJhbmdlLmVuZEluZGV4KTtcbiAgZm9yICh2YXIgZGVwdGggPSByYW5nZS5kZXB0aDs7IC0tZGVwdGgpIHtcbiAgICB2YXIgbm9kZSA9IHJhbmdlLiRmcm9tLm5vZGUoZGVwdGgpO1xuICAgIHZhciBpbmRleCA9IHJhbmdlLiRmcm9tLmluZGV4KGRlcHRoKSwgZW5kSW5kZXggPSByYW5nZS4kdG8uaW5kZXhBZnRlcihkZXB0aCk7XG4gICAgaWYgKGRlcHRoIDwgcmFuZ2UuZGVwdGggJiYgbm9kZS5jYW5SZXBsYWNlKGluZGV4LCBlbmRJbmRleCwgY29udGVudCkpXG4gICAgICB7IHJldHVybiBkZXB0aCB9XG4gICAgaWYgKGRlcHRoID09IDAgfHwgbm9kZS50eXBlLnNwZWMuaXNvbGF0aW5nIHx8ICFjYW5DdXQobm9kZSwgaW5kZXgsIGVuZEluZGV4KSkgeyBicmVhayB9XG4gIH1cbn1cblxuLy8gOjogKE5vZGVSYW5nZSwgbnVtYmVyKSDihpIgdGhpc1xuLy8gU3BsaXQgdGhlIGNvbnRlbnQgaW4gdGhlIGdpdmVuIHJhbmdlIG9mZiBmcm9tIGl0cyBwYXJlbnQsIGlmIHRoZXJlXG4vLyBpcyBzaWJsaW5nIGNvbnRlbnQgYmVmb3JlIG9yIGFmdGVyIGl0LCBhbmQgbW92ZSBpdCB1cCB0aGUgdHJlZSB0b1xuLy8gdGhlIGRlcHRoIHNwZWNpZmllZCBieSBgdGFyZ2V0YC4gWW91J2xsIHByb2JhYmx5IHdhbnQgdG8gdXNlXG4vLyBbYGxpZnRUYXJnZXRgXSgjdHJhbnNmb3JtLmxpZnRUYXJnZXQpIHRvIGNvbXB1dGUgYHRhcmdldGAsIHRvIG1ha2Vcbi8vIHN1cmUgdGhlIGxpZnQgaXMgdmFsaWQuXG5UcmFuc2Zvcm0ucHJvdG90eXBlLmxpZnQgPSBmdW5jdGlvbihyYW5nZSwgdGFyZ2V0KSB7XG4gIHZhciAkZnJvbSA9IHJhbmdlLiRmcm9tO1xuICB2YXIgJHRvID0gcmFuZ2UuJHRvO1xuICB2YXIgZGVwdGggPSByYW5nZS5kZXB0aDtcblxuICB2YXIgZ2FwU3RhcnQgPSAkZnJvbS5iZWZvcmUoZGVwdGggKyAxKSwgZ2FwRW5kID0gJHRvLmFmdGVyKGRlcHRoICsgMSk7XG4gIHZhciBzdGFydCA9IGdhcFN0YXJ0LCBlbmQgPSBnYXBFbmQ7XG5cbiAgdmFyIGJlZm9yZSA9IHByb3NlbWlycm9yTW9kZWwuRnJhZ21lbnQuZW1wdHksIG9wZW5TdGFydCA9IDA7XG4gIGZvciAodmFyIGQgPSBkZXB0aCwgc3BsaXR0aW5nID0gZmFsc2U7IGQgPiB0YXJnZXQ7IGQtLSlcbiAgICB7IGlmIChzcGxpdHRpbmcgfHwgJGZyb20uaW5kZXgoZCkgPiAwKSB7XG4gICAgICBzcGxpdHRpbmcgPSB0cnVlO1xuICAgICAgYmVmb3JlID0gcHJvc2VtaXJyb3JNb2RlbC5GcmFnbWVudC5mcm9tKCRmcm9tLm5vZGUoZCkuY29weShiZWZvcmUpKTtcbiAgICAgIG9wZW5TdGFydCsrO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGFydC0tO1xuICAgIH0gfVxuICB2YXIgYWZ0ZXIgPSBwcm9zZW1pcnJvck1vZGVsLkZyYWdtZW50LmVtcHR5LCBvcGVuRW5kID0gMDtcbiAgZm9yICh2YXIgZCQxID0gZGVwdGgsIHNwbGl0dGluZyQxID0gZmFsc2U7IGQkMSA+IHRhcmdldDsgZCQxLS0pXG4gICAgeyBpZiAoc3BsaXR0aW5nJDEgfHwgJHRvLmFmdGVyKGQkMSArIDEpIDwgJHRvLmVuZChkJDEpKSB7XG4gICAgICBzcGxpdHRpbmckMSA9IHRydWU7XG4gICAgICBhZnRlciA9IHByb3NlbWlycm9yTW9kZWwuRnJhZ21lbnQuZnJvbSgkdG8ubm9kZShkJDEpLmNvcHkoYWZ0ZXIpKTtcbiAgICAgIG9wZW5FbmQrKztcbiAgICB9IGVsc2Uge1xuICAgICAgZW5kKys7XG4gICAgfSB9XG5cbiAgcmV0dXJuIHRoaXMuc3RlcChuZXcgUmVwbGFjZUFyb3VuZFN0ZXAoc3RhcnQsIGVuZCwgZ2FwU3RhcnQsIGdhcEVuZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IHByb3NlbWlycm9yTW9kZWwuU2xpY2UoYmVmb3JlLmFwcGVuZChhZnRlciksIG9wZW5TdGFydCwgb3BlbkVuZCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlZm9yZS5zaXplIC0gb3BlblN0YXJ0LCB0cnVlKSlcbn07XG5cbi8vIDo6IChOb2RlUmFuZ2UsIE5vZGVUeXBlLCA/T2JqZWN0LCA/Tm9kZVJhbmdlKSDihpIgP1t7dHlwZTogTm9kZVR5cGUsIGF0dHJzOiA/T2JqZWN0fV1cbi8vIFRyeSB0byBmaW5kIGEgdmFsaWQgd2F5IHRvIHdyYXAgdGhlIGNvbnRlbnQgaW4gdGhlIGdpdmVuIHJhbmdlIGluIGFcbi8vIG5vZGUgb2YgdGhlIGdpdmVuIHR5cGUuIE1heSBpbnRyb2R1Y2UgZXh0cmEgbm9kZXMgYXJvdW5kIGFuZCBpbnNpZGVcbi8vIHRoZSB3cmFwcGVyIG5vZGUsIGlmIG5lY2Vzc2FyeS4gUmV0dXJucyBudWxsIGlmIG5vIHZhbGlkIHdyYXBwaW5nXG4vLyBjb3VsZCBiZSBmb3VuZC4gV2hlbiBgaW5uZXJSYW5nZWAgaXMgZ2l2ZW4sIHRoYXQgcmFuZ2UncyBjb250ZW50IGlzXG4vLyB1c2VkIGFzIHRoZSBjb250ZW50IHRvIGZpdCBpbnRvIHRoZSB3cmFwcGluZywgaW5zdGVhZCBvZiB0aGVcbi8vIGNvbnRlbnQgb2YgYHJhbmdlYC5cbmZ1bmN0aW9uIGZpbmRXcmFwcGluZyhyYW5nZSwgbm9kZVR5cGUsIGF0dHJzLCBpbm5lclJhbmdlKSB7XG4gIGlmICggaW5uZXJSYW5nZSA9PT0gdm9pZCAwICkgaW5uZXJSYW5nZSA9IHJhbmdlO1xuXG4gIHZhciBhcm91bmQgPSBmaW5kV3JhcHBpbmdPdXRzaWRlKHJhbmdlLCBub2RlVHlwZSk7XG4gIHZhciBpbm5lciA9IGFyb3VuZCAmJiBmaW5kV3JhcHBpbmdJbnNpZGUoaW5uZXJSYW5nZSwgbm9kZVR5cGUpO1xuICBpZiAoIWlubmVyKSB7IHJldHVybiBudWxsIH1cbiAgcmV0dXJuIGFyb3VuZC5tYXAod2l0aEF0dHJzKS5jb25jYXQoe3R5cGU6IG5vZGVUeXBlLCBhdHRyczogYXR0cnN9KS5jb25jYXQoaW5uZXIubWFwKHdpdGhBdHRycykpXG59XG5cbmZ1bmN0aW9uIHdpdGhBdHRycyh0eXBlKSB7IHJldHVybiB7dHlwZTogdHlwZSwgYXR0cnM6IG51bGx9IH1cblxuZnVuY3Rpb24gZmluZFdyYXBwaW5nT3V0c2lkZShyYW5nZSwgdHlwZSkge1xuICB2YXIgcGFyZW50ID0gcmFuZ2UucGFyZW50O1xuICB2YXIgc3RhcnRJbmRleCA9IHJhbmdlLnN0YXJ0SW5kZXg7XG4gIHZhciBlbmRJbmRleCA9IHJhbmdlLmVuZEluZGV4O1xuICB2YXIgYXJvdW5kID0gcGFyZW50LmNvbnRlbnRNYXRjaEF0KHN0YXJ0SW5kZXgpLmZpbmRXcmFwcGluZyh0eXBlKTtcbiAgaWYgKCFhcm91bmQpIHsgcmV0dXJuIG51bGwgfVxuICB2YXIgb3V0ZXIgPSBhcm91bmQubGVuZ3RoID8gYXJvdW5kWzBdIDogdHlwZTtcbiAgcmV0dXJuIHBhcmVudC5jYW5SZXBsYWNlV2l0aChzdGFydEluZGV4LCBlbmRJbmRleCwgb3V0ZXIpID8gYXJvdW5kIDogbnVsbFxufVxuXG5mdW5jdGlvbiBmaW5kV3JhcHBpbmdJbnNpZGUocmFuZ2UsIHR5cGUpIHtcbiAgdmFyIHBhcmVudCA9IHJhbmdlLnBhcmVudDtcbiAgdmFyIHN0YXJ0SW5kZXggPSByYW5nZS5zdGFydEluZGV4O1xuICB2YXIgZW5kSW5kZXggPSByYW5nZS5lbmRJbmRleDtcbiAgdmFyIGlubmVyID0gcGFyZW50LmNoaWxkKHN0YXJ0SW5kZXgpO1xuICB2YXIgaW5zaWRlID0gdHlwZS5jb250ZW50TWF0Y2guZmluZFdyYXBwaW5nKGlubmVyLnR5cGUpO1xuICBpZiAoIWluc2lkZSkgeyByZXR1cm4gbnVsbCB9XG4gIHZhciBsYXN0VHlwZSA9IGluc2lkZS5sZW5ndGggPyBpbnNpZGVbaW5zaWRlLmxlbmd0aCAtIDFdIDogdHlwZTtcbiAgdmFyIGlubmVyTWF0Y2ggPSBsYXN0VHlwZS5jb250ZW50TWF0Y2g7XG4gIGZvciAodmFyIGkgPSBzdGFydEluZGV4OyBpbm5lck1hdGNoICYmIGkgPCBlbmRJbmRleDsgaSsrKVxuICAgIHsgaW5uZXJNYXRjaCA9IGlubmVyTWF0Y2gubWF0Y2hUeXBlKHBhcmVudC5jaGlsZChpKS50eXBlKTsgfVxuICBpZiAoIWlubmVyTWF0Y2ggfHwgIWlubmVyTWF0Y2gudmFsaWRFbmQpIHsgcmV0dXJuIG51bGwgfVxuICByZXR1cm4gaW5zaWRlXG59XG5cbi8vIDo6IChOb2RlUmFuZ2UsIFt7dHlwZTogTm9kZVR5cGUsIGF0dHJzOiA/T2JqZWN0fV0pIOKGkiB0aGlzXG4vLyBXcmFwIHRoZSBnaXZlbiBbcmFuZ2VdKCNtb2RlbC5Ob2RlUmFuZ2UpIGluIHRoZSBnaXZlbiBzZXQgb2Ygd3JhcHBlcnMuXG4vLyBUaGUgd3JhcHBlcnMgYXJlIGFzc3VtZWQgdG8gYmUgdmFsaWQgaW4gdGhpcyBwb3NpdGlvbiwgYW5kIHNob3VsZFxuLy8gcHJvYmFibHkgYmUgY29tcHV0ZWQgd2l0aCBbYGZpbmRXcmFwcGluZ2BdKCN0cmFuc2Zvcm0uZmluZFdyYXBwaW5nKS5cblRyYW5zZm9ybS5wcm90b3R5cGUud3JhcCA9IGZ1bmN0aW9uKHJhbmdlLCB3cmFwcGVycykge1xuICB2YXIgY29udGVudCA9IHByb3NlbWlycm9yTW9kZWwuRnJhZ21lbnQuZW1wdHk7XG4gIGZvciAodmFyIGkgPSB3cmFwcGVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcbiAgICB7IGNvbnRlbnQgPSBwcm9zZW1pcnJvck1vZGVsLkZyYWdtZW50LmZyb20od3JhcHBlcnNbaV0udHlwZS5jcmVhdGUod3JhcHBlcnNbaV0uYXR0cnMsIGNvbnRlbnQpKTsgfVxuXG4gIHZhciBzdGFydCA9IHJhbmdlLnN0YXJ0LCBlbmQgPSByYW5nZS5lbmQ7XG4gIHJldHVybiB0aGlzLnN0ZXAobmV3IFJlcGxhY2VBcm91bmRTdGVwKHN0YXJ0LCBlbmQsIHN0YXJ0LCBlbmQsIG5ldyBwcm9zZW1pcnJvck1vZGVsLlNsaWNlKGNvbnRlbnQsIDAsIDApLCB3cmFwcGVycy5sZW5ndGgsIHRydWUpKVxufTtcblxuLy8gOjogKG51bWJlciwgP251bWJlciwgTm9kZVR5cGUsID9PYmplY3QpIOKGkiB0aGlzXG4vLyBTZXQgdGhlIHR5cGUgb2YgYWxsIHRleHRibG9ja3MgKHBhcnRseSkgYmV0d2VlbiBgZnJvbWAgYW5kIGB0b2AgdG9cbi8vIHRoZSBnaXZlbiBub2RlIHR5cGUgd2l0aCB0aGUgZ2l2ZW4gYXR0cmlidXRlcy5cblRyYW5zZm9ybS5wcm90b3R5cGUuc2V0QmxvY2tUeXBlID0gZnVuY3Rpb24oZnJvbSwgdG8sIHR5cGUsIGF0dHJzKSB7XG4gIHZhciB0aGlzJDEgPSB0aGlzO1xuICBpZiAoIHRvID09PSB2b2lkIDAgKSB0byA9IGZyb207XG5cbiAgaWYgKCF0eXBlLmlzVGV4dGJsb2NrKSB7IHRocm93IG5ldyBSYW5nZUVycm9yKFwiVHlwZSBnaXZlbiB0byBzZXRCbG9ja1R5cGUgc2hvdWxkIGJlIGEgdGV4dGJsb2NrXCIpIH1cbiAgdmFyIG1hcEZyb20gPSB0aGlzLnN0ZXBzLmxlbmd0aDtcbiAgdGhpcy5kb2Mubm9kZXNCZXR3ZWVuKGZyb20sIHRvLCBmdW5jdGlvbiAobm9kZSwgcG9zKSB7XG4gICAgaWYgKG5vZGUuaXNUZXh0YmxvY2sgJiYgIW5vZGUuaGFzTWFya3VwKHR5cGUsIGF0dHJzKSAmJiBjYW5DaGFuZ2VUeXBlKHRoaXMkMS5kb2MsIHRoaXMkMS5tYXBwaW5nLnNsaWNlKG1hcEZyb20pLm1hcChwb3MpLCB0eXBlKSkge1xuICAgICAgLy8gRW5zdXJlIGFsbCBtYXJrdXAgdGhhdCBpc24ndCBhbGxvd2VkIGluIHRoZSBuZXcgbm9kZSB0eXBlIGlzIGNsZWFyZWRcbiAgICAgIHRoaXMkMS5jbGVhckluY29tcGF0aWJsZSh0aGlzJDEubWFwcGluZy5zbGljZShtYXBGcm9tKS5tYXAocG9zLCAxKSwgdHlwZSk7XG4gICAgICB2YXIgbWFwcGluZyA9IHRoaXMkMS5tYXBwaW5nLnNsaWNlKG1hcEZyb20pO1xuICAgICAgdmFyIHN0YXJ0TSA9IG1hcHBpbmcubWFwKHBvcywgMSksIGVuZE0gPSBtYXBwaW5nLm1hcChwb3MgKyBub2RlLm5vZGVTaXplLCAxKTtcbiAgICAgIHRoaXMkMS5zdGVwKG5ldyBSZXBsYWNlQXJvdW5kU3RlcChzdGFydE0sIGVuZE0sIHN0YXJ0TSArIDEsIGVuZE0gLSAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgcHJvc2VtaXJyb3JNb2RlbC5TbGljZShwcm9zZW1pcnJvck1vZGVsLkZyYWdtZW50LmZyb20odHlwZS5jcmVhdGUoYXR0cnMsIG51bGwsIG5vZGUubWFya3MpKSwgMCwgMCksIDEsIHRydWUpKTtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgfSk7XG4gIHJldHVybiB0aGlzXG59O1xuXG5mdW5jdGlvbiBjYW5DaGFuZ2VUeXBlKGRvYywgcG9zLCB0eXBlKSB7XG4gIHZhciAkcG9zID0gZG9jLnJlc29sdmUocG9zKSwgaW5kZXggPSAkcG9zLmluZGV4KCk7XG4gIHJldHVybiAkcG9zLnBhcmVudC5jYW5SZXBsYWNlV2l0aChpbmRleCwgaW5kZXggKyAxLCB0eXBlKVxufVxuXG4vLyA6OiAobnVtYmVyLCA/Tm9kZVR5cGUsID9PYmplY3QsID9bTWFya10pIOKGkiB0aGlzXG4vLyBDaGFuZ2UgdGhlIHR5cGUsIGF0dHJpYnV0ZXMsIGFuZC9vciBtYXJrcyBvZiB0aGUgbm9kZSBhdCBgcG9zYC5cbi8vIFdoZW4gYHR5cGVgIGlzbid0IGdpdmVuLCB0aGUgZXhpc3Rpbmcgbm9kZSB0eXBlIGlzIHByZXNlcnZlZCxcblRyYW5zZm9ybS5wcm90b3R5cGUuc2V0Tm9kZU1hcmt1cCA9IGZ1bmN0aW9uKHBvcywgdHlwZSwgYXR0cnMsIG1hcmtzKSB7XG4gIHZhciBub2RlID0gdGhpcy5kb2Mubm9kZUF0KHBvcyk7XG4gIGlmICghbm9kZSkgeyB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIk5vIG5vZGUgYXQgZ2l2ZW4gcG9zaXRpb25cIikgfVxuICBpZiAoIXR5cGUpIHsgdHlwZSA9IG5vZGUudHlwZTsgfVxuICB2YXIgbmV3Tm9kZSA9IHR5cGUuY3JlYXRlKGF0dHJzLCBudWxsLCBtYXJrcyB8fCBub2RlLm1hcmtzKTtcbiAgaWYgKG5vZGUuaXNMZWFmKVxuICAgIHsgcmV0dXJuIHRoaXMucmVwbGFjZVdpdGgocG9zLCBwb3MgKyBub2RlLm5vZGVTaXplLCBuZXdOb2RlKSB9XG5cbiAgaWYgKCF0eXBlLnZhbGlkQ29udGVudChub2RlLmNvbnRlbnQpKVxuICAgIHsgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbnZhbGlkIGNvbnRlbnQgZm9yIG5vZGUgdHlwZSBcIiArIHR5cGUubmFtZSkgfVxuXG4gIHJldHVybiB0aGlzLnN0ZXAobmV3IFJlcGxhY2VBcm91bmRTdGVwKHBvcywgcG9zICsgbm9kZS5ub2RlU2l6ZSwgcG9zICsgMSwgcG9zICsgbm9kZS5ub2RlU2l6ZSAtIDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBwcm9zZW1pcnJvck1vZGVsLlNsaWNlKHByb3NlbWlycm9yTW9kZWwuRnJhZ21lbnQuZnJvbShuZXdOb2RlKSwgMCwgMCksIDEsIHRydWUpKVxufTtcblxuLy8gOjogKE5vZGUsIG51bWJlciwgbnVtYmVyLCA/Wz97dHlwZTogTm9kZVR5cGUsIGF0dHJzOiA/T2JqZWN0fV0pIOKGkiBib29sXG4vLyBDaGVjayB3aGV0aGVyIHNwbGl0dGluZyBhdCB0aGUgZ2l2ZW4gcG9zaXRpb24gaXMgYWxsb3dlZC5cbmZ1bmN0aW9uIGNhblNwbGl0KGRvYywgcG9zLCBkZXB0aCwgdHlwZXNBZnRlcikge1xuICBpZiAoIGRlcHRoID09PSB2b2lkIDAgKSBkZXB0aCA9IDE7XG5cbiAgdmFyICRwb3MgPSBkb2MucmVzb2x2ZShwb3MpLCBiYXNlID0gJHBvcy5kZXB0aCAtIGRlcHRoO1xuICB2YXIgaW5uZXJUeXBlID0gKHR5cGVzQWZ0ZXIgJiYgdHlwZXNBZnRlclt0eXBlc0FmdGVyLmxlbmd0aCAtIDFdKSB8fCAkcG9zLnBhcmVudDtcbiAgaWYgKGJhc2UgPCAwIHx8ICRwb3MucGFyZW50LnR5cGUuc3BlYy5pc29sYXRpbmcgfHxcbiAgICAgICEkcG9zLnBhcmVudC5jYW5SZXBsYWNlKCRwb3MuaW5kZXgoKSwgJHBvcy5wYXJlbnQuY2hpbGRDb3VudCkgfHxcbiAgICAgICFpbm5lclR5cGUudHlwZS52YWxpZENvbnRlbnQoJHBvcy5wYXJlbnQuY29udGVudC5jdXRCeUluZGV4KCRwb3MuaW5kZXgoKSwgJHBvcy5wYXJlbnQuY2hpbGRDb3VudCkpKVxuICAgIHsgcmV0dXJuIGZhbHNlIH1cbiAgZm9yICh2YXIgZCA9ICRwb3MuZGVwdGggLSAxLCBpID0gZGVwdGggLSAyOyBkID4gYmFzZTsgZC0tLCBpLS0pIHtcbiAgICB2YXIgbm9kZSA9ICRwb3Mubm9kZShkKSwgaW5kZXgkMSA9ICRwb3MuaW5kZXgoZCk7XG4gICAgaWYgKG5vZGUudHlwZS5zcGVjLmlzb2xhdGluZykgeyByZXR1cm4gZmFsc2UgfVxuICAgIHZhciByZXN0ID0gbm9kZS5jb250ZW50LmN1dEJ5SW5kZXgoaW5kZXgkMSwgbm9kZS5jaGlsZENvdW50KTtcbiAgICB2YXIgYWZ0ZXIgPSAodHlwZXNBZnRlciAmJiB0eXBlc0FmdGVyW2ldKSB8fCBub2RlO1xuICAgIGlmIChhZnRlciAhPSBub2RlKSB7IHJlc3QgPSByZXN0LnJlcGxhY2VDaGlsZCgwLCBhZnRlci50eXBlLmNyZWF0ZShhZnRlci5hdHRycykpOyB9XG4gICAgaWYgKCFub2RlLmNhblJlcGxhY2UoaW5kZXgkMSArIDEsIG5vZGUuY2hpbGRDb3VudCkgfHwgIWFmdGVyLnR5cGUudmFsaWRDb250ZW50KHJlc3QpKVxuICAgICAgeyByZXR1cm4gZmFsc2UgfVxuICB9XG4gIHZhciBpbmRleCA9ICRwb3MuaW5kZXhBZnRlcihiYXNlKTtcbiAgdmFyIGJhc2VUeXBlID0gdHlwZXNBZnRlciAmJiB0eXBlc0FmdGVyWzBdO1xuICByZXR1cm4gJHBvcy5ub2RlKGJhc2UpLmNhblJlcGxhY2VXaXRoKGluZGV4LCBpbmRleCwgYmFzZVR5cGUgPyBiYXNlVHlwZS50eXBlIDogJHBvcy5ub2RlKGJhc2UgKyAxKS50eXBlKVxufVxuXG4vLyA6OiAobnVtYmVyLCA/bnVtYmVyLCA/Wz97dHlwZTogTm9kZVR5cGUsIGF0dHJzOiA/T2JqZWN0fV0pIOKGkiB0aGlzXG4vLyBTcGxpdCB0aGUgbm9kZSBhdCB0aGUgZ2l2ZW4gcG9zaXRpb24sIGFuZCBvcHRpb25hbGx5LCBpZiBgZGVwdGhgIGlzXG4vLyBncmVhdGVyIHRoYW4gb25lLCBhbnkgbnVtYmVyIG9mIG5vZGVzIGFib3ZlIHRoYXQuIEJ5IGRlZmF1bHQsIHRoZVxuLy8gcGFydHMgc3BsaXQgb2ZmIHdpbGwgaW5oZXJpdCB0aGUgbm9kZSB0eXBlIG9mIHRoZSBvcmlnaW5hbCBub2RlLlxuLy8gVGhpcyBjYW4gYmUgY2hhbmdlZCBieSBwYXNzaW5nIGFuIGFycmF5IG9mIHR5cGVzIGFuZCBhdHRyaWJ1dGVzIHRvXG4vLyB1c2UgYWZ0ZXIgdGhlIHNwbGl0LlxuVHJhbnNmb3JtLnByb3RvdHlwZS5zcGxpdCA9IGZ1bmN0aW9uKHBvcywgZGVwdGgsIHR5cGVzQWZ0ZXIpIHtcbiAgaWYgKCBkZXB0aCA9PT0gdm9pZCAwICkgZGVwdGggPSAxO1xuXG4gIHZhciAkcG9zID0gdGhpcy5kb2MucmVzb2x2ZShwb3MpLCBiZWZvcmUgPSBwcm9zZW1pcnJvck1vZGVsLkZyYWdtZW50LmVtcHR5LCBhZnRlciA9IHByb3NlbWlycm9yTW9kZWwuRnJhZ21lbnQuZW1wdHk7XG4gIGZvciAodmFyIGQgPSAkcG9zLmRlcHRoLCBlID0gJHBvcy5kZXB0aCAtIGRlcHRoLCBpID0gZGVwdGggLSAxOyBkID4gZTsgZC0tLCBpLS0pIHtcbiAgICBiZWZvcmUgPSBwcm9zZW1pcnJvck1vZGVsLkZyYWdtZW50LmZyb20oJHBvcy5ub2RlKGQpLmNvcHkoYmVmb3JlKSk7XG4gICAgdmFyIHR5cGVBZnRlciA9IHR5cGVzQWZ0ZXIgJiYgdHlwZXNBZnRlcltpXTtcbiAgICBhZnRlciA9IHByb3NlbWlycm9yTW9kZWwuRnJhZ21lbnQuZnJvbSh0eXBlQWZ0ZXIgPyB0eXBlQWZ0ZXIudHlwZS5jcmVhdGUodHlwZUFmdGVyLmF0dHJzLCBhZnRlcikgOiAkcG9zLm5vZGUoZCkuY29weShhZnRlcikpO1xuICB9XG4gIHJldHVybiB0aGlzLnN0ZXAobmV3IFJlcGxhY2VTdGVwKHBvcywgcG9zLCBuZXcgcHJvc2VtaXJyb3JNb2RlbC5TbGljZShiZWZvcmUuYXBwZW5kKGFmdGVyKSwgZGVwdGgsIGRlcHRoLCB0cnVlKSkpXG59O1xuXG4vLyA6OiAoTm9kZSwgbnVtYmVyKSDihpIgYm9vbFxuLy8gVGVzdCB3aGV0aGVyIHRoZSBibG9ja3MgYmVmb3JlIGFuZCBhZnRlciBhIGdpdmVuIHBvc2l0aW9uIGNhbiBiZVxuLy8gam9pbmVkLlxuZnVuY3Rpb24gY2FuSm9pbihkb2MsIHBvcykge1xuICB2YXIgJHBvcyA9IGRvYy5yZXNvbHZlKHBvcyksIGluZGV4ID0gJHBvcy5pbmRleCgpO1xuICByZXR1cm4gam9pbmFibGUoJHBvcy5ub2RlQmVmb3JlLCAkcG9zLm5vZGVBZnRlcikgJiZcbiAgICAkcG9zLnBhcmVudC5jYW5SZXBsYWNlKGluZGV4LCBpbmRleCArIDEpXG59XG5cbmZ1bmN0aW9uIGpvaW5hYmxlKGEsIGIpIHtcbiAgcmV0dXJuIGEgJiYgYiAmJiAhYS5pc0xlYWYgJiYgYS5jYW5BcHBlbmQoYilcbn1cblxuLy8gOjogKE5vZGUsIG51bWJlciwgP251bWJlcikg4oaSID9udW1iZXJcbi8vIEZpbmQgYW4gYW5jZXN0b3Igb2YgdGhlIGdpdmVuIHBvc2l0aW9uIHRoYXQgY2FuIGJlIGpvaW5lZCB0byB0aGVcbi8vIGJsb2NrIGJlZm9yZSAob3IgYWZ0ZXIgaWYgYGRpcmAgaXMgcG9zaXRpdmUpLiBSZXR1cm5zIHRoZSBqb2luYWJsZVxuLy8gcG9pbnQsIGlmIGFueS5cbmZ1bmN0aW9uIGpvaW5Qb2ludChkb2MsIHBvcywgZGlyKSB7XG4gIGlmICggZGlyID09PSB2b2lkIDAgKSBkaXIgPSAtMTtcblxuICB2YXIgJHBvcyA9IGRvYy5yZXNvbHZlKHBvcyk7XG4gIGZvciAodmFyIGQgPSAkcG9zLmRlcHRoOzsgZC0tKSB7XG4gICAgdmFyIGJlZm9yZSA9ICh2b2lkIDApLCBhZnRlciA9ICh2b2lkIDApO1xuICAgIGlmIChkID09ICRwb3MuZGVwdGgpIHtcbiAgICAgIGJlZm9yZSA9ICRwb3Mubm9kZUJlZm9yZTtcbiAgICAgIGFmdGVyID0gJHBvcy5ub2RlQWZ0ZXI7XG4gICAgfSBlbHNlIGlmIChkaXIgPiAwKSB7XG4gICAgICBiZWZvcmUgPSAkcG9zLm5vZGUoZCArIDEpO1xuICAgICAgYWZ0ZXIgPSAkcG9zLm5vZGUoZCkubWF5YmVDaGlsZCgkcG9zLmluZGV4KGQpICsgMSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJlZm9yZSA9ICRwb3Mubm9kZShkKS5tYXliZUNoaWxkKCRwb3MuaW5kZXgoZCkgLSAxKTtcbiAgICAgIGFmdGVyID0gJHBvcy5ub2RlKGQgKyAxKTtcbiAgICB9XG4gICAgaWYgKGJlZm9yZSAmJiAhYmVmb3JlLmlzVGV4dGJsb2NrICYmIGpvaW5hYmxlKGJlZm9yZSwgYWZ0ZXIpKSB7IHJldHVybiBwb3MgfVxuICAgIGlmIChkID09IDApIHsgYnJlYWsgfVxuICAgIHBvcyA9IGRpciA8IDAgPyAkcG9zLmJlZm9yZShkKSA6ICRwb3MuYWZ0ZXIoZCk7XG4gIH1cbn1cblxuLy8gOjogKG51bWJlciwgP251bWJlcikg4oaSIHRoaXNcbi8vIEpvaW4gdGhlIGJsb2NrcyBhcm91bmQgdGhlIGdpdmVuIHBvc2l0aW9uLiBJZiBkZXB0aCBpcyAyLCB0aGVpclxuLy8gbGFzdCBhbmQgZmlyc3Qgc2libGluZ3MgYXJlIGFsc28gam9pbmVkLCBhbmQgc28gb24uXG5UcmFuc2Zvcm0ucHJvdG90eXBlLmpvaW4gPSBmdW5jdGlvbihwb3MsIGRlcHRoKSB7XG4gIGlmICggZGVwdGggPT09IHZvaWQgMCApIGRlcHRoID0gMTtcblxuICB2YXIgc3RlcCA9IG5ldyBSZXBsYWNlU3RlcChwb3MgLSBkZXB0aCwgcG9zICsgZGVwdGgsIHByb3NlbWlycm9yTW9kZWwuU2xpY2UuZW1wdHksIHRydWUpO1xuICByZXR1cm4gdGhpcy5zdGVwKHN0ZXApXG59O1xuXG4vLyA6OiAoTm9kZSwgbnVtYmVyLCBOb2RlVHlwZSkg4oaSID9udW1iZXJcbi8vIFRyeSB0byBmaW5kIGEgcG9pbnQgd2hlcmUgYSBub2RlIG9mIHRoZSBnaXZlbiB0eXBlIGNhbiBiZSBpbnNlcnRlZFxuLy8gbmVhciBgcG9zYCwgYnkgc2VhcmNoaW5nIHVwIHRoZSBub2RlIGhpZXJhcmNoeSB3aGVuIGBwb3NgIGl0c2VsZlxuLy8gaXNuJ3QgYSB2YWxpZCBwbGFjZSBidXQgaXMgYXQgdGhlIHN0YXJ0IG9yIGVuZCBvZiBhIG5vZGUuIFJldHVyblxuLy8gbnVsbCBpZiBubyBwb3NpdGlvbiB3YXMgZm91bmQuXG5mdW5jdGlvbiBpbnNlcnRQb2ludChkb2MsIHBvcywgbm9kZVR5cGUpIHtcbiAgdmFyICRwb3MgPSBkb2MucmVzb2x2ZShwb3MpO1xuICBpZiAoJHBvcy5wYXJlbnQuY2FuUmVwbGFjZVdpdGgoJHBvcy5pbmRleCgpLCAkcG9zLmluZGV4KCksIG5vZGVUeXBlKSkgeyByZXR1cm4gcG9zIH1cblxuICBpZiAoJHBvcy5wYXJlbnRPZmZzZXQgPT0gMClcbiAgICB7IGZvciAodmFyIGQgPSAkcG9zLmRlcHRoIC0gMTsgZCA+PSAwOyBkLS0pIHtcbiAgICAgIHZhciBpbmRleCA9ICRwb3MuaW5kZXgoZCk7XG4gICAgICBpZiAoJHBvcy5ub2RlKGQpLmNhblJlcGxhY2VXaXRoKGluZGV4LCBpbmRleCwgbm9kZVR5cGUpKSB7IHJldHVybiAkcG9zLmJlZm9yZShkICsgMSkgfVxuICAgICAgaWYgKGluZGV4ID4gMCkgeyByZXR1cm4gbnVsbCB9XG4gICAgfSB9XG4gIGlmICgkcG9zLnBhcmVudE9mZnNldCA9PSAkcG9zLnBhcmVudC5jb250ZW50LnNpemUpXG4gICAgeyBmb3IgKHZhciBkJDEgPSAkcG9zLmRlcHRoIC0gMTsgZCQxID49IDA7IGQkMS0tKSB7XG4gICAgICB2YXIgaW5kZXgkMSA9ICRwb3MuaW5kZXhBZnRlcihkJDEpO1xuICAgICAgaWYgKCRwb3Mubm9kZShkJDEpLmNhblJlcGxhY2VXaXRoKGluZGV4JDEsIGluZGV4JDEsIG5vZGVUeXBlKSkgeyByZXR1cm4gJHBvcy5hZnRlcihkJDEgKyAxKSB9XG4gICAgICBpZiAoaW5kZXgkMSA8ICRwb3Mubm9kZShkJDEpLmNoaWxkQ291bnQpIHsgcmV0dXJuIG51bGwgfVxuICAgIH0gfVxufVxuXG5mdW5jdGlvbiBtYXBGcmFnbWVudChmcmFnbWVudCwgZiwgcGFyZW50KSB7XG4gIHZhciBtYXBwZWQgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBmcmFnbWVudC5jaGlsZENvdW50OyBpKyspIHtcbiAgICB2YXIgY2hpbGQgPSBmcmFnbWVudC5jaGlsZChpKTtcbiAgICBpZiAoY2hpbGQuY29udGVudC5zaXplKSB7IGNoaWxkID0gY2hpbGQuY29weShtYXBGcmFnbWVudChjaGlsZC5jb250ZW50LCBmLCBjaGlsZCkpOyB9XG4gICAgaWYgKGNoaWxkLmlzSW5saW5lKSB7IGNoaWxkID0gZihjaGlsZCwgcGFyZW50LCBpKTsgfVxuICAgIG1hcHBlZC5wdXNoKGNoaWxkKTtcbiAgfVxuICByZXR1cm4gcHJvc2VtaXJyb3JNb2RlbC5GcmFnbWVudC5mcm9tQXJyYXkobWFwcGVkKVxufVxuXG4vLyA6Oi0gQWRkIGEgbWFyayB0byBhbGwgaW5saW5lIGNvbnRlbnQgYmV0d2VlbiB0d28gcG9zaXRpb25zLlxudmFyIEFkZE1hcmtTdGVwID0gKGZ1bmN0aW9uIChTdGVwJCQxKSB7XG4gIGZ1bmN0aW9uIEFkZE1hcmtTdGVwKGZyb20sIHRvLCBtYXJrKSB7XG4gICAgU3RlcCQkMS5jYWxsKHRoaXMpO1xuICAgIHRoaXMuZnJvbSA9IGZyb207XG4gICAgdGhpcy50byA9IHRvO1xuICAgIHRoaXMubWFyayA9IG1hcms7XG4gIH1cblxuICBpZiAoIFN0ZXAkJDEgKSBBZGRNYXJrU3RlcC5fX3Byb3RvX18gPSBTdGVwJCQxO1xuICBBZGRNYXJrU3RlcC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBTdGVwJCQxICYmIFN0ZXAkJDEucHJvdG90eXBlICk7XG4gIEFkZE1hcmtTdGVwLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEFkZE1hcmtTdGVwO1xuXG4gIEFkZE1hcmtTdGVwLnByb3RvdHlwZS5hcHBseSA9IGZ1bmN0aW9uIGFwcGx5IChkb2MpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIHZhciBvbGRTbGljZSA9IGRvYy5zbGljZSh0aGlzLmZyb20sIHRoaXMudG8pLCAkZnJvbSA9IGRvYy5yZXNvbHZlKHRoaXMuZnJvbSk7XG4gICAgdmFyIHBhcmVudCA9ICRmcm9tLm5vZGUoJGZyb20uc2hhcmVkRGVwdGgodGhpcy50bykpO1xuICAgIHZhciBzbGljZSA9IG5ldyBwcm9zZW1pcnJvck1vZGVsLlNsaWNlKG1hcEZyYWdtZW50KG9sZFNsaWNlLmNvbnRlbnQsIGZ1bmN0aW9uIChub2RlLCBwYXJlbnQpIHtcbiAgICAgIGlmICghcGFyZW50LnR5cGUuYWxsb3dzTWFya1R5cGUodGhpcyQxLm1hcmsudHlwZSkpIHsgcmV0dXJuIG5vZGUgfVxuICAgICAgcmV0dXJuIG5vZGUubWFyayh0aGlzJDEubWFyay5hZGRUb1NldChub2RlLm1hcmtzKSlcbiAgICB9LCBwYXJlbnQpLCBvbGRTbGljZS5vcGVuU3RhcnQsIG9sZFNsaWNlLm9wZW5FbmQpO1xuICAgIHJldHVybiBTdGVwUmVzdWx0LmZyb21SZXBsYWNlKGRvYywgdGhpcy5mcm9tLCB0aGlzLnRvLCBzbGljZSlcbiAgfTtcblxuICBBZGRNYXJrU3RlcC5wcm90b3R5cGUuaW52ZXJ0ID0gZnVuY3Rpb24gaW52ZXJ0ICgpIHtcbiAgICByZXR1cm4gbmV3IFJlbW92ZU1hcmtTdGVwKHRoaXMuZnJvbSwgdGhpcy50bywgdGhpcy5tYXJrKVxuICB9O1xuXG4gIEFkZE1hcmtTdGVwLnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiBtYXAgKG1hcHBpbmcpIHtcbiAgICB2YXIgZnJvbSA9IG1hcHBpbmcubWFwUmVzdWx0KHRoaXMuZnJvbSwgMSksIHRvID0gbWFwcGluZy5tYXBSZXN1bHQodGhpcy50bywgLTEpO1xuICAgIGlmIChmcm9tLmRlbGV0ZWQgJiYgdG8uZGVsZXRlZCB8fCBmcm9tLnBvcyA+PSB0by5wb3MpIHsgcmV0dXJuIG51bGwgfVxuICAgIHJldHVybiBuZXcgQWRkTWFya1N0ZXAoZnJvbS5wb3MsIHRvLnBvcywgdGhpcy5tYXJrKVxuICB9O1xuXG4gIEFkZE1hcmtTdGVwLnByb3RvdHlwZS5tZXJnZSA9IGZ1bmN0aW9uIG1lcmdlIChvdGhlcikge1xuICAgIGlmIChvdGhlciBpbnN0YW5jZW9mIEFkZE1hcmtTdGVwICYmXG4gICAgICAgIG90aGVyLm1hcmsuZXEodGhpcy5tYXJrKSAmJlxuICAgICAgICB0aGlzLmZyb20gPD0gb3RoZXIudG8gJiYgdGhpcy50byA+PSBvdGhlci5mcm9tKVxuICAgICAgeyByZXR1cm4gbmV3IEFkZE1hcmtTdGVwKE1hdGgubWluKHRoaXMuZnJvbSwgb3RoZXIuZnJvbSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWF4KHRoaXMudG8sIG90aGVyLnRvKSwgdGhpcy5tYXJrKSB9XG4gIH07XG5cbiAgQWRkTWFya1N0ZXAucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uIHRvSlNPTiAoKSB7XG4gICAgcmV0dXJuIHtzdGVwVHlwZTogXCJhZGRNYXJrXCIsIG1hcms6IHRoaXMubWFyay50b0pTT04oKSxcbiAgICAgICAgICAgIGZyb206IHRoaXMuZnJvbSwgdG86IHRoaXMudG99XG4gIH07XG5cbiAgQWRkTWFya1N0ZXAuZnJvbUpTT04gPSBmdW5jdGlvbiBmcm9tSlNPTiAoc2NoZW1hLCBqc29uKSB7XG4gICAgaWYgKHR5cGVvZiBqc29uLmZyb20gIT0gXCJudW1iZXJcIiB8fCB0eXBlb2YganNvbi50byAhPSBcIm51bWJlclwiKVxuICAgICAgeyB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkludmFsaWQgaW5wdXQgZm9yIEFkZE1hcmtTdGVwLmZyb21KU09OXCIpIH1cbiAgICByZXR1cm4gbmV3IEFkZE1hcmtTdGVwKGpzb24uZnJvbSwganNvbi50bywgc2NoZW1hLm1hcmtGcm9tSlNPTihqc29uLm1hcmspKVxuICB9O1xuXG4gIHJldHVybiBBZGRNYXJrU3RlcDtcbn0oU3RlcCkpO1xuXG5TdGVwLmpzb25JRChcImFkZE1hcmtcIiwgQWRkTWFya1N0ZXApO1xuXG4vLyA6Oi0gUmVtb3ZlIGEgbWFyayBmcm9tIGFsbCBpbmxpbmUgY29udGVudCBiZXR3ZWVuIHR3byBwb3NpdGlvbnMuXG52YXIgUmVtb3ZlTWFya1N0ZXAgPSAoZnVuY3Rpb24gKFN0ZXAkJDEpIHtcbiAgZnVuY3Rpb24gUmVtb3ZlTWFya1N0ZXAoZnJvbSwgdG8sIG1hcmspIHtcbiAgICBTdGVwJCQxLmNhbGwodGhpcyk7XG4gICAgdGhpcy5mcm9tID0gZnJvbTtcbiAgICB0aGlzLnRvID0gdG87XG4gICAgdGhpcy5tYXJrID0gbWFyaztcbiAgfVxuXG4gIGlmICggU3RlcCQkMSApIFJlbW92ZU1hcmtTdGVwLl9fcHJvdG9fXyA9IFN0ZXAkJDE7XG4gIFJlbW92ZU1hcmtTdGVwLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFN0ZXAkJDEgJiYgU3RlcCQkMS5wcm90b3R5cGUgKTtcbiAgUmVtb3ZlTWFya1N0ZXAucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUmVtb3ZlTWFya1N0ZXA7XG5cbiAgUmVtb3ZlTWFya1N0ZXAucHJvdG90eXBlLmFwcGx5ID0gZnVuY3Rpb24gYXBwbHkgKGRvYykge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgdmFyIG9sZFNsaWNlID0gZG9jLnNsaWNlKHRoaXMuZnJvbSwgdGhpcy50byk7XG4gICAgdmFyIHNsaWNlID0gbmV3IHByb3NlbWlycm9yTW9kZWwuU2xpY2UobWFwRnJhZ21lbnQob2xkU2xpY2UuY29udGVudCwgZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgIHJldHVybiBub2RlLm1hcmsodGhpcyQxLm1hcmsucmVtb3ZlRnJvbVNldChub2RlLm1hcmtzKSlcbiAgICB9KSwgb2xkU2xpY2Uub3BlblN0YXJ0LCBvbGRTbGljZS5vcGVuRW5kKTtcbiAgICByZXR1cm4gU3RlcFJlc3VsdC5mcm9tUmVwbGFjZShkb2MsIHRoaXMuZnJvbSwgdGhpcy50bywgc2xpY2UpXG4gIH07XG5cbiAgUmVtb3ZlTWFya1N0ZXAucHJvdG90eXBlLmludmVydCA9IGZ1bmN0aW9uIGludmVydCAoKSB7XG4gICAgcmV0dXJuIG5ldyBBZGRNYXJrU3RlcCh0aGlzLmZyb20sIHRoaXMudG8sIHRoaXMubWFyaylcbiAgfTtcblxuICBSZW1vdmVNYXJrU3RlcC5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gbWFwIChtYXBwaW5nKSB7XG4gICAgdmFyIGZyb20gPSBtYXBwaW5nLm1hcFJlc3VsdCh0aGlzLmZyb20sIDEpLCB0byA9IG1hcHBpbmcubWFwUmVzdWx0KHRoaXMudG8sIC0xKTtcbiAgICBpZiAoZnJvbS5kZWxldGVkICYmIHRvLmRlbGV0ZWQgfHwgZnJvbS5wb3MgPj0gdG8ucG9zKSB7IHJldHVybiBudWxsIH1cbiAgICByZXR1cm4gbmV3IFJlbW92ZU1hcmtTdGVwKGZyb20ucG9zLCB0by5wb3MsIHRoaXMubWFyaylcbiAgfTtcblxuICBSZW1vdmVNYXJrU3RlcC5wcm90b3R5cGUubWVyZ2UgPSBmdW5jdGlvbiBtZXJnZSAob3RoZXIpIHtcbiAgICBpZiAob3RoZXIgaW5zdGFuY2VvZiBSZW1vdmVNYXJrU3RlcCAmJlxuICAgICAgICBvdGhlci5tYXJrLmVxKHRoaXMubWFyaykgJiZcbiAgICAgICAgdGhpcy5mcm9tIDw9IG90aGVyLnRvICYmIHRoaXMudG8gPj0gb3RoZXIuZnJvbSlcbiAgICAgIHsgcmV0dXJuIG5ldyBSZW1vdmVNYXJrU3RlcChNYXRoLm1pbih0aGlzLmZyb20sIG90aGVyLmZyb20pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1heCh0aGlzLnRvLCBvdGhlci50byksIHRoaXMubWFyaykgfVxuICB9O1xuXG4gIFJlbW92ZU1hcmtTdGVwLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04gKCkge1xuICAgIHJldHVybiB7c3RlcFR5cGU6IFwicmVtb3ZlTWFya1wiLCBtYXJrOiB0aGlzLm1hcmsudG9KU09OKCksXG4gICAgICAgICAgICBmcm9tOiB0aGlzLmZyb20sIHRvOiB0aGlzLnRvfVxuICB9O1xuXG4gIFJlbW92ZU1hcmtTdGVwLmZyb21KU09OID0gZnVuY3Rpb24gZnJvbUpTT04gKHNjaGVtYSwganNvbikge1xuICAgIGlmICh0eXBlb2YganNvbi5mcm9tICE9IFwibnVtYmVyXCIgfHwgdHlwZW9mIGpzb24udG8gIT0gXCJudW1iZXJcIilcbiAgICAgIHsgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbnZhbGlkIGlucHV0IGZvciBSZW1vdmVNYXJrU3RlcC5mcm9tSlNPTlwiKSB9XG4gICAgcmV0dXJuIG5ldyBSZW1vdmVNYXJrU3RlcChqc29uLmZyb20sIGpzb24udG8sIHNjaGVtYS5tYXJrRnJvbUpTT04oanNvbi5tYXJrKSlcbiAgfTtcblxuICByZXR1cm4gUmVtb3ZlTWFya1N0ZXA7XG59KFN0ZXApKTtcblxuU3RlcC5qc29uSUQoXCJyZW1vdmVNYXJrXCIsIFJlbW92ZU1hcmtTdGVwKTtcblxuLy8gOjogKG51bWJlciwgbnVtYmVyLCBNYXJrKSDihpIgdGhpc1xuLy8gQWRkIHRoZSBnaXZlbiBtYXJrIHRvIHRoZSBpbmxpbmUgY29udGVudCBiZXR3ZWVuIGBmcm9tYCBhbmQgYHRvYC5cblRyYW5zZm9ybS5wcm90b3R5cGUuYWRkTWFyayA9IGZ1bmN0aW9uKGZyb20sIHRvLCBtYXJrKSB7XG4gIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gIHZhciByZW1vdmVkID0gW10sIGFkZGVkID0gW10sIHJlbW92aW5nID0gbnVsbCwgYWRkaW5nID0gbnVsbDtcbiAgdGhpcy5kb2Mubm9kZXNCZXR3ZWVuKGZyb20sIHRvLCBmdW5jdGlvbiAobm9kZSwgcG9zLCBwYXJlbnQpIHtcbiAgICBpZiAoIW5vZGUuaXNJbmxpbmUpIHsgcmV0dXJuIH1cbiAgICB2YXIgbWFya3MgPSBub2RlLm1hcmtzO1xuICAgIGlmICghbWFyay5pc0luU2V0KG1hcmtzKSAmJiBwYXJlbnQudHlwZS5hbGxvd3NNYXJrVHlwZShtYXJrLnR5cGUpKSB7XG4gICAgICB2YXIgc3RhcnQgPSBNYXRoLm1heChwb3MsIGZyb20pLCBlbmQgPSBNYXRoLm1pbihwb3MgKyBub2RlLm5vZGVTaXplLCB0byk7XG4gICAgICB2YXIgbmV3U2V0ID0gbWFyay5hZGRUb1NldChtYXJrcyk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWFya3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKCFtYXJrc1tpXS5pc0luU2V0KG5ld1NldCkpIHtcbiAgICAgICAgICBpZiAocmVtb3ZpbmcgJiYgcmVtb3ZpbmcudG8gPT0gc3RhcnQgJiYgcmVtb3ZpbmcubWFyay5lcShtYXJrc1tpXSkpXG4gICAgICAgICAgICB7IHJlbW92aW5nLnRvID0gZW5kOyB9XG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgeyByZW1vdmVkLnB1c2gocmVtb3ZpbmcgPSBuZXcgUmVtb3ZlTWFya1N0ZXAoc3RhcnQsIGVuZCwgbWFya3NbaV0pKTsgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChhZGRpbmcgJiYgYWRkaW5nLnRvID09IHN0YXJ0KVxuICAgICAgICB7IGFkZGluZy50byA9IGVuZDsgfVxuICAgICAgZWxzZVxuICAgICAgICB7IGFkZGVkLnB1c2goYWRkaW5nID0gbmV3IEFkZE1hcmtTdGVwKHN0YXJ0LCBlbmQsIG1hcmspKTsgfVxuICAgIH1cbiAgfSk7XG5cbiAgcmVtb3ZlZC5mb3JFYWNoKGZ1bmN0aW9uIChzKSB7IHJldHVybiB0aGlzJDEuc3RlcChzKTsgfSk7XG4gIGFkZGVkLmZvckVhY2goZnVuY3Rpb24gKHMpIHsgcmV0dXJuIHRoaXMkMS5zdGVwKHMpOyB9KTtcbiAgcmV0dXJuIHRoaXNcbn07XG5cbi8vIDo6IChudW1iZXIsIG51bWJlciwgP3VuaW9uPE1hcmssIE1hcmtUeXBlPikg4oaSIHRoaXNcbi8vIFJlbW92ZSBtYXJrcyBmcm9tIGlubGluZSBub2RlcyBiZXR3ZWVuIGBmcm9tYCBhbmQgYHRvYC4gV2hlbiBgbWFya2Bcbi8vIGlzIGEgc2luZ2xlIG1hcmssIHJlbW92ZSBwcmVjaXNlbHkgdGhhdCBtYXJrLiBXaGVuIGl0IGlzIGEgbWFyayB0eXBlLFxuLy8gcmVtb3ZlIGFsbCBtYXJrcyBvZiB0aGF0IHR5cGUuIFdoZW4gaXQgaXMgbnVsbCwgcmVtb3ZlIGFsbCBtYXJrcyBvZlxuLy8gYW55IHR5cGUuXG5UcmFuc2Zvcm0ucHJvdG90eXBlLnJlbW92ZU1hcmsgPSBmdW5jdGlvbihmcm9tLCB0bywgbWFyaykge1xuICB2YXIgdGhpcyQxID0gdGhpcztcbiAgaWYgKCBtYXJrID09PSB2b2lkIDAgKSBtYXJrID0gbnVsbDtcblxuICB2YXIgbWF0Y2hlZCA9IFtdLCBzdGVwID0gMDtcbiAgdGhpcy5kb2Mubm9kZXNCZXR3ZWVuKGZyb20sIHRvLCBmdW5jdGlvbiAobm9kZSwgcG9zKSB7XG4gICAgaWYgKCFub2RlLmlzSW5saW5lKSB7IHJldHVybiB9XG4gICAgc3RlcCsrO1xuICAgIHZhciB0b1JlbW92ZSA9IG51bGw7XG4gICAgaWYgKG1hcmsgaW5zdGFuY2VvZiBwcm9zZW1pcnJvck1vZGVsLk1hcmtUeXBlKSB7XG4gICAgICB2YXIgZm91bmQgPSBtYXJrLmlzSW5TZXQobm9kZS5tYXJrcyk7XG4gICAgICBpZiAoZm91bmQpIHsgdG9SZW1vdmUgPSBbZm91bmRdOyB9XG4gICAgfSBlbHNlIGlmIChtYXJrKSB7XG4gICAgICBpZiAobWFyay5pc0luU2V0KG5vZGUubWFya3MpKSB7IHRvUmVtb3ZlID0gW21hcmtdOyB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRvUmVtb3ZlID0gbm9kZS5tYXJrcztcbiAgICB9XG4gICAgaWYgKHRvUmVtb3ZlICYmIHRvUmVtb3ZlLmxlbmd0aCkge1xuICAgICAgdmFyIGVuZCA9IE1hdGgubWluKHBvcyArIG5vZGUubm9kZVNpemUsIHRvKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG9SZW1vdmUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHN0eWxlID0gdG9SZW1vdmVbaV0sIGZvdW5kJDEgPSAodm9pZCAwKTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBtYXRjaGVkLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgdmFyIG0gPSBtYXRjaGVkW2pdO1xuICAgICAgICAgIGlmIChtLnN0ZXAgPT0gc3RlcCAtIDEgJiYgc3R5bGUuZXEobWF0Y2hlZFtqXS5zdHlsZSkpIHsgZm91bmQkMSA9IG07IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZm91bmQkMSkge1xuICAgICAgICAgIGZvdW5kJDEudG8gPSBlbmQ7XG4gICAgICAgICAgZm91bmQkMS5zdGVwID0gc3RlcDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtYXRjaGVkLnB1c2goe3N0eWxlOiBzdHlsZSwgZnJvbTogTWF0aC5tYXgocG9zLCBmcm9tKSwgdG86IGVuZCwgc3RlcDogc3RlcH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgbWF0Y2hlZC5mb3JFYWNoKGZ1bmN0aW9uIChtKSB7IHJldHVybiB0aGlzJDEuc3RlcChuZXcgUmVtb3ZlTWFya1N0ZXAobS5mcm9tLCBtLnRvLCBtLnN0eWxlKSk7IH0pO1xuICByZXR1cm4gdGhpc1xufTtcblxuLy8gOjogKG51bWJlciwgTm9kZVR5cGUsID9Db250ZW50TWF0Y2gpIOKGkiB0aGlzXG4vLyBSZW1vdmVzIGFsbCBtYXJrcyBhbmQgbm9kZXMgZnJvbSB0aGUgY29udGVudCBvZiB0aGUgbm9kZSBhdCBgcG9zYFxuLy8gdGhhdCBkb24ndCBtYXRjaCB0aGUgZ2l2ZW4gbmV3IHBhcmVudCBub2RlIHR5cGUuIEFjY2VwdHMgYW5cbi8vIG9wdGlvbmFsIHN0YXJ0aW5nIFtjb250ZW50IG1hdGNoXSgjbW9kZWwuQ29udGVudE1hdGNoKSBhcyB0aGlyZFxuLy8gYXJndW1lbnQuXG5UcmFuc2Zvcm0ucHJvdG90eXBlLmNsZWFySW5jb21wYXRpYmxlID0gZnVuY3Rpb24ocG9zLCBwYXJlbnRUeXBlLCBtYXRjaCkge1xuICB2YXIgdGhpcyQxID0gdGhpcztcbiAgaWYgKCBtYXRjaCA9PT0gdm9pZCAwICkgbWF0Y2ggPSBwYXJlbnRUeXBlLmNvbnRlbnRNYXRjaDtcblxuICB2YXIgbm9kZSA9IHRoaXMuZG9jLm5vZGVBdChwb3MpO1xuICB2YXIgZGVsU3RlcHMgPSBbXSwgY3VyID0gcG9zICsgMTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlLmNoaWxkQ291bnQ7IGkrKykge1xuICAgIHZhciBjaGlsZCA9IG5vZGUuY2hpbGQoaSksIGVuZCA9IGN1ciArIGNoaWxkLm5vZGVTaXplO1xuICAgIHZhciBhbGxvd2VkID0gbWF0Y2gubWF0Y2hUeXBlKGNoaWxkLnR5cGUsIGNoaWxkLmF0dHJzKTtcbiAgICBpZiAoIWFsbG93ZWQpIHtcbiAgICAgIGRlbFN0ZXBzLnB1c2gobmV3IFJlcGxhY2VTdGVwKGN1ciwgZW5kLCBwcm9zZW1pcnJvck1vZGVsLlNsaWNlLmVtcHR5KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1hdGNoID0gYWxsb3dlZDtcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgY2hpbGQubWFya3MubGVuZ3RoOyBqKyspIHsgaWYgKCFwYXJlbnRUeXBlLmFsbG93c01hcmtUeXBlKGNoaWxkLm1hcmtzW2pdLnR5cGUpKVxuICAgICAgICB7IHRoaXMkMS5zdGVwKG5ldyBSZW1vdmVNYXJrU3RlcChjdXIsIGVuZCwgY2hpbGQubWFya3Nbal0pKTsgfSB9XG4gICAgfVxuICAgIGN1ciA9IGVuZDtcbiAgfVxuICBpZiAoIW1hdGNoLnZhbGlkRW5kKSB7XG4gICAgdmFyIGZpbGwgPSBtYXRjaC5maWxsQmVmb3JlKHByb3NlbWlycm9yTW9kZWwuRnJhZ21lbnQuZW1wdHksIHRydWUpO1xuICAgIHRoaXMucmVwbGFjZShjdXIsIGN1ciwgbmV3IHByb3NlbWlycm9yTW9kZWwuU2xpY2UoZmlsbCwgMCwgMCkpO1xuICB9XG4gIGZvciAodmFyIGkkMSA9IGRlbFN0ZXBzLmxlbmd0aCAtIDE7IGkkMSA+PSAwOyBpJDEtLSkgeyB0aGlzJDEuc3RlcChkZWxTdGVwc1tpJDFdKTsgfVxuICByZXR1cm4gdGhpc1xufTtcblxuLy8gOjogKE5vZGUsIG51bWJlciwgP251bWJlciwgP1NsaWNlKSDihpIgP1N0ZXBcbi8vIOKAmEZpdOKAmSBhIHNsaWNlIGludG8gYSBnaXZlbiBwb3NpdGlvbiBpbiB0aGUgZG9jdW1lbnQsIHByb2R1Y2luZyBhXG4vLyBbc3RlcF0oI3RyYW5zZm9ybS5TdGVwKSB0aGF0IGluc2VydHMgaXQuIFdpbGwgcmV0dXJuIG51bGwgaWZcbi8vIHRoZXJlJ3Mgbm8gbWVhbmluZ2Z1bCB3YXkgdG8gaW5zZXJ0IHRoZSBzbGljZSBoZXJlLCBvciBpbnNlcnRpbmcgaXRcbi8vIHdvdWxkIGJlIGEgbm8tb3AgKGFuIGVtcHR5IHNsaWNlIG92ZXIgYW4gZW1wdHkgcmFuZ2UpLlxuZnVuY3Rpb24gcmVwbGFjZVN0ZXAoZG9jLCBmcm9tLCB0bywgc2xpY2UpIHtcbiAgaWYgKCB0byA9PT0gdm9pZCAwICkgdG8gPSBmcm9tO1xuICBpZiAoIHNsaWNlID09PSB2b2lkIDAgKSBzbGljZSA9IHByb3NlbWlycm9yTW9kZWwuU2xpY2UuZW1wdHk7XG5cbiAgaWYgKGZyb20gPT0gdG8gJiYgIXNsaWNlLnNpemUpIHsgcmV0dXJuIG51bGwgfVxuXG4gIHZhciAkZnJvbSA9IGRvYy5yZXNvbHZlKGZyb20pLCAkdG8gPSBkb2MucmVzb2x2ZSh0byk7XG4gIC8vIE9wdGltaXphdGlvbiAtLSBhdm9pZCB3b3JrIGlmIGl0J3Mgb2J2aW91cyB0aGF0IGl0J3Mgbm90IG5lZWRlZC5cbiAgaWYgKGZpdHNUcml2aWFsbHkoJGZyb20sICR0bywgc2xpY2UpKSB7IHJldHVybiBuZXcgUmVwbGFjZVN0ZXAoZnJvbSwgdG8sIHNsaWNlKSB9XG4gIHZhciBwbGFjZWQgPSBwbGFjZVNsaWNlKCRmcm9tLCBzbGljZSk7XG5cbiAgdmFyIGZpdHRlZExlZnQgPSBmaXRMZWZ0KCRmcm9tLCBwbGFjZWQpO1xuICB2YXIgZml0dGVkID0gZml0UmlnaHQoJGZyb20sICR0bywgZml0dGVkTGVmdCk7XG4gIGlmICghZml0dGVkKSB7IHJldHVybiBudWxsIH1cbiAgaWYgKGZpdHRlZExlZnQuc2l6ZSAhPSBmaXR0ZWQuc2l6ZSAmJiBjYW5Nb3ZlVGV4dCgkZnJvbSwgJHRvLCBmaXR0ZWRMZWZ0KSkge1xuICAgIHZhciBkID0gJHRvLmRlcHRoLCBhZnRlciA9ICR0by5hZnRlcihkKTtcbiAgICB3aGlsZSAoZCA+IDEgJiYgYWZ0ZXIgPT0gJHRvLmVuZCgtLWQpKSB7ICsrYWZ0ZXI7IH1cbiAgICB2YXIgZml0dGVkQWZ0ZXIgPSBmaXRSaWdodCgkZnJvbSwgZG9jLnJlc29sdmUoYWZ0ZXIpLCBmaXR0ZWRMZWZ0KTtcbiAgICBpZiAoZml0dGVkQWZ0ZXIpXG4gICAgICB7IHJldHVybiBuZXcgUmVwbGFjZUFyb3VuZFN0ZXAoZnJvbSwgYWZ0ZXIsIHRvLCAkdG8uZW5kKCksIGZpdHRlZEFmdGVyLCBmaXR0ZWRMZWZ0LnNpemUpIH1cbiAgfVxuICByZXR1cm4gZml0dGVkLnNpemUgfHwgZnJvbSAhPSB0byA/IG5ldyBSZXBsYWNlU3RlcChmcm9tLCB0bywgZml0dGVkKSA6IG51bGxcbn1cblxuLy8gOjogKG51bWJlciwgP251bWJlciwgP1NsaWNlKSDihpIgdGhpc1xuLy8gUmVwbGFjZSB0aGUgcGFydCBvZiB0aGUgZG9jdW1lbnQgYmV0d2VlbiBgZnJvbWAgYW5kIGB0b2Agd2l0aCB0aGVcbi8vIGdpdmVuIGBzbGljZWAuXG5UcmFuc2Zvcm0ucHJvdG90eXBlLnJlcGxhY2UgPSBmdW5jdGlvbihmcm9tLCB0bywgc2xpY2UpIHtcbiAgaWYgKCB0byA9PT0gdm9pZCAwICkgdG8gPSBmcm9tO1xuICBpZiAoIHNsaWNlID09PSB2b2lkIDAgKSBzbGljZSA9IHByb3NlbWlycm9yTW9kZWwuU2xpY2UuZW1wdHk7XG5cbiAgdmFyIHN0ZXAgPSByZXBsYWNlU3RlcCh0aGlzLmRvYywgZnJvbSwgdG8sIHNsaWNlKTtcbiAgaWYgKHN0ZXApIHsgdGhpcy5zdGVwKHN0ZXApOyB9XG4gIHJldHVybiB0aGlzXG59O1xuXG4vLyA6OiAobnVtYmVyLCBudW1iZXIsIHVuaW9uPEZyYWdtZW50LCBOb2RlLCBbTm9kZV0+KSDihpIgdGhpc1xuLy8gUmVwbGFjZSB0aGUgZ2l2ZW4gcmFuZ2Ugd2l0aCB0aGUgZ2l2ZW4gY29udGVudCwgd2hpY2ggbWF5IGJlIGFcbi8vIGZyYWdtZW50LCBub2RlLCBvciBhcnJheSBvZiBub2Rlcy5cblRyYW5zZm9ybS5wcm90b3R5cGUucmVwbGFjZVdpdGggPSBmdW5jdGlvbihmcm9tLCB0bywgY29udGVudCkge1xuICByZXR1cm4gdGhpcy5yZXBsYWNlKGZyb20sIHRvLCBuZXcgcHJvc2VtaXJyb3JNb2RlbC5TbGljZShwcm9zZW1pcnJvck1vZGVsLkZyYWdtZW50LmZyb20oY29udGVudCksIDAsIDApKVxufTtcblxuLy8gOjogKG51bWJlciwgbnVtYmVyKSDihpIgdGhpc1xuLy8gRGVsZXRlIHRoZSBjb250ZW50IGJldHdlZW4gdGhlIGdpdmVuIHBvc2l0aW9ucy5cblRyYW5zZm9ybS5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24oZnJvbSwgdG8pIHtcbiAgcmV0dXJuIHRoaXMucmVwbGFjZShmcm9tLCB0bywgcHJvc2VtaXJyb3JNb2RlbC5TbGljZS5lbXB0eSlcbn07XG5cbi8vIDo6IChudW1iZXIsIHVuaW9uPEZyYWdtZW50LCBOb2RlLCBbTm9kZV0+KSDihpIgdGhpc1xuLy8gSW5zZXJ0IHRoZSBnaXZlbiBjb250ZW50IGF0IHRoZSBnaXZlbiBwb3NpdGlvbi5cblRyYW5zZm9ybS5wcm90b3R5cGUuaW5zZXJ0ID0gZnVuY3Rpb24ocG9zLCBjb250ZW50KSB7XG4gIHJldHVybiB0aGlzLnJlcGxhY2VXaXRoKHBvcywgcG9zLCBjb250ZW50KVxufTtcblxuXG5cbmZ1bmN0aW9uIGZpdExlZnRJbm5lcigkZnJvbSwgZGVwdGgsIHBsYWNlZCwgcGxhY2VkQmVsb3cpIHtcbiAgdmFyIGNvbnRlbnQgPSBwcm9zZW1pcnJvck1vZGVsLkZyYWdtZW50LmVtcHR5LCBvcGVuRW5kID0gMCwgcGxhY2VkSGVyZSA9IHBsYWNlZFtkZXB0aF07XG4gIGlmICgkZnJvbS5kZXB0aCA+IGRlcHRoKSB7XG4gICAgdmFyIGlubmVyID0gZml0TGVmdElubmVyKCRmcm9tLCBkZXB0aCArIDEsIHBsYWNlZCwgcGxhY2VkQmVsb3cgfHwgcGxhY2VkSGVyZSk7XG4gICAgb3BlbkVuZCA9IGlubmVyLm9wZW5FbmQgKyAxO1xuICAgIGNvbnRlbnQgPSBwcm9zZW1pcnJvck1vZGVsLkZyYWdtZW50LmZyb20oJGZyb20ubm9kZShkZXB0aCArIDEpLmNvcHkoaW5uZXIuY29udGVudCkpO1xuICB9XG5cbiAgaWYgKHBsYWNlZEhlcmUpIHtcbiAgICBjb250ZW50ID0gY29udGVudC5hcHBlbmQocGxhY2VkSGVyZS5jb250ZW50KTtcbiAgICBvcGVuRW5kID0gcGxhY2VkSGVyZS5vcGVuRW5kO1xuICB9XG4gIGlmIChwbGFjZWRCZWxvdykge1xuICAgIGNvbnRlbnQgPSBjb250ZW50LmFwcGVuZCgkZnJvbS5ub2RlKGRlcHRoKS5jb250ZW50TWF0Y2hBdCgkZnJvbS5pbmRleEFmdGVyKGRlcHRoKSkuZmlsbEJlZm9yZShwcm9zZW1pcnJvck1vZGVsLkZyYWdtZW50LmVtcHR5LCB0cnVlKSk7XG4gICAgb3BlbkVuZCA9IDA7XG4gIH1cblxuICByZXR1cm4ge2NvbnRlbnQ6IGNvbnRlbnQsIG9wZW5FbmQ6IG9wZW5FbmR9XG59XG5cbmZ1bmN0aW9uIGZpdExlZnQoJGZyb20sIHBsYWNlZCkge1xuICB2YXIgcmVmID0gZml0TGVmdElubmVyKCRmcm9tLCAwLCBwbGFjZWQsIGZhbHNlKTtcbiAgdmFyIGNvbnRlbnQgPSByZWYuY29udGVudDtcbiAgdmFyIG9wZW5FbmQgPSByZWYub3BlbkVuZDtcbiAgcmV0dXJuIG5ldyBwcm9zZW1pcnJvck1vZGVsLlNsaWNlKGNvbnRlbnQsICRmcm9tLmRlcHRoLCBvcGVuRW5kIHx8IDApXG59XG5cbmZ1bmN0aW9uIGZpdFJpZ2h0Sm9pbihjb250ZW50LCBwYXJlbnQsICRmcm9tLCAkdG8sIGRlcHRoLCBvcGVuU3RhcnQsIG9wZW5FbmQpIHtcbiAgdmFyIG1hdGNoLCBjb3VudCA9IGNvbnRlbnQuY2hpbGRDb3VudCwgbWF0Y2hDb3VudCA9IGNvdW50IC0gKG9wZW5FbmQgPiAwID8gMSA6IDApO1xuICBpZiAob3BlblN0YXJ0IDwgMClcbiAgICB7IG1hdGNoID0gcGFyZW50LmNvbnRlbnRNYXRjaEF0KG1hdGNoQ291bnQpOyB9XG4gIGVsc2UgaWYgKGNvdW50ID09IDEgJiYgb3BlbkVuZCA+IDApXG4gICAgeyBtYXRjaCA9ICRmcm9tLm5vZGUoZGVwdGgpLmNvbnRlbnRNYXRjaEF0KG9wZW5TdGFydCA/ICRmcm9tLmluZGV4KGRlcHRoKSA6ICRmcm9tLmluZGV4QWZ0ZXIoZGVwdGgpKTsgfVxuICBlbHNlXG4gICAgeyBtYXRjaCA9ICRmcm9tLm5vZGUoZGVwdGgpLmNvbnRlbnRNYXRjaEF0KCRmcm9tLmluZGV4QWZ0ZXIoZGVwdGgpKVxuICAgICAgLm1hdGNoRnJhZ21lbnQoY29udGVudCwgY291bnQgPiAwICYmIG9wZW5TdGFydCA/IDEgOiAwLCBtYXRjaENvdW50KTsgfVxuXG4gIHZhciB0b05vZGUgPSAkdG8ubm9kZShkZXB0aCk7XG4gIGlmIChvcGVuRW5kID4gMCAmJiBkZXB0aCA8ICR0by5kZXB0aCkge1xuICAgIHZhciBhZnRlciA9IHRvTm9kZS5jb250ZW50LmN1dEJ5SW5kZXgoJHRvLmluZGV4QWZ0ZXIoZGVwdGgpKS5hZGRUb1N0YXJ0KGNvbnRlbnQubGFzdENoaWxkKTtcbiAgICB2YXIgam9pbmFibGUkMSA9IG1hdGNoLmZpbGxCZWZvcmUoYWZ0ZXIsIHRydWUpO1xuICAgIC8vIENhbid0IGluc2VydCBjb250ZW50IGlmIHRoZXJlJ3MgYSBzaW5nbGUgbm9kZSBzdHJldGNoZWQgYWNyb3NzIHRoaXMgZ2FwXG4gICAgaWYgKGpvaW5hYmxlJDEgJiYgam9pbmFibGUkMS5zaXplICYmIG9wZW5TdGFydCA+IDAgJiYgY291bnQgPT0gMSkgeyBqb2luYWJsZSQxID0gbnVsbDsgfVxuXG4gICAgaWYgKGpvaW5hYmxlJDEpIHtcbiAgICAgIHZhciBpbm5lciA9IGZpdFJpZ2h0Sm9pbihjb250ZW50Lmxhc3RDaGlsZC5jb250ZW50LCBjb250ZW50Lmxhc3RDaGlsZCwgJGZyb20sICR0byxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXB0aCArIDEsIGNvdW50ID09IDEgPyBvcGVuU3RhcnQgLSAxIDogLTEsIG9wZW5FbmQgLSAxKTtcbiAgICAgIGlmIChpbm5lcikge1xuICAgICAgICB2YXIgbGFzdCA9IGNvbnRlbnQubGFzdENoaWxkLmNvcHkoaW5uZXIpO1xuICAgICAgICBpZiAoam9pbmFibGUkMS5zaXplKVxuICAgICAgICAgIHsgcmV0dXJuIGNvbnRlbnQuY3V0QnlJbmRleCgwLCBjb3VudCAtIDEpLmFwcGVuZChqb2luYWJsZSQxKS5hZGRUb0VuZChsYXN0KSB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICB7IHJldHVybiBjb250ZW50LnJlcGxhY2VDaGlsZChjb3VudCAtIDEsIGxhc3QpIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKG9wZW5FbmQgPiAwKVxuICAgIHsgbWF0Y2ggPSBtYXRjaC5tYXRjaFR5cGUoKGNvdW50ID09IDEgJiYgb3BlblN0YXJ0ID4gMCA/ICRmcm9tLm5vZGUoZGVwdGggKyAxKSA6IGNvbnRlbnQubGFzdENoaWxkKS50eXBlKTsgfVxuXG4gIC8vIElmIHdlJ3JlIGhlcmUsIHRoZSBuZXh0IGxldmVsIGNhbid0IGJlIGpvaW5lZCwgc28gd2Ugc2VlIHdoYXRcbiAgLy8gaGFwcGVucyBpZiB3ZSBsZWF2ZSBpdCBvcGVuLlxuICB2YXIgdG9JbmRleCA9ICR0by5pbmRleChkZXB0aCk7XG4gIGlmICh0b0luZGV4ID09IHRvTm9kZS5jaGlsZENvdW50ICYmICF0b05vZGUudHlwZS5jb21wYXRpYmxlQ29udGVudChwYXJlbnQudHlwZSkpIHsgcmV0dXJuIG51bGwgfVxuICB2YXIgam9pbmFibGUgPSBtYXRjaC5maWxsQmVmb3JlKHRvTm9kZS5jb250ZW50LCB0cnVlLCB0b0luZGV4KTtcbiAgaWYgKCFqb2luYWJsZSkgeyByZXR1cm4gbnVsbCB9XG5cbiAgaWYgKG9wZW5FbmQgPiAwKSB7XG4gICAgdmFyIGNsb3NlZCA9IGZpdFJpZ2h0Q2xvc2VkKGNvbnRlbnQubGFzdENoaWxkLCBvcGVuRW5kIC0gMSwgJGZyb20sIGRlcHRoICsgMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnQgPT0gMSA/IG9wZW5TdGFydCAtIDEgOiAtMSk7XG4gICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZUNoaWxkKGNvdW50IC0gMSwgY2xvc2VkKTtcbiAgfVxuICBjb250ZW50ID0gY29udGVudC5hcHBlbmQoam9pbmFibGUpO1xuICBpZiAoJHRvLmRlcHRoID4gZGVwdGgpXG4gICAgeyBjb250ZW50ID0gY29udGVudC5hZGRUb0VuZChmaXRSaWdodFNlcGFyYXRlKCR0bywgZGVwdGggKyAxKSk7IH1cbiAgcmV0dXJuIGNvbnRlbnRcbn1cblxuZnVuY3Rpb24gZml0UmlnaHRDbG9zZWQobm9kZSwgb3BlbkVuZCwgJGZyb20sIGRlcHRoLCBvcGVuU3RhcnQpIHtcbiAgdmFyIG1hdGNoLCBjb250ZW50ID0gbm9kZS5jb250ZW50LCBjb3VudCA9IGNvbnRlbnQuY2hpbGRDb3VudDtcbiAgaWYgKG9wZW5TdGFydCA+PSAwKVxuICAgIHsgbWF0Y2ggPSAkZnJvbS5ub2RlKGRlcHRoKS5jb250ZW50TWF0Y2hBdCgkZnJvbS5pbmRleEFmdGVyKGRlcHRoKSlcbiAgICAgIC5tYXRjaEZyYWdtZW50KGNvbnRlbnQsIG9wZW5TdGFydCA+IDAgPyAxIDogMCwgY291bnQpOyB9XG4gIGVsc2VcbiAgICB7IG1hdGNoID0gbm9kZS5jb250ZW50TWF0Y2hBdChjb3VudCk7IH1cblxuICBpZiAob3BlbkVuZCA+IDApIHtcbiAgICB2YXIgY2xvc2VkID0gZml0UmlnaHRDbG9zZWQoY29udGVudC5sYXN0Q2hpbGQsIG9wZW5FbmQgLSAxLCAkZnJvbSwgZGVwdGggKyAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudCA9PSAxID8gb3BlblN0YXJ0IC0gMSA6IC0xKTtcbiAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlQ2hpbGQoY291bnQgLSAxLCBjbG9zZWQpO1xuICB9XG5cbiAgcmV0dXJuIG5vZGUuY29weShjb250ZW50LmFwcGVuZChtYXRjaC5maWxsQmVmb3JlKHByb3NlbWlycm9yTW9kZWwuRnJhZ21lbnQuZW1wdHksIHRydWUpKSlcbn1cblxuZnVuY3Rpb24gZml0UmlnaHRTZXBhcmF0ZSgkdG8sIGRlcHRoKSB7XG4gIHZhciBub2RlID0gJHRvLm5vZGUoZGVwdGgpO1xuICB2YXIgZmlsbCA9IG5vZGUuY29udGVudE1hdGNoQXQoMCkuZmlsbEJlZm9yZShub2RlLmNvbnRlbnQsIHRydWUsICR0by5pbmRleChkZXB0aCkpO1xuICBpZiAoJHRvLmRlcHRoID4gZGVwdGgpIHsgZmlsbCA9IGZpbGwuYWRkVG9FbmQoZml0UmlnaHRTZXBhcmF0ZSgkdG8sIGRlcHRoICsgMSkpOyB9XG4gIHJldHVybiBub2RlLmNvcHkoZmlsbClcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplU2xpY2UoY29udGVudCwgb3BlblN0YXJ0LCBvcGVuRW5kKSB7XG4gIHdoaWxlIChvcGVuU3RhcnQgPiAwICYmIG9wZW5FbmQgPiAwICYmIGNvbnRlbnQuY2hpbGRDb3VudCA9PSAxKSB7XG4gICAgY29udGVudCA9IGNvbnRlbnQuZmlyc3RDaGlsZC5jb250ZW50O1xuICAgIG9wZW5TdGFydC0tO1xuICAgIG9wZW5FbmQtLTtcbiAgfVxuICByZXR1cm4gbmV3IHByb3NlbWlycm9yTW9kZWwuU2xpY2UoY29udGVudCwgb3BlblN0YXJ0LCBvcGVuRW5kKVxufVxuXG4vLyA6IChSZXNvbHZlZFBvcywgUmVzb2x2ZWRQb3MsIG51bWJlciwgU2xpY2UpIOKGkiBTbGljZVxuZnVuY3Rpb24gZml0UmlnaHQoJGZyb20sICR0bywgc2xpY2UpIHtcbiAgdmFyIGZpdHRlZCA9IGZpdFJpZ2h0Sm9pbihzbGljZS5jb250ZW50LCAkZnJvbS5ub2RlKDApLCAkZnJvbSwgJHRvLCAwLCBzbGljZS5vcGVuU3RhcnQsIHNsaWNlLm9wZW5FbmQpO1xuICBpZiAoIWZpdHRlZCkgeyByZXR1cm4gbnVsbCB9XG4gIHJldHVybiBub3JtYWxpemVTbGljZShmaXR0ZWQsIHNsaWNlLm9wZW5TdGFydCwgJHRvLmRlcHRoKVxufVxuXG5mdW5jdGlvbiBmaXRzVHJpdmlhbGx5KCRmcm9tLCAkdG8sIHNsaWNlKSB7XG4gIHJldHVybiAhc2xpY2Uub3BlblN0YXJ0ICYmICFzbGljZS5vcGVuRW5kICYmICRmcm9tLnN0YXJ0KCkgPT0gJHRvLnN0YXJ0KCkgJiZcbiAgICAkZnJvbS5wYXJlbnQuY2FuUmVwbGFjZSgkZnJvbS5pbmRleCgpLCAkdG8uaW5kZXgoKSwgc2xpY2UuY29udGVudClcbn1cblxuZnVuY3Rpb24gY2FuTW92ZVRleHQoJGZyb20sICR0bywgc2xpY2UpIHtcbiAgaWYgKCEkdG8ucGFyZW50LmlzVGV4dGJsb2NrKSB7IHJldHVybiBmYWxzZSB9XG5cbiAgdmFyIG1hdGNoO1xuICBpZiAoIXNsaWNlLm9wZW5FbmQpIHtcbiAgICB2YXIgcGFyZW50ID0gJGZyb20ubm9kZSgkZnJvbS5kZXB0aCAtIChzbGljZS5vcGVuU3RhcnQgLSBzbGljZS5vcGVuRW5kKSk7XG4gICAgaWYgKCFwYXJlbnQuaXNUZXh0YmxvY2spIHsgcmV0dXJuIGZhbHNlIH1cbiAgICBtYXRjaCA9IHBhcmVudC5jb250ZW50TWF0Y2hBdChwYXJlbnQuY2hpbGRDb3VudCk7XG4gICAgaWYgKHNsaWNlLnNpemUpXG4gICAgICB7IG1hdGNoID0gbWF0Y2gubWF0Y2hGcmFnbWVudChzbGljZS5jb250ZW50LCBzbGljZS5vcGVuU3RhcnQgPyAxIDogMCk7IH1cbiAgfSBlbHNlIHtcbiAgICB2YXIgcGFyZW50JDEgPSBub2RlUmlnaHQoc2xpY2UuY29udGVudCwgc2xpY2Uub3BlbkVuZCk7XG4gICAgaWYgKCFwYXJlbnQkMS5pc1RleHRibG9jaykgeyByZXR1cm4gZmFsc2UgfVxuICAgIG1hdGNoID0gcGFyZW50JDEuY29udGVudE1hdGNoQXQocGFyZW50JDEuY2hpbGRDb3VudCk7XG4gIH1cbiAgbWF0Y2ggPSBtYXRjaC5tYXRjaEZyYWdtZW50KCR0by5wYXJlbnQuY29udGVudCwgJHRvLmluZGV4KCkpO1xuICByZXR1cm4gbWF0Y2ggJiYgbWF0Y2gudmFsaWRFbmRcbn1cblxuZnVuY3Rpb24gbm9kZVJpZ2h0KGNvbnRlbnQsIGRlcHRoKSB7XG4gIGZvciAodmFyIGkgPSAxOyBpIDwgZGVwdGg7IGkrKykgeyBjb250ZW50ID0gY29udGVudC5sYXN0Q2hpbGQuY29udGVudDsgfVxuICByZXR1cm4gY29udGVudC5sYXN0Q2hpbGRcbn1cblxuLy8gQWxnb3JpdGhtIGZvciAncGxhY2luZycgdGhlIGVsZW1lbnRzIG9mIGEgc2xpY2UgaW50byBhIGdhcDpcbi8vXG4vLyBXZSBjb25zaWRlciB0aGUgY29udGVudCBvZiBlYWNoIG5vZGUgdGhhdCBpcyBvcGVuIHRvIHRoZSBsZWZ0IHRvIGJlXG4vLyBpbmRlcGVuZGVudGx5IHBsYWNlYWJsZS4gSS5lLiBpbiA8cChcImZvb1wiKSwgcChcImJhclwiKT4sIHdoZW4gdGhlXG4vLyBwYXJhZ3JhcGggb24gdGhlIGxlZnQgaXMgb3BlbiwgXCJmb29cIiBjYW4gYmUgcGxhY2VkIChzb21ld2hlcmUgb25cbi8vIHRoZSBsZWZ0IHNpZGUgb2YgdGhlIHJlcGxhY2VtZW50IGdhcCkgaW5kZXBlbmRlbnRseSBmcm9tIHAoXCJiYXJcIikuXG4vL1xuLy8gU28gcGxhY2VTbGljZSBzcGxpdHMgdXAgYSBzbGljZSBpbnRvIGEgbnVtYmVyIG9mIHN1Yi1zbGljZXMsXG4vLyBhbG9uZyB3aXRoIGluZm9ybWF0aW9uIG9uIHdoZXJlIHRoZXkgY2FuIGJlIHBsYWNlZCBvbiB0aGUgZ2l2ZW5cbi8vIGxlZnQtc2lkZSBlZGdlLiBJdCB3b3JrcyBieSB3YWxraW5nIHRoZSBvcGVuIHNpZGUgb2YgdGhlIHNsaWNlLFxuLy8gZnJvbSB0aGUgaW5zaWRlIG91dCwgYW5kIHRyeWluZyB0byBmaW5kIGEgbGFuZGluZyBzcG90IGZvciBlYWNoXG4vLyBlbGVtZW50LCBieSBzaW11bHRhbmVvdXNseSBzY2FubmluZyBvdmVyIHRoZSBnYXAgc2lkZS4gV2hlbiBub1xuLy8gcGxhY2UgaXMgZm91bmQgZm9yIGFuIG9wZW4gbm9kZSdzIGNvbnRlbnQsIGl0IGlzIGxlZnQgaW4gdGhhdCBub2RlLlxuXG4vLyA6IChSZXNvbHZlZFBvcywgU2xpY2UpIOKGkiBbe2NvbnRlbnQ6IEZyYWdtZW50LCBvcGVuRW5kOiBudW1iZXIsIGRlcHRoOiBudW1iZXJ9XVxuZnVuY3Rpb24gcGxhY2VTbGljZSgkZnJvbSwgc2xpY2UpIHtcbiAgdmFyIGZyb250aWVyID0gbmV3IEZyb250aWVyKCRmcm9tKTtcbiAgZm9yICh2YXIgcGFzcyA9IDE7IHNsaWNlLnNpemUgJiYgcGFzcyA8PSAzOyBwYXNzKyspXG4gICAgeyBzbGljZSA9IGZyb250aWVyLnBsYWNlU2xpY2Uoc2xpY2UuY29udGVudCwgc2xpY2Uub3BlblN0YXJ0LCBzbGljZS5vcGVuRW5kLCBwYXNzKTsgfVxuICB3aGlsZSAoZnJvbnRpZXIub3Blbi5sZW5ndGgpIHsgZnJvbnRpZXIuY2xvc2VOb2RlKCk7IH1cbiAgcmV0dXJuIGZyb250aWVyLnBsYWNlZFxufVxuXG4vLyBIZWxwZXIgY2xhc3MgdGhhdCBtb2RlbHMgdGhlIG9wZW4gc2lkZSBvZiB0aGUgaW5zZXJ0IHBvc2l0aW9uLFxuLy8ga2VlcGluZyB0cmFjayBvZiB0aGUgY29udGVudCBtYXRjaCBhbmQgYWxyZWFkeSBpbnNlcnRlZCBjb250ZW50XG4vLyBhdCBlYWNoIGRlcHRoLlxudmFyIEZyb250aWVyID0gZnVuY3Rpb24gRnJvbnRpZXIoJHBvcykge1xuICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAvLyA6IFt7cGFyZW50OiBOb2RlLCBtYXRjaDogQ29udGVudE1hdGNoLCBjb250ZW50OiBGcmFnbWVudCwgd3JhcHBlcjogYm9vbCwgb3BlbkVuZDogbnVtYmVyLCBkZXB0aDogbnVtYmVyfV1cbiAgdGhpcy5vcGVuID0gW107XG4gIGZvciAodmFyIGQgPSAwOyBkIDw9ICRwb3MuZGVwdGg7IGQrKykge1xuICAgIHZhciBwYXJlbnQgPSAkcG9zLm5vZGUoZCksIG1hdGNoID0gcGFyZW50LmNvbnRlbnRNYXRjaEF0KCRwb3MuaW5kZXhBZnRlcihkKSk7XG4gICAgdGhpcyQxLm9wZW4ucHVzaCh7cGFyZW50OiBwYXJlbnQsIG1hdGNoOiBtYXRjaCwgY29udGVudDogcHJvc2VtaXJyb3JNb2RlbC5GcmFnbWVudC5lbXB0eSwgd3JhcHBlcjogZmFsc2UsIG9wZW5FbmQ6IDAsIGRlcHRoOiBkfSk7XG4gIH1cbiAgdGhpcy5wbGFjZWQgPSBbXTtcbn07XG5cbi8vIDogKEZyYWdtZW50LCBudW1iZXIsIG51bWJlciwgbnVtYmVyLCA/Tm9kZSkg4oaSIFNsaWNlXG4vLyBUcmllcyB0byBwbGFjZSB0aGUgY29udGVudCBvZiB0aGUgZ2l2ZW4gc2xpY2UsIGFuZCByZXR1cm5zIGFcbi8vIHNsaWNlIGNvbnRhaW5pbmcgdW5wbGFjZWQgY29udGVudC5cbi8vXG4vLyBwYXNzIDE6IHRyeSB0byBmaXQgZGlyZWN0bHlcbi8vIHBhc3MgMjogYWxsb3cgd3JhcHBlciBub2RlcyB0byBiZSBpbnRyb2R1Y2VkXG4vLyBwYXNzIDM6IGFsbG93IHVud3JhcHBpbmcgb2Ygbm9kZXMgdGhhdCBhcmVuJ3Qgb3BlblxuRnJvbnRpZXIucHJvdG90eXBlLnBsYWNlU2xpY2UgPSBmdW5jdGlvbiBwbGFjZVNsaWNlIChmcmFnbWVudCwgb3BlblN0YXJ0LCBvcGVuRW5kLCBwYXNzLCBwYXJlbnQpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICBpZiAob3BlblN0YXJ0ID4gMCkge1xuICAgIHZhciBmaXJzdCA9IGZyYWdtZW50LmZpcnN0Q2hpbGQ7XG4gICAgdmFyIGlubmVyID0gdGhpcy5wbGFjZVNsaWNlKGZpcnN0LmNvbnRlbnQsIE1hdGgubWF4KDAsIG9wZW5TdGFydCAtIDEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVuRW5kICYmIGZyYWdtZW50LmNoaWxkQ291bnQgPT0gMSA/IG9wZW5FbmQgLSAxIDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzcywgZmlyc3QpO1xuICAgIGlmIChpbm5lci5jb250ZW50ICE9IGZpcnN0LmNvbnRlbnQpIHtcbiAgICAgIGlmIChpbm5lci5jb250ZW50LnNpemUpIHtcbiAgICAgICAgZnJhZ21lbnQgPSBmcmFnbWVudC5yZXBsYWNlQ2hpbGQoMCwgZmlyc3QuY29weShpbm5lci5jb250ZW50KSk7XG4gICAgICAgIG9wZW5TdGFydCA9IGlubmVyLm9wZW5TdGFydCArIDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoZnJhZ21lbnQuY2hpbGRDb3VudCA9PSAxKSB7IG9wZW5FbmQgPSAwOyB9XG4gICAgICAgIGZyYWdtZW50ID0gZnJhZ21lbnQuY3V0QnlJbmRleCgxKTtcbiAgICAgICAgb3BlblN0YXJ0ID0gMDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgdmFyIHJlc3VsdCA9IHRoaXMucGxhY2VDb250ZW50KGZyYWdtZW50LCBvcGVuU3RhcnQsIG9wZW5FbmQsIHBhc3MsIHBhcmVudCk7XG4gIGlmIChwYXNzID4gMiAmJiByZXN1bHQuc2l6ZSAmJiBvcGVuU3RhcnQgPT0gMCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzdWx0LmNvbnRlbnQuY2hpbGRDb3VudDsgaSsrKSB7XG4gICAgICB2YXIgY2hpbGQgPSByZXN1bHQuY29udGVudC5jaGlsZChpKTtcbiAgICAgIHRoaXMkMS5wbGFjZUNvbnRlbnQoY2hpbGQuY29udGVudCwgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5FbmQgJiYgaSA9PSByZXN1bHQuY29udGVudC5jaGlsZENvdW50Lmxlbmd0aCAtIDEgPyBvcGVuRW5kIC0gMSA6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXNzLCBjaGlsZCk7XG4gICAgfVxuICAgIHJlc3VsdCA9IHByb3NlbWlycm9yTW9kZWwuRnJhZ21lbnQuZW1wdHk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdFxufTtcblxuRnJvbnRpZXIucHJvdG90eXBlLnBsYWNlQ29udGVudCA9IGZ1bmN0aW9uIHBsYWNlQ29udGVudCAoZnJhZ21lbnQsIG9wZW5TdGFydCwgb3BlbkVuZCwgcGFzcywgcGFyZW50KSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgdmFyIGkgPSAwO1xuICAvLyBHbyBvdmVyIHRoZSBmcmFnbWVudCdzIGNoaWxkcmVuXG4gIGZvciAoOyBpIDwgZnJhZ21lbnQuY2hpbGRDb3VudDsgaSsrKSB7XG4gICAgdmFyIGNoaWxkID0gZnJhZ21lbnQuY2hpbGQoaSksIHBsYWNlZCA9IGZhbHNlLCBsYXN0ID0gaSA9PSBmcmFnbWVudC5jaGlsZENvdW50IC0gMTtcbiAgICAvLyBUcnkgZWFjaCBvcGVuIG5vZGUgaW4gdHVybiwgc3RhcnRpbmcgZnJvbSB0aGUgaW5uZXJtb3N0XG4gICAgZm9yICh2YXIgZCA9IHRoaXMub3Blbi5sZW5ndGggLSAxOyBkID49IDA7IGQtLSkge1xuICAgICAgdmFyIG9wZW4gPSB0aGlzJDEub3BlbltkXSwgd3JhcCA9ICh2b2lkIDApO1xuXG4gICAgICAvLyBJZiBwYXNzID4gMSwgaXQgaXMgYWxsb3dlZCB0byB3cmFwIHRoZSBub2RlIHRvIGhlbHAgZmluZCBhXG4gICAgICAvLyBmaXQsIHNvIGlmIGZpbmRXcmFwcGVpbmcgcmV0dXJucyBzb21ldGhpbmcsIHdlIGFkZCBvcGVuXG4gICAgICAvLyBub2RlcyB0byB0aGUgZnJvbnRpZXIgZm9yIHRoYXQgd3JhcHBpbmcuXG4gICAgICBpZiAocGFzcyA+IDEgJiYgKHdyYXAgPSBvcGVuLm1hdGNoLmZpbmRXcmFwcGluZyhjaGlsZC50eXBlKSkgJiZcbiAgICAgICAgICAhKHBhcmVudCAmJiB3cmFwLmxlbmd0aCAmJiB3cmFwW3dyYXAubGVuZ3RoIC0gMV0gPT0gcGFyZW50LnR5cGUpKSB7XG4gICAgICAgIHdoaWxlICh0aGlzLm9wZW4ubGVuZ3RoIC0gMSA+IGQpIHsgdGhpcyQxLmNsb3NlTm9kZSgpOyB9XG4gICAgICAgIGZvciAodmFyIHcgPSAwOyB3IDwgd3JhcC5sZW5ndGg7IHcrKykge1xuICAgICAgICAgIG9wZW4ubWF0Y2ggPSBvcGVuLm1hdGNoLm1hdGNoVHlwZSh3cmFwW3ddKTtcbiAgICAgICAgICBkKys7XG4gICAgICAgICAgb3BlbiA9IHtwYXJlbnQ6IHdyYXBbd10uY3JlYXRlKCksXG4gICAgICAgICAgICAgICAgICBtYXRjaDogd3JhcFt3XS5jb250ZW50TWF0Y2gsXG4gICAgICAgICAgICAgICAgICBjb250ZW50OiBwcm9zZW1pcnJvck1vZGVsLkZyYWdtZW50LmVtcHR5LCB3cmFwcGVyOiB0cnVlLCBvcGVuRW5kOiAwLCBkZXB0aDogZCArIHd9O1xuICAgICAgICAgIHRoaXMkMS5vcGVuLnB1c2gob3Blbik7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gU2VlIGlmIHRoZSBjaGlsZCBmaXRzIGhlcmVcbiAgICAgIHZhciBtYXRjaCA9IG9wZW4ubWF0Y2gubWF0Y2hUeXBlKGNoaWxkLnR5cGUpO1xuICAgICAgaWYgKCFtYXRjaCkge1xuICAgICAgICB2YXIgZmlsbCA9IG9wZW4ubWF0Y2guZmlsbEJlZm9yZShwcm9zZW1pcnJvck1vZGVsLkZyYWdtZW50LmZyb20oY2hpbGQpKTtcbiAgICAgICAgaWYgKGZpbGwpIHtcbiAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGZpbGwuY2hpbGRDb3VudDsgaisrKSB7XG4gICAgICAgICAgICB2YXIgY2ggPSBmaWxsLmNoaWxkKGopO1xuICAgICAgICAgICAgdGhpcyQxLmFkZE5vZGUob3BlbiwgY2gsIDApO1xuICAgICAgICAgICAgbWF0Y2ggPSBvcGVuLm1hdGNoLm1hdGNoRnJhZ21lbnQoY2gpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChwYXJlbnQgJiYgb3Blbi5tYXRjaC5tYXRjaFR5cGUocGFyZW50LnR5cGUpKSB7XG4gICAgICAgICAgLy8gRG9uJ3QgY29udGludWUgbG9va2luZyBmdXJ0aGVyIHVwIGlmIHRoZSBwYXJlbnQgbm9kZVxuICAgICAgICAgIC8vIHdvdWxkIGZpdCBoZXJlLlxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBDbG9zZSBvcGVuIG5vZGVzIGFib3ZlIHRoaXMgb25lLCBzaW5jZSB3ZSdyZSBzdGFydGluZyB0b1xuICAgICAgLy8gYWRkIHRvIHRoaXMuXG4gICAgICB3aGlsZSAodGhpcy5vcGVuLmxlbmd0aCAtIDEgPiBkKSB7IHRoaXMkMS5jbG9zZU5vZGUoKTsgfVxuICAgICAgLy8gU3RyaXAgbWFya3MgZnJvbSB0aGUgY2hpbGQgb3IgY2xvc2UgaXRzIHN0YXJ0IHdoZW4gbmVjZXNzYXJ5XG4gICAgICBjaGlsZCA9IGNoaWxkLm1hcmsob3Blbi5wYXJlbnQudHlwZS5hbGxvd2VkTWFya3MoY2hpbGQubWFya3MpKTtcbiAgICAgIGlmIChvcGVuU3RhcnQpIHtcbiAgICAgICAgY2hpbGQgPSBjbG9zZU5vZGVTdGFydChjaGlsZCwgb3BlblN0YXJ0LCBsYXN0ID8gb3BlbkVuZCA6IDApO1xuICAgICAgICBvcGVuU3RhcnQgPSAwO1xuICAgICAgfVxuICAgICAgLy8gQWRkIHRoZSBjaGlsZCB0byB0aGlzIG9wZW4gbm9kZSBhbmQgYWRqdXN0IGl0cyBtZXRhZGF0YVxuICAgICAgdGhpcyQxLmFkZE5vZGUob3BlbiwgY2hpbGQsIGxhc3QgPyBvcGVuRW5kIDogMCk7XG4gICAgICBvcGVuLm1hdGNoID0gbWF0Y2g7XG4gICAgICBpZiAobGFzdCkgeyBvcGVuRW5kID0gMDsgfVxuICAgICAgcGxhY2VkID0gdHJ1ZTtcbiAgICAgIGJyZWFrXG4gICAgfVxuICAgIC8vIEFzIHNvb24gYXMgd2UndmUgZmFpbGVkIHRvIHBsYWNlIGEgbm9kZSB3ZSBzdG9wIGxvb2tpbmcgYXRcbiAgICAvLyBsYXRlciBub2Rlc1xuICAgIGlmICghcGxhY2VkKSB7IGJyZWFrIH1cbiAgfVxuICAvLyBDbG9zZSB0aGUgY3VycmVudCBvcGVuIG5vZGUgaWYgaXQncyBub3QgdGhlIHRoZSByb290IGFuZCB3ZVxuICAvLyBlaXRoZXIgcGxhY2VkIHVwIHRvIHRoZSBlbmQgb2YgdGhlIG5vZGUgb3IgdGhlIHRoZSBjdXJyZW50XG4gIC8vIHNsaWNlIGRlcHRoJ3Mgbm9kZSB0eXBlIG1hdGNoZXMgdGhlIG9wZW4gbm9kZSdzIHR5cGVcbiAgaWYgKHRoaXMub3Blbi5sZW5ndGggPiAxICYmXG4gICAgICAoaSA+IDAgJiYgaSA9PSBmcmFnbWVudC5jaGlsZENvdW50IHx8XG4gICAgICAgcGFyZW50ICYmIHRoaXMub3Blblt0aGlzLm9wZW4ubGVuZ3RoIC0gMV0ucGFyZW50LnR5cGUgPT0gcGFyZW50LnR5cGUpKVxuICAgIHsgdGhpcy5jbG9zZU5vZGUoKTsgfVxuXG4gIHJldHVybiBuZXcgcHJvc2VtaXJyb3JNb2RlbC5TbGljZShmcmFnbWVudC5jdXRCeUluZGV4KGkpLCBvcGVuU3RhcnQsIG9wZW5FbmQpXG59O1xuXG5Gcm9udGllci5wcm90b3R5cGUuYWRkTm9kZSA9IGZ1bmN0aW9uIGFkZE5vZGUgKG9wZW4sIG5vZGUsIG9wZW5FbmQpIHtcbiAgb3Blbi5jb250ZW50ID0gY2xvc2VGcmFnbWVudEVuZChvcGVuLmNvbnRlbnQsIG9wZW4ub3BlbkVuZCkuYWRkVG9FbmQobm9kZSk7XG4gIG9wZW4ub3BlbkVuZCA9IG9wZW5FbmQ7XG59O1xuXG5Gcm9udGllci5wcm90b3R5cGUuY2xvc2VOb2RlID0gZnVuY3Rpb24gY2xvc2VOb2RlICgpIHtcbiAgdmFyIG9wZW4gPSB0aGlzLm9wZW4ucG9wKCk7XG4gIGlmIChvcGVuLmNvbnRlbnQuc2l6ZSA9PSAwKSB7XG4gICAgLy8gTm90aGluZyBoZXJlXG4gIH0gZWxzZSBpZiAob3Blbi53cmFwcGVyKSB7XG4gICAgdGhpcy5hZGROb2RlKHRoaXMub3Blblt0aGlzLm9wZW4ubGVuZ3RoIC0gMV0sIG9wZW4ucGFyZW50LmNvcHkob3Blbi5jb250ZW50KSwgb3Blbi5vcGVuRW5kICsgMSk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5wbGFjZWRbb3Blbi5kZXB0aF0gPSB7ZGVwdGg6IG9wZW4uZGVwdGgsIGNvbnRlbnQ6IG9wZW4uY29udGVudCwgb3BlbkVuZDogb3Blbi5vcGVuRW5kfTtcbiAgfVxufTtcblxuZnVuY3Rpb24gY2xvc2VOb2RlU3RhcnQobm9kZSwgb3BlblN0YXJ0LCBvcGVuRW5kKSB7XG4gIHZhciBjb250ZW50ID0gbm9kZS5jb250ZW50O1xuICBpZiAob3BlblN0YXJ0ID4gMSkge1xuICAgIHZhciBmaXJzdCA9IGNsb3NlTm9kZVN0YXJ0KG5vZGUuZmlyc3RDaGlsZCwgb3BlblN0YXJ0IC0gMSwgbm9kZS5jaGlsZENvdW50ID09IDEgPyBvcGVuRW5kIC0gMSA6IDApO1xuICAgIGNvbnRlbnQgPSBub2RlLmNvbnRlbnQucmVwbGFjZUNoaWxkKDAsIGZpcnN0KTtcbiAgfVxuICB2YXIgZmlsbCA9IG5vZGUudHlwZS5jb250ZW50TWF0Y2guZmlsbEJlZm9yZShjb250ZW50LCBvcGVuRW5kID09IDApO1xuICByZXR1cm4gbm9kZS5jb3B5KGZpbGwuYXBwZW5kKGNvbnRlbnQpKVxufVxuXG5mdW5jdGlvbiBjbG9zZU5vZGVFbmQobm9kZSwgZGVwdGgpIHtcbiAgdmFyIGNvbnRlbnQgPSBub2RlLmNvbnRlbnQ7XG4gIGlmIChkZXB0aCA+IDEpIHtcbiAgICB2YXIgbGFzdCA9IGNsb3NlTm9kZUVuZChub2RlLmxhc3RDaGlsZCwgZGVwdGggLSAxKTtcbiAgICBjb250ZW50ID0gbm9kZS5jb250ZW50LnJlcGxhY2VDaGlsZChub2RlLmNoaWxkQ291bnQgLSAxLCBsYXN0KTtcbiAgfVxuICB2YXIgZmlsbCA9IG5vZGUuY29udGVudE1hdGNoQXQobm9kZS5jaGlsZENvdW50KS5maWxsQmVmb3JlKHByb3NlbWlycm9yTW9kZWwuRnJhZ21lbnQuZW1wdHksIHRydWUpO1xuICByZXR1cm4gbm9kZS5jb3B5KGNvbnRlbnQuYXBwZW5kKGZpbGwpKVxufVxuXG5mdW5jdGlvbiBjbG9zZUZyYWdtZW50RW5kKGZyYWdtZW50LCBkZXB0aCkge1xuICByZXR1cm4gZGVwdGggPyBmcmFnbWVudC5yZXBsYWNlQ2hpbGQoZnJhZ21lbnQuY2hpbGRDb3VudCAtIDEsIGNsb3NlTm9kZUVuZChmcmFnbWVudC5sYXN0Q2hpbGQsIGRlcHRoKSkgOiBmcmFnbWVudFxufVxuXG4vLyA6OiAobnVtYmVyLCBudW1iZXIsIFNsaWNlKSDihpIgdGhpc1xuLy8gUmVwbGFjZSBhIHJhbmdlIG9mIHRoZSBkb2N1bWVudCB3aXRoIGEgZ2l2ZW4gc2xpY2UsIHVzaW5nIGBmcm9tYCxcbi8vIGB0b2AsIGFuZCB0aGUgc2xpY2UncyBbYG9wZW5TdGFydGBdKCNtb2RlbC5TbGljZS5vcGVuU3RhcnQpIHByb3BlcnR5XG4vLyBhcyBoaW50cywgcmF0aGVyIHRoYW4gZml4ZWQgc3RhcnQgYW5kIGVuZCBwb2ludHMuIFRoaXMgbWV0aG9kIG1heVxuLy8gZ3JvdyB0aGUgcmVwbGFjZWQgYXJlYSBvciBjbG9zZSBvcGVuIG5vZGVzIGluIHRoZSBzbGljZSBpbiBvcmRlciB0b1xuLy8gZ2V0IGEgZml0IHRoYXQgaXMgbW9yZSBpbiBsaW5lIHdpdGggV1lTSVdZRyBleHBlY3RhdGlvbnMsIGJ5XG4vLyBkcm9wcGluZyBmdWxseSBjb3ZlcmVkIHBhcmVudCBub2RlcyBvZiB0aGUgcmVwbGFjZWQgcmVnaW9uIHdoZW5cbi8vIHRoZXkgYXJlIG1hcmtlZCBbbm9uLWRlZmluaW5nXSgjbW9kZWwuTm9kZVNwZWMuZGVmaW5pbmcpLCBvclxuLy8gaW5jbHVkaW5nIGFuIG9wZW4gcGFyZW50IG5vZGUgZnJvbSB0aGUgc2xpY2UgdGhhdCBfaXNfIG1hcmtlZCBhc1xuLy8gW2RlZmluaW5nXSgjbW9kZWwuTm9kZVNwZWMuZGVmaW5pbmcpLlxuLy9cbi8vIFRoaXMgaXMgdGhlIG1ldGhvZCwgZm9yIGV4YW1wbGUsIHRvIGhhbmRsZSBwYXN0ZS4gVGhlIHNpbWlsYXJcbi8vIFtgcmVwbGFjZWBdKCN0cmFuc2Zvcm0uVHJhbnNmb3JtLnJlcGxhY2UpIG1ldGhvZCBpcyBhIG1vcmVcbi8vIHByaW1pdGl2ZSB0b29sIHdoaWNoIHdpbGwgX25vdF8gbW92ZSB0aGUgc3RhcnQgYW5kIGVuZCBvZiBpdHMgZ2l2ZW5cbi8vIHJhbmdlLCBhbmQgaXMgdXNlZnVsIGluIHNpdHVhdGlvbnMgd2hlcmUgeW91IG5lZWQgbW9yZSBwcmVjaXNlXG4vLyBjb250cm9sIG92ZXIgd2hhdCBoYXBwZW5zLlxuVHJhbnNmb3JtLnByb3RvdHlwZS5yZXBsYWNlUmFuZ2UgPSBmdW5jdGlvbihmcm9tLCB0bywgc2xpY2UpIHtcbiAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgaWYgKCFzbGljZS5zaXplKSB7IHJldHVybiB0aGlzLmRlbGV0ZVJhbmdlKGZyb20sIHRvKSB9XG5cbiAgdmFyICRmcm9tID0gdGhpcy5kb2MucmVzb2x2ZShmcm9tKSwgJHRvID0gdGhpcy5kb2MucmVzb2x2ZSh0byk7XG4gIGlmIChmaXRzVHJpdmlhbGx5KCRmcm9tLCAkdG8sIHNsaWNlKSlcbiAgICB7IHJldHVybiB0aGlzLnN0ZXAobmV3IFJlcGxhY2VTdGVwKGZyb20sIHRvLCBzbGljZSkpIH1cblxuICB2YXIgdGFyZ2V0RGVwdGhzID0gY292ZXJlZERlcHRocygkZnJvbSwgdGhpcy5kb2MucmVzb2x2ZSh0bykpO1xuICAvLyBDYW4ndCByZXBsYWNlIHRoZSB3aG9sZSBkb2N1bWVudCwgc28gcmVtb3ZlIDAgaWYgaXQncyBwcmVzZW50XG4gIGlmICh0YXJnZXREZXB0aHNbdGFyZ2V0RGVwdGhzLmxlbmd0aCAtIDFdID09IDApIHsgdGFyZ2V0RGVwdGhzLnBvcCgpOyB9XG4gIC8vIE5lZ2F0aXZlIG51bWJlcnMgcmVwcmVzZW50IG5vdCBleHBhbnNpb24gb3ZlciB0aGUgd2hvbGUgbm9kZSBhdFxuICAvLyB0aGF0IGRlcHRoLCBidXQgcmVwbGFjaW5nIGZyb20gJGZyb20uYmVmb3JlKC1EKSB0byAkdG8ucG9zLlxuICB2YXIgcHJlZmVycmVkVGFyZ2V0ID0gLSgkZnJvbS5kZXB0aCArIDEpO1xuICB0YXJnZXREZXB0aHMudW5zaGlmdChwcmVmZXJyZWRUYXJnZXQpO1xuICAvLyBUaGlzIGxvb3AgcGlja3MgYSBwcmVmZXJyZWQgdGFyZ2V0IGRlcHRoLCBpZiBvbmUgb2YgdGhlIGNvdmVyaW5nXG4gIC8vIGRlcHRocyBpcyBub3Qgb3V0c2lkZSBvZiBhIGRlZmluaW5nIG5vZGUsIGFuZCBhZGRzIG5lZ2F0aXZlXG4gIC8vIGRlcHRocyBmb3IgYW55IGRlcHRoIHRoYXQgaGFzICRmcm9tIGF0IGl0cyBzdGFydCBhbmQgZG9lcyBub3RcbiAgLy8gY3Jvc3MgYSBkZWZpbmluZyBub2RlLlxuICBmb3IgKHZhciBkID0gJGZyb20uZGVwdGgsIHBvcyA9ICRmcm9tLnBvcyAtIDE7IGQgPiAwOyBkLS0sIHBvcy0tKSB7XG4gICAgdmFyIHNwZWMgPSAkZnJvbS5ub2RlKGQpLnR5cGUuc3BlYztcbiAgICBpZiAoc3BlYy5kZWZpbmluZyB8fCBzcGVjLmlzb2xhdGluZykgeyBicmVhayB9XG4gICAgaWYgKHRhcmdldERlcHRocy5pbmRleE9mKGQpID4gLTEpIHsgcHJlZmVycmVkVGFyZ2V0ID0gZDsgfVxuICAgIGVsc2UgaWYgKCRmcm9tLmJlZm9yZShkKSA9PSBwb3MpIHsgdGFyZ2V0RGVwdGhzLnNwbGljZSgxLCAwLCAtZCk7IH1cbiAgfVxuICAvLyBUcnkgdG8gZml0IGVhY2ggcG9zc2libGUgZGVwdGggb2YgdGhlIHNsaWNlIGludG8gZWFjaCBwb3NzaWJsZVxuICAvLyB0YXJnZXQgZGVwdGgsIHN0YXJ0aW5nIHdpdGggdGhlIHByZWZlcnJlZCBkZXB0aHMuXG4gIHZhciBwcmVmZXJyZWRUYXJnZXRJbmRleCA9IHRhcmdldERlcHRocy5pbmRleE9mKHByZWZlcnJlZFRhcmdldCk7XG5cbiAgdmFyIGxlZnROb2RlcyA9IFtdLCBwcmVmZXJyZWREZXB0aCA9IHNsaWNlLm9wZW5TdGFydDtcbiAgZm9yICh2YXIgY29udGVudCA9IHNsaWNlLmNvbnRlbnQsIGkgPSAwOzsgaSsrKSB7XG4gICAgdmFyIG5vZGUgPSBjb250ZW50LmZpcnN0Q2hpbGQ7XG4gICAgbGVmdE5vZGVzLnB1c2gobm9kZSk7XG4gICAgaWYgKGkgPT0gc2xpY2Uub3BlblN0YXJ0KSB7IGJyZWFrIH1cbiAgICBjb250ZW50ID0gbm9kZS5jb250ZW50O1xuICB9XG4gIC8vIEJhY2sgdXAgaWYgdGhlIG5vZGUgZGlyZWN0bHkgYWJvdmUgb3BlblN0YXJ0LCBvciB0aGUgbm9kZSBhYm92ZVxuICAvLyB0aGF0IHNlcGFyYXRlZCBvbmx5IGJ5IGEgbm9uLWRlZmluaW5nIHRleHRibG9jayBub2RlLCBpcyBkZWZpbmluZy5cbiAgaWYgKHByZWZlcnJlZERlcHRoID4gMCAmJiBsZWZ0Tm9kZXNbcHJlZmVycmVkRGVwdGggLSAxXS50eXBlLnNwZWMuZGVmaW5pbmcgJiZcbiAgICAgICRmcm9tLm5vZGUocHJlZmVycmVkVGFyZ2V0SW5kZXgpLnR5cGUgIT0gbGVmdE5vZGVzW3ByZWZlcnJlZERlcHRoIC0gMV0udHlwZSlcbiAgICB7IHByZWZlcnJlZERlcHRoIC09IDE7IH1cbiAgZWxzZSBpZiAocHJlZmVycmVkRGVwdGggPj0gMiAmJiBsZWZ0Tm9kZXNbcHJlZmVycmVkRGVwdGggLSAxXS5pc1RleHRibG9jayAmJiBsZWZ0Tm9kZXNbcHJlZmVycmVkRGVwdGggLSAyXS50eXBlLnNwZWMuZGVmaW5pbmcgJiZcbiAgICAgICAgICAgJGZyb20ubm9kZShwcmVmZXJyZWRUYXJnZXRJbmRleCkudHlwZSAhPSBsZWZ0Tm9kZXNbcHJlZmVycmVkRGVwdGggLSAyXS50eXBlKVxuICAgIHsgcHJlZmVycmVkRGVwdGggLT0gMjsgfVxuXG4gIGZvciAodmFyIGogPSBzbGljZS5vcGVuU3RhcnQ7IGogPj0gMDsgai0tKSB7XG4gICAgdmFyIG9wZW5EZXB0aCA9IChqICsgcHJlZmVycmVkRGVwdGggKyAxKSAlIChzbGljZS5vcGVuU3RhcnQgKyAxKTtcbiAgICB2YXIgaW5zZXJ0ID0gbGVmdE5vZGVzW29wZW5EZXB0aF07XG4gICAgaWYgKCFpbnNlcnQpIHsgY29udGludWUgfVxuICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IHRhcmdldERlcHRocy5sZW5ndGg7IGkkMSsrKSB7XG4gICAgICAvLyBMb29wIG92ZXIgcG9zc2libGUgZXhwYW5zaW9uIGxldmVscywgc3RhcnRpbmcgd2l0aCB0aGVcbiAgICAgIC8vIHByZWZlcnJlZCBvbmVcbiAgICAgIHZhciB0YXJnZXREZXB0aCA9IHRhcmdldERlcHRoc1soaSQxICsgcHJlZmVycmVkVGFyZ2V0SW5kZXgpICUgdGFyZ2V0RGVwdGhzLmxlbmd0aF0sIGV4cGFuZCA9IHRydWU7XG4gICAgICBpZiAodGFyZ2V0RGVwdGggPCAwKSB7IGV4cGFuZCA9IGZhbHNlOyB0YXJnZXREZXB0aCA9IC10YXJnZXREZXB0aDsgfVxuICAgICAgdmFyIHBhcmVudCA9ICRmcm9tLm5vZGUodGFyZ2V0RGVwdGggLSAxKSwgaW5kZXggPSAkZnJvbS5pbmRleCh0YXJnZXREZXB0aCAtIDEpO1xuICAgICAgaWYgKHBhcmVudC5jYW5SZXBsYWNlV2l0aChpbmRleCwgaW5kZXgsIGluc2VydC50eXBlLCBpbnNlcnQubWFya3MpKVxuICAgICAgICB7IHJldHVybiB0aGlzJDEucmVwbGFjZSgkZnJvbS5iZWZvcmUodGFyZ2V0RGVwdGgpLCBleHBhbmQgPyAkdG8uYWZ0ZXIodGFyZ2V0RGVwdGgpIDogdG8sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IHByb3NlbWlycm9yTW9kZWwuU2xpY2UoY2xvc2VGcmFnbWVudChzbGljZS5jb250ZW50LCAwLCBzbGljZS5vcGVuU3RhcnQsIG9wZW5EZXB0aCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5EZXB0aCwgc2xpY2Uub3BlbkVuZCkpIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpcy5yZXBsYWNlKGZyb20sIHRvLCBzbGljZSlcbn07XG5cbmZ1bmN0aW9uIGNsb3NlRnJhZ21lbnQoZnJhZ21lbnQsIGRlcHRoLCBvbGRPcGVuLCBuZXdPcGVuLCBwYXJlbnQpIHtcbiAgaWYgKGRlcHRoIDwgb2xkT3Blbikge1xuICAgIHZhciBmaXJzdCA9IGZyYWdtZW50LmZpcnN0Q2hpbGQ7XG4gICAgZnJhZ21lbnQgPSBmcmFnbWVudC5yZXBsYWNlQ2hpbGQoMCwgZmlyc3QuY29weShjbG9zZUZyYWdtZW50KGZpcnN0LmNvbnRlbnQsIGRlcHRoICsgMSwgb2xkT3BlbiwgbmV3T3BlbiwgZmlyc3QpKSk7XG4gIH1cbiAgaWYgKGRlcHRoID4gbmV3T3BlbilcbiAgICB7IGZyYWdtZW50ID0gcGFyZW50LmNvbnRlbnRNYXRjaEF0KDApLmZpbGxCZWZvcmUoZnJhZ21lbnQpLmFwcGVuZChmcmFnbWVudCk7IH1cbiAgcmV0dXJuIGZyYWdtZW50XG59XG5cbi8vIDo6IChudW1iZXIsIG51bWJlciwgTm9kZSkg4oaSIHRoaXNcbi8vIFJlcGxhY2UgdGhlIGdpdmVuIHJhbmdlIHdpdGggYSBub2RlLCBidXQgdXNlIGBmcm9tYCBhbmQgYHRvYCBhc1xuLy8gaGludHMsIHJhdGhlciB0aGFuIHByZWNpc2UgcG9zaXRpb25zLiBXaGVuIGZyb20gYW5kIHRvIGFyZSB0aGUgc2FtZVxuLy8gYW5kIGFyZSBhdCB0aGUgc3RhcnQgb3IgZW5kIG9mIGEgcGFyZW50IG5vZGUgaW4gd2hpY2ggdGhlIGdpdmVuXG4vLyBub2RlIGRvZXNuJ3QgZml0LCB0aGlzIG1ldGhvZCBtYXkgX21vdmVfIHRoZW0gb3V0IHRvd2FyZHMgYSBwYXJlbnRcbi8vIHRoYXQgZG9lcyBhbGxvdyB0aGUgZ2l2ZW4gbm9kZSB0byBiZSBwbGFjZWQuIFdoZW4gdGhlIGdpdmVuIHJhbmdlXG4vLyBjb21wbGV0ZWx5IGNvdmVycyBhIHBhcmVudCBub2RlLCB0aGlzIG1ldGhvZCBtYXkgY29tcGxldGVseSByZXBsYWNlXG4vLyB0aGF0IHBhcmVudCBub2RlLlxuVHJhbnNmb3JtLnByb3RvdHlwZS5yZXBsYWNlUmFuZ2VXaXRoID0gZnVuY3Rpb24oZnJvbSwgdG8sIG5vZGUpIHtcbiAgaWYgKCFub2RlLmlzSW5saW5lICYmIGZyb20gPT0gdG8gJiYgdGhpcy5kb2MucmVzb2x2ZShmcm9tKS5wYXJlbnQuY29udGVudC5zaXplKSB7XG4gICAgdmFyIHBvaW50ID0gaW5zZXJ0UG9pbnQodGhpcy5kb2MsIGZyb20sIG5vZGUudHlwZSk7XG4gICAgaWYgKHBvaW50ICE9IG51bGwpIHsgZnJvbSA9IHRvID0gcG9pbnQ7IH1cbiAgfVxuICByZXR1cm4gdGhpcy5yZXBsYWNlUmFuZ2UoZnJvbSwgdG8sIG5ldyBwcm9zZW1pcnJvck1vZGVsLlNsaWNlKHByb3NlbWlycm9yTW9kZWwuRnJhZ21lbnQuZnJvbShub2RlKSwgMCwgMCkpXG59O1xuXG4vLyA6OiAobnVtYmVyLCBudW1iZXIpIOKGkiB0aGlzXG4vLyBEZWxldGUgdGhlIGdpdmVuIHJhbmdlLCBleHBhbmRpbmcgaXQgdG8gY292ZXIgZnVsbHkgY292ZXJlZFxuLy8gcGFyZW50IG5vZGVzIHVudGlsIGEgdmFsaWQgcmVwbGFjZSBpcyBmb3VuZC5cblRyYW5zZm9ybS5wcm90b3R5cGUuZGVsZXRlUmFuZ2UgPSBmdW5jdGlvbihmcm9tLCB0bykge1xuICB2YXIgdGhpcyQxID0gdGhpcztcblxuICB2YXIgJGZyb20gPSB0aGlzLmRvYy5yZXNvbHZlKGZyb20pLCAkdG8gPSB0aGlzLmRvYy5yZXNvbHZlKHRvKTtcbiAgdmFyIGNvdmVyZWQgPSBjb3ZlcmVkRGVwdGhzKCRmcm9tLCAkdG8pO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdmVyZWQubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgZGVwdGggPSBjb3ZlcmVkW2ldLCBsYXN0ID0gaSA9PSBjb3ZlcmVkLmxlbmd0aCAtIDE7XG4gICAgaWYgKChsYXN0ICYmIGRlcHRoID09IDApIHx8ICRmcm9tLm5vZGUoZGVwdGgpLnR5cGUuY29udGVudE1hdGNoLnZhbGlkRW5kKVxuICAgICAgeyByZXR1cm4gdGhpcyQxLmRlbGV0ZSgkZnJvbS5zdGFydChkZXB0aCksICR0by5lbmQoZGVwdGgpKSB9XG4gICAgaWYgKGRlcHRoID4gMCAmJiAobGFzdCB8fCAkZnJvbS5ub2RlKGRlcHRoIC0gMSkuY2FuUmVwbGFjZSgkZnJvbS5pbmRleChkZXB0aCAtIDEpLCAkdG8uaW5kZXhBZnRlcihkZXB0aCAtIDEpKSkpXG4gICAgICB7IHJldHVybiB0aGlzJDEuZGVsZXRlKCRmcm9tLmJlZm9yZShkZXB0aCksICR0by5hZnRlcihkZXB0aCkpIH1cbiAgfVxuICBmb3IgKHZhciBkID0gMTsgZCA8PSAkZnJvbS5kZXB0aDsgZCsrKSB7XG4gICAgaWYgKGZyb20gLSAkZnJvbS5zdGFydChkKSA9PSAkZnJvbS5kZXB0aCAtIGQgJiYgdG8gPiAkZnJvbS5lbmQoZCkpXG4gICAgICB7IHJldHVybiB0aGlzJDEuZGVsZXRlKCRmcm9tLmJlZm9yZShkKSwgdG8pIH1cbiAgfVxuICByZXR1cm4gdGhpcy5kZWxldGUoZnJvbSwgdG8pXG59O1xuXG4vLyA6IChSZXNvbHZlZFBvcywgUmVzb2x2ZWRQb3MpIOKGkiBbbnVtYmVyXVxuLy8gUmV0dXJucyBhbiBhcnJheSBvZiBhbGwgZGVwdGhzIGZvciB3aGljaCAkZnJvbSAtICR0byBzcGFucyB0aGVcbi8vIHdob2xlIGNvbnRlbnQgb2YgdGhlIG5vZGVzIGF0IHRoYXQgZGVwdGguXG5mdW5jdGlvbiBjb3ZlcmVkRGVwdGhzKCRmcm9tLCAkdG8pIHtcbiAgdmFyIHJlc3VsdCA9IFtdLCBtaW5EZXB0aCA9IE1hdGgubWluKCRmcm9tLmRlcHRoLCAkdG8uZGVwdGgpO1xuICBmb3IgKHZhciBkID0gbWluRGVwdGg7IGQgPj0gMDsgZC0tKSB7XG4gICAgdmFyIHN0YXJ0ID0gJGZyb20uc3RhcnQoZCk7XG4gICAgaWYgKHN0YXJ0IDwgJGZyb20ucG9zIC0gKCRmcm9tLmRlcHRoIC0gZCkgfHxcbiAgICAgICAgJHRvLmVuZChkKSA+ICR0by5wb3MgKyAoJHRvLmRlcHRoIC0gZCkgfHxcbiAgICAgICAgJGZyb20ubm9kZShkKS50eXBlLnNwZWMuaXNvbGF0aW5nIHx8XG4gICAgICAgICR0by5ub2RlKGQpLnR5cGUuc3BlYy5pc29sYXRpbmcpIHsgYnJlYWsgfVxuICAgIGlmIChzdGFydCA9PSAkdG8uc3RhcnQoZCkpIHsgcmVzdWx0LnB1c2goZCk7IH1cbiAgfVxuICByZXR1cm4gcmVzdWx0XG59XG5cbmV4cG9ydHMuVHJhbnNmb3JtID0gVHJhbnNmb3JtO1xuZXhwb3J0cy5UcmFuc2Zvcm1FcnJvciA9IFRyYW5zZm9ybUVycm9yO1xuZXhwb3J0cy5TdGVwID0gU3RlcDtcbmV4cG9ydHMuU3RlcFJlc3VsdCA9IFN0ZXBSZXN1bHQ7XG5leHBvcnRzLmpvaW5Qb2ludCA9IGpvaW5Qb2ludDtcbmV4cG9ydHMuY2FuSm9pbiA9IGNhbkpvaW47XG5leHBvcnRzLmNhblNwbGl0ID0gY2FuU3BsaXQ7XG5leHBvcnRzLmluc2VydFBvaW50ID0gaW5zZXJ0UG9pbnQ7XG5leHBvcnRzLmxpZnRUYXJnZXQgPSBsaWZ0VGFyZ2V0O1xuZXhwb3J0cy5maW5kV3JhcHBpbmcgPSBmaW5kV3JhcHBpbmc7XG5leHBvcnRzLlN0ZXBNYXAgPSBTdGVwTWFwO1xuZXhwb3J0cy5NYXBSZXN1bHQgPSBNYXBSZXN1bHQ7XG5leHBvcnRzLk1hcHBpbmcgPSBNYXBwaW5nO1xuZXhwb3J0cy5BZGRNYXJrU3RlcCA9IEFkZE1hcmtTdGVwO1xuZXhwb3J0cy5SZW1vdmVNYXJrU3RlcCA9IFJlbW92ZU1hcmtTdGVwO1xuZXhwb3J0cy5SZXBsYWNlU3RlcCA9IFJlcGxhY2VTdGVwO1xuZXhwb3J0cy5SZXBsYWNlQXJvdW5kU3RlcCA9IFJlcGxhY2VBcm91bmRTdGVwO1xuZXhwb3J0cy5yZXBsYWNlU3RlcCA9IHJlcGxhY2VTdGVwO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG4iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG5cbnZhciBwcm9zZW1pcnJvck1vZGVsID0gcmVxdWlyZSgncHJvc2VtaXJyb3ItbW9kZWwnKTtcbnZhciBwcm9zZW1pcnJvclRyYW5zZm9ybSA9IHJlcXVpcmUoJ3Byb3NlbWlycm9yLXRyYW5zZm9ybScpO1xuXG52YXIgY2xhc3Nlc0J5SWQgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4vLyA6Oi0gU3VwZXJjbGFzcyBmb3IgZWRpdG9yIHNlbGVjdGlvbnMuIEV2ZXJ5IHNlbGVjdGlvbiB0eXBlIHNob3VsZFxuLy8gZXh0ZW5kIHRoaXMuIFNob3VsZCBub3QgYmUgaW5zdGFudGlhdGVkIGRpcmVjdGx5LlxudmFyIFNlbGVjdGlvbiA9IGZ1bmN0aW9uIFNlbGVjdGlvbigkYW5jaG9yLCAkaGVhZCwgcmFuZ2VzKSB7XG4gIC8vIDo6IFtTZWxlY3Rpb25SYW5nZV1cbiAgLy8gVGhlIHJhbmdlcyBjb3ZlcmVkIGJ5IHRoZSBzZWxlY3Rpb24uXG4gIHRoaXMucmFuZ2VzID0gcmFuZ2VzIHx8IFtuZXcgU2VsZWN0aW9uUmFuZ2UoJGFuY2hvci5taW4oJGhlYWQpLCAkYW5jaG9yLm1heCgkaGVhZCkpXTtcbiAgLy8gOjogUmVzb2x2ZWRQb3NcbiAgLy8gVGhlIHJlc29sdmVkIGFuY2hvciBvZiB0aGUgc2VsZWN0aW9uICh0aGUgc2lkZSB0aGF0IHN0YXlzIGluXG4gIC8vIHBsYWNlIHdoZW4gdGhlIHNlbGVjdGlvbiBpcyBtb2RpZmllZCkuXG4gIHRoaXMuJGFuY2hvciA9ICRhbmNob3I7XG4gIC8vIDo6IFJlc29sdmVkUG9zXG4gIC8vIFRoZSByZXNvbHZlZCBoZWFkIG9mIHRoZSBzZWxlY3Rpb24gKHRoZSBzaWRlIHRoYXQgbW92ZXMgd2hlblxuICAvLyB0aGUgc2VsZWN0aW9uIGlzIG1vZGlmaWVkKS5cbiAgdGhpcy4kaGVhZCA9ICRoZWFkO1xufTtcblxudmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgYW5jaG9yOiB7fSxoZWFkOiB7fSxmcm9tOiB7fSx0bzoge30sJGZyb206IHt9LCR0bzoge30sZW1wdHk6IHt9IH07XG5cbi8vIDo6IG51bWJlclxuLy8gVGhlIHNlbGVjdGlvbidzIGFuY2hvciwgYXMgYW4gdW5yZXNvbHZlZCBwb3NpdGlvbi5cbnByb3RvdHlwZUFjY2Vzc29ycy5hbmNob3IuZ2V0ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy4kYW5jaG9yLnBvcyB9O1xuXG4vLyA6OiBudW1iZXJcbi8vIFRoZSBzZWxlY3Rpb24ncyBoZWFkLlxucHJvdG90eXBlQWNjZXNzb3JzLmhlYWQuZ2V0ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy4kaGVhZC5wb3MgfTtcblxuLy8gOjogbnVtYmVyXG4vLyBUaGUgbG93ZXIgYm91bmQgb2YgdGhlIHNlbGVjdGlvbidzIG1haW4gcmFuZ2UuXG5wcm90b3R5cGVBY2Nlc3NvcnMuZnJvbS5nZXQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLiRmcm9tLnBvcyB9O1xuXG4vLyA6OiBudW1iZXJcbi8vIFRoZSB1cHBlciBib3VuZCBvZiB0aGUgc2VsZWN0aW9uJ3MgbWFpbiByYW5nZS5cbnByb3RvdHlwZUFjY2Vzc29ycy50by5nZXQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLiR0by5wb3MgfTtcblxuLy8gOjogUmVzb2x2ZWRQb3Ncbi8vIFRoZSByZXNvbHZlZCBsb3dlcmJvdW5kIG9mIHRoZSBzZWxlY3Rpb24ncyBtYWluIHJhbmdlLlxucHJvdG90eXBlQWNjZXNzb3JzLiRmcm9tLmdldCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMucmFuZ2VzWzBdLiRmcm9tXG59O1xuXG4vLyA6OiBSZXNvbHZlZFBvc1xuLy8gVGhlIHJlc29sdmVkIHVwcGVyIGJvdW5kIG9mIHRoZSBzZWxlY3Rpb24ncyBtYWluIHJhbmdlLlxucHJvdG90eXBlQWNjZXNzb3JzLiR0by5nZXQgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLnJhbmdlc1swXS4kdG9cbn07XG5cbi8vIDo6IGJvb2xcbi8vIEluZGljYXRlcyB3aGV0aGVyIHRoZSBzZWxlY3Rpb24gY29udGFpbnMgYW55IGNvbnRlbnQuXG5wcm90b3R5cGVBY2Nlc3NvcnMuZW1wdHkuZ2V0ID0gZnVuY3Rpb24gKCkge1xuICB2YXIgcmFuZ2VzID0gdGhpcy5yYW5nZXM7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcmFuZ2VzLmxlbmd0aDsgaSsrKVxuICAgIHsgaWYgKHJhbmdlc1tpXS4kZnJvbS5wb3MgIT0gcmFuZ2VzW2ldLiR0by5wb3MpIHsgcmV0dXJuIGZhbHNlIH0gfVxuICByZXR1cm4gdHJ1ZVxufTtcblxuLy8gZXE6OiAoU2VsZWN0aW9uKSDihpIgYm9vbFxuLy8gVGVzdCB3aGV0aGVyIHRoZSBzZWxlY3Rpb24gaXMgdGhlIHNhbWUgYXMgYW5vdGhlciBzZWxlY3Rpb24uXG5cbi8vIG1hcDo6IChkb2M6IE5vZGUsIG1hcHBpbmc6IE1hcHBhYmxlKSDihpIgU2VsZWN0aW9uXG4vLyBNYXAgdGhpcyBzZWxlY3Rpb24gdGhyb3VnaCBhIFttYXBwYWJsZV0oI3RyYW5zZm9ybS5NYXBwYWJsZSkgdGhpbmcuIGBkb2NgXG4vLyBzaG91bGQgYmUgdGhlIG5ldyBkb2N1bWVudCB0byB3aGljaCB3ZSBhcmUgbWFwcGluZy5cblxuLy8gOjogKCkg4oaSIFNsaWNlXG4vLyBHZXQgdGhlIGNvbnRlbnQgb2YgdGhpcyBzZWxlY3Rpb24gYXMgYSBzbGljZS5cblNlbGVjdGlvbi5wcm90b3R5cGUuY29udGVudCA9IGZ1bmN0aW9uIGNvbnRlbnQgKCkge1xuICByZXR1cm4gdGhpcy4kZnJvbS5ub2RlKDApLnNsaWNlKHRoaXMuZnJvbSwgdGhpcy50bywgdHJ1ZSlcbn07XG5cbi8vIDo6IChUcmFuc2FjdGlvbiwgP1NsaWNlKVxuLy8gUmVwbGFjZSB0aGUgc2VsZWN0aW9uIHdpdGggYSBzbGljZSBvciwgaWYgbm8gc2xpY2UgaXMgZ2l2ZW4sXG4vLyBkZWxldGUgdGhlIHNlbGVjdGlvbi4gV2lsbCBhcHBlbmQgdG8gdGhlIGdpdmVuIHRyYW5zYWN0aW9uLlxuU2VsZWN0aW9uLnByb3RvdHlwZS5yZXBsYWNlID0gZnVuY3Rpb24gcmVwbGFjZSAodHIsIGNvbnRlbnQpIHtcbiAgICBpZiAoIGNvbnRlbnQgPT09IHZvaWQgMCApIGNvbnRlbnQgPSBwcm9zZW1pcnJvck1vZGVsLlNsaWNlLmVtcHR5O1xuXG4gIC8vIFB1dCB0aGUgbmV3IHNlbGVjdGlvbiBhdCB0aGUgcG9zaXRpb24gYWZ0ZXIgdGhlIGluc2VydGVkXG4gIC8vIGNvbnRlbnQuIFdoZW4gdGhhdCBlbmRlZCBpbiBhbiBpbmxpbmUgbm9kZSwgc2VhcmNoIGJhY2t3YXJkcyxcbiAgLy8gdG8gZ2V0IHRoZSBwb3NpdGlvbiBhZnRlciB0aGF0IG5vZGUuIElmIG5vdCwgc2VhcmNoIGZvcndhcmQuXG4gIHZhciBsYXN0Tm9kZSA9IGNvbnRlbnQuY29udGVudC5sYXN0Q2hpbGQsIGxhc3RQYXJlbnQgPSBudWxsO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbnRlbnQub3BlbkVuZDsgaSsrKSB7XG4gICAgbGFzdFBhcmVudCA9IGxhc3ROb2RlO1xuICAgIGxhc3ROb2RlID0gbGFzdE5vZGUubGFzdENoaWxkO1xuICB9XG5cbiAgdmFyIG1hcEZyb20gPSB0ci5zdGVwcy5sZW5ndGgsIHJhbmdlcyA9IHRoaXMucmFuZ2VzO1xuICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCByYW5nZXMubGVuZ3RoOyBpJDErKykge1xuICAgIHZhciByZWYgPSByYW5nZXNbaSQxXTtcbiAgICAgIHZhciAkZnJvbSA9IHJlZi4kZnJvbTtcbiAgICAgIHZhciAkdG8gPSByZWYuJHRvO1xuICAgICAgdmFyIG1hcHBpbmcgPSB0ci5tYXBwaW5nLnNsaWNlKG1hcEZyb20pO1xuICAgIHRyLnJlcGxhY2VSYW5nZShtYXBwaW5nLm1hcCgkZnJvbS5wb3MpLCBtYXBwaW5nLm1hcCgkdG8ucG9zKSwgaSQxID8gcHJvc2VtaXJyb3JNb2RlbC5TbGljZS5lbXB0eSA6IGNvbnRlbnQpO1xuICAgIGlmIChpJDEgPT0gMClcbiAgICAgIHsgc2VsZWN0aW9uVG9JbnNlcnRpb25FbmQodHIsIG1hcEZyb20sIChsYXN0Tm9kZSA/IGxhc3ROb2RlLmlzSW5saW5lIDogbGFzdFBhcmVudCAmJiBsYXN0UGFyZW50LmlzVGV4dGJsb2NrKSA/IC0xIDogMSk7IH1cbiAgfVxufTtcblxuLy8gOjogKFRyYW5zYWN0aW9uLCBOb2RlKVxuLy8gUmVwbGFjZSB0aGUgc2VsZWN0aW9uIHdpdGggdGhlIGdpdmVuIG5vZGUsIGFwcGVuZGluZyB0aGUgY2hhbmdlc1xuLy8gdG8gdGhlIGdpdmVuIHRyYW5zYWN0aW9uLlxuU2VsZWN0aW9uLnByb3RvdHlwZS5yZXBsYWNlV2l0aCA9IGZ1bmN0aW9uIHJlcGxhY2VXaXRoICh0ciwgbm9kZSkge1xuICB2YXIgbWFwRnJvbSA9IHRyLnN0ZXBzLmxlbmd0aCwgcmFuZ2VzID0gdGhpcy5yYW5nZXM7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcmFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHJlZiA9IHJhbmdlc1tpXTtcbiAgICAgIHZhciAkZnJvbSA9IHJlZi4kZnJvbTtcbiAgICAgIHZhciAkdG8gPSByZWYuJHRvO1xuICAgICAgdmFyIG1hcHBpbmcgPSB0ci5tYXBwaW5nLnNsaWNlKG1hcEZyb20pO1xuICAgIHZhciBmcm9tID0gbWFwcGluZy5tYXAoJGZyb20ucG9zKSwgdG8gPSBtYXBwaW5nLm1hcCgkdG8ucG9zKTtcbiAgICBpZiAoaSkge1xuICAgICAgdHIuZGVsZXRlUmFuZ2UoZnJvbSwgdG8pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0ci5yZXBsYWNlUmFuZ2VXaXRoKGZyb20sIHRvLCBub2RlKTtcbiAgICAgIHNlbGVjdGlvblRvSW5zZXJ0aW9uRW5kKHRyLCBtYXBGcm9tLCBub2RlLmlzSW5saW5lID8gLTEgOiAxKTtcbiAgICB9XG4gIH1cbn07XG5cbi8vIHRvSlNPTjo6ICgpIOKGkiBPYmplY3Rcbi8vIENvbnZlcnQgdGhlIHNlbGVjdGlvbiB0byBhIEpTT04gcmVwcmVzZW50YXRpb24uIFdoZW4gaW1wbGVtZW50aW5nXG4vLyB0aGlzIGZvciBhIGN1c3RvbSBzZWxlY3Rpb24gY2xhc3MsIG1ha2Ugc3VyZSB0byBnaXZlIHRoZSBvYmplY3QgYVxuLy8gYHR5cGVgIHByb3BlcnR5IHdob3NlIHZhbHVlIG1hdGNoZXMgdGhlIElEIHVuZGVyIHdoaWNoIHlvdVxuLy8gW3JlZ2lzdGVyZWRdKCNzdGF0ZS5TZWxlY3Rpb25eanNvbklEKSB5b3VyIGNsYXNzLlxuXG4vLyA6OiAoUmVzb2x2ZWRQb3MsIG51bWJlciwgP2Jvb2wpIOKGkiA/U2VsZWN0aW9uXG4vLyBGaW5kIGEgdmFsaWQgY3Vyc29yIG9yIGxlYWYgbm9kZSBzZWxlY3Rpb24gc3RhcnRpbmcgYXQgdGhlIGdpdmVuXG4vLyBwb3NpdGlvbiBhbmQgc2VhcmNoaW5nIGJhY2sgaWYgYGRpcmAgaXMgbmVnYXRpdmUsIGFuZCBmb3J3YXJkIGlmXG4vLyBwb3NpdGl2ZS4gV2hlbiBgdGV4dE9ubHlgIGlzIHRydWUsIG9ubHkgY29uc2lkZXIgY3Vyc29yXG4vLyBzZWxlY3Rpb25zLiBXaWxsIHJldHVybiBudWxsIHdoZW4gbm8gdmFsaWQgc2VsZWN0aW9uIHBvc2l0aW9uIGlzXG4vLyBmb3VuZC5cblNlbGVjdGlvbi5maW5kRnJvbSA9IGZ1bmN0aW9uIGZpbmRGcm9tICgkcG9zLCBkaXIsIHRleHRPbmx5KSB7XG4gIHZhciBpbm5lciA9ICRwb3MucGFyZW50LmlubGluZUNvbnRlbnQgPyBuZXcgVGV4dFNlbGVjdGlvbigkcG9zKVxuICAgICAgOiBmaW5kU2VsZWN0aW9uSW4oJHBvcy5ub2RlKDApLCAkcG9zLnBhcmVudCwgJHBvcy5wb3MsICRwb3MuaW5kZXgoKSwgZGlyLCB0ZXh0T25seSk7XG4gIGlmIChpbm5lcikgeyByZXR1cm4gaW5uZXIgfVxuXG4gIGZvciAodmFyIGRlcHRoID0gJHBvcy5kZXB0aCAtIDE7IGRlcHRoID49IDA7IGRlcHRoLS0pIHtcbiAgICB2YXIgZm91bmQgPSBkaXIgPCAwXG4gICAgICAgID8gZmluZFNlbGVjdGlvbkluKCRwb3Mubm9kZSgwKSwgJHBvcy5ub2RlKGRlcHRoKSwgJHBvcy5iZWZvcmUoZGVwdGggKyAxKSwgJHBvcy5pbmRleChkZXB0aCksIGRpciwgdGV4dE9ubHkpXG4gICAgICAgIDogZmluZFNlbGVjdGlvbkluKCRwb3Mubm9kZSgwKSwgJHBvcy5ub2RlKGRlcHRoKSwgJHBvcy5hZnRlcihkZXB0aCArIDEpLCAkcG9zLmluZGV4KGRlcHRoKSArIDEsIGRpciwgdGV4dE9ubHkpO1xuICAgIGlmIChmb3VuZCkgeyByZXR1cm4gZm91bmQgfVxuICB9XG59O1xuXG4vLyA6OiAoUmVzb2x2ZWRQb3MsID9udW1iZXIpIOKGkiBTZWxlY3Rpb25cbi8vIEZpbmQgYSB2YWxpZCBjdXJzb3Igb3IgbGVhZiBub2RlIHNlbGVjdGlvbiBuZWFyIHRoZSBnaXZlblxuLy8gcG9zaXRpb24uIFNlYXJjaGVzIGZvcndhcmQgZmlyc3QgYnkgZGVmYXVsdCwgYnV0IGlmIGBiaWFzYCBpc1xuLy8gbmVnYXRpdmUsIGl0IHdpbGwgc2VhcmNoIGJhY2t3YXJkcyBmaXJzdC5cblNlbGVjdGlvbi5uZWFyID0gZnVuY3Rpb24gbmVhciAoJHBvcywgYmlhcykge1xuICAgIGlmICggYmlhcyA9PT0gdm9pZCAwICkgYmlhcyA9IDE7XG5cbiAgcmV0dXJuIHRoaXMuZmluZEZyb20oJHBvcywgYmlhcykgfHwgdGhpcy5maW5kRnJvbSgkcG9zLCAtYmlhcykgfHwgbmV3IEFsbFNlbGVjdGlvbigkcG9zLm5vZGUoMCkpXG59O1xuXG4vLyA6OiAoTm9kZSkg4oaSIFNlbGVjdGlvblxuLy8gRmluZCB0aGUgY3Vyc29yIG9yIGxlYWYgbm9kZSBzZWxlY3Rpb24gY2xvc2VzdCB0byB0aGUgc3RhcnQgb2Zcbi8vIHRoZSBnaXZlbiBkb2N1bWVudC4gV2lsbCByZXR1cm4gYW5cbi8vIFtgQWxsU2VsZWN0aW9uYF0oI3N0YXRlLkFsbFNlbGVjdGlvbikgaWYgbm8gdmFsaWQgcG9zaXRpb25cbi8vIGV4aXN0cy5cblNlbGVjdGlvbi5hdFN0YXJ0ID0gZnVuY3Rpb24gYXRTdGFydCAoZG9jKSB7XG4gIHJldHVybiBmaW5kU2VsZWN0aW9uSW4oZG9jLCBkb2MsIDAsIDAsIDEpIHx8IG5ldyBBbGxTZWxlY3Rpb24oZG9jKVxufTtcblxuLy8gOjogKE5vZGUpIOKGkiBTZWxlY3Rpb25cbi8vIEZpbmQgdGhlIGN1cnNvciBvciBsZWFmIG5vZGUgc2VsZWN0aW9uIGNsb3Nlc3QgdG8gdGhlIGVuZCBvZiB0aGVcbi8vIGdpdmVuIGRvY3VtZW50LlxuU2VsZWN0aW9uLmF0RW5kID0gZnVuY3Rpb24gYXRFbmQgKGRvYykge1xuICByZXR1cm4gZmluZFNlbGVjdGlvbkluKGRvYywgZG9jLCBkb2MuY29udGVudC5zaXplLCBkb2MuY2hpbGRDb3VudCwgLTEpIHx8IG5ldyBBbGxTZWxlY3Rpb24oZG9jKVxufTtcblxuLy8gOjogKE5vZGUsIE9iamVjdCkg4oaSIFNlbGVjdGlvblxuLy8gRGVzZXJpYWxpemUgdGhlIEpTT04gcmVwcmVzZW50YXRpb24gb2YgYSBzZWxlY3Rpb24uIE11c3QgYmVcbi8vIGltcGxlbWVudGVkIGZvciBjdXN0b20gY2xhc3NlcyAoYXMgYSBzdGF0aWMgY2xhc3MgbWV0aG9kKS5cblNlbGVjdGlvbi5mcm9tSlNPTiA9IGZ1bmN0aW9uIGZyb21KU09OIChkb2MsIGpzb24pIHtcbiAgaWYgKCFqc29uIHx8ICFqc29uLnR5cGUpIHsgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbnZhbGlkIGlucHV0IGZvciBTZWxlY3Rpb24uZnJvbUpTT05cIikgfVxuICB2YXIgY2xzID0gY2xhc3Nlc0J5SWRbanNvbi50eXBlXTtcbiAgaWYgKCFjbHMpIHsgdGhyb3cgbmV3IFJhbmdlRXJyb3IoKFwiTm8gc2VsZWN0aW9uIHR5cGUgXCIgKyAoanNvbi50eXBlKSArIFwiIGRlZmluZWRcIikpIH1cbiAgcmV0dXJuIGNscy5mcm9tSlNPTihkb2MsIGpzb24pXG59O1xuXG4vLyA6OiAoc3RyaW5nLCBjb25zdHJ1Y3RvcjxTZWxlY3Rpb24+KVxuLy8gVG8gYmUgYWJsZSB0byBkZXNlcmlhbGl6ZSBzZWxlY3Rpb25zIGZyb20gSlNPTiwgY3VzdG9tIHNlbGVjdGlvblxuLy8gY2xhc3NlcyBtdXN0IHJlZ2lzdGVyIHRoZW1zZWx2ZXMgd2l0aCBhbiBJRCBzdHJpbmcsIHNvIHRoYXQgdGhleVxuLy8gY2FuIGJlIGRpc2FtYmlndWF0ZWQuIFRyeSB0byBwaWNrIHNvbWV0aGluZyB0aGF0J3MgdW5saWtlbHkgdG9cbi8vIGNsYXNoIHdpdGggY2xhc3NlcyBmcm9tIG90aGVyIG1vZHVsZXMuXG5TZWxlY3Rpb24uanNvbklEID0gZnVuY3Rpb24ganNvbklEIChpZCwgc2VsZWN0aW9uQ2xhc3MpIHtcbiAgaWYgKGlkIGluIGNsYXNzZXNCeUlkKSB7IHRocm93IG5ldyBSYW5nZUVycm9yKFwiRHVwbGljYXRlIHVzZSBvZiBzZWxlY3Rpb24gSlNPTiBJRCBcIiArIGlkKSB9XG4gIGNsYXNzZXNCeUlkW2lkXSA9IHNlbGVjdGlvbkNsYXNzO1xuICBzZWxlY3Rpb25DbGFzcy5wcm90b3R5cGUuanNvbklEID0gaWQ7XG4gIHJldHVybiBzZWxlY3Rpb25DbGFzc1xufTtcblxuLy8gOjogKCkg4oaSIFNlbGVjdGlvbkJvb2ttYXJrXG4vLyBHZXQgYSBbYm9va21hcmtdKCNzdGF0ZS5TZWxlY3Rpb25Cb29rbWFyaykgZm9yIHRoaXMgc2VsZWN0aW9uLFxuLy8gd2hpY2ggaXMgYSB2YWx1ZSB0aGF0IGNhbiBiZSBtYXBwZWQgd2l0aG91dCBoYXZpbmcgYWNjZXNzIHRvIGFcbi8vIGN1cnJlbnQgZG9jdW1lbnQsIGFuZCBsYXRlciByZXNvbHZlZCB0byBhIHJlYWwgc2VsZWN0aW9uIGZvciBhXG4vLyBnaXZlbiBkb2N1bWVudCBhZ2Fpbi4gKFRoaXMgaXMgdXNlZCBtb3N0bHkgYnkgdGhlIGhpc3RvcnkgdG9cbi8vIHRyYWNrIGFuZCByZXN0b3JlIG9sZCBzZWxlY3Rpb25zLikgVGhlIGRlZmF1bHQgaW1wbGVtZW50YXRpb24gb2Zcbi8vIHRoaXMgbWV0aG9kIGp1c3QgY29udmVydHMgdGhlIHNlbGVjdGlvbiB0byBhIHRleHQgc2VsZWN0aW9uIGFuZFxuLy8gcmV0dXJucyB0aGUgYm9va21hcmsgZm9yIHRoYXQuXG5TZWxlY3Rpb24ucHJvdG90eXBlLmdldEJvb2ttYXJrID0gZnVuY3Rpb24gZ2V0Qm9va21hcmsgKCkge1xuICByZXR1cm4gVGV4dFNlbGVjdGlvbi5iZXR3ZWVuKHRoaXMuYW5jaG9yLCB0aGlzLmhlYWQpLmdldEJvb2ttYXJrKClcbn07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBTZWxlY3Rpb24ucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxuLy8gOjogYm9vbFxuLy8gQ29udHJvbHMgd2hldGhlciwgd2hlbiBhIHNlbGVjdGlvbiBvZiB0aGlzIHR5cGUgaXMgYWN0aXZlIGluIHRoZVxuLy8gYnJvd3NlciwgdGhlIHNlbGVjdGVkIHJhbmdlIHNob3VsZCBiZSB2aXNpYmxlIHRvIHRoZSB1c2VyLiBEZWZhdWx0c1xuLy8gdG8gYHRydWVgLlxuU2VsZWN0aW9uLnByb3RvdHlwZS52aXNpYmxlID0gdHJ1ZTtcblxuLy8gU2VsZWN0aW9uQm9va21hcms6OiBpbnRlcmZhY2Vcbi8vIEEgbGlnaHR3ZWlnaHQsIGRvY3VtZW50LWluZGVwZW5kZW50IHJlcHJlc2VudGF0aW9uIG9mIGEgc2VsZWN0aW9uLlxuLy8gWW91IGNhbiBkZWZpbmUgYSBjdXN0b20gYm9va21hcmsgdHlwZSBmb3IgYSBjdXN0b20gc2VsZWN0aW9uIGNsYXNzXG4vLyB0byBtYWtlIHRoZSBoaXN0b3J5IGhhbmRsZSBpdCB3ZWxsLlxuLy9cbi8vICAgbWFwOjogKG1hcHBpbmc6IE1hcHBpbmcpIOKGkiBTZWxlY3Rpb25Cb29rbWFya1xuLy8gICBNYXAgdGhlIGJvb2ttYXJrIHRocm91Z2ggYSBzZXQgb2YgY2hhbmdlcy5cbi8vXG4vLyAgIHJlc29sdmU6OiAoZG9jOiBOb2RlKSDihpIgU2VsZWN0aW9uXG4vLyAgIFJlc29sdmUgdGhlIGJvb2ttYXJrIHRvIGEgcmVhbCBzZWxlY3Rpb24gYWdhaW4uIFRoaXMgbWF5IG5lZWQgdG9cbi8vICAgZG8gc29tZSBlcnJvciBjaGVja2luZyBhbmQgbWF5IGZhbGwgYmFjayB0byBhIGRlZmF1bHQgKHVzdWFsbHlcbi8vICAgW2BUZXh0U2VsZWN0aW9uLmJldHdlZW5gXSgjc3RhdGUuVGV4dFNlbGVjdGlvbl5iZXR3ZWVuKSkgaWZcbi8vICAgbWFwcGluZyBtYWRlIHRoZSBib29rbWFyayBpbnZhbGlkLlxuXG4vLyA6Oi0gUmVwcmVzZW50cyBhIHNlbGVjdGVkIHJhbmdlIGluIGEgZG9jdW1lbnQuXG52YXIgU2VsZWN0aW9uUmFuZ2UgPSBmdW5jdGlvbiBTZWxlY3Rpb25SYW5nZSgkZnJvbSwgJHRvKSB7XG4gIC8vIDo6IFJlc29sdmVkUG9zXG4gIC8vIFRoZSBsb3dlciBib3VuZCBvZiB0aGUgcmFuZ2UuXG4gIHRoaXMuJGZyb20gPSAkZnJvbTtcbiAgLy8gOjogUmVzb2x2ZWRQb3NcbiAgLy8gVGhlIHVwcGVyIGJvdW5kIG9mIHRoZSByYW5nZS5cbiAgdGhpcy4kdG8gPSAkdG87XG59O1xuXG4vLyA6Oi0gQSB0ZXh0IHNlbGVjdGlvbiByZXByZXNlbnRzIGEgY2xhc3NpY2FsIGVkaXRvciBzZWxlY3Rpb24sIHdpdGhcbi8vIGEgaGVhZCAodGhlIG1vdmluZyBzaWRlKSBhbmQgYW5jaG9yIChpbW1vYmlsZSBzaWRlKSwgYm90aCBvZiB3aGljaFxuLy8gcG9pbnQgaW50byB0ZXh0YmxvY2sgbm9kZXMuIEl0IGNhbiBiZSBlbXB0eSAoYSByZWd1bGFyIGN1cnNvclxuLy8gcG9zaXRpb24pLlxudmFyIFRleHRTZWxlY3Rpb24gPSAoZnVuY3Rpb24gKFNlbGVjdGlvbikge1xuICBmdW5jdGlvbiBUZXh0U2VsZWN0aW9uKCRhbmNob3IsICRoZWFkKSB7XG4gICAgaWYgKCAkaGVhZCA9PT0gdm9pZCAwICkgJGhlYWQgPSAkYW5jaG9yO1xuXG4gICAgU2VsZWN0aW9uLmNhbGwodGhpcywgJGFuY2hvciwgJGhlYWQpO1xuICB9XG5cbiAgaWYgKCBTZWxlY3Rpb24gKSBUZXh0U2VsZWN0aW9uLl9fcHJvdG9fXyA9IFNlbGVjdGlvbjtcbiAgVGV4dFNlbGVjdGlvbi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBTZWxlY3Rpb24gJiYgU2VsZWN0aW9uLnByb3RvdHlwZSApO1xuICBUZXh0U2VsZWN0aW9uLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFRleHRTZWxlY3Rpb247XG5cbiAgdmFyIHByb3RvdHlwZUFjY2Vzc29ycyQxID0geyAkY3Vyc29yOiB7fSB9O1xuXG4gIC8vIDo6ID9SZXNvbHZlZFBvc1xuICAvLyBSZXR1cm5zIGEgcmVzb2x2ZWQgcG9zaXRpb24gaWYgdGhpcyBpcyBhIGN1cnNvciBzZWxlY3Rpb24gKGFuXG4gIC8vIGVtcHR5IHRleHQgc2VsZWN0aW9uKSwgYW5kIG51bGwgb3RoZXJ3aXNlLlxuICBwcm90b3R5cGVBY2Nlc3NvcnMkMS4kY3Vyc29yLmdldCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuJGFuY2hvci5wb3MgPT0gdGhpcy4kaGVhZC5wb3MgPyB0aGlzLiRoZWFkIDogbnVsbCB9O1xuXG4gIFRleHRTZWxlY3Rpb24ucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIG1hcCAoZG9jLCBtYXBwaW5nKSB7XG4gICAgdmFyICRoZWFkID0gZG9jLnJlc29sdmUobWFwcGluZy5tYXAodGhpcy5oZWFkKSk7XG4gICAgaWYgKCEkaGVhZC5wYXJlbnQuaW5saW5lQ29udGVudCkgeyByZXR1cm4gU2VsZWN0aW9uLm5lYXIoJGhlYWQpIH1cbiAgICB2YXIgJGFuY2hvciA9IGRvYy5yZXNvbHZlKG1hcHBpbmcubWFwKHRoaXMuYW5jaG9yKSk7XG4gICAgcmV0dXJuIG5ldyBUZXh0U2VsZWN0aW9uKCRhbmNob3IucGFyZW50LmlubGluZUNvbnRlbnQgPyAkYW5jaG9yIDogJGhlYWQsICRoZWFkKVxuICB9O1xuXG4gIFRleHRTZWxlY3Rpb24ucHJvdG90eXBlLnJlcGxhY2UgPSBmdW5jdGlvbiByZXBsYWNlICh0ciwgY29udGVudCkge1xuICAgIGlmICggY29udGVudCA9PT0gdm9pZCAwICkgY29udGVudCA9IHByb3NlbWlycm9yTW9kZWwuU2xpY2UuZW1wdHk7XG5cbiAgICBTZWxlY3Rpb24ucHJvdG90eXBlLnJlcGxhY2UuY2FsbCh0aGlzLCB0ciwgY29udGVudCk7XG4gICAgaWYgKGNvbnRlbnQgPT0gcHJvc2VtaXJyb3JNb2RlbC5TbGljZS5lbXB0eSkge1xuICAgICAgdmFyIG1hcmtzID0gdGhpcy4kZnJvbS5tYXJrc0Fjcm9zcyh0aGlzLiR0byk7XG4gICAgICBpZiAobWFya3MpIHsgdHIuZW5zdXJlTWFya3MobWFya3MpOyB9XG4gICAgfVxuICB9O1xuXG4gIFRleHRTZWxlY3Rpb24ucHJvdG90eXBlLmVxID0gZnVuY3Rpb24gZXEgKG90aGVyKSB7XG4gICAgcmV0dXJuIG90aGVyIGluc3RhbmNlb2YgVGV4dFNlbGVjdGlvbiAmJiBvdGhlci5hbmNob3IgPT0gdGhpcy5hbmNob3IgJiYgb3RoZXIuaGVhZCA9PSB0aGlzLmhlYWRcbiAgfTtcblxuICBUZXh0U2VsZWN0aW9uLnByb3RvdHlwZS5nZXRCb29rbWFyayA9IGZ1bmN0aW9uIGdldEJvb2ttYXJrICgpIHtcbiAgICByZXR1cm4gbmV3IFRleHRCb29rbWFyayh0aGlzLmFuY2hvciwgdGhpcy5oZWFkKVxuICB9O1xuXG4gIFRleHRTZWxlY3Rpb24ucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uIHRvSlNPTiAoKSB7XG4gICAgcmV0dXJuIHt0eXBlOiBcInRleHRcIiwgYW5jaG9yOiB0aGlzLmFuY2hvciwgaGVhZDogdGhpcy5oZWFkfVxuICB9O1xuXG4gIFRleHRTZWxlY3Rpb24uZnJvbUpTT04gPSBmdW5jdGlvbiBmcm9tSlNPTiAoZG9jLCBqc29uKSB7XG4gICAgaWYgKHR5cGVvZiBqc29uLmFuY2hvciAhPSBcIm51bWJlclwiIHx8IHR5cGVvZiBqc29uLmhlYWQgIT0gXCJudW1iZXJcIilcbiAgICAgIHsgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbnZhbGlkIGlucHV0IGZvciBUZXh0U2VsZWN0aW9uLmZyb21KU09OXCIpIH1cbiAgICByZXR1cm4gbmV3IFRleHRTZWxlY3Rpb24oZG9jLnJlc29sdmUoanNvbi5hbmNob3IpLCBkb2MucmVzb2x2ZShqc29uLmhlYWQpKVxuICB9O1xuXG4gIC8vIDo6IChOb2RlLCBudW1iZXIsID9udW1iZXIpIOKGkiBUZXh0U2VsZWN0aW9uXG4gIC8vIENyZWF0ZSBhIHRleHQgc2VsZWN0aW9uIGZyb20gbm9uLXJlc29sdmVkIHBvc2l0aW9ucy5cbiAgVGV4dFNlbGVjdGlvbi5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUgKGRvYywgYW5jaG9yLCBoZWFkKSB7XG4gICAgaWYgKCBoZWFkID09PSB2b2lkIDAgKSBoZWFkID0gYW5jaG9yO1xuXG4gICAgdmFyICRhbmNob3IgPSBkb2MucmVzb2x2ZShhbmNob3IpO1xuICAgIHJldHVybiBuZXcgdGhpcygkYW5jaG9yLCBoZWFkID09IGFuY2hvciA/ICRhbmNob3IgOiBkb2MucmVzb2x2ZShoZWFkKSlcbiAgfTtcblxuICAvLyA6OiAoUmVzb2x2ZWRQb3MsIFJlc29sdmVkUG9zLCA/bnVtYmVyKSDihpIgU2VsZWN0aW9uXG4gIC8vIFJldHVybiBhIHRleHQgc2VsZWN0aW9uIHRoYXQgc3BhbnMgdGhlIGdpdmVuIHBvc2l0aW9ucyBvciwgaWZcbiAgLy8gdGhleSBhcmVuJ3QgdGV4dCBwb3NpdGlvbnMsIGZpbmQgYSB0ZXh0IHNlbGVjdGlvbiBuZWFyIHRoZW0uXG4gIC8vIGBiaWFzYCBkZXRlcm1pbmVzIHdoZXRoZXIgdGhlIG1ldGhvZCBzZWFyY2hlcyBmb3J3YXJkIChkZWZhdWx0KVxuICAvLyBvciBiYWNrd2FyZHMgKG5lZ2F0aXZlIG51bWJlcikgZmlyc3QuIFdpbGwgZmFsbCBiYWNrIHRvIGNhbGxpbmdcbiAgLy8gW2BTZWxlY3Rpb24ubmVhcmBdKCNzdGF0ZS5TZWxlY3Rpb25ebmVhcikgd2hlbiB0aGUgZG9jdW1lbnRcbiAgLy8gZG9lc24ndCBjb250YWluIGEgdmFsaWQgdGV4dCBwb3NpdGlvbi5cbiAgVGV4dFNlbGVjdGlvbi5iZXR3ZWVuID0gZnVuY3Rpb24gYmV0d2VlbiAoJGFuY2hvciwgJGhlYWQsIGJpYXMpIHtcbiAgICB2YXIgZFBvcyA9ICRhbmNob3IucG9zIC0gJGhlYWQucG9zO1xuICAgIGlmICghYmlhcyB8fCBkUG9zKSB7IGJpYXMgPSBkUG9zID49IDAgPyAxIDogLTE7IH1cbiAgICBpZiAoISRoZWFkLnBhcmVudC5pbmxpbmVDb250ZW50KSB7XG4gICAgICB2YXIgZm91bmQgPSBTZWxlY3Rpb24uZmluZEZyb20oJGhlYWQsIGJpYXMsIHRydWUpIHx8IFNlbGVjdGlvbi5maW5kRnJvbSgkaGVhZCwgLWJpYXMsIHRydWUpO1xuICAgICAgaWYgKGZvdW5kKSB7ICRoZWFkID0gZm91bmQuJGhlYWQ7IH1cbiAgICAgIGVsc2UgeyByZXR1cm4gU2VsZWN0aW9uLm5lYXIoJGhlYWQsIGJpYXMpIH1cbiAgICB9XG4gICAgaWYgKCEkYW5jaG9yLnBhcmVudC5pbmxpbmVDb250ZW50KSB7XG4gICAgICBpZiAoZFBvcyA9PSAwKSB7XG4gICAgICAgICRhbmNob3IgPSAkaGVhZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICRhbmNob3IgPSAoU2VsZWN0aW9uLmZpbmRGcm9tKCRhbmNob3IsIC1iaWFzLCB0cnVlKSB8fCBTZWxlY3Rpb24uZmluZEZyb20oJGFuY2hvciwgYmlhcywgdHJ1ZSkpLiRhbmNob3I7XG4gICAgICAgIGlmICgoJGFuY2hvci5wb3MgPCAkaGVhZC5wb3MpICE9IChkUG9zIDwgMCkpIHsgJGFuY2hvciA9ICRoZWFkOyB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuZXcgVGV4dFNlbGVjdGlvbigkYW5jaG9yLCAkaGVhZClcbiAgfTtcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyggVGV4dFNlbGVjdGlvbi5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyQxICk7XG5cbiAgcmV0dXJuIFRleHRTZWxlY3Rpb247XG59KFNlbGVjdGlvbikpO1xuXG5TZWxlY3Rpb24uanNvbklEKFwidGV4dFwiLCBUZXh0U2VsZWN0aW9uKTtcblxudmFyIFRleHRCb29rbWFyayA9IGZ1bmN0aW9uIFRleHRCb29rbWFyayhhbmNob3IsIGhlYWQpIHtcbiAgdGhpcy5hbmNob3IgPSBhbmNob3I7XG4gIHRoaXMuaGVhZCA9IGhlYWQ7XG59O1xuVGV4dEJvb2ttYXJrLnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiBtYXAgKG1hcHBpbmcpIHtcbiAgcmV0dXJuIG5ldyBUZXh0Qm9va21hcmsobWFwcGluZy5tYXAodGhpcy5hbmNob3IpLCBtYXBwaW5nLm1hcCh0aGlzLmhlYWQpKVxufTtcblRleHRCb29rbWFyay5wcm90b3R5cGUucmVzb2x2ZSA9IGZ1bmN0aW9uIHJlc29sdmUgKGRvYykge1xuICByZXR1cm4gVGV4dFNlbGVjdGlvbi5iZXR3ZWVuKGRvYy5yZXNvbHZlKHRoaXMuYW5jaG9yKSwgZG9jLnJlc29sdmUodGhpcy5oZWFkKSlcbn07XG5cbi8vIDo6LSBBIG5vZGUgc2VsZWN0aW9uIGlzIGEgc2VsZWN0aW9uIHRoYXQgcG9pbnRzIGF0IGEgc2luZ2xlIG5vZGUuXG4vLyBBbGwgbm9kZXMgbWFya2VkIFtzZWxlY3RhYmxlXSgjbW9kZWwuTm9kZVNwZWMuc2VsZWN0YWJsZSkgY2FuIGJlXG4vLyB0aGUgdGFyZ2V0IG9mIGEgbm9kZSBzZWxlY3Rpb24uIEluIHN1Y2ggYSBzZWxlY3Rpb24sIGBmcm9tYCBhbmRcbi8vIGB0b2AgcG9pbnQgZGlyZWN0bHkgYmVmb3JlIGFuZCBhZnRlciB0aGUgc2VsZWN0ZWQgbm9kZSwgYGFuY2hvcmBcbi8vIGVxdWFscyBgZnJvbWAsIGFuZCBgaGVhZGAgZXF1YWxzIGB0b2AuLlxudmFyIE5vZGVTZWxlY3Rpb24gPSAoZnVuY3Rpb24gKFNlbGVjdGlvbikge1xuICBmdW5jdGlvbiBOb2RlU2VsZWN0aW9uKCRwb3MpIHtcbiAgICB2YXIgbm9kZSA9ICRwb3Mubm9kZUFmdGVyO1xuICAgIHZhciAkZW5kID0gJHBvcy5ub2RlKDApLnJlc29sdmUoJHBvcy5wb3MgKyBub2RlLm5vZGVTaXplKTtcbiAgICBTZWxlY3Rpb24uY2FsbCh0aGlzLCAkcG9zLCAkZW5kKTtcbiAgICAvLyA6OiBOb2RlIFRoZSBzZWxlY3RlZCBub2RlLlxuICAgIHRoaXMubm9kZSA9IG5vZGU7XG4gIH1cblxuICBpZiAoIFNlbGVjdGlvbiApIE5vZGVTZWxlY3Rpb24uX19wcm90b19fID0gU2VsZWN0aW9uO1xuICBOb2RlU2VsZWN0aW9uLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFNlbGVjdGlvbiAmJiBTZWxlY3Rpb24ucHJvdG90eXBlICk7XG4gIE5vZGVTZWxlY3Rpb24ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTm9kZVNlbGVjdGlvbjtcblxuICBOb2RlU2VsZWN0aW9uLnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiBtYXAgKGRvYywgbWFwcGluZykge1xuICAgIHZhciByZWYgPSBtYXBwaW5nLm1hcFJlc3VsdCh0aGlzLmFuY2hvcik7XG4gICAgdmFyIGRlbGV0ZWQgPSByZWYuZGVsZXRlZDtcbiAgICB2YXIgcG9zID0gcmVmLnBvcztcbiAgICB2YXIgJHBvcyA9IGRvYy5yZXNvbHZlKHBvcyk7XG4gICAgaWYgKGRlbGV0ZWQpIHsgcmV0dXJuIFNlbGVjdGlvbi5uZWFyKCRwb3MpIH1cbiAgICByZXR1cm4gbmV3IE5vZGVTZWxlY3Rpb24oJHBvcylcbiAgfTtcblxuICBOb2RlU2VsZWN0aW9uLnByb3RvdHlwZS5jb250ZW50ID0gZnVuY3Rpb24gY29udGVudCAoKSB7XG4gICAgcmV0dXJuIG5ldyBwcm9zZW1pcnJvck1vZGVsLlNsaWNlKHByb3NlbWlycm9yTW9kZWwuRnJhZ21lbnQuZnJvbSh0aGlzLm5vZGUpLCAwLCAwKVxuICB9O1xuXG4gIE5vZGVTZWxlY3Rpb24ucHJvdG90eXBlLmVxID0gZnVuY3Rpb24gZXEgKG90aGVyKSB7XG4gICAgcmV0dXJuIG90aGVyIGluc3RhbmNlb2YgTm9kZVNlbGVjdGlvbiAmJiBvdGhlci5hbmNob3IgPT0gdGhpcy5hbmNob3JcbiAgfTtcblxuICBOb2RlU2VsZWN0aW9uLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04gKCkge1xuICAgIHJldHVybiB7dHlwZTogXCJub2RlXCIsIGFuY2hvcjogdGhpcy5hbmNob3J9XG4gIH07XG5cbiAgTm9kZVNlbGVjdGlvbi5wcm90b3R5cGUuZ2V0Qm9va21hcmsgPSBmdW5jdGlvbiBnZXRCb29rbWFyayAoKSB7IHJldHVybiBuZXcgTm9kZUJvb2ttYXJrKHRoaXMuYW5jaG9yKSB9O1xuXG4gIE5vZGVTZWxlY3Rpb24uZnJvbUpTT04gPSBmdW5jdGlvbiBmcm9tSlNPTiAoZG9jLCBqc29uKSB7XG4gICAgaWYgKHR5cGVvZiBqc29uLmFuY2hvciAhPSBcIm51bWJlclwiKVxuICAgICAgeyB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkludmFsaWQgaW5wdXQgZm9yIE5vZGVTZWxlY3Rpb24uZnJvbUpTT05cIikgfVxuICAgIHJldHVybiBuZXcgTm9kZVNlbGVjdGlvbihkb2MucmVzb2x2ZShqc29uLmFuY2hvcikpXG4gIH07XG5cbiAgLy8gOjogKE5vZGUsIG51bWJlcikg4oaSIE5vZGVTZWxlY3Rpb25cbiAgLy8gQ3JlYXRlIGEgbm9kZSBzZWxlY3Rpb24gZnJvbSBub24tcmVzb2x2ZWQgcG9zaXRpb25zLlxuICBOb2RlU2VsZWN0aW9uLmNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZSAoZG9jLCBmcm9tKSB7XG4gICAgcmV0dXJuIG5ldyB0aGlzKGRvYy5yZXNvbHZlKGZyb20pKVxuICB9O1xuXG4gIC8vIDo6IChOb2RlKSDihpIgYm9vbFxuICAvLyBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIGdpdmVuIG5vZGUgbWF5IGJlIHNlbGVjdGVkIGFzIGEgbm9kZVxuICAvLyBzZWxlY3Rpb24uXG4gIE5vZGVTZWxlY3Rpb24uaXNTZWxlY3RhYmxlID0gZnVuY3Rpb24gaXNTZWxlY3RhYmxlIChub2RlKSB7XG4gICAgcmV0dXJuICFub2RlLmlzVGV4dCAmJiBub2RlLnR5cGUuc3BlYy5zZWxlY3RhYmxlICE9PSBmYWxzZVxuICB9O1xuXG4gIHJldHVybiBOb2RlU2VsZWN0aW9uO1xufShTZWxlY3Rpb24pKTtcblxuTm9kZVNlbGVjdGlvbi5wcm90b3R5cGUudmlzaWJsZSA9IGZhbHNlO1xuXG5TZWxlY3Rpb24uanNvbklEKFwibm9kZVwiLCBOb2RlU2VsZWN0aW9uKTtcblxudmFyIE5vZGVCb29rbWFyayA9IGZ1bmN0aW9uIE5vZGVCb29rbWFyayhhbmNob3IpIHtcbiAgdGhpcy5hbmNob3IgPSBhbmNob3I7XG59O1xuTm9kZUJvb2ttYXJrLnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiBtYXAgKG1hcHBpbmcpIHtcbiAgdmFyIHJlZiA9IG1hcHBpbmcubWFwUmVzdWx0KHRoaXMuYW5jaG9yKTtcbiAgICB2YXIgZGVsZXRlZCA9IHJlZi5kZWxldGVkO1xuICAgIHZhciBwb3MgPSByZWYucG9zO1xuICByZXR1cm4gZGVsZXRlZCA/IG5ldyBUZXh0Qm9va21hcmsocG9zLCBwb3MpIDogbmV3IE5vZGVCb29rbWFyayhwb3MpXG59O1xuTm9kZUJvb2ttYXJrLnByb3RvdHlwZS5yZXNvbHZlID0gZnVuY3Rpb24gcmVzb2x2ZSAoZG9jKSB7XG4gIHZhciAkcG9zID0gZG9jLnJlc29sdmUodGhpcy5hbmNob3IpLCBub2RlID0gJHBvcy5ub2RlQWZ0ZXI7XG4gIGlmIChub2RlICYmIE5vZGVTZWxlY3Rpb24uaXNTZWxlY3RhYmxlKG5vZGUpKSB7IHJldHVybiBuZXcgTm9kZVNlbGVjdGlvbigkcG9zKSB9XG4gIHJldHVybiBTZWxlY3Rpb24ubmVhcigkcG9zKVxufTtcblxuLy8gOjotIEEgc2VsZWN0aW9uIHR5cGUgdGhhdCByZXByZXNlbnRzIHNlbGVjdGluZyB0aGUgd2hvbGUgZG9jdW1lbnRcbi8vICh3aGljaCBjYW4gbm90IG5lY2Vzc2FyaWx5IGJlIGV4cHJlc3NlZCB3aXRoIGEgdGV4dCBzZWxlY3Rpb24sIHdoZW5cbi8vIHRoZXJlIGFyZSBmb3IgZXhhbXBsZSBsZWFmIGJsb2NrIG5vZGVzIGF0IHRoZSBzdGFydCBvciBlbmQgb2YgdGhlXG4vLyBkb2N1bWVudCkuXG52YXIgQWxsU2VsZWN0aW9uID0gKGZ1bmN0aW9uIChTZWxlY3Rpb24pIHtcbiAgZnVuY3Rpb24gQWxsU2VsZWN0aW9uKGRvYykge1xuICAgIFNlbGVjdGlvbi5jYWxsKHRoaXMsIGRvYy5yZXNvbHZlKDApLCBkb2MucmVzb2x2ZShkb2MuY29udGVudC5zaXplKSk7XG4gIH1cblxuICBpZiAoIFNlbGVjdGlvbiApIEFsbFNlbGVjdGlvbi5fX3Byb3RvX18gPSBTZWxlY3Rpb247XG4gIEFsbFNlbGVjdGlvbi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBTZWxlY3Rpb24gJiYgU2VsZWN0aW9uLnByb3RvdHlwZSApO1xuICBBbGxTZWxlY3Rpb24ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQWxsU2VsZWN0aW9uO1xuXG4gIEFsbFNlbGVjdGlvbi5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gdG9KU09OICgpIHsgcmV0dXJuIHt0eXBlOiBcImFsbFwifSB9O1xuXG4gIEFsbFNlbGVjdGlvbi5mcm9tSlNPTiA9IGZ1bmN0aW9uIGZyb21KU09OIChkb2MpIHsgcmV0dXJuIG5ldyBBbGxTZWxlY3Rpb24oZG9jKSB9O1xuXG4gIEFsbFNlbGVjdGlvbi5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gbWFwIChkb2MpIHsgcmV0dXJuIG5ldyBBbGxTZWxlY3Rpb24oZG9jKSB9O1xuXG4gIEFsbFNlbGVjdGlvbi5wcm90b3R5cGUuZXEgPSBmdW5jdGlvbiBlcSAob3RoZXIpIHsgcmV0dXJuIG90aGVyIGluc3RhbmNlb2YgQWxsU2VsZWN0aW9uIH07XG5cbiAgQWxsU2VsZWN0aW9uLnByb3RvdHlwZS5nZXRCb29rbWFyayA9IGZ1bmN0aW9uIGdldEJvb2ttYXJrICgpIHsgcmV0dXJuIEFsbEJvb2ttYXJrIH07XG5cbiAgcmV0dXJuIEFsbFNlbGVjdGlvbjtcbn0oU2VsZWN0aW9uKSk7XG5cblNlbGVjdGlvbi5qc29uSUQoXCJhbGxcIiwgQWxsU2VsZWN0aW9uKTtcblxudmFyIEFsbEJvb2ttYXJrID0ge1xuICBtYXA6IGZ1bmN0aW9uIG1hcCgpIHsgcmV0dXJuIHRoaXMgfSxcbiAgcmVzb2x2ZTogZnVuY3Rpb24gcmVzb2x2ZShkb2MpIHsgcmV0dXJuIG5ldyBBbGxTZWxlY3Rpb24oZG9jKSB9XG59O1xuXG4vLyBGSVhNRSB3ZSdsbCBuZWVkIHNvbWUgYXdhcmVuZXNzIG9mIHRleHQgZGlyZWN0aW9uIHdoZW4gc2Nhbm5pbmcgZm9yIHNlbGVjdGlvbnNcblxuLy8gVHJ5IHRvIGZpbmQgYSBzZWxlY3Rpb24gaW5zaWRlIHRoZSBnaXZlbiBub2RlLiBgcG9zYCBwb2ludHMgYXQgdGhlXG4vLyBwb3NpdGlvbiB3aGVyZSB0aGUgc2VhcmNoIHN0YXJ0cy4gV2hlbiBgdGV4dGAgaXMgdHJ1ZSwgb25seSByZXR1cm5cbi8vIHRleHQgc2VsZWN0aW9ucy5cbmZ1bmN0aW9uIGZpbmRTZWxlY3Rpb25Jbihkb2MsIG5vZGUsIHBvcywgaW5kZXgsIGRpciwgdGV4dCkge1xuICBpZiAobm9kZS5pbmxpbmVDb250ZW50KSB7IHJldHVybiBUZXh0U2VsZWN0aW9uLmNyZWF0ZShkb2MsIHBvcykgfVxuICBmb3IgKHZhciBpID0gaW5kZXggLSAoZGlyID4gMCA/IDAgOiAxKTsgZGlyID4gMCA/IGkgPCBub2RlLmNoaWxkQ291bnQgOiBpID49IDA7IGkgKz0gZGlyKSB7XG4gICAgdmFyIGNoaWxkID0gbm9kZS5jaGlsZChpKTtcbiAgICBpZiAoIWNoaWxkLmlzQXRvbSkge1xuICAgICAgdmFyIGlubmVyID0gZmluZFNlbGVjdGlvbkluKGRvYywgY2hpbGQsIHBvcyArIGRpciwgZGlyIDwgMCA/IGNoaWxkLmNoaWxkQ291bnQgOiAwLCBkaXIsIHRleHQpO1xuICAgICAgaWYgKGlubmVyKSB7IHJldHVybiBpbm5lciB9XG4gICAgfSBlbHNlIGlmICghdGV4dCAmJiBOb2RlU2VsZWN0aW9uLmlzU2VsZWN0YWJsZShjaGlsZCkpIHtcbiAgICAgIHJldHVybiBOb2RlU2VsZWN0aW9uLmNyZWF0ZShkb2MsIHBvcyAtIChkaXIgPCAwID8gY2hpbGQubm9kZVNpemUgOiAwKSlcbiAgICB9XG4gICAgcG9zICs9IGNoaWxkLm5vZGVTaXplICogZGlyO1xuICB9XG59XG5cbmZ1bmN0aW9uIHNlbGVjdGlvblRvSW5zZXJ0aW9uRW5kKHRyLCBzdGFydExlbiwgYmlhcykge1xuICB2YXIgbGFzdCA9IHRyLnN0ZXBzLmxlbmd0aCAtIDE7XG4gIGlmIChsYXN0IDwgc3RhcnRMZW4pIHsgcmV0dXJuIH1cbiAgdmFyIHN0ZXAgPSB0ci5zdGVwc1tsYXN0XTtcbiAgaWYgKCEoc3RlcCBpbnN0YW5jZW9mIHByb3NlbWlycm9yVHJhbnNmb3JtLlJlcGxhY2VTdGVwIHx8IHN0ZXAgaW5zdGFuY2VvZiBwcm9zZW1pcnJvclRyYW5zZm9ybS5SZXBsYWNlQXJvdW5kU3RlcCkpIHsgcmV0dXJuIH1cbiAgdmFyIG1hcCA9IHRyLm1hcHBpbmcubWFwc1tsYXN0XSwgZW5kO1xuICBtYXAuZm9yRWFjaChmdW5jdGlvbiAoX2Zyb20sIF90bywgX25ld0Zyb20sIG5ld1RvKSB7IGlmIChlbmQgPT0gbnVsbCkgeyBlbmQgPSBuZXdUbzsgfSB9KTtcbiAgdHIuc2V0U2VsZWN0aW9uKFNlbGVjdGlvbi5uZWFyKHRyLmRvYy5yZXNvbHZlKGVuZCksIGJpYXMpKTtcbn1cblxudmFyIFVQREFURURfU0VMID0gMTtcbnZhciBVUERBVEVEX01BUktTID0gMjtcbnZhciBVUERBVEVEX1NDUk9MTCA9IDQ7XG5cbi8vIDo6LSBBbiBlZGl0b3Igc3RhdGUgdHJhbnNhY3Rpb24sIHdoaWNoIGNhbiBiZSBhcHBsaWVkIHRvIGEgc3RhdGUgdG9cbi8vIGNyZWF0ZSBhbiB1cGRhdGVkIHN0YXRlLiBVc2Vcbi8vIFtgRWRpdG9yU3RhdGUudHJgXSgjc3RhdGUuRWRpdG9yU3RhdGUudHIpIHRvIGNyZWF0ZSBhbiBpbnN0YW5jZS5cbi8vXG4vLyBUcmFuc2FjdGlvbnMgdHJhY2sgY2hhbmdlcyB0byB0aGUgZG9jdW1lbnQgKHRoZXkgYXJlIGEgc3ViY2xhc3Mgb2Zcbi8vIFtgVHJhbnNmb3JtYF0oI3RyYW5zZm9ybS5UcmFuc2Zvcm0pKSwgYnV0IGFsc28gb3RoZXIgc3RhdGUgY2hhbmdlcyxcbi8vIGxpa2Ugc2VsZWN0aW9uIHVwZGF0ZXMgYW5kIGFkanVzdG1lbnRzIG9mIHRoZSBzZXQgb2YgW3N0b3JlZFxuLy8gbWFya3NdKCNzdGF0ZS5FZGl0b3JTdGF0ZS5zdG9yZWRNYXJrcykuIEluIGFkZGl0aW9uLCB5b3UgY2FuIHN0b3JlXG4vLyBtZXRhZGF0YSBwcm9wZXJ0aWVzIGluIGEgdHJhbnNhY3Rpb24sIHdoaWNoIGFyZSBleHRyYSBwaWVjZXMgb2Zcbi8vIGluZm9ybWF0aW9uIHRoYXQgY2xpZW50IGNvZGUgb3IgcGx1Z2lucyBjYW4gdXNlIHRvIGRlc2NyaWJlIHdoYXQgYVxuLy8gdHJhbnNhY2lvbiByZXByZXNlbnRzLCBzbyB0aGF0IHRoZXkgY2FuIHVwZGF0ZSB0aGVpciBbb3duXG4vLyBzdGF0ZV0oI3N0YXRlLlN0YXRlRmllbGQpIGFjY29yZGluZ2x5LlxuLy9cbi8vIFRoZSBbZWRpdG9yIHZpZXddKCN2aWV3LkVkaXRvclZpZXcpIHVzZXMgYSBmZXcgbWV0YWRhdGEgcHJvcGVydGllczpcbi8vIGl0IHdpbGwgYXR0YWNoIGEgcHJvcGVydHkgYFwicG9pbnRlclwiYCB3aXRoIHRoZSB2YWx1ZSBgdHJ1ZWAgdG9cbi8vIHNlbGVjdGlvbiB0cmFuc2FjdGlvbnMgZGlyZWN0bHkgY2F1c2VkIGJ5IG1vdXNlIG9yIHRvdWNoIGlucHV0LCBhbmRcbi8vIGEgYFwidWlFdmVudFwiYCBwcm9wZXJ0eSBvZiB0aGF0IG1heSBiZSBgXCJwYXN0ZVwiYCwgYFwiY3V0XCJgLCBvciBgXCJkcm9wXCJgLlxudmFyIFRyYW5zYWN0aW9uID0gKGZ1bmN0aW9uIChUcmFuc2Zvcm0kJDEpIHtcbiAgZnVuY3Rpb24gVHJhbnNhY3Rpb24oc3RhdGUpIHtcbiAgICBUcmFuc2Zvcm0kJDEuY2FsbCh0aGlzLCBzdGF0ZS5kb2MpO1xuICAgIC8vIDo6IG51bWJlclxuICAgIC8vIFRoZSB0aW1lc3RhbXAgYXNzb2NpYXRlZCB3aXRoIHRoaXMgdHJhbnNhY3Rpb24sIGluIHRoZSBzYW1lXG4gICAgLy8gZm9ybWF0IGFzIGBEYXRlLm5vdygpYC5cbiAgICB0aGlzLnRpbWUgPSBEYXRlLm5vdygpO1xuICAgIHRoaXMuY3VyU2VsZWN0aW9uID0gc3RhdGUuc2VsZWN0aW9uO1xuICAgIC8vIFRoZSBzdGVwIGNvdW50IGZvciB3aGljaCB0aGUgY3VycmVudCBzZWxlY3Rpb24gaXMgdmFsaWQuXG4gICAgdGhpcy5jdXJTZWxlY3Rpb25Gb3IgPSAwO1xuICAgIC8vIDo6ID9bTWFya11cbiAgICAvLyBUaGUgc3RvcmVkIG1hcmtzIHNldCBieSB0aGlzIHRyYW5zYWN0aW9uLCBpZiBhbnkuXG4gICAgdGhpcy5zdG9yZWRNYXJrcyA9IHN0YXRlLnN0b3JlZE1hcmtzO1xuICAgIC8vIEJpdGZpZWxkIHRvIHRyYWNrIHdoaWNoIGFzcGVjdHMgb2YgdGhlIHN0YXRlIHdlcmUgdXBkYXRlZCBieVxuICAgIC8vIHRoaXMgdHJhbnNhY3Rpb24uXG4gICAgdGhpcy51cGRhdGVkID0gMDtcbiAgICAvLyBPYmplY3QgdXNlZCB0byBzdG9yZSBtZXRhZGF0YSBwcm9wZXJ0aWVzIGZvciB0aGUgdHJhbnNhY3Rpb24uXG4gICAgdGhpcy5tZXRhID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgfVxuXG4gIGlmICggVHJhbnNmb3JtJCQxICkgVHJhbnNhY3Rpb24uX19wcm90b19fID0gVHJhbnNmb3JtJCQxO1xuICBUcmFuc2FjdGlvbi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBUcmFuc2Zvcm0kJDEgJiYgVHJhbnNmb3JtJCQxLnByb3RvdHlwZSApO1xuICBUcmFuc2FjdGlvbi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBUcmFuc2FjdGlvbjtcblxuICB2YXIgcHJvdG90eXBlQWNjZXNzb3JzID0geyBzZWxlY3Rpb246IHt9LHNlbGVjdGlvblNldDoge30sc3RvcmVkTWFya3NTZXQ6IHt9LGlzR2VuZXJpYzoge30sc2Nyb2xsZWRJbnRvVmlldzoge30gfTtcblxuICAvLyA6OiBTZWxlY3Rpb25cbiAgLy8gVGhlIHRyYW5zYWN0aW9uJ3MgY3VycmVudCBzZWxlY3Rpb24uIFRoaXMgZGVmYXVsdHMgdG8gdGhlIGVkaXRvclxuICAvLyBzZWxlY3Rpb24gW21hcHBlZF0oI3N0YXRlLlNlbGVjdGlvbi5tYXApIHRocm91Z2ggdGhlIHN0ZXBzIGluIHRoZVxuICAvLyB0cmFuc2FjdGlvbiwgYnV0IGNhbiBiZSBvdmVyd3JpdHRlbiB3aXRoXG4gIC8vIFtgc2V0U2VsZWN0aW9uYF0oI3N0YXRlLlRyYW5zYWN0aW9uLnNldFNlbGVjdGlvbikuXG4gIHByb3RvdHlwZUFjY2Vzc29ycy5zZWxlY3Rpb24uZ2V0ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLmN1clNlbGVjdGlvbkZvciA8IHRoaXMuc3RlcHMubGVuZ3RoKSB7XG4gICAgICB0aGlzLmN1clNlbGVjdGlvbiA9IHRoaXMuY3VyU2VsZWN0aW9uLm1hcCh0aGlzLmRvYywgdGhpcy5tYXBwaW5nLnNsaWNlKHRoaXMuY3VyU2VsZWN0aW9uRm9yKSk7XG4gICAgICB0aGlzLmN1clNlbGVjdGlvbkZvciA9IHRoaXMuc3RlcHMubGVuZ3RoO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5jdXJTZWxlY3Rpb25cbiAgfTtcblxuICAvLyA6OiAoU2VsZWN0aW9uKSDihpIgVHJhbnNhY3Rpb25cbiAgLy8gVXBkYXRlIHRoZSB0cmFuc2FjdGlvbidzIGN1cnJlbnQgc2VsZWN0aW9uLiBXaWxsIGRldGVybWluZSB0aGVcbiAgLy8gc2VsZWN0aW9uIHRoYXQgdGhlIGVkaXRvciBnZXRzIHdoZW4gdGhlIHRyYW5zYWN0aW9uIGlzIGFwcGxpZWQuXG4gIFRyYW5zYWN0aW9uLnByb3RvdHlwZS5zZXRTZWxlY3Rpb24gPSBmdW5jdGlvbiBzZXRTZWxlY3Rpb24gKHNlbGVjdGlvbikge1xuICAgIHRoaXMuY3VyU2VsZWN0aW9uID0gc2VsZWN0aW9uO1xuICAgIHRoaXMuY3VyU2VsZWN0aW9uRm9yID0gdGhpcy5zdGVwcy5sZW5ndGg7XG4gICAgdGhpcy51cGRhdGVkID0gKHRoaXMudXBkYXRlZCB8IFVQREFURURfU0VMKSAmIH5VUERBVEVEX01BUktTO1xuICAgIHRoaXMuc3RvcmVkTWFya3MgPSBudWxsO1xuICAgIHJldHVybiB0aGlzXG4gIH07XG5cbiAgLy8gOjogYm9vbFxuICAvLyBXaGV0aGVyIHRoZSBzZWxlY3Rpb24gd2FzIGV4cGxpY2l0bHkgdXBkYXRlZCBieSB0aGlzIHRyYW5zYWN0aW9uLlxuICBwcm90b3R5cGVBY2Nlc3NvcnMuc2VsZWN0aW9uU2V0LmdldCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKHRoaXMudXBkYXRlZCAmIFVQREFURURfU0VMKSA+IDBcbiAgfTtcblxuICAvLyA6OiAoP1tNYXJrXSkg4oaSIFRyYW5zYWN0aW9uXG4gIC8vIFNldCB0aGUgY3VycmVudCBzdG9yZWQgbWFya3MuXG4gIFRyYW5zYWN0aW9uLnByb3RvdHlwZS5zZXRTdG9yZWRNYXJrcyA9IGZ1bmN0aW9uIHNldFN0b3JlZE1hcmtzIChtYXJrcykge1xuICAgIHRoaXMuc3RvcmVkTWFya3MgPSBtYXJrcztcbiAgICB0aGlzLnVwZGF0ZWQgfD0gVVBEQVRFRF9NQVJLUztcbiAgICByZXR1cm4gdGhpc1xuICB9O1xuXG4gIC8vIDo6IChbTWFya10pIOKGkiBUcmFuc2FjdGlvblxuICAvLyBNYWtlIHN1cmUgdGhlIGN1cnJlbnQgc3RvcmVkIG1hcmtzIG9yLCBpZiB0aGF0IGlzIG51bGwsIHRoZSBtYXJrc1xuICAvLyBhdCB0aGUgc2VsZWN0aW9uLCBtYXRjaCB0aGUgZ2l2ZW4gc2V0IG9mIG1hcmtzLiBEb2VzIG5vdGhpbmcgaWZcbiAgLy8gdGhpcyBpcyBhbHJlYWR5IHRoZSBjYXNlLlxuICBUcmFuc2FjdGlvbi5wcm90b3R5cGUuZW5zdXJlTWFya3MgPSBmdW5jdGlvbiBlbnN1cmVNYXJrcyAobWFya3MpIHtcbiAgICBpZiAoIXByb3NlbWlycm9yTW9kZWwuTWFyay5zYW1lU2V0KHRoaXMuc3RvcmVkTWFya3MgfHwgdGhpcy5zZWxlY3Rpb24uJGZyb20ubWFya3MoKSwgbWFya3MpKVxuICAgICAgeyB0aGlzLnNldFN0b3JlZE1hcmtzKG1hcmtzKTsgfVxuICAgIHJldHVybiB0aGlzXG4gIH07XG5cbiAgLy8gOjogKE1hcmspIOKGkiBUcmFuc2FjdGlvblxuICAvLyBBZGQgYSBtYXJrIHRvIHRoZSBzZXQgb2Ygc3RvcmVkIG1hcmtzLlxuICBUcmFuc2FjdGlvbi5wcm90b3R5cGUuYWRkU3RvcmVkTWFyayA9IGZ1bmN0aW9uIGFkZFN0b3JlZE1hcmsgKG1hcmspIHtcbiAgICByZXR1cm4gdGhpcy5lbnN1cmVNYXJrcyhtYXJrLmFkZFRvU2V0KHRoaXMuc3RvcmVkTWFya3MgfHwgdGhpcy5zZWxlY3Rpb24uJGhlYWQubWFya3MoKSkpXG4gIH07XG5cbiAgLy8gOjogKHVuaW9uPE1hcmssIE1hcmtUeXBlPikg4oaSIFRyYW5zYWN0aW9uXG4gIC8vIFJlbW92ZSBhIG1hcmsgb3IgbWFyayB0eXBlIGZyb20gdGhlIHNldCBvZiBzdG9yZWQgbWFya3MuXG4gIFRyYW5zYWN0aW9uLnByb3RvdHlwZS5yZW1vdmVTdG9yZWRNYXJrID0gZnVuY3Rpb24gcmVtb3ZlU3RvcmVkTWFyayAobWFyaykge1xuICAgIHJldHVybiB0aGlzLmVuc3VyZU1hcmtzKG1hcmsucmVtb3ZlRnJvbVNldCh0aGlzLnN0b3JlZE1hcmtzIHx8IHRoaXMuc2VsZWN0aW9uLiRoZWFkLm1hcmtzKCkpKVxuICB9O1xuXG4gIC8vIDo6IGJvb2xcbiAgLy8gV2hldGhlciB0aGUgc3RvcmVkIG1hcmtzIHdlcmUgZXhwbGljaXRseSBzZXQgZm9yIHRoaXMgdHJhbnNhY3Rpb24uXG4gIHByb3RvdHlwZUFjY2Vzc29ycy5zdG9yZWRNYXJrc1NldC5nZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICh0aGlzLnVwZGF0ZWQgJiBVUERBVEVEX01BUktTKSA+IDBcbiAgfTtcblxuICBUcmFuc2FjdGlvbi5wcm90b3R5cGUuYWRkU3RlcCA9IGZ1bmN0aW9uIGFkZFN0ZXAgKHN0ZXAsIGRvYykge1xuICAgIFRyYW5zZm9ybSQkMS5wcm90b3R5cGUuYWRkU3RlcC5jYWxsKHRoaXMsIHN0ZXAsIGRvYyk7XG4gICAgdGhpcy51cGRhdGVkID0gdGhpcy51cGRhdGVkICYgflVQREFURURfTUFSS1M7XG4gICAgdGhpcy5zdG9yZWRNYXJrcyA9IG51bGw7XG4gIH07XG5cbiAgLy8gOjogKG51bWJlcikg4oaSIFRyYW5zYWN0aW9uXG4gIC8vIFVwZGF0ZSB0aGUgdGltZXN0YW1wIGZvciB0aGUgdHJhbnNhY3Rpb24uXG4gIFRyYW5zYWN0aW9uLnByb3RvdHlwZS5zZXRUaW1lID0gZnVuY3Rpb24gc2V0VGltZSAodGltZSkge1xuICAgIHRoaXMudGltZSA9IHRpbWU7XG4gICAgcmV0dXJuIHRoaXNcbiAgfTtcblxuICAvLyA6OiAoU2xpY2UpIOKGkiBUcmFuc2FjdGlvblxuICAvLyBSZXBsYWNlIHRoZSBjdXJyZW50IHNlbGVjdGlvbiB3aXRoIHRoZSBnaXZlbiBzbGljZS5cbiAgVHJhbnNhY3Rpb24ucHJvdG90eXBlLnJlcGxhY2VTZWxlY3Rpb24gPSBmdW5jdGlvbiByZXBsYWNlU2VsZWN0aW9uIChzbGljZSkge1xuICAgIHRoaXMuc2VsZWN0aW9uLnJlcGxhY2UodGhpcywgc2xpY2UpO1xuICAgIHJldHVybiB0aGlzXG4gIH07XG5cbiAgLy8gOjogKE5vZGUsID9ib29sKSDihpIgVHJhbnNhY3Rpb25cbiAgLy8gUmVwbGFjZSB0aGUgc2VsZWN0aW9uIHdpdGggdGhlIGdpdmVuIG5vZGUuIFdoZW4gYGluaGVyaXRNYXJrc2AgaXNcbiAgLy8gdHJ1ZSBhbmQgdGhlIGNvbnRlbnQgaXMgaW5saW5lLCBpdCBpbmhlcml0cyB0aGUgbWFya3MgZnJvbSB0aGVcbiAgLy8gcGxhY2Ugd2hlcmUgaXQgaXMgaW5zZXJ0ZWQuXG4gIFRyYW5zYWN0aW9uLnByb3RvdHlwZS5yZXBsYWNlU2VsZWN0aW9uV2l0aCA9IGZ1bmN0aW9uIHJlcGxhY2VTZWxlY3Rpb25XaXRoIChub2RlLCBpbmhlcml0TWFya3MpIHtcbiAgICB2YXIgc2VsZWN0aW9uID0gdGhpcy5zZWxlY3Rpb247XG4gICAgaWYgKGluaGVyaXRNYXJrcyAhPT0gZmFsc2UpXG4gICAgICB7IG5vZGUgPSBub2RlLm1hcmsodGhpcy5zdG9yZWRNYXJrcyB8fCAoc2VsZWN0aW9uLmVtcHR5ID8gc2VsZWN0aW9uLiRmcm9tLm1hcmtzKCkgOiAoc2VsZWN0aW9uLiRmcm9tLm1hcmtzQWNyb3NzKHNlbGVjdGlvbi4kdG8pIHx8IHByb3NlbWlycm9yTW9kZWwuTWFyay5ub25lKSkpOyB9XG4gICAgc2VsZWN0aW9uLnJlcGxhY2VXaXRoKHRoaXMsIG5vZGUpO1xuICAgIHJldHVybiB0aGlzXG4gIH07XG5cbiAgLy8gOjogKCkg4oaSIFRyYW5zYWN0aW9uXG4gIC8vIERlbGV0ZSB0aGUgc2VsZWN0aW9uLlxuICBUcmFuc2FjdGlvbi5wcm90b3R5cGUuZGVsZXRlU2VsZWN0aW9uID0gZnVuY3Rpb24gZGVsZXRlU2VsZWN0aW9uICgpIHtcbiAgICB0aGlzLnNlbGVjdGlvbi5yZXBsYWNlKHRoaXMpO1xuICAgIHJldHVybiB0aGlzXG4gIH07XG5cbiAgLy8gOjogKHN0cmluZywgZnJvbTogP251bWJlciwgdG86ID9udW1iZXIpIOKGkiBUcmFuc2FjdGlvblxuICAvLyBSZXBsYWNlIHRoZSBnaXZlbiByYW5nZSwgb3IgdGhlIHNlbGVjdGlvbiBpZiBubyByYW5nZSBpcyBnaXZlbixcbiAgLy8gd2l0aCBhIHRleHQgbm9kZSBjb250YWluaW5nIHRoZSBnaXZlbiBzdHJpbmcuXG4gIFRyYW5zYWN0aW9uLnByb3RvdHlwZS5pbnNlcnRUZXh0ID0gZnVuY3Rpb24gaW5zZXJ0VGV4dCAodGV4dCwgZnJvbSwgdG8pIHtcbiAgICBpZiAoIHRvID09PSB2b2lkIDAgKSB0byA9IGZyb207XG5cbiAgICB2YXIgc2NoZW1hID0gdGhpcy5kb2MudHlwZS5zY2hlbWE7XG4gICAgaWYgKGZyb20gPT0gbnVsbCkge1xuICAgICAgaWYgKCF0ZXh0KSB7IHJldHVybiB0aGlzLmRlbGV0ZVNlbGVjdGlvbigpIH1cbiAgICAgIHJldHVybiB0aGlzLnJlcGxhY2VTZWxlY3Rpb25XaXRoKHNjaGVtYS50ZXh0KHRleHQpLCB0cnVlKVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIXRleHQpIHsgcmV0dXJuIHRoaXMuZGVsZXRlUmFuZ2UoZnJvbSwgdG8pIH1cbiAgICAgIHZhciBtYXJrcyA9IHRoaXMuc3RvcmVkTWFya3M7XG4gICAgICBpZiAoIW1hcmtzKSB7XG4gICAgICAgIHZhciAkZnJvbSA9IHRoaXMuZG9jLnJlc29sdmUoZnJvbSk7XG4gICAgICAgIG1hcmtzID0gdG8gPT0gZnJvbSA/ICRmcm9tLm1hcmtzKCkgOiAkZnJvbS5tYXJrc0Fjcm9zcyh0aGlzLmRvYy5yZXNvbHZlKHRvKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5yZXBsYWNlUmFuZ2VXaXRoKGZyb20sIHRvLCBzY2hlbWEudGV4dCh0ZXh0LCBtYXJrcykpXG4gICAgfVxuICB9O1xuXG4gIC8vIDo6ICh1bmlvbjxzdHJpbmcsIFBsdWdpbiwgUGx1Z2luS2V5PiwgYW55KSDihpIgVHJhbnNhY3Rpb25cbiAgLy8gU3RvcmUgYSBtZXRhZGF0YSBwcm9wZXJ0eSBpbiB0aGlzIHRyYW5zYWN0aW9uLCBrZXllZCBlaXRoZXIgYnlcbiAgLy8gbmFtZSBvciBieSBwbHVnaW4uXG4gIFRyYW5zYWN0aW9uLnByb3RvdHlwZS5zZXRNZXRhID0gZnVuY3Rpb24gc2V0TWV0YSAoa2V5LCB2YWx1ZSkge1xuICAgIHRoaXMubWV0YVt0eXBlb2Yga2V5ID09IFwic3RyaW5nXCIgPyBrZXkgOiBrZXkua2V5XSA9IHZhbHVlO1xuICAgIHJldHVybiB0aGlzXG4gIH07XG5cbiAgLy8gOjogKHVuaW9uPHN0cmluZywgUGx1Z2luLCBQbHVnaW5LZXk+KSDihpIgYW55XG4gIC8vIFJldHJpZXZlIGEgbWV0YWRhdGEgcHJvcGVydHkgZm9yIGEgZ2l2ZW4gbmFtZSBvciBwbHVnaW4uXG4gIFRyYW5zYWN0aW9uLnByb3RvdHlwZS5nZXRNZXRhID0gZnVuY3Rpb24gZ2V0TWV0YSAoa2V5KSB7XG4gICAgcmV0dXJuIHRoaXMubWV0YVt0eXBlb2Yga2V5ID09IFwic3RyaW5nXCIgPyBrZXkgOiBrZXkua2V5XVxuICB9O1xuXG4gIC8vIDo6IGJvb2xcbiAgLy8gUmV0dXJucyB0cnVlIGlmIHRoaXMgdHJhbnNhY3Rpb24gZG9lc24ndCBjb250YWluIGFueSBtZXRhZGF0YSxcbiAgLy8gYW5kIGNhbiB0aHVzIHNhZmVseSBiZSBleHRlbmRlZC5cbiAgcHJvdG90eXBlQWNjZXNzb3JzLmlzR2VuZXJpYy5nZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICBmb3IgKHZhciBfIGluIHRoaXMkMS5tZXRhKSB7IHJldHVybiBmYWxzZSB9XG4gICAgcmV0dXJuIHRydWVcbiAgfTtcblxuICAvLyA6OiAoKSDihpIgVHJhbnNhY3Rpb25cbiAgLy8gSW5kaWNhdGUgdGhhdCB0aGUgZWRpdG9yIHNob3VsZCBzY3JvbGwgdGhlIHNlbGVjdGlvbiBpbnRvIHZpZXdcbiAgLy8gd2hlbiB1cGRhdGVkIHRvIHRoZSBzdGF0ZSBwcm9kdWNlZCBieSB0aGlzIHRyYW5zYWN0aW9uLlxuICBUcmFuc2FjdGlvbi5wcm90b3R5cGUuc2Nyb2xsSW50b1ZpZXcgPSBmdW5jdGlvbiBzY3JvbGxJbnRvVmlldyAoKSB7XG4gICAgdGhpcy51cGRhdGVkIHw9IFVQREFURURfU0NST0xMO1xuICAgIHJldHVybiB0aGlzXG4gIH07XG5cbiAgcHJvdG90eXBlQWNjZXNzb3JzLnNjcm9sbGVkSW50b1ZpZXcuZ2V0ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAodGhpcy51cGRhdGVkICYgVVBEQVRFRF9TQ1JPTEwpID4gMFxuICB9O1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBUcmFuc2FjdGlvbi5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyApO1xuXG4gIHJldHVybiBUcmFuc2FjdGlvbjtcbn0ocHJvc2VtaXJyb3JUcmFuc2Zvcm0uVHJhbnNmb3JtKSk7XG5cbmZ1bmN0aW9uIGJpbmQoZiwgc2VsZikge1xuICByZXR1cm4gIXNlbGYgfHwgIWYgPyBmIDogZi5iaW5kKHNlbGYpXG59XG5cbnZhciBGaWVsZERlc2MgPSBmdW5jdGlvbiBGaWVsZERlc2MobmFtZSwgZGVzYywgc2VsZikge1xuICB0aGlzLm5hbWUgPSBuYW1lO1xuICB0aGlzLmluaXQgPSBiaW5kKGRlc2MuaW5pdCwgc2VsZik7XG4gIHRoaXMuYXBwbHkgPSBiaW5kKGRlc2MuYXBwbHksIHNlbGYpO1xufTtcblxudmFyIGJhc2VGaWVsZHMgPSBbXG4gIG5ldyBGaWVsZERlc2MoXCJkb2NcIiwge1xuICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoY29uZmlnKSB7IHJldHVybiBjb25maWcuZG9jIHx8IGNvbmZpZy5zY2hlbWEudG9wTm9kZVR5cGUuY3JlYXRlQW5kRmlsbCgpIH0sXG4gICAgYXBwbHk6IGZ1bmN0aW9uIGFwcGx5KHRyKSB7IHJldHVybiB0ci5kb2MgfVxuICB9KSxcblxuICBuZXcgRmllbGREZXNjKFwic2VsZWN0aW9uXCIsIHtcbiAgICBpbml0OiBmdW5jdGlvbiBpbml0KGNvbmZpZywgaW5zdGFuY2UpIHsgcmV0dXJuIGNvbmZpZy5zZWxlY3Rpb24gfHwgU2VsZWN0aW9uLmF0U3RhcnQoaW5zdGFuY2UuZG9jKSB9LFxuICAgIGFwcGx5OiBmdW5jdGlvbiBhcHBseSh0cikgeyByZXR1cm4gdHIuc2VsZWN0aW9uIH1cbiAgfSksXG5cbiAgbmV3IEZpZWxkRGVzYyhcInN0b3JlZE1hcmtzXCIsIHtcbiAgICBpbml0OiBmdW5jdGlvbiBpbml0KGNvbmZpZykgeyByZXR1cm4gY29uZmlnLnN0b3JlZE1hcmtzIHx8IG51bGwgfSxcbiAgICBhcHBseTogZnVuY3Rpb24gYXBwbHkodHIsIF9tYXJrcywgX29sZCwgc3RhdGUpIHsgcmV0dXJuIHN0YXRlLnNlbGVjdGlvbi4kY3Vyc29yID8gdHIuc3RvcmVkTWFya3MgOiBudWxsIH1cbiAgfSksXG5cbiAgbmV3IEZpZWxkRGVzYyhcInNjcm9sbFRvU2VsZWN0aW9uXCIsIHtcbiAgICBpbml0OiBmdW5jdGlvbiBpbml0KCkgeyByZXR1cm4gMCB9LFxuICAgIGFwcGx5OiBmdW5jdGlvbiBhcHBseSh0ciwgcHJldikgeyByZXR1cm4gdHIuc2Nyb2xsZWRJbnRvVmlldyA/IHByZXYgKyAxIDogcHJldiB9XG4gIH0pXG5dO1xuXG4vLyBPYmplY3Qgd3JhcHBpbmcgdGhlIHBhcnQgb2YgYSBzdGF0ZSBvYmplY3QgdGhhdCBzdGF5cyB0aGUgc2FtZVxuLy8gYWNyb3NzIHRyYW5zYWN0aW9ucy4gU3RvcmVkIGluIHRoZSBzdGF0ZSdzIGBjb25maWdgIHByb3BlcnR5LlxudmFyIENvbmZpZ3VyYXRpb24gPSBmdW5jdGlvbiBDb25maWd1cmF0aW9uKHNjaGVtYSwgcGx1Z2lucykge1xuICB2YXIgdGhpcyQxID0gdGhpcztcblxuICB0aGlzLnNjaGVtYSA9IHNjaGVtYTtcbiAgdGhpcy5maWVsZHMgPSBiYXNlRmllbGRzLmNvbmNhdCgpO1xuICB0aGlzLnBsdWdpbnMgPSBbXTtcbiAgdGhpcy5wbHVnaW5zQnlLZXkgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICBpZiAocGx1Z2lucykgeyBwbHVnaW5zLmZvckVhY2goZnVuY3Rpb24gKHBsdWdpbikge1xuICAgIGlmICh0aGlzJDEucGx1Z2luc0J5S2V5W3BsdWdpbi5rZXldKVxuICAgICAgeyB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkFkZGluZyBkaWZmZXJlbnQgaW5zdGFuY2VzIG9mIGEga2V5ZWQgcGx1Z2luIChcIiArIHBsdWdpbi5rZXkgKyBcIilcIikgfVxuICAgIHRoaXMkMS5wbHVnaW5zLnB1c2gocGx1Z2luKTtcbiAgICB0aGlzJDEucGx1Z2luc0J5S2V5W3BsdWdpbi5rZXldID0gcGx1Z2luO1xuICAgIGlmIChwbHVnaW4uc3BlYy5zdGF0ZSlcbiAgICAgIHsgdGhpcyQxLmZpZWxkcy5wdXNoKG5ldyBGaWVsZERlc2MocGx1Z2luLmtleSwgcGx1Z2luLnNwZWMuc3RhdGUsIHBsdWdpbikpOyB9XG4gIH0pOyB9XG59O1xuXG4vLyA6Oi0gVGhlIHN0YXRlIG9mIGEgUHJvc2VNaXJyb3IgZWRpdG9yIGlzIHJlcHJlc2VudGVkIGJ5IGFuIG9iamVjdFxuLy8gb2YgdGhpcyB0eXBlLiBBIHN0YXRlIGlzIGEgcGVyc2lzdGVudCBkYXRhIHN0cnVjdHVyZeKAlGl0IGlzbid0XG4vLyB1cGRhdGVkLCBidXQgcmF0aGVyIGEgbmV3IHN0YXRlIHZhbHVlIGlzIGNvbXB1dGVkIGZyb20gYW4gb2xkIG9uZVxuLy8gdXNpbmcgdGhlIFtgYXBwbHlgXSgjc3RhdGUuRWRpdG9yU3RhdGUuYXBwbHkpIG1ldGhvZC5cbi8vXG4vLyBBIHN0YXRlIGhvbGRzIGEgbnVtYmVyIG9mIGJ1aWx0LWluIGZpZWxkcywgYW5kIHBsdWdpbnMgY2FuXG4vLyBbZGVmaW5lXSgjc3RhdGUuUGx1Z2luU3BlYy5zdGF0ZSkgYWRkaXRpb25hbCBmaWVsZHMuXG52YXIgRWRpdG9yU3RhdGUgPSBmdW5jdGlvbiBFZGl0b3JTdGF0ZShjb25maWcpIHtcbiAgdGhpcy5jb25maWcgPSBjb25maWc7XG59O1xuXG52YXIgcHJvdG90eXBlQWNjZXNzb3JzJDEgPSB7IHNjaGVtYToge30scGx1Z2luczoge30sdHI6IHt9IH07XG5cbi8vIGRvYzo6IE5vZGVcbi8vIFRoZSBjdXJyZW50IGRvY3VtZW50LlxuXG4vLyBzZWxlY3Rpb246OiBTZWxlY3Rpb25cbi8vIFRoZSBzZWxlY3Rpb24uXG5cbi8vIHN0b3JlZE1hcmtzOjogP1tNYXJrXVxuLy8gQSBzZXQgb2YgbWFya3MgdG8gYXBwbHkgdG8gdGhlIG5leHQgaW5wdXQuIFdpbGwgYmUgbnVsbCB3aGVuXG4vLyBubyBleHBsaWNpdCBtYXJrcyBoYXZlIGJlZW4gc2V0LlxuXG4vLyA6OiBTY2hlbWFcbi8vIFRoZSBzY2hlbWEgb2YgdGhlIHN0YXRlJ3MgZG9jdW1lbnQuXG5wcm90b3R5cGVBY2Nlc3NvcnMkMS5zY2hlbWEuZ2V0ID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5jb25maWcuc2NoZW1hXG59O1xuXG4vLyA6OiBbUGx1Z2luXVxuLy8gVGhlIHBsdWdpbnMgdGhhdCBhcmUgYWN0aXZlIGluIHRoaXMgc3RhdGUuXG5wcm90b3R5cGVBY2Nlc3NvcnMkMS5wbHVnaW5zLmdldCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMuY29uZmlnLnBsdWdpbnNcbn07XG5cbi8vIDo6IChUcmFuc2FjdGlvbikg4oaSIEVkaXRvclN0YXRlXG4vLyBBcHBseSB0aGUgZ2l2ZW4gdHJhbnNhY3Rpb24gdG8gcHJvZHVjZSBhIG5ldyBzdGF0ZS5cbkVkaXRvclN0YXRlLnByb3RvdHlwZS5hcHBseSA9IGZ1bmN0aW9uIGFwcGx5ICh0cikge1xuICByZXR1cm4gdGhpcy5hcHBseVRyYW5zYWN0aW9uKHRyKS5zdGF0ZVxufTtcblxuLy8gOiAoVHJhbnNhY3Rpb24pIOKGkiA/VHJhbnNhY3Rpb25cbkVkaXRvclN0YXRlLnByb3RvdHlwZS5maWx0ZXJUcmFuc2FjdGlvbiA9IGZ1bmN0aW9uIGZpbHRlclRyYW5zYWN0aW9uICh0ciwgaWdub3JlKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG4gICAgaWYgKCBpZ25vcmUgPT09IHZvaWQgMCApIGlnbm9yZSA9IC0xO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jb25maWcucGx1Z2lucy5sZW5ndGg7IGkrKykgeyBpZiAoaSAhPSBpZ25vcmUpIHtcbiAgICB2YXIgcGx1Z2luID0gdGhpcyQxLmNvbmZpZy5wbHVnaW5zW2ldO1xuICAgIGlmIChwbHVnaW4uc3BlYy5maWx0ZXJUcmFuc2FjdGlvbiAmJiAhcGx1Z2luLnNwZWMuZmlsdGVyVHJhbnNhY3Rpb24uY2FsbChwbHVnaW4sIHRyLCB0aGlzJDEpKVxuICAgICAgeyByZXR1cm4gZmFsc2UgfVxuICB9IH1cbiAgcmV0dXJuIHRydWVcbn07XG5cbi8vIDo6IChUcmFuc2FjdGlvbikg4oaSIHtzdGF0ZTogRWRpdG9yU3RhdGUsIHRyYW5zYWN0aW9uczogW1RyYW5zYWN0aW9uXX1cbi8vIFZlcmJvc2UgdmFyaWFudCBvZiBbYGFwcGx5YF0oI3N0YXRlLkVkaXRvclN0YXRlLmFwcGx5KSB0aGF0XG4vLyByZXR1cm5zIHRoZSBwcmVjaXNlIHRyYW5zYWN0aW9ucyB0aGF0IHdlcmUgYXBwbGllZCAod2hpY2ggbWlnaHRcbi8vIGJlIGluZmx1ZW5jZWQgYnkgdGhlIFt0cmFuc2FjdGlvblxuLy8gaG9va3NdKCNzdGF0ZS5QbHVnaW5TcGVjLmZpbHRlclRyYW5zYWN0aW9uKSBvZlxuLy8gcGx1Z2lucykgYWxvbmcgd2l0aCB0aGUgbmV3IHN0YXRlLlxuRWRpdG9yU3RhdGUucHJvdG90eXBlLmFwcGx5VHJhbnNhY3Rpb24gPSBmdW5jdGlvbiBhcHBseVRyYW5zYWN0aW9uICh0cikge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gIGlmICghdGhpcy5maWx0ZXJUcmFuc2FjdGlvbih0cikpIHsgcmV0dXJuIHtzdGF0ZTogdGhpcywgdHJhbnNhY3Rpb25zOiBbXX0gfVxuXG4gIHZhciB0cnMgPSBbdHJdLCBuZXdTdGF0ZSA9IHRoaXMuYXBwbHlJbm5lcih0ciksIHNlZW4gPSBudWxsO1xuICAvLyBUaGlzIGxvb3AgcmVwZWF0ZWRseSBnaXZlcyBwbHVnaW5zIGEgY2hhbmNlIHRvIHJlc3BvbmQgdG9cbiAgLy8gdHJhbnNhY3Rpb25zIGFzIG5ldyB0cmFuc2FjdGlvbnMgYXJlIGFkZGVkLCBtYWtpbmcgc3VyZSB0byBvbmx5XG4gIC8vIHBhc3MgdGhlIHRyYW5zYWN0aW9ucyB0aGUgcGx1Z2luIGRpZCBub3Qgc2VlIGJlZm9yZS5cbiAgb3V0ZXI6IGZvciAoOzspIHtcbiAgICB2YXIgaGF2ZU5ldyA9IGZhbHNlO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jb25maWcucGx1Z2lucy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHBsdWdpbiA9IHRoaXMkMS5jb25maWcucGx1Z2luc1tpXTtcbiAgICAgIGlmIChwbHVnaW4uc3BlYy5hcHBlbmRUcmFuc2FjdGlvbikge1xuICAgICAgICB2YXIgbiA9IHNlZW4gPyBzZWVuW2ldLm4gOiAwLCBvbGRTdGF0ZSA9IHNlZW4gPyBzZWVuW2ldLnN0YXRlIDogdGhpcyQxO1xuICAgICAgICB2YXIgdHIkMSA9IG4gPCB0cnMubGVuZ3RoICYmXG4gICAgICAgICAgICBwbHVnaW4uc3BlYy5hcHBlbmRUcmFuc2FjdGlvbi5jYWxsKHBsdWdpbiwgbiA/IHRycy5zbGljZShuKSA6IHRycywgb2xkU3RhdGUsIG5ld1N0YXRlKTtcbiAgICAgICAgaWYgKHRyJDEgJiYgbmV3U3RhdGUuZmlsdGVyVHJhbnNhY3Rpb24odHIkMSwgaSkpIHtcbiAgICAgICAgICB0ciQxLnNldE1ldGEoXCJhcHBlbmRlZFRyYW5zYWN0aW9uXCIsIHRyJDEpO1xuICAgICAgICAgIGlmICghc2Vlbikge1xuICAgICAgICAgICAgc2VlbiA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0aGlzLmNvbmZpZy5wbHVnaW5zLmxlbmd0aDsgaisrKVxuICAgICAgICAgICAgICB7IHNlZW4ucHVzaChqIDwgaSA/IHtzdGF0ZTogbmV3U3RhdGUsIG46IHRycy5sZW5ndGh9IDoge3N0YXRlOiB0aGlzJDEsIG46IDB9KTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgICB0cnMucHVzaCh0ciQxKTtcbiAgICAgICAgICBuZXdTdGF0ZSA9IG5ld1N0YXRlLmFwcGx5SW5uZXIodHIkMSk7XG4gICAgICAgICAgaGF2ZU5ldyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNlZW4pIHsgc2VlbltpXSA9IHtzdGF0ZTogbmV3U3RhdGUsIG46IHRycy5sZW5ndGh9OyB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghaGF2ZU5ldykgeyByZXR1cm4ge3N0YXRlOiBuZXdTdGF0ZSwgdHJhbnNhY3Rpb25zOiB0cnN9IH1cbiAgfVxufTtcblxuLy8gOiAoVHJhbnNhY3Rpb24pIOKGkiBFZGl0b3JTdGF0ZVxuRWRpdG9yU3RhdGUucHJvdG90eXBlLmFwcGx5SW5uZXIgPSBmdW5jdGlvbiBhcHBseUlubmVyICh0cikge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gIGlmICghdHIuYmVmb3JlLmVxKHRoaXMuZG9jKSkgeyB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkFwcGx5aW5nIGEgbWlzbWF0Y2hlZCB0cmFuc2FjdGlvblwiKSB9XG4gIHZhciBuZXdJbnN0YW5jZSA9IG5ldyBFZGl0b3JTdGF0ZSh0aGlzLmNvbmZpZyksIGZpZWxkcyA9IHRoaXMuY29uZmlnLmZpZWxkcztcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWVsZHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgZmllbGQgPSBmaWVsZHNbaV07XG4gICAgbmV3SW5zdGFuY2VbZmllbGQubmFtZV0gPSBmaWVsZC5hcHBseSh0ciwgdGhpcyQxW2ZpZWxkLm5hbWVdLCB0aGlzJDEsIG5ld0luc3RhbmNlKTtcbiAgfVxuICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCBhcHBseUxpc3RlbmVycy5sZW5ndGg7IGkkMSsrKSB7IGFwcGx5TGlzdGVuZXJzW2kkMV0odGhpcyQxLCB0ciwgbmV3SW5zdGFuY2UpOyB9XG4gIHJldHVybiBuZXdJbnN0YW5jZVxufTtcblxuLy8gOjogVHJhbnNhY3Rpb25cbi8vIFN0YXJ0IGEgW3RyYW5zYWN0aW9uXSgjc3RhdGUuVHJhbnNhY3Rpb24pIGZyb20gdGhpcyBzdGF0ZS5cbnByb3RvdHlwZUFjY2Vzc29ycyQxLnRyLmdldCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5ldyBUcmFuc2FjdGlvbih0aGlzKSB9O1xuXG4vLyA6OiAoT2JqZWN0KSDihpIgRWRpdG9yU3RhdGVcbi8vIENyZWF0ZSBhIG5ldyBzdGF0ZS5cbi8vXG4vLyBjb25maWc6Oi0gQ29uZmlndXJhdGlvbiBvcHRpb25zLiBNdXN0IGNvbnRhaW4gYHNjaGVtYWAgb3IgYGRvY2AgKG9yIGJvdGgpLlxuLy9cbi8vICAgIHNjaGVtYTo6ID9TY2hlbWFcbi8vICAgIFRoZSBzY2hlbWEgdG8gdXNlLlxuLy9cbi8vICAgIGRvYzo6ID9Ob2RlXG4vLyAgICBUaGUgc3RhcnRpbmcgZG9jdW1lbnQuXG4vL1xuLy8gICAgc2VsZWN0aW9uOjogP1NlbGVjdGlvblxuLy8gICAgQSB2YWxpZCBzZWxlY3Rpb24gaW4gdGhlIGRvY3VtZW50LlxuLy9cbi8vICAgIHN0b3JlZE1hcmtzOjogP1tNYXJrXVxuLy8gICAgVGhlIGluaXRpYWwgc2V0IG9mIFtzdG9yZWQgbWFya3NdKCNzdGF0ZS5FZGl0b3JTdGF0ZS5zdG9yZWRNYXJrcykuXG4vL1xuLy8gICAgcGx1Z2luczo6ID9bUGx1Z2luXVxuLy8gICAgVGhlIHBsdWdpbnMgdGhhdCBzaG91bGQgYmUgYWN0aXZlIGluIHRoaXMgc3RhdGUuXG5FZGl0b3JTdGF0ZS5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUgKGNvbmZpZykge1xuICB2YXIgJGNvbmZpZyA9IG5ldyBDb25maWd1cmF0aW9uKGNvbmZpZy5zY2hlbWEgfHwgY29uZmlnLmRvYy50eXBlLnNjaGVtYSwgY29uZmlnLnBsdWdpbnMpO1xuICB2YXIgaW5zdGFuY2UgPSBuZXcgRWRpdG9yU3RhdGUoJGNvbmZpZyk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgJGNvbmZpZy5maWVsZHMubGVuZ3RoOyBpKyspXG4gICAgeyBpbnN0YW5jZVskY29uZmlnLmZpZWxkc1tpXS5uYW1lXSA9ICRjb25maWcuZmllbGRzW2ldLmluaXQoY29uZmlnLCBpbnN0YW5jZSk7IH1cbiAgcmV0dXJuIGluc3RhbmNlXG59O1xuXG4vLyA6OiAoT2JqZWN0KSDihpIgRWRpdG9yU3RhdGVcbi8vIENyZWF0ZSBhIG5ldyBzdGF0ZSBiYXNlZCBvbiB0aGlzIG9uZSwgYnV0IHdpdGggYW4gYWRqdXN0ZWQgc2V0IG9mXG4vLyBhY3RpdmUgcGx1Z2lucy4gU3RhdGUgZmllbGRzIHRoYXQgZXhpc3QgaW4gYm90aCBzZXRzIG9mIHBsdWdpbnNcbi8vIGFyZSBrZXB0IHVuY2hhbmdlZC4gVGhvc2UgdGhhdCBubyBsb25nZXIgZXhpc3QgYXJlIGRyb3BwZWQsIGFuZFxuLy8gdGhvc2UgdGhhdCBhcmUgbmV3IGFyZSBpbml0aWFsaXplZCB1c2luZyB0aGVpclxuLy8gW2Bpbml0YF0oI3N0YXRlLlN0YXRlRmllbGQuaW5pdCkgbWV0aG9kLCBwYXNzaW5nIGluIHRoZSBuZXdcbi8vIGNvbmZpZ3VyYXRpb24gb2JqZWN0Li5cbi8vXG4vLyBjb25maWc6Oi0gY29uZmlndXJhdGlvbiBvcHRpb25zXG4vL1xuLy8gICBzY2hlbWE6OiA/U2NoZW1hXG4vLyAgIE5ldyBzY2hlbWEgdG8gdXNlLlxuLy9cbi8vICAgcGx1Z2luczo6ID9bUGx1Z2luXVxuLy8gICBOZXcgc2V0IG9mIGFjdGl2ZSBwbHVnaW5zLlxuRWRpdG9yU3RhdGUucHJvdG90eXBlLnJlY29uZmlndXJlID0gZnVuY3Rpb24gcmVjb25maWd1cmUgKGNvbmZpZykge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gIHZhciAkY29uZmlnID0gbmV3IENvbmZpZ3VyYXRpb24oY29uZmlnLnNjaGVtYSB8fCB0aGlzLnNjaGVtYSwgY29uZmlnLnBsdWdpbnMpO1xuICB2YXIgZmllbGRzID0gJGNvbmZpZy5maWVsZHMsIGluc3RhbmNlID0gbmV3IEVkaXRvclN0YXRlKCRjb25maWcpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGZpZWxkcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBuYW1lID0gZmllbGRzW2ldLm5hbWU7XG4gICAgaW5zdGFuY2VbbmFtZV0gPSB0aGlzJDEuaGFzT3duUHJvcGVydHkobmFtZSkgPyB0aGlzJDFbbmFtZV0gOiBmaWVsZHNbaV0uaW5pdChjb25maWcsIGluc3RhbmNlKTtcbiAgfVxuICByZXR1cm4gaW5zdGFuY2Vcbn07XG5cbi8vIDo6ICg/dW5pb248T2JqZWN0PFBsdWdpbj4sIHN0cmluZywgbnVtYmVyPikg4oaSIE9iamVjdFxuLy8gU2VyaWFsaXplIHRoaXMgc3RhdGUgdG8gSlNPTi4gSWYgeW91IHdhbnQgdG8gc2VyaWFsaXplIHRoZSBzdGF0ZVxuLy8gb2YgcGx1Z2lucywgcGFzcyBhbiBvYmplY3QgbWFwcGluZyBwcm9wZXJ0eSBuYW1lcyB0byB1c2UgaW4gdGhlXG4vLyByZXN1bHRpbmcgSlNPTiBvYmplY3QgdG8gcGx1Z2luIG9iamVjdHMuIFRoZSBhcmd1bWVudCBtYXkgYWxzbyBiZVxuLy8gYSBzdHJpbmcgb3IgbnVtYmVyLCBpbiB3aGljaCBjYXNlIGl0IGlzIGlnbm9yZWQsIHRvIHN1cHBvcnQgdGhlXG4vLyB3YXkgYEpTT04uc3RyaW5naWZ5YCBjYWxscyBgdG9TdHJpbmdgIG1ldGhvZHMuXG5FZGl0b3JTdGF0ZS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gdG9KU09OIChwbHVnaW5GaWVsZHMpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICB2YXIgcmVzdWx0ID0ge2RvYzogdGhpcy5kb2MudG9KU09OKCksIHNlbGVjdGlvbjogdGhpcy5zZWxlY3Rpb24udG9KU09OKCl9O1xuICBpZiAodGhpcy5zdG9yZWRNYXJrcykgeyByZXN1bHQuc3RvcmVkTWFya3MgPSB0aGlzLnN0b3JlZE1hcmtzLm1hcChmdW5jdGlvbiAobSkgeyByZXR1cm4gbS50b0pTT04oKTsgfSk7IH1cbiAgaWYgKHBsdWdpbkZpZWxkcyAmJiB0eXBlb2YgcGx1Z2luRmllbGRzID09ICdvYmplY3QnKSB7IGZvciAodmFyIHByb3AgaW4gcGx1Z2luRmllbGRzKSB7XG4gICAgaWYgKHByb3AgPT0gXCJkb2NcIiB8fCBwcm9wID09IFwic2VsZWN0aW9uXCIpXG4gICAgICB7IHRocm93IG5ldyBSYW5nZUVycm9yKFwiVGhlIEpTT04gZmllbGRzIGBkb2NgIGFuZCBgc2VsZWN0aW9uYCBhcmUgcmVzZXJ2ZWRcIikgfVxuICAgIHZhciBwbHVnaW4gPSBwbHVnaW5GaWVsZHNbcHJvcF0sIHN0YXRlID0gcGx1Z2luLnNwZWMuc3RhdGU7XG4gICAgaWYgKHN0YXRlICYmIHN0YXRlLnRvSlNPTikgeyByZXN1bHRbcHJvcF0gPSBzdGF0ZS50b0pTT04uY2FsbChwbHVnaW4sIHRoaXMkMVtwbHVnaW4ua2V5XSk7IH1cbiAgfSB9XG4gIHJldHVybiByZXN1bHRcbn07XG5cbi8vIDo6IChPYmplY3QsIE9iamVjdCwgP09iamVjdDxQbHVnaW4+KSDihpIgRWRpdG9yU3RhdGVcbi8vIERlc2VyaWFsaXplIGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiBhIHN0YXRlLiBgY29uZmlnYCBzaG91bGRcbi8vIGhhdmUgYXQgbGVhc3QgYSBgc2NoZW1hYCBmaWVsZCwgYW5kIHNob3VsZCBjb250YWluIGFycmF5IG9mXG4vLyBwbHVnaW5zIHRvIGluaXRpYWxpemUgdGhlIHN0YXRlIHdpdGguIGBwbHVnaW5GaWVsZHNgIGNhbiBiZSB1c2VkXG4vLyB0byBkZXNlcmlhbGl6ZSB0aGUgc3RhdGUgb2YgcGx1Z2lucywgYnkgYXNzb2NpYXRpbmcgcGx1Z2luXG4vLyBpbnN0YW5jZXMgd2l0aCB0aGUgcHJvcGVydHkgbmFtZXMgdGhleSB1c2UgaW4gdGhlIEpTT04gb2JqZWN0LlxuLy9cbi8vIGNvbmZpZzo6LSBjb25maWd1cmF0aW9uIG9wdGlvbnNcbi8vXG4vLyAgIHNjaGVtYTo6IFNjaGVtYVxuLy8gICBUaGUgc2NoZW1hIHRvIHVzZS5cbi8vXG4vLyAgIHBsdWdpbnM6OiA/W1BsdWdpbl1cbi8vICAgVGhlIHNldCBvZiBhY3RpdmUgcGx1Z2lucy5cbkVkaXRvclN0YXRlLmZyb21KU09OID0gZnVuY3Rpb24gZnJvbUpTT04gKGNvbmZpZywganNvbiwgcGx1Z2luRmllbGRzKSB7XG4gIGlmICghanNvbikgeyB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkludmFsaWQgaW5wdXQgZm9yIEVkaXRvclN0YXRlLmZyb21KU09OXCIpIH1cbiAgaWYgKCFjb25maWcuc2NoZW1hKSB7IHRocm93IG5ldyBSYW5nZUVycm9yKFwiUmVxdWlyZWQgY29uZmlnIGZpZWxkICdzY2hlbWEnIG1pc3NpbmdcIikgfVxuICB2YXIgJGNvbmZpZyA9IG5ldyBDb25maWd1cmF0aW9uKGNvbmZpZy5zY2hlbWEsIGNvbmZpZy5wbHVnaW5zKTtcbiAgdmFyIGluc3RhbmNlID0gbmV3IEVkaXRvclN0YXRlKCRjb25maWcpO1xuICAkY29uZmlnLmZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uIChmaWVsZCkge1xuICAgIGlmIChmaWVsZC5uYW1lID09IFwiZG9jXCIpIHtcbiAgICAgIGluc3RhbmNlLmRvYyA9IHByb3NlbWlycm9yTW9kZWwuTm9kZS5mcm9tSlNPTihjb25maWcuc2NoZW1hLCBqc29uLmRvYyk7XG4gICAgfSBlbHNlIGlmIChmaWVsZC5uYW1lID09IFwic2VsZWN0aW9uXCIpIHtcbiAgICAgIGluc3RhbmNlLnNlbGVjdGlvbiA9IFNlbGVjdGlvbi5mcm9tSlNPTihpbnN0YW5jZS5kb2MsIGpzb24uc2VsZWN0aW9uKTtcbiAgICB9IGVsc2UgaWYgKGZpZWxkLm5hbWUgPT0gXCJzdG9yZWRNYXJrc1wiKSB7XG4gICAgICBpZiAoanNvbi5zdG9yZWRNYXJrcykgeyBpbnN0YW5jZS5zdG9yZWRNYXJrcyA9IGpzb24uc3RvcmVkTWFya3MubWFwKGNvbmZpZy5zY2hlbWEubWFya0Zyb21KU09OKTsgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAocGx1Z2luRmllbGRzKSB7IGZvciAodmFyIHByb3AgaW4gcGx1Z2luRmllbGRzKSB7XG4gICAgICAgIHZhciBwbHVnaW4gPSBwbHVnaW5GaWVsZHNbcHJvcF0sIHN0YXRlID0gcGx1Z2luLnNwZWMuc3RhdGU7XG4gICAgICAgIGlmIChwbHVnaW4ua2V5ID09IGZpZWxkLm5hbWUgJiYgc3RhdGUgJiYgc3RhdGUuZnJvbUpTT04gJiZcbiAgICAgICAgICAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChqc29uLCBwcm9wKSkge1xuICAgICAgICAgIC8vIFRoaXMgZmllbGQgYmVsb25ncyB0byBhIHBsdWdpbiBtYXBwZWQgdG8gYSBKU09OIGZpZWxkLCByZWFkIGl0IGZyb20gdGhlcmUuXG4gICAgICAgICAgaW5zdGFuY2VbZmllbGQubmFtZV0gPSBzdGF0ZS5mcm9tSlNPTi5jYWxsKHBsdWdpbiwgY29uZmlnLCBqc29uW3Byb3BdLCBpbnN0YW5jZSk7XG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgIH0gfVxuICAgICAgaW5zdGFuY2VbZmllbGQubmFtZV0gPSBmaWVsZC5pbml0KGNvbmZpZywgaW5zdGFuY2UpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBpbnN0YW5jZVxufTtcblxuLy8gS2x1ZGdlIHRvIGFsbG93IHRoZSB2aWV3IHRvIHRyYWNrIG1hcHBpbmdzIGJldHdlZW4gZGlmZmVyZW50XG4vLyBpbnN0YW5jZXMgb2YgYSBzdGF0ZS5cbkVkaXRvclN0YXRlLmFkZEFwcGx5TGlzdGVuZXIgPSBmdW5jdGlvbiBhZGRBcHBseUxpc3RlbmVyIChmKSB7XG4gIGFwcGx5TGlzdGVuZXJzLnB1c2goZik7XG59O1xuRWRpdG9yU3RhdGUucmVtb3ZlQXBwbHlMaXN0ZW5lciA9IGZ1bmN0aW9uIHJlbW92ZUFwcGx5TGlzdGVuZXIgKGYpIHtcbiAgdmFyIGZvdW5kID0gYXBwbHlMaXN0ZW5lcnMuaW5kZXhPZihmKTtcbiAgaWYgKGZvdW5kID4gLTEpIHsgYXBwbHlMaXN0ZW5lcnMuc3BsaWNlKGZvdW5kLCAxKTsgfVxufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIEVkaXRvclN0YXRlLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzJDEgKTtcblxudmFyIGFwcGx5TGlzdGVuZXJzID0gW107XG5cbi8vIFBsdWdpblNwZWM6OiBpbnRlcmZhY2Vcbi8vXG4vLyBUaGlzIGlzIHRoZSB0eXBlIHBhc3NlZCB0byB0aGUgW2BQbHVnaW5gXSgjc3RhdGUuUGx1Z2luKVxuLy8gY29uc3RydWN0b3IuIEl0IHByb3ZpZGVzIGEgZGVmaW5pdGlvbiBmb3IgYSBwbHVnaW4uXG4vL1xuLy8gICBwcm9wczo6ID9FZGl0b3JQcm9wc1xuLy8gICBUaGUgW3ZpZXcgcHJvcHNdKCN2aWV3LkVkaXRvclByb3BzKSBhZGRlZCBieSB0aGlzIHBsdWdpbi4gUHJvcHNcbi8vICAgdGhhdCBhcmUgZnVuY3Rpb25zIHdpbGwgYmUgYm91bmQgdG8gaGF2ZSB0aGUgcGx1Z2luIGluc3RhbmNlIGFzXG4vLyAgIHRoZWlyIGB0aGlzYCBiaW5kaW5nLlxuLy9cbi8vICAgc3RhdGU6OiA/U3RhdGVGaWVsZDxhbnk+XG4vLyAgIEFsbG93cyBhIHBsdWdpbiB0byBkZWZpbmUgYSBbc3RhdGUgZmllbGRdKCNzdGF0ZS5TdGF0ZUZpZWxkKSwgYW5cbi8vICAgZXh0cmEgc2xvdCBpbiB0aGUgc3RhdGUgb2JqZWN0IGluIHdoaWNoIGl0IGNhbiBrZWVwIGl0cyBvd24gZGF0YS5cbi8vXG4vLyAgIGtleTo6ID9QbHVnaW5LZXlcbi8vICAgQ2FuIGJlIHVzZWQgdG8gbWFrZSB0aGlzIGEga2V5ZWQgcGx1Z2luLiBZb3UgY2FuIGhhdmUgb25seSBvbmVcbi8vICAgcGx1Z2luIHdpdGggYSBnaXZlbiBrZXkgaW4gYSBnaXZlbiBzdGF0ZSwgYnV0IGl0IGlzIHBvc3NpYmxlIHRvXG4vLyAgIGFjY2VzcyB0aGUgcGx1Z2luJ3MgY29uZmlndXJhdGlvbiBhbmQgc3RhdGUgdGhyb3VnaCB0aGUga2V5LFxuLy8gICB3aXRob3V0IGhhdmluZyBhY2Nlc3MgdG8gdGhlIHBsdWdpbiBpbnN0YW5jZSBvYmplY3QuXG4vL1xuLy8gICB2aWV3OjogPyhFZGl0b3JWaWV3KSDihpIgT2JqZWN0XG4vLyAgIFdoZW4gdGhlIHBsdWdpbiBuZWVkcyB0byBpbnRlcmFjdCB3aXRoIHRoZSBlZGl0b3Igdmlldywgb3Jcbi8vICAgc2V0IHNvbWV0aGluZyB1cCBpbiB0aGUgRE9NLCB1c2UgdGhpcyBmaWVsZC4gVGhlIGZ1bmN0aW9uXG4vLyAgIHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIHBsdWdpbidzIHN0YXRlIGlzIGFzc29jaWF0ZWQgd2l0aCBhblxuLy8gICBlZGl0b3Igdmlldy5cbi8vXG4vLyAgICAgcmV0dXJuOjotXG4vLyAgICAgU2hvdWxkIHJldHVybiBhbiBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIG9wdGlvbmFsXG4vLyAgICAgcHJvcGVydGllczpcbi8vXG4vLyAgICAgICB1cGRhdGU6OiA/KHZpZXc6IEVkaXRvclZpZXcsIHByZXZTdGF0ZTogRWRpdG9yU3RhdGUpXG4vLyAgICAgICBDYWxsZWQgd2hlbmV2ZXIgdGhlIHZpZXcncyBzdGF0ZSBpcyB1cGRhdGVkLlxuLy9cbi8vICAgICAgIGRlc3Ryb3k6OiA/KClcbi8vICAgICAgIENhbGxlZCB3aGVuIHRoZSB2aWV3IGlzIGRlc3Ryb3llZCBvciByZWNlaXZlcyBhIHN0YXRlXG4vLyAgICAgICB3aXRoIGRpZmZlcmVudCBwbHVnaW5zLlxuLy9cbi8vICAgZmlsdGVyVHJhbnNhY3Rpb246OiA/KFRyYW5zYWN0aW9uLCBFZGl0b3JTdGF0ZSkg4oaSIGJvb2xcbi8vICAgV2hlbiBwcmVzZW50LCB0aGlzIHdpbGwgYmUgY2FsbGVkIGJlZm9yZSBhIHRyYW5zYWN0aW9uIGlzXG4vLyAgIGFwcGxpZWQgYnkgdGhlIHN0YXRlLCBhbGxvd2luZyB0aGUgcGx1Z2luIHRvIGNhbmNlbCBpdCAoYnlcbi8vICAgcmV0dXJuaW5nIGZhbHNlKS5cbi8vXG4vLyAgIGFwcGVuZFRyYW5zYWN0aW9uOjogPyh0cmFuc2FjdGlvbnM6IFtUcmFuc2FjdGlvbl0sIG9sZFN0YXRlOiBFZGl0b3JTdGF0ZSwgbmV3U3RhdGU6IEVkaXRvclN0YXRlKSDihpIgP1RyYW5zYWN0aW9uXG4vLyAgIEFsbG93cyB0aGUgcGx1Z2luIHRvIGFwcGVuZCBhbm90aGVyIHRyYW5zYWN0aW9uIHRvIGJlIGFwcGxpZWRcbi8vICAgYWZ0ZXIgdGhlIGdpdmVuIGFycmF5IG9mIHRyYW5zYWN0aW9ucy4gV2hlbiBhbm90aGVyIHBsdWdpblxuLy8gICBhcHBlbmRzIGEgdHJhbnNhY3Rpb24gYWZ0ZXIgdGhpcyB3YXMgY2FsbGVkLCBpdCBpcyBjYWxsZWQgYWdhaW5cbi8vICAgd2l0aCB0aGUgbmV3IHN0YXRlIGFuZCBuZXcgdHJhbnNhY3Rpb25z4oCUYnV0IG9ubHkgdGhlIG5ld1xuLy8gICB0cmFuc2FjdGlvbnMsIGkuZS4gaXQgd29uJ3QgYmUgcGFzc2VkIHRyYW5zYWN0aW9ucyB0aGF0IGl0XG4vLyAgIGFscmVhZHkgc2F3LlxuXG5mdW5jdGlvbiBiaW5kUHJvcHMob2JqLCBzZWxmLCB0YXJnZXQpIHtcbiAgZm9yICh2YXIgcHJvcCBpbiBvYmopIHtcbiAgICB2YXIgdmFsID0gb2JqW3Byb3BdO1xuICAgIGlmICh2YWwgaW5zdGFuY2VvZiBGdW5jdGlvbikgeyB2YWwgPSB2YWwuYmluZChzZWxmKTsgfVxuICAgIGVsc2UgaWYgKHByb3AgPT0gXCJoYW5kbGVET01FdmVudHNcIikgeyB2YWwgPSBiaW5kUHJvcHModmFsLCBzZWxmLCB7fSk7IH1cbiAgICB0YXJnZXRbcHJvcF0gPSB2YWw7XG4gIH1cbiAgcmV0dXJuIHRhcmdldFxufVxuXG4vLyA6Oi0gUGx1Z2lucyBidW5kbGUgZnVuY3Rpb25hbGl0eSB0aGF0IGNhbiBiZSBhZGRlZCB0byBhbiBlZGl0b3IuXG4vLyBUaGV5IGFyZSBwYXJ0IG9mIHRoZSBbZWRpdG9yIHN0YXRlXSgjc3RhdGUuRWRpdG9yU3RhdGUpIGFuZFxuLy8gbWF5IGluZmx1ZW5jZSB0aGF0IHN0YXRlIGFuZCB0aGUgdmlldyB0aGF0IGNvbnRhaW5zIGl0LlxudmFyIFBsdWdpbiA9IGZ1bmN0aW9uIFBsdWdpbihzcGVjKSB7XG4gIC8vIDo6IEVkaXRvclByb3BzXG4gIC8vIFRoZSBbcHJvcHNdKCN2aWV3LkVkaXRvclByb3BzKSBleHBvcnRlZCBieSB0aGlzIHBsdWdpbi5cbiAgdGhpcy5wcm9wcyA9IHt9O1xuICBpZiAoc3BlYy5wcm9wcykgeyBiaW5kUHJvcHMoc3BlYy5wcm9wcywgdGhpcywgdGhpcy5wcm9wcyk7IH1cbiAgLy8gOjogT2JqZWN0XG4gIC8vIFRoZSBwbHVnaW4ncyBbc3BlYyBvYmplY3RdKCNzdGF0ZS5QbHVnaW5TcGVjKS5cbiAgdGhpcy5zcGVjID0gc3BlYztcbiAgdGhpcy5rZXkgPSBzcGVjLmtleSA/IHNwZWMua2V5LmtleSA6IGNyZWF0ZUtleShcInBsdWdpblwiKTtcbn07XG5cbi8vIDo6IChFZGl0b3JTdGF0ZSkg4oaSIGFueVxuLy8gRXh0cmFjdCB0aGUgcGx1Z2luJ3Mgc3RhdGUgZmllbGQgZnJvbSBhbiBlZGl0b3Igc3RhdGUuXG5QbHVnaW4ucHJvdG90eXBlLmdldFN0YXRlID0gZnVuY3Rpb24gZ2V0U3RhdGUgKHN0YXRlKSB7IHJldHVybiBzdGF0ZVt0aGlzLmtleV0gfTtcblxuLy8gU3RhdGVGaWVsZDo6IGludGVyZmFjZTxUPlxuLy8gQSBwbHVnaW4gc3BlYyBtYXkgcHJvdmlkZSBhIHN0YXRlIGZpZWxkICh1bmRlciBpdHNcbi8vIFtgc3RhdGVgXSgjc3RhdGUuUGx1Z2luU3BlYy5zdGF0ZSkgcHJvcGVydHkpIG9mIHRoaXMgdHlwZSwgd2hpY2hcbi8vIGRlc2NyaWJlcyB0aGUgc3RhdGUgaXQgd2FudHMgdG8ga2VlcC4gRnVuY3Rpb25zIHByb3ZpZGVkIGhlcmUgYXJlXG4vLyBhbHdheXMgY2FsbGVkIHdpdGggdGhlIHBsdWdpbiBpbnN0YW5jZSBhcyB0aGVpciBgdGhpc2AgYmluZGluZy5cbi8vXG4vLyAgIGluaXQ6OiAoY29uZmlnOiBPYmplY3QsIGluc3RhbmNlOiBFZGl0b3JTdGF0ZSkg4oaSIFRcbi8vICAgSW5pdGlhbGl6ZSB0aGUgdmFsdWUgb2YgdGhlIGZpZWxkLiBgY29uZmlnYCB3aWxsIGJlIHRoZSBvYmplY3Rcbi8vICAgcGFzc2VkIHRvIFtgRWRpdG9yU3RhdGUuY3JlYXRlYF0oI3N0YXRlLkVkaXRvclN0YXRlXmNyZWF0ZSkuIE5vdGVcbi8vICAgdGhhdCBgaW5zdGFuY2VgIGlzIGEgaGFsZi1pbml0aWFsaXplZCBzdGF0ZSBpbnN0YW5jZSwgYW5kIHdpbGxcbi8vICAgbm90IGhhdmUgdmFsdWVzIGZvciBwbHVnaW4gZmllbGRzIGluaXRpYWxpemVkIGFmdGVyIHRoaXMgb25lLlxuLy9cbi8vICAgYXBwbHk6OiAodHI6IFRyYW5zYWN0aW9uLCB2YWx1ZTogVCwgb2xkU3RhdGU6IEVkaXRvclN0YXRlLCBuZXdTdGF0ZTogRWRpdG9yU3RhdGUpIOKGkiBUXG4vLyAgIEFwcGx5IHRoZSBnaXZlbiB0cmFuc2FjdGlvbiB0byB0aGlzIHN0YXRlIGZpZWxkLCBwcm9kdWNpbmcgYSBuZXdcbi8vICAgZmllbGQgdmFsdWUuIE5vdGUgdGhhdCB0aGUgYG5ld1N0YXRlYCBhcmd1bWVudCBpcyBhZ2FpbiBhIHBhcnRpYWxseVxuLy8gICBjb25zdHJ1Y3RlZCBzdGF0ZSBkb2VzIG5vdCB5ZXQgY29udGFpbiB0aGUgc3RhdGUgZnJvbSBwbHVnaW5zXG4vLyAgIGNvbWluZyBhZnRlciB0aGlzIG9uZS5cbi8vXG4vLyAgIHRvSlNPTjo6ID8odmFsdWU6IFQpIOKGkiAqXG4vLyAgIENvbnZlcnQgdGhpcyBmaWVsZCB0byBKU09OLiBPcHRpb25hbCwgY2FuIGJlIGxlZnQgb2ZmIHRvIGRpc2FibGVcbi8vICAgSlNPTiBzZXJpYWxpemF0aW9uIGZvciB0aGUgZmllbGQuXG4vL1xuLy8gICBmcm9tSlNPTjo6ID8oY29uZmlnOiBPYmplY3QsIHZhbHVlOiAqLCBzdGF0ZTogRWRpdG9yU3RhdGUpIOKGkiBUXG4vLyAgIERlc2VyaWFsaXplIHRoZSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgZmllbGQuIE5vdGUgdGhhdCB0aGVcbi8vICAgYHN0YXRlYCBhcmd1bWVudCBpcyBhZ2FpbiBhIGhhbGYtaW5pdGlhbGl6ZWQgc3RhdGUuXG5cbnZhciBrZXlzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuZnVuY3Rpb24gY3JlYXRlS2V5KG5hbWUpIHtcbiAgaWYgKG5hbWUgaW4ga2V5cykgeyByZXR1cm4gbmFtZSArIFwiJFwiICsgKytrZXlzW25hbWVdIH1cbiAga2V5c1tuYW1lXSA9IDA7XG4gIHJldHVybiBuYW1lICsgXCIkXCJcbn1cblxuLy8gOjotIEEga2V5IGlzIHVzZWQgdG8gW3RhZ10oI3N0YXRlLlBsdWdpblNwZWMua2V5KVxuLy8gcGx1Z2lucyBpbiBhIHdheSB0aGF0IG1ha2VzIGl0IHBvc3NpYmxlIHRvIGZpbmQgdGhlbSwgZ2l2ZW4gYW5cbi8vIGVkaXRvciBzdGF0ZS4gQXNzaWduaW5nIGEga2V5IGRvZXMgbWVhbiBvbmx5IG9uZSBwbHVnaW4gb2YgdGhhdFxuLy8gdHlwZSBjYW4gYmUgYWN0aXZlIGluIGEgc3RhdGUuXG52YXIgUGx1Z2luS2V5ID0gZnVuY3Rpb24gUGx1Z2luS2V5KG5hbWUpIHtcbmlmICggbmFtZSA9PT0gdm9pZCAwICkgbmFtZSA9IFwia2V5XCI7XG4gdGhpcy5rZXkgPSBjcmVhdGVLZXkobmFtZSk7IH07XG5cbi8vIDo6IChFZGl0b3JTdGF0ZSkg4oaSID9QbHVnaW5cbi8vIEdldCB0aGUgYWN0aXZlIHBsdWdpbiB3aXRoIHRoaXMga2V5LCBpZiBhbnksIGZyb20gYW4gZWRpdG9yXG4vLyBzdGF0ZS5cblBsdWdpbktleS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gZ2V0IChzdGF0ZSkgeyByZXR1cm4gc3RhdGUuY29uZmlnLnBsdWdpbnNCeUtleVt0aGlzLmtleV0gfTtcblxuLy8gOjogKEVkaXRvclN0YXRlKSDihpIgP2FueVxuLy8gR2V0IHRoZSBwbHVnaW4ncyBzdGF0ZSBmcm9tIGFuIGVkaXRvciBzdGF0ZS5cblBsdWdpbktleS5wcm90b3R5cGUuZ2V0U3RhdGUgPSBmdW5jdGlvbiBnZXRTdGF0ZSAoc3RhdGUpIHsgcmV0dXJuIHN0YXRlW3RoaXMua2V5XSB9O1xuXG5leHBvcnRzLlNlbGVjdGlvbiA9IFNlbGVjdGlvbjtcbmV4cG9ydHMuU2VsZWN0aW9uUmFuZ2UgPSBTZWxlY3Rpb25SYW5nZTtcbmV4cG9ydHMuVGV4dFNlbGVjdGlvbiA9IFRleHRTZWxlY3Rpb247XG5leHBvcnRzLk5vZGVTZWxlY3Rpb24gPSBOb2RlU2VsZWN0aW9uO1xuZXhwb3J0cy5BbGxTZWxlY3Rpb24gPSBBbGxTZWxlY3Rpb247XG5leHBvcnRzLlRyYW5zYWN0aW9uID0gVHJhbnNhY3Rpb247XG5leHBvcnRzLkVkaXRvclN0YXRlID0gRWRpdG9yU3RhdGU7XG5leHBvcnRzLlBsdWdpbiA9IFBsdWdpbjtcbmV4cG9ydHMuUGx1Z2luS2V5ID0gUGx1Z2luS2V5O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG4iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG5cbnZhciBwcm9zZW1pcnJvck1vZGVsID0gcmVxdWlyZSgncHJvc2VtaXJyb3ItbW9kZWwnKTtcbnZhciBwcm9zZW1pcnJvclN0YXRlID0gcmVxdWlyZSgncHJvc2VtaXJyb3Itc3RhdGUnKTtcbnZhciBwcm9zZW1pcnJvclRyYW5zZm9ybSA9IHJlcXVpcmUoJ3Byb3NlbWlycm9yLXRyYW5zZm9ybScpO1xuXG52YXIgcmVzdWx0ID0ge307XG5pZiAodHlwZW9mIG5hdmlnYXRvciAhPSBcInVuZGVmaW5lZFwiKSB7XG4gIHZhciBpZV9lZGdlID0gL0VkZ2VcXC8oXFxkKykvLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gIHZhciBpZV91cHRvMTAgPSAvTVNJRSBcXGQvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gIHZhciBpZV8xMXVwID0gL1RyaWRlbnRcXC8oPzpbNy05XXxcXGR7Mix9KVxcLi4qcnY6KFxcZCspLy5leGVjKG5hdmlnYXRvci51c2VyQWdlbnQpO1xuXG4gIHJlc3VsdC5tYWMgPSAvTWFjLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSk7XG4gIHZhciBpZSA9IHJlc3VsdC5pZSA9ICEhKGllX3VwdG8xMCB8fCBpZV8xMXVwIHx8IGllX2VkZ2UpO1xuICByZXN1bHQuaWVfdmVyc2lvbiA9IGllX3VwdG8xMCA/IGRvY3VtZW50LmRvY3VtZW50TW9kZSB8fCA2IDogaWVfMTF1cCA/ICtpZV8xMXVwWzFdIDogaWVfZWRnZSA/ICtpZV9lZGdlWzFdIDogbnVsbDtcbiAgcmVzdWx0LmdlY2tvID0gIWllICYmIC9nZWNrb1xcLyhcXGQrKS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gIHJlc3VsdC5nZWNrb192ZXJzaW9uID0gcmVzdWx0LmdlY2tvICYmICsoL0ZpcmVmb3hcXC8oXFxkKykvLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudCkgfHwgWzAsIDBdKVsxXTtcbiAgdmFyIGNocm9tZSA9ICFpZSAmJiAvQ2hyb21lXFwvKFxcZCspLy5leGVjKG5hdmlnYXRvci51c2VyQWdlbnQpO1xuICByZXN1bHQuY2hyb21lID0gISFjaHJvbWU7XG4gIHJlc3VsdC5jaHJvbWVfdmVyc2lvbiA9IGNocm9tZSAmJiArY2hyb21lWzFdO1xuICByZXN1bHQuaW9zID0gIWllICYmIC9BcHBsZVdlYktpdC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSAmJiAvTW9iaWxlXFwvXFx3Ky8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgcmVzdWx0LndlYmtpdCA9ICFpZSAmJiAnV2Via2l0QXBwZWFyYW5jZScgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlO1xuICByZXN1bHQuc2FmYXJpID0gL0FwcGxlIENvbXB1dGVyLy50ZXN0KG5hdmlnYXRvci52ZW5kb3IpO1xufVxuXG52YXIgZG9tSW5kZXggPSBmdW5jdGlvbihub2RlKSB7XG4gIGZvciAodmFyIGluZGV4ID0gMDs7IGluZGV4KyspIHtcbiAgICBub2RlID0gbm9kZS5wcmV2aW91c1NpYmxpbmc7XG4gICAgaWYgKCFub2RlKSB7IHJldHVybiBpbmRleCB9XG4gIH1cbn07XG5cbnZhciBwYXJlbnROb2RlID0gZnVuY3Rpb24obm9kZSkge1xuICB2YXIgcGFyZW50ID0gbm9kZS5wYXJlbnROb2RlO1xuICByZXR1cm4gcGFyZW50ICYmIHBhcmVudC5ub2RlVHlwZSA9PSAxMSA/IHBhcmVudC5ob3N0IDogcGFyZW50XG59O1xuXG52YXIgdGV4dFJhbmdlID0gZnVuY3Rpb24obm9kZSwgZnJvbSwgdG8pIHtcbiAgdmFyIHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcbiAgcmFuZ2Uuc2V0RW5kKG5vZGUsIHRvID09IG51bGwgPyBub2RlLm5vZGVWYWx1ZS5sZW5ndGggOiB0byk7XG4gIHJhbmdlLnNldFN0YXJ0KG5vZGUsIGZyb20gfHwgMCk7XG4gIHJldHVybiByYW5nZVxufTtcblxuLy8gU2NhbnMgZm9yd2FyZCBhbmQgYmFja3dhcmQgdGhyb3VnaCBET00gcG9zaXRpb25zIGVxdWl2YWxlbnQgdG8gdGhlXG4vLyBnaXZlbiBvbmUgdG8gc2VlIGlmIHRoZSB0d28gYXJlIGluIHRoZSBzYW1lIHBsYWNlIChpLmUuIGFmdGVyIGFcbi8vIHRleHQgbm9kZSB2cyBhdCB0aGUgZW5kIG9mIHRoYXQgdGV4dCBub2RlKVxudmFyIGlzRXF1aXZhbGVudFBvc2l0aW9uID0gZnVuY3Rpb24obm9kZSwgb2ZmLCB0YXJnZXROb2RlLCB0YXJnZXRPZmYpIHtcbiAgcmV0dXJuIHRhcmdldE5vZGUgJiYgKHNjYW5Gb3Iobm9kZSwgb2ZmLCB0YXJnZXROb2RlLCB0YXJnZXRPZmYsIC0xKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgc2NhbkZvcihub2RlLCBvZmYsIHRhcmdldE5vZGUsIHRhcmdldE9mZiwgMSkpXG59O1xuXG52YXIgYXRvbUVsZW1lbnRzID0gL14oaW1nfGJyfGlucHV0fHRleHRhcmVhfGhyKSQvaTtcblxuZnVuY3Rpb24gc2NhbkZvcihub2RlLCBvZmYsIHRhcmdldE5vZGUsIHRhcmdldE9mZiwgZGlyKSB7XG4gIGZvciAoOzspIHtcbiAgICBpZiAobm9kZSA9PSB0YXJnZXROb2RlICYmIG9mZiA9PSB0YXJnZXRPZmYpIHsgcmV0dXJuIHRydWUgfVxuICAgIGlmIChvZmYgPT0gKGRpciA8IDAgPyAwIDogbm9kZVNpemUobm9kZSkpIHx8IG5vZGUubm9kZVR5cGUgPT0gMyAmJiBub2RlLm5vZGVWYWx1ZSA9PSBcIlxcdWZlZmZcIikge1xuICAgICAgdmFyIHBhcmVudCA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICAgIGlmIChwYXJlbnQubm9kZVR5cGUgIT0gMSB8fCBoYXNCbG9ja0Rlc2Mobm9kZSkgfHwgYXRvbUVsZW1lbnRzLnRlc3Qobm9kZS5ub2RlTmFtZSkpIHsgcmV0dXJuIGZhbHNlIH1cbiAgICAgIG9mZiA9IGRvbUluZGV4KG5vZGUpICsgKGRpciA8IDAgPyAwIDogMSk7XG4gICAgICBub2RlID0gcGFyZW50O1xuICAgIH0gZWxzZSBpZiAobm9kZS5ub2RlVHlwZSA9PSAxKSB7XG4gICAgICBub2RlID0gbm9kZS5jaGlsZE5vZGVzW29mZiArIChkaXIgPCAwID8gLTEgOiAwKV07XG4gICAgICBvZmYgPSBkaXIgPCAwID8gbm9kZVNpemUobm9kZSkgOiAwO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gbm9kZVNpemUobm9kZSkge1xuICByZXR1cm4gbm9kZS5ub2RlVHlwZSA9PSAzID8gbm9kZS5ub2RlVmFsdWUubGVuZ3RoIDogbm9kZS5jaGlsZE5vZGVzLmxlbmd0aFxufVxuXG5mdW5jdGlvbiBoYXNCbG9ja0Rlc2MoZG9tKSB7XG4gIHZhciBkZXNjID0gZG9tLnBtVmlld0Rlc2M7XG4gIHJldHVybiBkZXNjICYmIGRlc2Mubm9kZSAmJiBkZXNjLm5vZGUuaXNCbG9ja1xufVxuXG4vLyBXb3JrIGFyb3VuZCBDaHJvbWUgaXNzdWUgaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NDQ3NTIzXG4vLyAoaXNDb2xsYXBzZWQgaW5hcHByb3ByaWF0ZWx5IHJldHVybnMgdHJ1ZSBpbiBzaGFkb3cgZG9tKVxudmFyIHNlbGVjdGlvbkNvbGxhcHNlZCA9IGZ1bmN0aW9uKGRvbVNlbCkge1xuICB2YXIgY29sbGFwc2VkID0gZG9tU2VsLmlzQ29sbGFwc2VkO1xuICBpZiAoY29sbGFwc2VkICYmIHJlc3VsdC5jaHJvbWUgJiYgZG9tU2VsLnJhbmdlQ291bnQgJiYgIWRvbVNlbC5nZXRSYW5nZUF0KDApLmNvbGxhcHNlZClcbiAgICB7IGNvbGxhcHNlZCA9IGZhbHNlOyB9XG4gIHJldHVybiBjb2xsYXBzZWRcbn07XG5cbmZ1bmN0aW9uIHdpbmRvd1JlY3Qod2luKSB7XG4gIHJldHVybiB7bGVmdDogMCwgcmlnaHQ6IHdpbi5pbm5lcldpZHRoLFxuICAgICAgICAgIHRvcDogMCwgYm90dG9tOiB3aW4uaW5uZXJIZWlnaHR9XG59XG5cbmZ1bmN0aW9uIHNjcm9sbFJlY3RJbnRvVmlldyh2aWV3LCByZWN0KSB7XG4gIHZhciBzY3JvbGxUaHJlc2hvbGQgPSB2aWV3LnNvbWVQcm9wKFwic2Nyb2xsVGhyZXNob2xkXCIpIHx8IDAsIHNjcm9sbE1hcmdpbiA9IHZpZXcuc29tZVByb3AoXCJzY3JvbGxNYXJnaW5cIik7XG4gIHZhciBkb2MgPSB2aWV3LmRvbS5vd25lckRvY3VtZW50LCB3aW4gPSBkb2MuZGVmYXVsdFZpZXc7XG4gIGlmIChzY3JvbGxNYXJnaW4gPT0gbnVsbCkgeyBzY3JvbGxNYXJnaW4gPSA1OyB9XG4gIGZvciAodmFyIHBhcmVudCA9IHZpZXcuZG9tOzsgcGFyZW50ID0gcGFyZW50Tm9kZShwYXJlbnQpKSB7XG4gICAgaWYgKCFwYXJlbnQpIHsgYnJlYWsgfVxuICAgIHZhciBhdEJvZHkgPSBwYXJlbnQgPT0gZG9jLmJvZHk7XG4gICAgdmFyIGJvdW5kaW5nID0gYXRCb2R5ID8gd2luZG93UmVjdCh3aW4pIDogcGFyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIHZhciBtb3ZlWCA9IDAsIG1vdmVZID0gMDtcbiAgICBpZiAocmVjdC50b3AgPCBib3VuZGluZy50b3AgKyBzY3JvbGxUaHJlc2hvbGQpXG4gICAgICB7IG1vdmVZID0gLShib3VuZGluZy50b3AgLSByZWN0LnRvcCArIHNjcm9sbE1hcmdpbik7IH1cbiAgICBlbHNlIGlmIChyZWN0LmJvdHRvbSA+IGJvdW5kaW5nLmJvdHRvbSAtIHNjcm9sbFRocmVzaG9sZClcbiAgICAgIHsgbW92ZVkgPSByZWN0LmJvdHRvbSAtIGJvdW5kaW5nLmJvdHRvbSArIHNjcm9sbE1hcmdpbjsgfVxuICAgIGlmIChyZWN0LmxlZnQgPCBib3VuZGluZy5sZWZ0ICsgc2Nyb2xsVGhyZXNob2xkKVxuICAgICAgeyBtb3ZlWCA9IC0oYm91bmRpbmcubGVmdCAtIHJlY3QubGVmdCArIHNjcm9sbE1hcmdpbik7IH1cbiAgICBlbHNlIGlmIChyZWN0LnJpZ2h0ID4gYm91bmRpbmcucmlnaHQgLSBzY3JvbGxUaHJlc2hvbGQpXG4gICAgICB7IG1vdmVYID0gcmVjdC5yaWdodCAtIGJvdW5kaW5nLnJpZ2h0ICsgc2Nyb2xsTWFyZ2luOyB9XG4gICAgaWYgKG1vdmVYIHx8IG1vdmVZKSB7XG4gICAgICBpZiAoYXRCb2R5KSB7XG4gICAgICAgIHdpbi5zY3JvbGxCeShtb3ZlWCwgbW92ZVkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKG1vdmVZKSB7IHBhcmVudC5zY3JvbGxUb3AgKz0gbW92ZVk7IH1cbiAgICAgICAgaWYgKG1vdmVYKSB7IHBhcmVudC5zY3JvbGxMZWZ0ICs9IG1vdmVYOyB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChhdEJvZHkpIHsgYnJlYWsgfVxuICB9XG59XG5cbi8vIFN0b3JlIHRoZSBzY3JvbGwgcG9zaXRpb24gb2YgdGhlIGVkaXRvcidzIHBhcmVudCBub2RlcywgYWxvbmcgd2l0aFxuLy8gdGhlIHRvcCBwb3NpdGlvbiBvZiBhbiBlbGVtZW50IG5lYXIgdGhlIHRvcCBvZiB0aGUgZWRpdG9yLCB3aGljaFxuLy8gd2lsbCBiZSB1c2VkIHRvIG1ha2Ugc3VyZSB0aGUgdmlzaWJsZSB2aWV3cG9ydCByZW1haW5zIHN0YWJsZSBldmVuXG4vLyB3aGVuIHRoZSBzaXplIG9mIHRoZSBjb250ZW50IGFib3ZlIGNoYW5nZXMuXG5mdW5jdGlvbiBzdG9yZVNjcm9sbFBvcyh2aWV3KSB7XG4gIHZhciByZWN0ID0gdmlldy5kb20uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIHN0YXJ0WSA9IE1hdGgubWF4KDAsIHJlY3QudG9wKTtcbiAgdmFyIGRvYyA9IHZpZXcuZG9tLm93bmVyRG9jdW1lbnQ7XG4gIHZhciByZWZET00sIHJlZlRvcDtcbiAgZm9yICh2YXIgeCA9IChyZWN0LmxlZnQgKyByZWN0LnJpZ2h0KSAvIDIsIHkgPSBzdGFydFkgKyAxO1xuICAgICAgIHkgPCBNYXRoLm1pbihpbm5lckhlaWdodCwgcmVjdC5ib3R0b20pOyB5ICs9IDUpIHtcbiAgICB2YXIgZG9tID0gdmlldy5yb290LmVsZW1lbnRGcm9tUG9pbnQoeCwgeSk7XG4gICAgaWYgKGRvbSA9PSB2aWV3LmRvbSB8fCAhdmlldy5kb20uY29udGFpbnMoZG9tKSkgeyBjb250aW51ZSB9XG4gICAgdmFyIGxvY2FsUmVjdCA9IGRvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBpZiAobG9jYWxSZWN0LnRvcCA+PSBzdGFydFkgLSAyMCkge1xuICAgICAgcmVmRE9NID0gZG9tO1xuICAgICAgcmVmVG9wID0gbG9jYWxSZWN0LnRvcDtcbiAgICAgIGJyZWFrXG4gICAgfVxuICB9XG4gIHZhciBzdGFjayA9IFtdO1xuICBmb3IgKHZhciBkb20kMSA9IHZpZXcuZG9tOyBkb20kMTsgZG9tJDEgPSBwYXJlbnROb2RlKGRvbSQxKSkge1xuICAgIHN0YWNrLnB1c2goe2RvbTogZG9tJDEsIHRvcDogZG9tJDEuc2Nyb2xsVG9wLCBsZWZ0OiBkb20kMS5zY3JvbGxMZWZ0fSk7XG4gICAgaWYgKGRvbSQxID09IGRvYy5ib2R5KSB7IGJyZWFrIH1cbiAgfVxuICByZXR1cm4ge3JlZkRPTTogcmVmRE9NLCByZWZUb3A6IHJlZlRvcCwgc3RhY2s6IHN0YWNrfVxufVxuXG4vLyBSZXNldCB0aGUgc2Nyb2xsIHBvc2l0aW9uIG9mIHRoZSBlZGl0b3IncyBwYXJlbnQgbm9kZXMgdG8gdGhhdCB3aGF0XG4vLyBpdCB3YXMgYmVmb3JlLCB3aGVuIHN0b3JlU2Nyb2xsUG9zIHdhcyBjYWxsZWQuXG5mdW5jdGlvbiByZXNldFNjcm9sbFBvcyhyZWYpIHtcbiAgdmFyIHJlZkRPTSA9IHJlZi5yZWZET007XG4gIHZhciByZWZUb3AgPSByZWYucmVmVG9wO1xuICB2YXIgc3RhY2sgPSByZWYuc3RhY2s7XG5cbiAgdmFyIG5ld1JlZlRvcCA9IHJlZkRPTSA/IHJlZkRPTS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgOiAwO1xuICB2YXIgZFRvcCA9IG5ld1JlZlRvcCA9PSAwID8gMCA6IG5ld1JlZlRvcCAtIHJlZlRvcDtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFjay5sZW5ndGg7IGkrKykge1xuICAgIHZhciByZWYkMSA9IHN0YWNrW2ldO1xuICAgIHZhciBkb20gPSByZWYkMS5kb207XG4gICAgdmFyIHRvcCA9IHJlZiQxLnRvcDtcbiAgICB2YXIgbGVmdCA9IHJlZiQxLmxlZnQ7XG4gICAgaWYgKGRvbS5zY3JvbGxUb3AgIT0gdG9wICsgZFRvcCkgeyBkb20uc2Nyb2xsVG9wID0gdG9wICsgZFRvcDsgfVxuICAgIGlmIChkb20uc2Nyb2xsTGVmdCAhPSBsZWZ0KSB7IGRvbS5zY3JvbGxMZWZ0ID0gbGVmdDsgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGZpbmRPZmZzZXRJbk5vZGUobm9kZSwgY29vcmRzKSB7XG4gIHZhciBjbG9zZXN0LCBkeENsb3Nlc3QgPSAyZTgsIGNvb3Jkc0Nsb3Nlc3QsIG9mZnNldCA9IDA7XG4gIHZhciByb3dCb3QgPSBjb29yZHMudG9wLCByb3dUb3AgPSBjb29yZHMudG9wO1xuICBmb3IgKHZhciBjaGlsZCA9IG5vZGUuZmlyc3RDaGlsZCwgY2hpbGRJbmRleCA9IDA7IGNoaWxkOyBjaGlsZCA9IGNoaWxkLm5leHRTaWJsaW5nLCBjaGlsZEluZGV4KyspIHtcbiAgICB2YXIgcmVjdHMgPSAodm9pZCAwKTtcbiAgICBpZiAoY2hpbGQubm9kZVR5cGUgPT0gMSkgeyByZWN0cyA9IGNoaWxkLmdldENsaWVudFJlY3RzKCk7IH1cbiAgICBlbHNlIGlmIChjaGlsZC5ub2RlVHlwZSA9PSAzKSB7IHJlY3RzID0gdGV4dFJhbmdlKGNoaWxkKS5nZXRDbGllbnRSZWN0cygpOyB9XG4gICAgZWxzZSB7IGNvbnRpbnVlIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVjdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciByZWN0ID0gcmVjdHNbaV07XG4gICAgICBpZiAocmVjdC50b3AgPD0gcm93Qm90ICYmIHJlY3QuYm90dG9tID49IHJvd1RvcCkge1xuICAgICAgICByb3dCb3QgPSBNYXRoLm1heChyZWN0LmJvdHRvbSwgcm93Qm90KTtcbiAgICAgICAgcm93VG9wID0gTWF0aC5taW4ocmVjdC50b3AsIHJvd1RvcCk7XG4gICAgICAgIHZhciBkeCA9IHJlY3QubGVmdCA+IGNvb3Jkcy5sZWZ0ID8gcmVjdC5sZWZ0IC0gY29vcmRzLmxlZnRcbiAgICAgICAgICAgIDogcmVjdC5yaWdodCA8IGNvb3Jkcy5sZWZ0ID8gY29vcmRzLmxlZnQgLSByZWN0LnJpZ2h0IDogMDtcbiAgICAgICAgaWYgKGR4IDwgZHhDbG9zZXN0KSB7XG4gICAgICAgICAgY2xvc2VzdCA9IGNoaWxkO1xuICAgICAgICAgIGR4Q2xvc2VzdCA9IGR4O1xuICAgICAgICAgIGNvb3Jkc0Nsb3Nlc3QgPSBkeCAmJiBjbG9zZXN0Lm5vZGVUeXBlID09IDMgPyB7bGVmdDogcmVjdC5yaWdodCA8IGNvb3Jkcy5sZWZ0ID8gcmVjdC5yaWdodCA6IHJlY3QubGVmdCwgdG9wOiBjb29yZHMudG9wfSA6IGNvb3JkcztcbiAgICAgICAgICBpZiAoY2hpbGQubm9kZVR5cGUgPT0gMSAmJiBkeClcbiAgICAgICAgICAgIHsgb2Zmc2V0ID0gY2hpbGRJbmRleCArIChjb29yZHMubGVmdCA+PSAocmVjdC5sZWZ0ICsgcmVjdC5yaWdodCkgLyAyID8gMSA6IDApOyB9XG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFjbG9zZXN0ICYmIChjb29yZHMubGVmdCA+PSByZWN0LnJpZ2h0ICYmIGNvb3Jkcy50b3AgPj0gcmVjdC50b3AgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgY29vcmRzLmxlZnQgPj0gcmVjdC5sZWZ0ICYmIGNvb3Jkcy50b3AgPj0gcmVjdC5ib3R0b20pKVxuICAgICAgICB7IG9mZnNldCA9IGNoaWxkSW5kZXggKyAxOyB9XG4gICAgfVxuICB9XG4gIGlmIChjbG9zZXN0ICYmIGNsb3Nlc3Qubm9kZVR5cGUgPT0gMykgeyByZXR1cm4gZmluZE9mZnNldEluVGV4dChjbG9zZXN0LCBjb29yZHNDbG9zZXN0KSB9XG4gIGlmICghY2xvc2VzdCB8fCAoZHhDbG9zZXN0ICYmIGNsb3Nlc3Qubm9kZVR5cGUgPT0gMSkpIHsgcmV0dXJuIHtub2RlOiBub2RlLCBvZmZzZXQ6IG9mZnNldH0gfVxuICByZXR1cm4gZmluZE9mZnNldEluTm9kZShjbG9zZXN0LCBjb29yZHNDbG9zZXN0KVxufVxuXG5mdW5jdGlvbiBmaW5kT2Zmc2V0SW5UZXh0KG5vZGUsIGNvb3Jkcykge1xuICB2YXIgbGVuID0gbm9kZS5ub2RlVmFsdWUubGVuZ3RoO1xuICB2YXIgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgcmFuZ2Uuc2V0RW5kKG5vZGUsIGkgKyAxKTtcbiAgICByYW5nZS5zZXRTdGFydChub2RlLCBpKTtcbiAgICB2YXIgcmVjdCA9IHNpbmdsZVJlY3QocmFuZ2UsIDEpO1xuICAgIGlmIChyZWN0LnRvcCA9PSByZWN0LmJvdHRvbSkgeyBjb250aW51ZSB9XG4gICAgaWYgKHJlY3QubGVmdCAtIDEgPD0gY29vcmRzLmxlZnQgJiYgcmVjdC5yaWdodCArIDEgPj0gY29vcmRzLmxlZnQgJiZcbiAgICAgICAgcmVjdC50b3AgLSAxIDw9IGNvb3Jkcy50b3AgJiYgcmVjdC5ib3R0b20gKyAxID49IGNvb3Jkcy50b3ApXG4gICAgICB7IHJldHVybiB7bm9kZTogbm9kZSwgb2Zmc2V0OiBpICsgKGNvb3Jkcy5sZWZ0ID49IChyZWN0LmxlZnQgKyByZWN0LnJpZ2h0KSAvIDIgPyAxIDogMCl9IH1cbiAgfVxuICByZXR1cm4ge25vZGU6IG5vZGUsIG9mZnNldDogMH1cbn1cblxuZnVuY3Rpb24gdGFyZ2V0S2x1ZGdlKGRvbSwgY29vcmRzKSB7XG4gIHZhciBwYXJlbnQgPSBkb20ucGFyZW50Tm9kZTtcbiAgaWYgKHBhcmVudCAmJiAvXmxpJC9pLnRlc3QocGFyZW50Lm5vZGVOYW1lKSAmJiBjb29yZHMubGVmdCA8IGRvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0KVxuICAgIHsgcmV0dXJuIHBhcmVudCB9XG4gIHJldHVybiBkb21cbn1cblxuZnVuY3Rpb24gcG9zRnJvbUVsZW1lbnQodmlldywgZWx0LCBjb29yZHMpIHtcbiAgaWYgKCF2aWV3LmRvbS5jb250YWlucyhlbHQubm9kZVR5cGUgIT0gMSA/IGVsdC5wYXJlbnROb2RlIDogZWx0KSkgeyByZXR1cm4gbnVsbCB9XG5cbiAgdmFyIHJlZiA9IGZpbmRPZmZzZXRJbk5vZGUoZWx0LCBjb29yZHMpO1xuICB2YXIgbm9kZSA9IHJlZi5ub2RlO1xuICB2YXIgb2Zmc2V0ID0gcmVmLm9mZnNldDtcbiAgdmFyIGJpYXMgPSAtMTtcbiAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSAmJiAhbm9kZS5maXJzdENoaWxkKSB7XG4gICAgdmFyIHJlY3QgPSBub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGJpYXMgPSByZWN0LmxlZnQgIT0gcmVjdC5yaWdodCAmJiBjb29yZHMubGVmdCA+IChyZWN0LmxlZnQgKyByZWN0LnJpZ2h0KSAvIDIgPyAxIDogLTE7XG4gIH1cbiAgcmV0dXJuIHZpZXcuZG9jVmlldy5wb3NGcm9tRE9NKG5vZGUsIG9mZnNldCwgYmlhcylcbn1cblxuZnVuY3Rpb24gcG9zRnJvbUNhcmV0KHZpZXcsIG5vZGUsIG9mZnNldCwgY29vcmRzKSB7XG4gIC8vIEJyb3dzZXIgKGluIGNhcmV0UG9zaXRpb24vUmFuZ2VGcm9tUG9pbnQpIHdpbGwgYWdyZXNzaXZlbHlcbiAgLy8gbm9ybWFsaXplIHRvd2FyZHMgbmVhcmJ5IGlubGluZSBub2Rlcy4gU2luY2Ugd2UgYXJlIGludGVyZXN0ZWQgaW5cbiAgLy8gcG9zaXRpb25zIGJldHdlZW4gYmxvY2sgbm9kZXMgdG9vLCB3ZSBmaXJzdCB3YWxrIHVwIHRoZSBoaWVyYXJjaHlcbiAgLy8gb2Ygbm9kZXMgdG8gc2VlIGlmIHRoZXJlIGFyZSBibG9jayBub2RlcyB0aGF0IHRoZSBjb29yZGluYXRlc1xuICAvLyBmYWxsIG91dHNpZGUgb2YuIElmIHNvLCB3ZSB0YWtlIHRoZSBwb3NpdGlvbiBiZWZvcmUvYWZ0ZXIgdGhhdFxuICAvLyBibG9jay4gSWYgbm90LCB3ZSBjYWxsIGBwb3NGcm9tRE9NYCBvbiB0aGUgcmF3IG5vZGUvb2Zmc2V0LlxuICB2YXIgb3V0c2lkZSA9IC0xO1xuICBmb3IgKHZhciBjdXIgPSBub2RlOzspIHtcbiAgICBpZiAoY3VyID09IHZpZXcuZG9tKSB7IGJyZWFrIH1cbiAgICB2YXIgZGVzYyA9IHZpZXcuZG9jVmlldy5uZWFyZXN0RGVzYyhjdXIsIHRydWUpO1xuICAgIGlmICghZGVzYykgeyByZXR1cm4gbnVsbCB9XG4gICAgaWYgKGRlc2Mubm9kZS5pc0Jsb2NrICYmIGRlc2MucGFyZW50KSB7XG4gICAgICB2YXIgcmVjdCA9IGRlc2MuZG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgaWYgKHJlY3QubGVmdCA+IGNvb3Jkcy5sZWZ0IHx8IHJlY3QudG9wID4gY29vcmRzLnRvcCkgeyBvdXRzaWRlID0gZGVzYy5wb3NCZWZvcmU7IH1cbiAgICAgIGVsc2UgaWYgKHJlY3QucmlnaHQgPCBjb29yZHMubGVmdCB8fCByZWN0LmJvdHRvbSA8IGNvb3Jkcy50b3ApIHsgb3V0c2lkZSA9IGRlc2MucG9zQWZ0ZXI7IH1cbiAgICAgIGVsc2UgeyBicmVhayB9XG4gICAgfVxuICAgIGN1ciA9IGRlc2MuZG9tLnBhcmVudE5vZGU7XG4gIH1cbiAgcmV0dXJuIG91dHNpZGUgPiAtMSA/IG91dHNpZGUgOiB2aWV3LmRvY1ZpZXcucG9zRnJvbURPTShub2RlLCBvZmZzZXQpXG59XG5cbi8vIEdpdmVuIGFuIHgseSBwb3NpdGlvbiBvbiB0aGUgZWRpdG9yLCBnZXQgdGhlIHBvc2l0aW9uIGluIHRoZSBkb2N1bWVudC5cbmZ1bmN0aW9uIHBvc0F0Q29vcmRzKHZpZXcsIGNvb3Jkcykge1xuICB2YXIgcm9vdCA9IHZpZXcucm9vdCwgbm9kZSwgb2Zmc2V0O1xuICBpZiAocm9vdC5jYXJldFBvc2l0aW9uRnJvbVBvaW50KSB7XG4gICAgdmFyIHBvcyQxID0gcm9vdC5jYXJldFBvc2l0aW9uRnJvbVBvaW50KGNvb3Jkcy5sZWZ0LCBjb29yZHMudG9wKTtcbiAgICBpZiAocG9zJDEpIHsgdmFyIGFzc2lnbjtcbiAgICAgICgoYXNzaWduID0gcG9zJDEsIG5vZGUgPSBhc3NpZ24ub2Zmc2V0Tm9kZSwgb2Zmc2V0ID0gYXNzaWduLm9mZnNldCkpOyB9XG4gIH1cbiAgaWYgKCFub2RlICYmIHJvb3QuY2FyZXRSYW5nZUZyb21Qb2ludCkge1xuICAgIHZhciByYW5nZSA9IHJvb3QuY2FyZXRSYW5nZUZyb21Qb2ludChjb29yZHMubGVmdCwgY29vcmRzLnRvcCk7XG4gICAgaWYgKHJhbmdlKSB7IHZhciBhc3NpZ24kMTtcbiAgICAgICgoYXNzaWduJDEgPSByYW5nZSwgbm9kZSA9IGFzc2lnbiQxLnN0YXJ0Q29udGFpbmVyLCBvZmZzZXQgPSBhc3NpZ24kMS5zdGFydE9mZnNldCkpOyB9XG4gIH1cblxuICB2YXIgZWx0ID0gcm9vdC5lbGVtZW50RnJvbVBvaW50KGNvb3Jkcy5sZWZ0LCBjb29yZHMudG9wICsgMSksIHBvcztcbiAgaWYgKCFlbHQpIHsgcmV0dXJuIG51bGwgfVxuICBlbHQgPSB0YXJnZXRLbHVkZ2UoZWx0LCBjb29yZHMpO1xuICBpZiAobm9kZSkge1xuICAgIC8vIFN1c3BpY2lvdXNseSBzcGVjaWZpYyBrbHVkZ2UgdG8gd29yayBhcm91bmQgY2FyZXQqRnJvbVBvaW50XG4gICAgLy8gbmV2ZXIgcmV0dXJuaW5nIGEgcG9zaXRpb24gYXQgdGhlIGVuZCBvZiB0aGUgZG9jdW1lbnRcbiAgICBpZiAobm9kZSA9PSB2aWV3LmRvbSAmJiBvZmZzZXQgPT0gbm9kZS5jaGlsZE5vZGVzLmxlbmd0aCAtIDEgJiYgbm9kZS5sYXN0Q2hpbGQubm9kZVR5cGUgPT0gMSAmJlxuICAgICAgICBjb29yZHMudG9wID4gbm9kZS5sYXN0Q2hpbGQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuYm90dG9tKVxuICAgICAgeyBwb3MgPSB2aWV3LnN0YXRlLmRvYy5jb250ZW50LnNpemU7IH1cbiAgICAvLyBJZ25vcmUgcG9zaXRpb25zIGRpcmVjdGx5IGFmdGVyIGEgQlIsIHNpbmNlIGNhcmV0KkZyb21Qb2ludFxuICAgIC8vICdyb3VuZCB1cCcgcG9zaXRpb25zIHRoYXQgd291bGQgYmUgbW9yZSBhY2N1cmF0ZWx5IHBsYWNlc1xuICAgIC8vIGJlZm9yZSB0aGUgQlIgbm9kZS5cbiAgICBlbHNlIGlmIChvZmZzZXQgPT0gMCB8fCBub2RlLm5vZGVUeXBlICE9IDEgfHwgbm9kZS5jaGlsZE5vZGVzW29mZnNldCAtIDFdLm5vZGVOYW1lICE9IFwiQlJcIilcbiAgICAgIHsgcG9zID0gcG9zRnJvbUNhcmV0KHZpZXcsIG5vZGUsIG9mZnNldCwgY29vcmRzKTsgfVxuICB9XG4gIGlmIChwb3MgPT0gbnVsbCkge1xuICAgIHBvcyA9IHBvc0Zyb21FbGVtZW50KHZpZXcsIGVsdCwgY29vcmRzKTtcbiAgICBpZiAocG9zID09IG51bGwpIHsgcmV0dXJuIG51bGwgfVxuICB9XG5cbiAgdmFyIGRlc2MgPSB2aWV3LmRvY1ZpZXcubmVhcmVzdERlc2MoZWx0LCB0cnVlKTtcbiAgcmV0dXJuIHtwb3M6IHBvcywgaW5zaWRlOiBkZXNjID8gZGVzYy5wb3NBdFN0YXJ0IC0gZGVzYy5ib3JkZXIgOiAtMX1cbn1cblxuZnVuY3Rpb24gc2luZ2xlUmVjdChvYmplY3QsIGJpYXMpIHtcbiAgdmFyIHJlY3RzID0gb2JqZWN0LmdldENsaWVudFJlY3RzKCk7XG4gIHJldHVybiAhcmVjdHMubGVuZ3RoID8gb2JqZWN0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpIDogcmVjdHNbYmlhcyA8IDAgPyAwIDogcmVjdHMubGVuZ3RoIC0gMV1cbn1cblxuLy8gOiAoRWRpdG9yVmlldywgbnVtYmVyKSDihpIge2xlZnQ6IG51bWJlciwgdG9wOiBudW1iZXIsIHJpZ2h0OiBudW1iZXIsIGJvdHRvbTogbnVtYmVyfVxuLy8gR2l2ZW4gYSBwb3NpdGlvbiBpbiB0aGUgZG9jdW1lbnQgbW9kZWwsIGdldCBhIGJvdW5kaW5nIGJveCBvZiB0aGVcbi8vIGNoYXJhY3RlciBhdCB0aGF0IHBvc2l0aW9uLCByZWxhdGl2ZSB0byB0aGUgd2luZG93LlxuZnVuY3Rpb24gY29vcmRzQXRQb3ModmlldywgcG9zKSB7XG4gIHZhciByZWYgPSB2aWV3LmRvY1ZpZXcuZG9tRnJvbVBvcyhwb3MpO1xuICB2YXIgbm9kZSA9IHJlZi5ub2RlO1xuICB2YXIgb2Zmc2V0ID0gcmVmLm9mZnNldDtcbiAgdmFyIHNpZGUsIHJlY3Q7XG4gIGlmIChub2RlLm5vZGVUeXBlID09IDMpIHtcbiAgICBpZiAob2Zmc2V0IDwgbm9kZS5ub2RlVmFsdWUubGVuZ3RoKSB7XG4gICAgICByZWN0ID0gc2luZ2xlUmVjdCh0ZXh0UmFuZ2Uobm9kZSwgb2Zmc2V0LCBvZmZzZXQgKyAxKSwgLTEpO1xuICAgICAgc2lkZSA9IFwibGVmdFwiO1xuICAgIH1cbiAgICBpZiAoKCFyZWN0IHx8IHJlY3QubGVmdCA9PSByZWN0LnJpZ2h0KSAmJiBvZmZzZXQpIHtcbiAgICAgIHJlY3QgPSBzaW5nbGVSZWN0KHRleHRSYW5nZShub2RlLCBvZmZzZXQgLSAxLCBvZmZzZXQpLCAxKTtcbiAgICAgIHNpZGUgPSBcInJpZ2h0XCI7XG4gICAgfVxuICB9IGVsc2UgaWYgKG5vZGUuZmlyc3RDaGlsZCkge1xuICAgIGlmIChvZmZzZXQgPCBub2RlLmNoaWxkTm9kZXMubGVuZ3RoKSB7XG4gICAgICB2YXIgY2hpbGQgPSBub2RlLmNoaWxkTm9kZXNbb2Zmc2V0XTtcbiAgICAgIHJlY3QgPSBzaW5nbGVSZWN0KGNoaWxkLm5vZGVUeXBlID09IDMgPyB0ZXh0UmFuZ2UoY2hpbGQpIDogY2hpbGQsIC0xKTtcbiAgICAgIHNpZGUgPSBcImxlZnRcIjtcbiAgICB9XG4gICAgaWYgKCghcmVjdCB8fCByZWN0LnRvcCA9PSByZWN0LmJvdHRvbSkgJiYgb2Zmc2V0KSB7XG4gICAgICB2YXIgY2hpbGQkMSA9IG5vZGUuY2hpbGROb2Rlc1tvZmZzZXQgLSAxXTtcbiAgICAgIHJlY3QgPSBzaW5nbGVSZWN0KGNoaWxkJDEubm9kZVR5cGUgPT0gMyA/IHRleHRSYW5nZShjaGlsZCQxKSA6IGNoaWxkJDEsIDEpO1xuICAgICAgc2lkZSA9IFwicmlnaHRcIjtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmVjdCA9IG5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgc2lkZSA9IFwibGVmdFwiO1xuICB9XG4gIHZhciB4ID0gcmVjdFtzaWRlXTtcbiAgcmV0dXJuIHt0b3A6IHJlY3QudG9wLCBib3R0b206IHJlY3QuYm90dG9tLCBsZWZ0OiB4LCByaWdodDogeH1cbn1cblxuZnVuY3Rpb24gd2l0aEZsdXNoZWRTdGF0ZSh2aWV3LCBzdGF0ZSwgZikge1xuICB2YXIgdmlld1N0YXRlID0gdmlldy5zdGF0ZSwgYWN0aXZlID0gdmlldy5yb290LmFjdGl2ZUVsZW1lbnQ7XG4gIGlmICh2aWV3U3RhdGUgIT0gc3RhdGUgfHwgIXZpZXcuaW5ET01DaGFuZ2UpIHsgdmlldy51cGRhdGVTdGF0ZShzdGF0ZSk7IH1cbiAgaWYgKGFjdGl2ZSAhPSB2aWV3LmRvbSkgeyB2aWV3LmZvY3VzKCk7IH1cbiAgdHJ5IHtcbiAgICByZXR1cm4gZigpXG4gIH0gZmluYWxseSB7XG4gICAgaWYgKHZpZXdTdGF0ZSAhPSBzdGF0ZSkgeyB2aWV3LnVwZGF0ZVN0YXRlKHZpZXdTdGF0ZSk7IH1cbiAgICBpZiAoYWN0aXZlICE9IHZpZXcuZG9tKSB7IGFjdGl2ZS5mb2N1cygpOyB9XG4gIH1cbn1cblxuLy8gOiAoRWRpdG9yVmlldywgbnVtYmVyLCBudW1iZXIpXG4vLyBXaGV0aGVyIHZlcnRpY2FsIHBvc2l0aW9uIG1vdGlvbiBpbiBhIGdpdmVuIGRpcmVjdGlvblxuLy8gZnJvbSBhIHBvc2l0aW9uIHdvdWxkIGxlYXZlIGEgdGV4dCBibG9jay5cbmZ1bmN0aW9uIGVuZE9mVGV4dGJsb2NrVmVydGljYWwodmlldywgc3RhdGUsIGRpcikge1xuICB2YXIgc2VsID0gc3RhdGUuc2VsZWN0aW9uO1xuICB2YXIgJHBvcyA9IGRpciA9PSBcInVwXCIgPyBzZWwuJGFuY2hvci5taW4oc2VsLiRoZWFkKSA6IHNlbC4kYW5jaG9yLm1heChzZWwuJGhlYWQpO1xuICBpZiAoISRwb3MuZGVwdGgpIHsgcmV0dXJuIGZhbHNlIH1cbiAgcmV0dXJuIHdpdGhGbHVzaGVkU3RhdGUodmlldywgc3RhdGUsIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZG9tID0gdmlldy5kb2NWaWV3LmRvbUFmdGVyUG9zKCRwb3MuYmVmb3JlKCkpO1xuICAgIHZhciBjb29yZHMgPSBjb29yZHNBdFBvcyh2aWV3LCAkcG9zLnBvcyk7XG4gICAgZm9yICh2YXIgY2hpbGQgPSBkb20uZmlyc3RDaGlsZDsgY2hpbGQ7IGNoaWxkID0gY2hpbGQubmV4dFNpYmxpbmcpIHtcbiAgICAgIHZhciBib3hlcyA9ICh2b2lkIDApO1xuICAgICAgaWYgKGNoaWxkLm5vZGVUeXBlID09IDEpIHsgYm94ZXMgPSBjaGlsZC5nZXRDbGllbnRSZWN0cygpOyB9XG4gICAgICBlbHNlIGlmIChjaGlsZC5ub2RlVHlwZSA9PSAzKSB7IGJveGVzID0gdGV4dFJhbmdlKGNoaWxkLCAwLCBjaGlsZC5ub2RlVmFsdWUubGVuZ3RoKS5nZXRDbGllbnRSZWN0cygpOyB9XG4gICAgICBlbHNlIHsgY29udGludWUgfVxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBib3hlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgYm94ID0gYm94ZXNbaV07XG4gICAgICAgIGlmIChib3guYm90dG9tID4gYm94LnRvcCAmJiAoZGlyID09IFwidXBcIiA/IGJveC5ib3R0b20gPCBjb29yZHMudG9wICsgMSA6IGJveC50b3AgPiBjb29yZHMuYm90dG9tIC0gMSkpXG4gICAgICAgICAgeyByZXR1cm4gZmFsc2UgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZVxuICB9KVxufVxuXG52YXIgbWF5YmVSVEwgPSAvW1xcdTA1OTAtXFx1MDhhY10vO1xuXG5mdW5jdGlvbiBlbmRPZlRleHRibG9ja0hvcml6b250YWwodmlldywgc3RhdGUsIGRpcikge1xuICB2YXIgcmVmID0gc3RhdGUuc2VsZWN0aW9uO1xuICB2YXIgJGhlYWQgPSByZWYuJGhlYWQ7XG4gIGlmICghJGhlYWQucGFyZW50LmlzVGV4dGJsb2NrIHx8ICEkaGVhZC5kZXB0aCkgeyByZXR1cm4gZmFsc2UgfVxuICB2YXIgb2Zmc2V0ID0gJGhlYWQucGFyZW50T2Zmc2V0LCBhdFN0YXJ0ID0gIW9mZnNldCwgYXRFbmQgPSBvZmZzZXQgPT0gJGhlYWQucGFyZW50LmNvbnRlbnQuc2l6ZTtcbiAgdmFyIHNlbCA9IGdldFNlbGVjdGlvbigpO1xuICAvLyBJZiB0aGUgdGV4dGJsb2NrIGlzIGFsbCBMVFIsIG9yIHRoZSBicm93c2VyIGRvZXNuJ3Qgc3VwcG9ydFxuICAvLyBTZWxlY3Rpb24ubW9kaWZ5IChFZGdlKSwgZmFsbCBiYWNrIHRvIGEgcHJpbWl0aXZlIGFwcHJvYWNoXG4gIGlmICghbWF5YmVSVEwudGVzdCgkaGVhZC5wYXJlbnQudGV4dENvbnRlbnQpIHx8ICFzZWwubW9kaWZ5KVxuICAgIHsgcmV0dXJuIGRpciA9PSBcImxlZnRcIiB8fCBkaXIgPT0gXCJiYWNrd2FyZFwiID8gYXRTdGFydCA6IGF0RW5kIH1cblxuICByZXR1cm4gd2l0aEZsdXNoZWRTdGF0ZSh2aWV3LCBzdGF0ZSwgZnVuY3Rpb24gKCkge1xuICAgIC8vIFRoaXMgaXMgYSBodWdlIGhhY2ssIGJ1dCBhcHBlYXJzIHRvIGJlIHRoZSBiZXN0IHdlIGNhblxuICAgIC8vIGN1cnJlbnRseSBkbzogdXNlIGBTZWxlY3Rpb24ubW9kaWZ5YCB0byBtb3ZlIHRoZSBzZWxlY3Rpb24gYnlcbiAgICAvLyBvbmUgY2hhcmFjdGVyLCBhbmQgc2VlIGlmIHRoYXQgbW92ZXMgdGhlIGN1cnNvciBvdXQgb2YgdGhlXG4gICAgLy8gdGV4dGJsb2NrIChvciBkb2Vzbid0IG1vdmUgaXQgYXQgYWxsLCB3aGVuIGF0IHRoZSBzdGFydC9lbmQgb2ZcbiAgICAvLyB0aGUgZG9jdW1lbnQpLlxuICAgIHZhciBvbGRSYW5nZSA9IHNlbC5nZXRSYW5nZUF0KDApLCBvbGROb2RlID0gc2VsLmZvY3VzTm9kZSwgb2xkT2ZmID0gc2VsLmZvY3VzT2Zmc2V0O1xuICAgIHNlbC5tb2RpZnkoXCJtb3ZlXCIsIGRpciwgXCJjaGFyYWN0ZXJcIik7XG4gICAgdmFyIHBhcmVudERPTSA9IHZpZXcuZG9jVmlldy5kb21BZnRlclBvcygkaGVhZC5iZWZvcmUoKSk7XG4gICAgdmFyIHJlc3VsdCA9ICFwYXJlbnRET00uY29udGFpbnMoc2VsLmZvY3VzTm9kZS5ub2RlVHlwZSA9PSAxID8gc2VsLmZvY3VzTm9kZSA6IHNlbC5mb2N1c05vZGUucGFyZW50Tm9kZSkgfHxcbiAgICAgICAgKG9sZE5vZGUgPT0gc2VsLmZvY3VzTm9kZSAmJiBvbGRPZmYgPT0gc2VsLmZvY3VzT2Zmc2V0KTtcbiAgICAvLyBSZXN0b3JlIHRoZSBwcmV2aW91cyBzZWxlY3Rpb25cbiAgICBzZWwucmVtb3ZlQWxsUmFuZ2VzKCk7XG4gICAgc2VsLmFkZFJhbmdlKG9sZFJhbmdlKTtcbiAgICByZXR1cm4gcmVzdWx0XG4gIH0pXG59XG5cbnZhciBjYWNoZWRTdGF0ZSA9IG51bGw7XG52YXIgY2FjaGVkRGlyID0gbnVsbDtcbnZhciBjYWNoZWRSZXN1bHQgPSBmYWxzZTtcbmZ1bmN0aW9uIGVuZE9mVGV4dGJsb2NrKHZpZXcsIHN0YXRlLCBkaXIpIHtcbiAgaWYgKGNhY2hlZFN0YXRlID09IHN0YXRlICYmIGNhY2hlZERpciA9PSBkaXIpIHsgcmV0dXJuIGNhY2hlZFJlc3VsdCB9XG4gIGNhY2hlZFN0YXRlID0gc3RhdGU7IGNhY2hlZERpciA9IGRpcjtcbiAgcmV0dXJuIGNhY2hlZFJlc3VsdCA9IGRpciA9PSBcInVwXCIgfHwgZGlyID09IFwiZG93blwiXG4gICAgPyBlbmRPZlRleHRibG9ja1ZlcnRpY2FsKHZpZXcsIHN0YXRlLCBkaXIpXG4gICAgOiBlbmRPZlRleHRibG9ja0hvcml6b250YWwodmlldywgc3RhdGUsIGRpcilcbn1cblxuLy8gTm9kZVZpZXc6OiBpbnRlcmZhY2Vcbi8vXG4vLyBCeSBkZWZhdWx0LCBkb2N1bWVudCBub2RlcyBhcmUgcmVuZGVyZWQgdXNpbmcgdGhlIHJlc3VsdCBvZiB0aGVcbi8vIFtgdG9ET01gXSgjbW9kZWwuTm9kZVNwZWMudG9ET00pIG1ldGhvZCBvZiB0aGVpciBzcGVjLCBhbmQgbWFuYWdlZFxuLy8gZW50aXJlbHkgYnkgdGhlIGVkaXRvci4gRm9yIHNvbWUgdXNlIGNhc2VzLCBzdWNoIGFzIGVtYmVkZGVkXG4vLyBub2RlLXNwZWNpZmljIGVkaXRpbmcgaW50ZXJmYWNlcywgeW91IHdhbnQgbW9yZSBjb250cm9sIG92ZXJcbi8vIHRoZSBiZWhhdmlvciBvZiBhIG5vZGUncyBpbi1lZGl0b3IgcmVwcmVzZW50YXRpb24sIGFuZCBuZWVkIHRvXG4vLyBbZGVmaW5lXSgjdmlldy5FZGl0b3JQcm9wcy5ub2RlVmlld3MpIGEgY3VzdG9tIG5vZGUgdmlldy5cbi8vXG4vLyBPYmplY3RzIHJldHVybmVkIGFzIG5vZGUgdmlld3MgbXVzdCBjb25mb3JtIHRvIHRoaXMgaW50ZXJmYWNlLlxuLy9cbi8vICAgZG9tOjogP2RvbS5Ob2RlXG4vLyAgIFRoZSBvdXRlciBET00gbm9kZSB0aGF0IHJlcHJlc2VudHMgdGhlIGRvY3VtZW50IG5vZGUuIFdoZW4gbm90XG4vLyAgIGdpdmVuLCB0aGUgZGVmYXVsdCBzdHJhdGVneSBpcyB1c2VkIHRvIGNyZWF0ZSBhIERPTSBub2RlLlxuLy9cbi8vICAgY29udGVudERPTTo6ID9kb20uTm9kZVxuLy8gICBUaGUgRE9NIG5vZGUgdGhhdCBzaG91bGQgaG9sZCB0aGUgbm9kZSdzIGNvbnRlbnQuIE9ubHkgbWVhbmluZ2Z1bFxuLy8gICBpZiB0aGUgbm9kZSB2aWV3IGFsc28gZGVmaW5lcyBhIGBkb21gIHByb3BlcnR5IGFuZCBpZiBpdHMgbm9kZVxuLy8gICB0eXBlIGlzIG5vdCBhIGxlYWYgbm9kZSB0eXBlLiBXaGVuIHRoaXMgaXMgcHJlc2VudCwgUHJvc2VNaXJyb3Jcbi8vICAgd2lsbCB0YWtlIGNhcmUgb2YgcmVuZGVyaW5nIHRoZSBub2RlJ3MgY2hpbGRyZW4gaW50byBpdC4gV2hlbiBpdFxuLy8gICBpcyBub3QgcHJlc2VudCwgdGhlIG5vZGUgdmlldyBpdHNlbGYgaXMgcmVzcG9uc2libGUgZm9yIHJlbmRlcmluZ1xuLy8gICAob3IgZGVjaWRpbmcgbm90IHRvIHJlbmRlcikgaXRzIGNoaWxkIG5vZGVzLlxuLy9cbi8vICAgdXBkYXRlOjogPyhub2RlOiBOb2RlLCBkZWNvcmF0aW9uczogW0RlY29yYXRpb25dKSDihpIgYm9vbFxuLy8gICBXaGVuIGdpdmVuLCB0aGlzIHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIHZpZXcgaXMgdXBkYXRpbmcgaXRzZWxmLlxuLy8gICBJdCB3aWxsIGJlIGdpdmVuIGEgbm9kZSAocG9zc2libHkgb2YgYSBkaWZmZXJlbnQgdHlwZSksIGFuZCBhblxuLy8gICBhcnJheSBvZiBhY3RpdmUgZGVjb3JhdGlvbnMgKHdoaWNoIGFyZSBhdXRvbWF0aWNhbGx5IGRyYXduLCBhbmRcbi8vICAgdGhlIG5vZGUgdmlldyBtYXkgaWdub3JlIGlmIGl0IGlzbid0IGludGVyZXN0ZWQgaW4gdGhlbSksIGFuZFxuLy8gICBzaG91bGQgcmV0dXJuIHRydWUgaWYgaXQgd2FzIGFibGUgdG8gdXBkYXRlIHRvIHRoYXQgbm9kZSwgYW5kXG4vLyAgIGZhbHNlIG90aGVyd2lzZS4gSWYgdGhlIG5vZGUgdmlldyBoYXMgYSBgY29udGVudERPTWAgcHJvcGVydHkgKG9yXG4vLyAgIG5vIGBkb21gIHByb3BlcnR5KSwgdXBkYXRpbmcgaXRzIGNoaWxkIG5vZGVzIHdpbGwgYmUgaGFuZGxlZCBieVxuLy8gICBQcm9zZU1pcnJvci5cbi8vXG4vLyAgIHNlbGVjdE5vZGU6OiA/KClcbi8vICAgQ2FuIGJlIHVzZWQgdG8gb3ZlcnJpZGUgdGhlIHdheSB0aGUgbm9kZSdzIHNlbGVjdGVkIHN0YXR1cyAoYXMgYVxuLy8gICBub2RlIHNlbGVjdGlvbikgaXMgZGlzcGxheWVkLlxuLy9cbi8vICAgZGVzZWxlY3ROb2RlOjogPygpXG4vLyAgIFdoZW4gZGVmaW5pbmcgYSBgc2VsZWN0Tm9kZWAgbWV0aG9kLCB5b3Ugc2hvdWxkIGFsc28gcHJvdmlkZSBhXG4vLyAgIGBkZXNlbGVjdE5vZGVgIG1ldGhvZCB0byByZW1vdmUgdGhlIGVmZmVjdCBhZ2Fpbi5cbi8vXG4vLyAgIHNldFNlbGVjdGlvbjo6ID8oYW5jaG9yOiBudW1iZXIsIGhlYWQ6IG51bWJlciwgcm9vdDogZG9tLkRvY3VtZW50KVxuLy8gICBUaGlzIHdpbGwgYmUgY2FsbGVkIHRvIGhhbmRsZSBzZXR0aW5nIHRoZSBzZWxlY3Rpb24gaW5zaWRlIHRoZVxuLy8gICBub2RlLiBUaGUgYGFuY2hvcmAgYW5kIGBoZWFkYCBwb3NpdGlvbnMgYXJlIHJlbGF0aXZlIHRvIHRoZSBzdGFydFxuLy8gICBvZiB0aGUgbm9kZS4gQnkgZGVmYXVsdCwgYSBET00gc2VsZWN0aW9uIHdpbGwgYmUgY3JlYXRlZCBiZXR3ZWVuXG4vLyAgIHRoZSBET00gcG9zaXRpb25zIGNvcnJlc3BvbmRpbmcgdG8gdGhvc2UgcG9zaXRpb25zLCBidXQgaWYgeW91XG4vLyAgIG92ZXJyaWRlIGl0IHlvdSBjYW4gZG8gc29tZXRoaW5nIGVsc2UuXG4vL1xuLy8gICBzdG9wRXZlbnQ6OiA/KGV2ZW50OiBkb20uRXZlbnQpIOKGkiBib29sXG4vLyAgIENhbiBiZSB1c2VkIHRvIHByZXZlbnQgdGhlIGVkaXRvciB2aWV3IGZyb20gdHJ5aW5nIHRvIGhhbmRsZSBzb21lXG4vLyAgIG9yIGFsbCBET00gZXZlbnRzIHRoYXQgYnViYmxlIHVwIGZyb20gdGhlIG5vZGUgdmlldy4gRXZlbnRzIGZvclxuLy8gICB3aGljaCB0aGlzIHJldHVybnMgdHJ1ZSBhcmUgbm90IGhhbmRsZWQgYnkgdGhlIGVkaXRvci5cbi8vXG4vLyAgIGlnbm9yZU11dGF0aW9uOjogPyhkb20uTXV0YXRpb25SZWNvcmQpIOKGkiBib29sXG4vLyAgIENhbGxlZCB3aGVuIGEgRE9NXG4vLyAgIFttdXRhdGlvbl0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL011dGF0aW9uT2JzZXJ2ZXIpXG4vLyAgIGhhcHBlbnMgd2l0aGluIHRoZSB2aWV3LiBSZXR1cm4gZmFsc2UgaWYgdGhlIGVkaXRvciBzaG91bGRcbi8vICAgcmUtcGFyc2UgdGhlIHJhbmdlIGFyb3VuZCB0aGUgbXV0YXRpb24sIHRydWUgaWYgaXQgY2FuIHNhZmVseSBiZVxuLy8gICBpZ25vcmVkLlxuLy9cbi8vICAgZGVzdHJveTo6ID8oKVxuLy8gICBDYWxsZWQgd2hlbiB0aGUgbm9kZSB2aWV3IGlzIHJlbW92ZWQgZnJvbSB0aGUgZWRpdG9yIG9yIHRoZSB3aG9sZVxuLy8gICBlZGl0b3IgaXMgZGVzdHJveWVkLlxuXG4vLyBWaWV3IGRlc2NyaXB0aW9ucyBhcmUgZGF0YSBzdHJ1Y3R1cmVzIHRoYXQgZGVzY3JpYmUgdGhlIERPTSB0aGF0IGlzXG4vLyB1c2VkIHRvIHJlcHJlc2VudCB0aGUgZWRpdG9yJ3MgY29udGVudC4gVGhleSBhcmUgdXNlZCBmb3I6XG4vL1xuLy8gLSBJbmNyZW1lbnRhbCByZWRyYXdpbmcgd2hlbiB0aGUgZG9jdW1lbnQgY2hhbmdlc1xuLy9cbi8vIC0gRmlndXJpbmcgb3V0IHdoYXQgcGFydCBvZiB0aGUgZG9jdW1lbnQgYSBnaXZlbiBET00gcG9zaXRpb25cbi8vICAgY29ycmVzcG9uZHMgdG9cbi8vXG4vLyAtIFdpcmluZyBpbiBjdXN0b20gaW1wbGVtZW50YXRpb25zIG9mIHRoZSBlZGl0aW5nIGludGVyZmFjZSBmb3IgYVxuLy8gICBnaXZlbiBub2RlXG4vL1xuLy8gVGhleSBmb3JtIGEgZG91Ymx5LWxpbmtlZCBtdXRhYmxlIHRyZWUsIHN0YXJ0aW5nIGF0IGB2aWV3LmRvY1ZpZXdgLlxuXG52YXIgTk9UX0RJUlRZID0gMDtcbnZhciBDSElMRF9ESVJUWSA9IDE7XG52YXIgQ09OVEVOVF9ESVJUWSA9IDI7XG52YXIgTk9ERV9ESVJUWSA9IDM7XG5cbi8vIFN1cGVyY2xhc3MgZm9yIHRoZSB2YXJpb3VzIGtpbmRzIG9mIGRlc2NyaXB0aW9ucy4gRGVmaW5lcyB0aGVpclxuLy8gYmFzaWMgc3RydWN0dXJlIGFuZCBzaGFyZWQgbWV0aG9kcy5cbnZhciBWaWV3RGVzYyA9IGZ1bmN0aW9uIFZpZXdEZXNjKHBhcmVudCwgY2hpbGRyZW4sIGRvbSwgY29udGVudERPTSkge1xuICB0aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgdGhpcy5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICB0aGlzLmRvbSA9IGRvbTtcbiAgLy8gQW4gZXhwYW5kbyBwcm9wZXJ0eSBvbiB0aGUgRE9NIG5vZGUgcHJvdmlkZXMgYSBsaW5rIGJhY2sgdG8gaXRzXG4gIC8vIGRlc2NyaXB0aW9uLlxuICBkb20ucG1WaWV3RGVzYyA9IHRoaXM7XG4gIC8vIFRoaXMgaXMgdGhlIG5vZGUgdGhhdCBob2xkcyB0aGUgY2hpbGQgdmlld3MuIEl0IG1heSBiZSBudWxsIGZvclxuICAvLyBkZXNjcyB0aGF0IGRvbid0IGhhdmUgY2hpbGRyZW4uXG4gIHRoaXMuY29udGVudERPTSA9IGNvbnRlbnRET007XG4gIHRoaXMuZGlydHkgPSBOT1RfRElSVFk7XG59O1xuXG52YXIgcHJvdG90eXBlQWNjZXNzb3JzJDEgPSB7IGJlZm9yZVBvc2l0aW9uOiB7fSxzaXplOiB7fSxib3JkZXI6IHt9LHBvc0JlZm9yZToge30scG9zQXRTdGFydDoge30scG9zQWZ0ZXI6IHt9LHBvc0F0RW5kOiB7fSxjb250ZW50TG9zdDoge30gfTtcblxuLy8gVXNlZCB0byBjaGVjayB3aGV0aGVyIGEgZ2l2ZW4gZGVzY3JpcHRpb24gY29ycmVzcG9uZHMgdG8gYVxuLy8gd2lkZ2V0L21hcmsvbm9kZS5cblZpZXdEZXNjLnByb3RvdHlwZS5tYXRjaGVzV2lkZ2V0ID0gZnVuY3Rpb24gbWF0Y2hlc1dpZGdldCAoKSB7IHJldHVybiBmYWxzZSB9O1xuVmlld0Rlc2MucHJvdG90eXBlLm1hdGNoZXNNYXJrID0gZnVuY3Rpb24gbWF0Y2hlc01hcmsgKCkgeyByZXR1cm4gZmFsc2UgfTtcblZpZXdEZXNjLnByb3RvdHlwZS5tYXRjaGVzTm9kZSA9IGZ1bmN0aW9uIG1hdGNoZXNOb2RlICgpIHsgcmV0dXJuIGZhbHNlIH07XG5WaWV3RGVzYy5wcm90b3R5cGUubWF0Y2hlc0hhY2sgPSBmdW5jdGlvbiBtYXRjaGVzSGFjayAoKSB7IHJldHVybiBmYWxzZSB9O1xuXG5wcm90b3R5cGVBY2Nlc3NvcnMkMS5iZWZvcmVQb3NpdGlvbi5nZXQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBmYWxzZSB9O1xuXG4vLyA6ICgpIOKGkiA/UGFyc2VSdWxlXG4vLyBXaGVuIHBhcnNpbmcgaW4tZWRpdG9yIGNvbnRlbnQgKGluIGRvbWNoYW5nZS5qcyksIHdlIGFsbG93XG4vLyBkZXNjcmlwdGlvbnMgdG8gZGV0ZXJtaW5lIHRoZSBwYXJzZSBydWxlcyB0aGF0IHNob3VsZCBiZSB1c2VkIHRvXG4vLyBwYXJzZSB0aGVtLlxuVmlld0Rlc2MucHJvdG90eXBlLnBhcnNlUnVsZSA9IGZ1bmN0aW9uIHBhcnNlUnVsZSAoKSB7IHJldHVybiBudWxsIH07XG5cbi8vIDogKGRvbS5FdmVudCkg4oaSIGJvb2xcbi8vIFVzZWQgYnkgdGhlIGVkaXRvcidzIGV2ZW50IGhhbmRsZXIgdG8gaWdub3JlIGV2ZW50cyB0aGF0IGNvbWVcbi8vIGZyb20gY2VydGFpbiBkZXNjcy5cblZpZXdEZXNjLnByb3RvdHlwZS5zdG9wRXZlbnQgPSBmdW5jdGlvbiBzdG9wRXZlbnQgKCkgeyByZXR1cm4gZmFsc2UgfTtcblxuLy8gVGhlIHNpemUgb2YgdGhlIGNvbnRlbnQgcmVwcmVzZW50ZWQgYnkgdGhpcyBkZXNjLlxucHJvdG90eXBlQWNjZXNzb3JzJDEuc2l6ZS5nZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgdmFyIHNpemUgPSAwO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHsgc2l6ZSArPSB0aGlzJDEuY2hpbGRyZW5baV0uc2l6ZTsgfVxuICByZXR1cm4gc2l6ZVxufTtcblxuLy8gRm9yIGJsb2NrIG5vZGVzLCB0aGlzIHJlcHJlc2VudHMgdGhlIHNwYWNlIHRha2VuIHVwIGJ5IHRoZWlyXG4vLyBzdGFydC9lbmQgdG9rZW5zLlxucHJvdG90eXBlQWNjZXNzb3JzJDEuYm9yZGVyLmdldCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDAgfTtcblxuVmlld0Rlc2MucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95ICgpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICB0aGlzLnBhcmVudCA9IG51bGw7XG4gIGlmICh0aGlzLmRvbS5wbVZpZXdEZXNjID09IHRoaXMpIHsgdGhpcy5kb20ucG1WaWV3RGVzYyA9IG51bGw7IH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSsrKVxuICAgIHsgdGhpcyQxLmNoaWxkcmVuW2ldLmRlc3Ryb3koKTsgfVxufTtcblxuVmlld0Rlc2MucHJvdG90eXBlLnBvc0JlZm9yZUNoaWxkID0gZnVuY3Rpb24gcG9zQmVmb3JlQ2hpbGQgKGNoaWxkKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgZm9yICh2YXIgaSA9IDAsIHBvcyA9IHRoaXMucG9zQXRTdGFydDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgY3VyID0gdGhpcyQxLmNoaWxkcmVuW2ldO1xuICAgIGlmIChjdXIgPT0gY2hpbGQpIHsgcmV0dXJuIHBvcyB9XG4gICAgcG9zICs9IGN1ci5zaXplO1xuICB9XG59O1xuXG5wcm90b3R5cGVBY2Nlc3NvcnMkMS5wb3NCZWZvcmUuZ2V0ID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5wYXJlbnQucG9zQmVmb3JlQ2hpbGQodGhpcylcbn07XG5cbnByb3RvdHlwZUFjY2Vzc29ycyQxLnBvc0F0U3RhcnQuZ2V0ID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5wYXJlbnQgPyB0aGlzLnBhcmVudC5wb3NCZWZvcmVDaGlsZCh0aGlzKSArIHRoaXMuYm9yZGVyIDogMFxufTtcblxucHJvdG90eXBlQWNjZXNzb3JzJDEucG9zQWZ0ZXIuZ2V0ID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5wb3NCZWZvcmUgKyB0aGlzLnNpemVcbn07XG5cbnByb3RvdHlwZUFjY2Vzc29ycyQxLnBvc0F0RW5kLmdldCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMucG9zQXRTdGFydCArIHRoaXMuc2l6ZSAtIDIgKiB0aGlzLmJvcmRlclxufTtcblxuLy8gOiAoZG9tLk5vZGUsIG51bWJlciwgP251bWJlcikg4oaSIG51bWJlclxuVmlld0Rlc2MucHJvdG90eXBlLmxvY2FsUG9zRnJvbURPTSA9IGZ1bmN0aW9uIGxvY2FsUG9zRnJvbURPTSAoZG9tLCBvZmZzZXQsIGJpYXMpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAvLyBJZiB0aGUgRE9NIHBvc2l0aW9uIGlzIGluIHRoZSBjb250ZW50LCB1c2UgdGhlIGNoaWxkIGRlc2MgYWZ0ZXJcbiAgLy8gaXQgdG8gZmlndXJlIG91dCBhIHBvc2l0aW9uLlxuICBpZiAodGhpcy5jb250ZW50RE9NICYmIHRoaXMuY29udGVudERPTS5jb250YWlucyhkb20ubm9kZVR5cGUgPT0gMSA/IGRvbSA6IGRvbS5wYXJlbnROb2RlKSkge1xuICAgIGlmIChiaWFzIDwgMCkge1xuICAgICAgdmFyIGRvbUJlZm9yZSwgZGVzYztcbiAgICAgIGlmIChkb20gPT0gdGhpcy5jb250ZW50RE9NKSB7XG4gICAgICAgIGRvbUJlZm9yZSA9IGRvbS5jaGlsZE5vZGVzW29mZnNldCAtIDFdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2hpbGUgKGRvbS5wYXJlbnROb2RlICE9IHRoaXMuY29udGVudERPTSkgeyBkb20gPSBkb20ucGFyZW50Tm9kZTsgfVxuICAgICAgICBkb21CZWZvcmUgPSBkb20ucHJldmlvdXNTaWJsaW5nO1xuICAgICAgfVxuICAgICAgd2hpbGUgKGRvbUJlZm9yZSAmJiAhKChkZXNjID0gZG9tQmVmb3JlLnBtVmlld0Rlc2MpICYmIGRlc2MucGFyZW50ID09IHRoaXMpKSB7IGRvbUJlZm9yZSA9IGRvbUJlZm9yZS5wcmV2aW91c1NpYmxpbmc7IH1cbiAgICAgIHJldHVybiBkb21CZWZvcmUgPyB0aGlzLnBvc0JlZm9yZUNoaWxkKGRlc2MpICsgZGVzYy5zaXplIDogdGhpcy5wb3NBdFN0YXJ0XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBkb21BZnRlciwgZGVzYyQxO1xuICAgICAgaWYgKGRvbSA9PSB0aGlzLmNvbnRlbnRET00pIHtcbiAgICAgICAgZG9tQWZ0ZXIgPSBkb20uY2hpbGROb2Rlc1tvZmZzZXRdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2hpbGUgKGRvbS5wYXJlbnROb2RlICE9IHRoaXMuY29udGVudERPTSkgeyBkb20gPSBkb20ucGFyZW50Tm9kZTsgfVxuICAgICAgICBkb21BZnRlciA9IGRvbS5uZXh0U2libGluZztcbiAgICAgIH1cbiAgICAgIHdoaWxlIChkb21BZnRlciAmJiAhKChkZXNjJDEgPSBkb21BZnRlci5wbVZpZXdEZXNjKSAmJiBkZXNjJDEucGFyZW50ID09IHRoaXMpKSB7IGRvbUFmdGVyID0gZG9tQWZ0ZXIubmV4dFNpYmxpbmc7IH1cbiAgICAgIHJldHVybiBkb21BZnRlciA/IHRoaXMucG9zQmVmb3JlQ2hpbGQoZGVzYyQxKSA6IHRoaXMucG9zQXRFbmRcbiAgICB9XG4gIH1cbiAgLy8gT3RoZXJ3aXNlLCB1c2UgdmFyaW91cyBoZXVyaXN0aWNzLCBmYWxsaW5nIGJhY2sgb24gdGhlIGJpYXNcbiAgLy8gcGFyYW1ldGVyLCB0byBkZXRlcm1pbmUgd2hldGhlciB0byByZXR1cm4gdGhlIHBvc2l0aW9uIGF0IHRoZVxuICAvLyBzdGFydCBvciBhdCB0aGUgZW5kIG9mIHRoaXMgdmlldyBkZXNjLlxuICB2YXIgYXRFbmQ7XG4gIGlmICh0aGlzLmNvbnRlbnRET00gJiYgdGhpcy5jb250ZW50RE9NICE9IHRoaXMuZG9tICYmIHRoaXMuZG9tLmNvbnRhaW5zKHRoaXMuY29udGVudERPTSkpIHtcbiAgICBhdEVuZCA9IGRvbS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbih0aGlzLmNvbnRlbnRET00pICYgMjtcbiAgfSBlbHNlIGlmICh0aGlzLmRvbS5maXJzdENoaWxkKSB7XG4gICAgaWYgKG9mZnNldCA9PSAwKSB7IGZvciAodmFyIHNlYXJjaCA9IGRvbTs7IHNlYXJjaCA9IHNlYXJjaC5wYXJlbnROb2RlKSB7XG4gICAgICBpZiAoc2VhcmNoID09IHRoaXMkMS5kb20pIHsgYXRFbmQgPSBmYWxzZTsgYnJlYWsgfVxuICAgICAgaWYgKHNlYXJjaC5wYXJlbnROb2RlLmZpcnN0Q2hpbGQgIT0gc2VhcmNoKSB7IGJyZWFrIH1cbiAgICB9IH1cbiAgICBpZiAoYXRFbmQgPT0gbnVsbCAmJiBvZmZzZXQgPT0gZG9tLmNoaWxkTm9kZXMubGVuZ3RoKSB7IGZvciAodmFyIHNlYXJjaCQxID0gZG9tOzsgc2VhcmNoJDEgPSBzZWFyY2gkMS5wYXJlbnROb2RlKSB7XG4gICAgICBpZiAoc2VhcmNoJDEgPT0gdGhpcyQxLmRvbSkgeyBhdEVuZCA9IHRydWU7IGJyZWFrIH1cbiAgICAgIGlmIChzZWFyY2gkMS5wYXJlbnROb2RlLmxhc3RDaGlsZCAhPSBzZWFyY2gkMSkgeyBicmVhayB9XG4gICAgfSB9XG4gIH1cbiAgcmV0dXJuIChhdEVuZCA9PSBudWxsID8gYmlhcyA+IDAgOiBhdEVuZCkgPyB0aGlzLnBvc0F0RW5kIDogdGhpcy5wb3NBdFN0YXJ0XG59O1xuXG4vLyBTY2FuIHVwIHRoZSBkb20gZmluZGluZyB0aGUgZmlyc3QgZGVzYyB0aGF0IGlzIGEgZGVzY2VuZGFudCBvZlxuLy8gdGhpcyBvbmUuXG5WaWV3RGVzYy5wcm90b3R5cGUubmVhcmVzdERlc2MgPSBmdW5jdGlvbiBuZWFyZXN0RGVzYyAoZG9tLCBvbmx5Tm9kZXMpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICBmb3IgKHZhciBmaXJzdCA9IHRydWUsIGN1ciA9IGRvbTsgY3VyOyBjdXIgPSBjdXIucGFyZW50Tm9kZSkge1xuICAgIHZhciBkZXNjID0gdGhpcyQxLmdldERlc2MoY3VyKTtcbiAgICBpZiAoZGVzYyAmJiAoIW9ubHlOb2RlcyB8fCBkZXNjLm5vZGUpKSB7XG4gICAgICAvLyBJZiBkb20gaXMgb3V0c2lkZSBvZiB0aGlzIGRlc2MncyBub2RlRE9NLCBkb24ndCBjb3VudCBpdC5cbiAgICAgIGlmIChmaXJzdCAmJiBkZXNjLm5vZGVET00gJiYgIShkZXNjLm5vZGVET00ubm9kZVR5cGUgPT0gMSA/IGRlc2Mubm9kZURPTS5jb250YWlucyhkb20pIDogZGVzYy5ub2RlRE9NID09IGRvbSkpIHsgZmlyc3QgPSBmYWxzZTsgfVxuICAgICAgZWxzZSB7IHJldHVybiBkZXNjIH1cbiAgICB9XG4gIH1cbn07XG5cblZpZXdEZXNjLnByb3RvdHlwZS5nZXREZXNjID0gZnVuY3Rpb24gZ2V0RGVzYyAoZG9tKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgdmFyIGRlc2MgPSBkb20ucG1WaWV3RGVzYztcbiAgZm9yICh2YXIgY3VyID0gZGVzYzsgY3VyOyBjdXIgPSBjdXIucGFyZW50KSB7IGlmIChjdXIgPT0gdGhpcyQxKSB7IHJldHVybiBkZXNjIH0gfVxufTtcblxuVmlld0Rlc2MucHJvdG90eXBlLnBvc0Zyb21ET00gPSBmdW5jdGlvbiBwb3NGcm9tRE9NIChkb20sIG9mZnNldCwgYmlhcykge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gIGZvciAodmFyIHNjYW4gPSBkb207OyBzY2FuID0gc2Nhbi5wYXJlbnROb2RlKSB7XG4gICAgdmFyIGRlc2MgPSB0aGlzJDEuZ2V0RGVzYyhzY2FuKTtcbiAgICBpZiAoZGVzYykgeyByZXR1cm4gZGVzYy5sb2NhbFBvc0Zyb21ET00oZG9tLCBvZmZzZXQsIGJpYXMpIH1cbiAgfVxufTtcblxuLy8gOiAobnVtYmVyKSDihpIgP05vZGVWaWV3RGVzY1xuLy8gRmluZCB0aGUgZGVzYyBmb3IgdGhlIG5vZGUgYWZ0ZXIgdGhlIGdpdmVuIHBvcywgaWYgYW55LiAoV2hlbiBhXG4vLyBwYXJlbnQgbm9kZSBvdmVycm9kZSByZW5kZXJpbmcsIHRoZXJlIG1pZ2h0IG5vdCBiZSBvbmUuKVxuVmlld0Rlc2MucHJvdG90eXBlLmRlc2NBdCA9IGZ1bmN0aW9uIGRlc2NBdCAocG9zKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgZm9yICh2YXIgaSA9IDAsIG9mZnNldCA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGNoaWxkID0gdGhpcyQxLmNoaWxkcmVuW2ldLCBlbmQgPSBvZmZzZXQgKyBjaGlsZC5zaXplO1xuICAgIGlmIChvZmZzZXQgPT0gcG9zICYmIGVuZCAhPSBvZmZzZXQpIHtcbiAgICAgIHdoaWxlICghY2hpbGQuYm9yZGVyICYmIGNoaWxkLmNoaWxkcmVuLmxlbmd0aCkgeyBjaGlsZCA9IGNoaWxkLmNoaWxkcmVuWzBdOyB9XG4gICAgICByZXR1cm4gY2hpbGRcbiAgICB9XG4gICAgaWYgKHBvcyA8IGVuZCkgeyByZXR1cm4gY2hpbGQuZGVzY0F0KHBvcyAtIG9mZnNldCAtIGNoaWxkLmJvcmRlcikgfVxuICAgIG9mZnNldCA9IGVuZDtcbiAgfVxufTtcblxuLy8gOiAobnVtYmVyKSDihpIge25vZGU6IGRvbS5Ob2RlLCBvZmZzZXQ6IG51bWJlcn1cblZpZXdEZXNjLnByb3RvdHlwZS5kb21Gcm9tUG9zID0gZnVuY3Rpb24gZG9tRnJvbVBvcyAocG9zKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgaWYgKCF0aGlzLmNvbnRlbnRET00pIHsgcmV0dXJuIHtub2RlOiB0aGlzLmRvbSwgb2Zmc2V0OiAwfSB9XG4gIGZvciAodmFyIG9mZnNldCA9IDAsIGkgPSAwOzsgaSsrKSB7XG4gICAgaWYgKG9mZnNldCA9PSBwb3MpIHtcbiAgICAgIHdoaWxlIChpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGggJiYgdGhpcy5jaGlsZHJlbltpXS5iZWZvcmVQb3NpdGlvbikgeyBpKys7IH1cbiAgICAgIHJldHVybiB7bm9kZTogdGhpcyQxLmNvbnRlbnRET00sIG9mZnNldDogaX1cbiAgICB9XG4gICAgaWYgKGkgPT0gdGhpcyQxLmNoaWxkcmVuLmxlbmd0aCkgeyB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHBvc2l0aW9uIFwiICsgcG9zKSB9XG4gICAgdmFyIGNoaWxkID0gdGhpcyQxLmNoaWxkcmVuW2ldLCBlbmQgPSBvZmZzZXQgKyBjaGlsZC5zaXplO1xuICAgIGlmIChwb3MgPCBlbmQpIHsgcmV0dXJuIGNoaWxkLmRvbUZyb21Qb3MocG9zIC0gb2Zmc2V0IC0gY2hpbGQuYm9yZGVyKSB9XG4gICAgb2Zmc2V0ID0gZW5kO1xuICB9XG59O1xuXG4vLyBVc2VkIHRvIGZpbmQgYSBET00gcmFuZ2UgaW4gYSBzaW5nbGUgcGFyZW50IGZvciBhIGdpdmVuIGNoYW5nZWRcbi8vIHJhbmdlLlxuVmlld0Rlc2MucHJvdG90eXBlLnBhcnNlUmFuZ2UgPSBmdW5jdGlvbiBwYXJzZVJhbmdlIChmcm9tLCB0bywgYmFzZSkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuICAgIGlmICggYmFzZSA9PT0gdm9pZCAwICkgYmFzZSA9IDA7XG5cbiAgaWYgKHRoaXMuY2hpbGRyZW4ubGVuZ3RoID09IDApXG4gICAgeyByZXR1cm4ge25vZGU6IHRoaXMuY29udGVudERPTSwgZnJvbTogZnJvbSwgdG86IHRvLCBmcm9tT2Zmc2V0OiAwLCB0b09mZnNldDogdGhpcy5jb250ZW50RE9NLmNoaWxkTm9kZXMubGVuZ3RofSB9XG5cbiAgdmFyIGZyb21PZmZzZXQgPSAtMSwgdG9PZmZzZXQgPSAtMTtcbiAgZm9yICh2YXIgb2Zmc2V0ID0gMCwgaSA9IDA7OyBpKyspIHtcbiAgICB2YXIgY2hpbGQgPSB0aGlzJDEuY2hpbGRyZW5baV0sIGVuZCA9IG9mZnNldCArIGNoaWxkLnNpemU7XG4gICAgaWYgKGZyb21PZmZzZXQgPT0gLTEgJiYgZnJvbSA8PSBlbmQpIHtcbiAgICAgIHZhciBjaGlsZEJhc2UgPSBvZmZzZXQgKyBjaGlsZC5ib3JkZXI7XG4gICAgICAvLyBGSVhNRSBtYXliZSBkZXNjZW5kIG1hcmsgdmlld3MgdG8gcGFyc2UgYSBuYXJyb3dlciByYW5nZT9cbiAgICAgIGlmIChmcm9tID49IGNoaWxkQmFzZSAmJiB0byA8PSBlbmQgLSBjaGlsZC5ib3JkZXIgJiYgY2hpbGQubm9kZSAmJlxuICAgICAgICAgIGNoaWxkLmNvbnRlbnRET00gJiYgdGhpcyQxLmNvbnRlbnRET00uY29udGFpbnMoY2hpbGQuY29udGVudERPTSkpXG4gICAgICAgIHsgcmV0dXJuIGNoaWxkLnBhcnNlUmFuZ2UoZnJvbSAtIGNoaWxkQmFzZSwgdG8gLSBjaGlsZEJhc2UsIGJhc2UgKyBjaGlsZEJhc2UpIH1cblxuICAgICAgZnJvbSA9IGJhc2UgKyBvZmZzZXQ7XG4gICAgICBmb3IgKHZhciBqID0gaTsgaiA+IDA7IGotLSkge1xuICAgICAgICB2YXIgcHJldiA9IHRoaXMkMS5jaGlsZHJlbltqIC0gMV07XG4gICAgICAgIGlmIChwcmV2LnNpemUgJiYgcHJldi5kb20ucGFyZW50Tm9kZSA9PSB0aGlzJDEuY29udGVudERPTSAmJiAhcHJldi5lbXB0eUNoaWxkQXQoMSkpIHtcbiAgICAgICAgICBmcm9tT2Zmc2V0ID0gZG9tSW5kZXgocHJldi5kb20pICsgMTtcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICAgIGZyb20gLT0gcHJldi5zaXplO1xuICAgICAgfVxuICAgICAgaWYgKGZyb21PZmZzZXQgPT0gLTEpIHsgZnJvbU9mZnNldCA9IDA7IH1cbiAgICB9XG4gICAgaWYgKGZyb21PZmZzZXQgPiAtMSAmJiB0byA8PSBlbmQpIHtcbiAgICAgIHRvID0gYmFzZSArIGVuZDtcbiAgICAgIGZvciAodmFyIGokMSA9IGkgKyAxOyBqJDEgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaiQxKyspIHtcbiAgICAgICAgdmFyIG5leHQgPSB0aGlzJDEuY2hpbGRyZW5baiQxXTtcbiAgICAgICAgaWYgKG5leHQuc2l6ZSAmJiBuZXh0LmRvbS5wYXJlbnROb2RlID09IHRoaXMkMS5jb250ZW50RE9NICYmICFuZXh0LmVtcHR5Q2hpbGRBdCgtMSkpIHtcbiAgICAgICAgICB0b09mZnNldCA9IGRvbUluZGV4KG5leHQuZG9tKTtcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICAgIHRvICs9IG5leHQuc2l6ZTtcbiAgICAgIH1cbiAgICAgIGlmICh0b09mZnNldCA9PSAtMSkgeyB0b09mZnNldCA9IHRoaXMkMS5jb250ZW50RE9NLmNoaWxkTm9kZXMubGVuZ3RoOyB9XG4gICAgICBicmVha1xuICAgIH1cbiAgICBvZmZzZXQgPSBlbmQ7XG4gIH1cbiAgcmV0dXJuIHtub2RlOiB0aGlzLmNvbnRlbnRET00sIGZyb206IGZyb20sIHRvOiB0bywgZnJvbU9mZnNldDogZnJvbU9mZnNldCwgdG9PZmZzZXQ6IHRvT2Zmc2V0fVxufTtcblxuVmlld0Rlc2MucHJvdG90eXBlLmVtcHR5Q2hpbGRBdCA9IGZ1bmN0aW9uIGVtcHR5Q2hpbGRBdCAoc2lkZSkge1xuICBpZiAodGhpcy5ib3JkZXIgfHwgIXRoaXMuY29udGVudERPTSB8fCAhdGhpcy5jaGlsZHJlbi5sZW5ndGgpIHsgcmV0dXJuIGZhbHNlIH1cbiAgdmFyIGNoaWxkID0gdGhpcy5jaGlsZHJlbltzaWRlIDwgMCA/IDAgOiB0aGlzLmNoaWxkcmVuLmxlbmd0aCAtIDFdO1xuICByZXR1cm4gY2hpbGQuc2l6ZSA9PSAwIHx8IGNoaWxkLmVtcHR5Q2hpbGRBdChzaWRlKVxufTtcblxuLy8gOiAobnVtYmVyKSDihpIgZG9tLk5vZGVcblZpZXdEZXNjLnByb3RvdHlwZS5kb21BZnRlclBvcyA9IGZ1bmN0aW9uIGRvbUFmdGVyUG9zIChwb3MpIHtcbiAgdmFyIHJlZiA9IHRoaXMuZG9tRnJvbVBvcyhwb3MpO1xuICAgIHZhciBub2RlID0gcmVmLm5vZGU7XG4gICAgdmFyIG9mZnNldCA9IHJlZi5vZmZzZXQ7XG4gIGlmIChub2RlLm5vZGVUeXBlICE9IDEgfHwgb2Zmc2V0ID09IG5vZGUuY2hpbGROb2Rlcy5sZW5ndGgpXG4gICAgeyB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIk5vIG5vZGUgYWZ0ZXIgcG9zIFwiICsgcG9zKSB9XG4gIHJldHVybiBub2RlLmNoaWxkTm9kZXNbb2Zmc2V0XVxufTtcblxuLy8gOiAobnVtYmVyLCBudW1iZXIsIGRvbS5Eb2N1bWVudClcbi8vIFZpZXcgZGVzY3MgYXJlIHJlc3BvbnNpYmxlIGZvciBzZXR0aW5nIGFueSBzZWxlY3Rpb24gdGhhdCBmYWxsc1xuLy8gZW50aXJlbHkgaW5zaWRlIG9mIHRoZW0sIHNvIHRoYXQgY3VzdG9tIGltcGxlbWVudGF0aW9ucyBjYW4gZG9cbi8vIGN1c3RvbSB0aGluZ3Mgd2l0aCB0aGUgc2VsZWN0aW9uLiBOb3RlIHRoYXQgdGhpcyBmYWxscyBhcGFydCB3aGVuXG4vLyBhIHNlbGVjdGlvbiBzdGFydHMgaW4gc3VjaCBhIG5vZGUgYW5kIGVuZHMgaW4gYW5vdGhlciwgaW4gd2hpY2hcbi8vIGNhc2Ugd2UganVzdCB1c2Ugd2hhdGV2ZXIgZG9tRnJvbVBvcyBwcm9kdWNlcyBhcyBhIGJlc3QgZWZmb3J0LlxuVmlld0Rlc2MucHJvdG90eXBlLnNldFNlbGVjdGlvbiA9IGZ1bmN0aW9uIHNldFNlbGVjdGlvbiAoYW5jaG9yLCBoZWFkLCByb290KSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgLy8gSWYgdGhlIHNlbGVjdGlvbiBmYWxscyBlbnRpcmVseSBpbiBhIGNoaWxkLCBnaXZlIGl0IHRvIHRoYXQgY2hpbGRcbiAgdmFyIGZyb20gPSBNYXRoLm1pbihhbmNob3IsIGhlYWQpLCB0byA9IE1hdGgubWF4KGFuY2hvciwgaGVhZCk7XG4gIGZvciAodmFyIGkgPSAwLCBvZmZzZXQgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgIHZhciBjaGlsZCA9IHRoaXMkMS5jaGlsZHJlbltpXSwgZW5kID0gb2Zmc2V0ICsgY2hpbGQuc2l6ZTtcbiAgICBpZiAoZnJvbSA+IG9mZnNldCAmJiB0byA8IGVuZClcbiAgICAgIHsgcmV0dXJuIGNoaWxkLnNldFNlbGVjdGlvbihhbmNob3IgLSBvZmZzZXQgLSBjaGlsZC5ib3JkZXIsIGhlYWQgLSBvZmZzZXQgLSBjaGlsZC5ib3JkZXIsIHJvb3QpIH1cbiAgICBvZmZzZXQgPSBlbmQ7XG4gIH1cblxuICB2YXIgYW5jaG9yRE9NID0gdGhpcy5kb21Gcm9tUG9zKGFuY2hvciksIGhlYWRET00gPSB0aGlzLmRvbUZyb21Qb3MoaGVhZCk7XG4gIHZhciBkb21TZWwgPSByb290LmdldFNlbGVjdGlvbigpLCByYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG4gIGlmIChpc0VxdWl2YWxlbnRQb3NpdGlvbihhbmNob3JET00ubm9kZSwgYW5jaG9yRE9NLm9mZnNldCwgZG9tU2VsLmFuY2hvck5vZGUsIGRvbVNlbC5hbmNob3JPZmZzZXQpICYmXG4gICAgICBpc0VxdWl2YWxlbnRQb3NpdGlvbihoZWFkRE9NLm5vZGUsIGhlYWRET00ub2Zmc2V0LCBkb21TZWwuZm9jdXNOb2RlLCBkb21TZWwuZm9jdXNPZmZzZXQpKVxuICAgIHsgcmV0dXJuIH1cblxuICAvLyBTZWxlY3Rpb24uZXh0ZW5kIGNhbiBiZSB1c2VkIHRvIGNyZWF0ZSBhbiAnaW52ZXJ0ZWQnIHNlbGVjdGlvblxuICAvLyAob25lIHdoZXJlIHRoZSBmb2N1cyBpcyBiZWZvcmUgdGhlIGFuY2hvciksIGJ1dCBub3QgYWxsXG4gIC8vIGJyb3dzZXJzIHN1cHBvcnQgaXQgeWV0LlxuICBpZiAoZG9tU2VsLmV4dGVuZCkge1xuICAgIHJhbmdlLnNldEVuZChhbmNob3JET00ubm9kZSwgYW5jaG9yRE9NLm9mZnNldCk7XG4gICAgcmFuZ2UuY29sbGFwc2UoZmFsc2UpO1xuICB9IGVsc2Uge1xuICAgIGlmIChhbmNob3IgPiBoZWFkKSB7IHZhciB0bXAgPSBhbmNob3JET007IGFuY2hvckRPTSA9IGhlYWRET007IGhlYWRET00gPSB0bXA7IH1cbiAgICByYW5nZS5zZXRFbmQoaGVhZERPTS5ub2RlLCBoZWFkRE9NLm9mZnNldCk7XG4gICAgcmFuZ2Uuc2V0U3RhcnQoYW5jaG9yRE9NLm5vZGUsIGFuY2hvckRPTS5vZmZzZXQpO1xuICB9XG4gIGRvbVNlbC5yZW1vdmVBbGxSYW5nZXMoKTtcbiAgZG9tU2VsLmFkZFJhbmdlKHJhbmdlKTtcbiAgaWYgKGRvbVNlbC5leHRlbmQpXG4gICAgeyBkb21TZWwuZXh0ZW5kKGhlYWRET00ubm9kZSwgaGVhZERPTS5vZmZzZXQpOyB9XG59O1xuXG4vLyA6IChkb20uTXV0YXRpb25SZWNvcmQpIOKGkiBib29sXG5WaWV3RGVzYy5wcm90b3R5cGUuaWdub3JlTXV0YXRpb24gPSBmdW5jdGlvbiBpZ25vcmVNdXRhdGlvbiAoX211dGF0aW9uKSB7XG4gIHJldHVybiAhdGhpcy5jb250ZW50RE9NXG59O1xuXG5wcm90b3R5cGVBY2Nlc3NvcnMkMS5jb250ZW50TG9zdC5nZXQgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLmNvbnRlbnRET00gJiYgdGhpcy5jb250ZW50RE9NICE9IHRoaXMuZG9tICYmICF0aGlzLmRvbS5jb250YWlucyh0aGlzLmNvbnRlbnRET00pXG59O1xuXG4vLyBSZW1vdmUgYSBzdWJ0cmVlIG9mIHRoZSBlbGVtZW50IHRyZWUgdGhhdCBoYXMgYmVlbiB0b3VjaGVkXG4vLyBieSBhIERPTSBjaGFuZ2UsIHNvIHRoYXQgdGhlIG5leHQgdXBkYXRlIHdpbGwgcmVkcmF3IGl0LlxuVmlld0Rlc2MucHJvdG90eXBlLm1hcmtEaXJ0eSA9IGZ1bmN0aW9uIG1hcmtEaXJ0eSAoZnJvbSwgdG8pIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICBmb3IgKHZhciBvZmZzZXQgPSAwLCBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgY2hpbGQgPSB0aGlzJDEuY2hpbGRyZW5baV0sIGVuZCA9IG9mZnNldCArIGNoaWxkLnNpemU7XG4gICAgaWYgKG9mZnNldCA9PSBlbmQgPyBmcm9tIDw9IGVuZCAmJiB0byA+PSBvZmZzZXQgOiBmcm9tIDwgZW5kICYmIHRvID4gb2Zmc2V0KSB7XG4gICAgICB2YXIgc3RhcnRJbnNpZGUgPSBvZmZzZXQgKyBjaGlsZC5ib3JkZXIsIGVuZEluc2lkZSA9IGVuZCAtIGNoaWxkLmJvcmRlcjtcbiAgICAgIGlmIChmcm9tID49IHN0YXJ0SW5zaWRlICYmIHRvIDw9IGVuZEluc2lkZSkge1xuICAgICAgICB0aGlzJDEuZGlydHkgPSBmcm9tID09IG9mZnNldCB8fCB0byA9PSBlbmQgPyBDT05URU5UX0RJUlRZIDogQ0hJTERfRElSVFk7XG4gICAgICAgIGlmIChmcm9tID09IHN0YXJ0SW5zaWRlICYmIHRvID09IGVuZEluc2lkZSAmJiBjaGlsZC5jb250ZW50TG9zdCkgeyBjaGlsZC5kaXJ0eSA9IE5PREVfRElSVFk7IH1cbiAgICAgICAgZWxzZSB7IGNoaWxkLm1hcmtEaXJ0eShmcm9tIC0gc3RhcnRJbnNpZGUsIHRvIC0gc3RhcnRJbnNpZGUpOyB9XG4gICAgICAgIHJldHVyblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2hpbGQuZGlydHkgPSBOT0RFX0RJUlRZO1xuICAgICAgfVxuICAgIH1cbiAgICBvZmZzZXQgPSBlbmQ7XG4gIH1cbiAgdGhpcy5kaXJ0eSA9IENPTlRFTlRfRElSVFk7XG59O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyggVmlld0Rlc2MucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMkMSApO1xuXG4vLyBSZXVzZWQgYXJyYXkgdG8gYXZvaWQgYWxsb2NhdGluZyBmcmVzaCBhcnJheXMgZm9yIHRoaW5ncyB0aGF0IHdpbGxcbi8vIHN0YXkgZW1wdHkgYW55d2F5LlxudmFyIG5vdGhpbmcgPSBbXTtcblxuLy8gQSB3aWRnZXQgZGVzYyByZXByZXNlbnRzIGEgd2lkZ2V0IGRlY29yYXRpb24sIHdoaWNoIGlzIGEgRE9NIG5vZGVcbi8vIGRyYXduIGJldHdlZW4gdGhlIGRvY3VtZW50IG5vZGVzLlxudmFyIFdpZGdldFZpZXdEZXNjID0gKGZ1bmN0aW9uIChWaWV3RGVzYykge1xuICBmdW5jdGlvbiBXaWRnZXRWaWV3RGVzYyhwYXJlbnQsIHdpZGdldCwgdmlldywgcG9zKSB7XG4gICAgdmFyIHNlbGYsIGRvbSA9IHdpZGdldC50eXBlLnRvRE9NO1xuICAgIGlmICh0eXBlb2YgZG9tID09IFwiZnVuY3Rpb25cIikgeyBkb20gPSBkb20odmlldywgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCFzZWxmKSB7IHJldHVybiBwb3MgfVxuICAgICAgaWYgKHNlbGYucGFyZW50KSB7IHJldHVybiBzZWxmLnBhcmVudC5wb3NCZWZvcmVDaGlsZChzZWxmKSB9XG4gICAgfSk7IH1cbiAgICBpZiAoIXdpZGdldC50eXBlLnNwZWMucmF3KSB7XG4gICAgICBpZiAoZG9tLm5vZGVUeXBlICE9IDEpIHtcbiAgICAgICAgdmFyIHdyYXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgICAgd3JhcC5hcHBlbmRDaGlsZChkb20pO1xuICAgICAgICBkb20gPSB3cmFwO1xuICAgICAgfVxuICAgICAgZG9tLmNvbnRlbnRFZGl0YWJsZSA9IGZhbHNlO1xuICAgICAgZG9tLmNsYXNzTGlzdC5hZGQoXCJQcm9zZU1pcnJvci13aWRnZXRcIik7XG4gICAgfVxuICAgIFZpZXdEZXNjLmNhbGwodGhpcywgcGFyZW50LCBub3RoaW5nLCBkb20sIG51bGwpO1xuICAgIHRoaXMud2lkZ2V0ID0gd2lkZ2V0O1xuICAgIHNlbGYgPSB0aGlzO1xuICB9XG5cbiAgaWYgKCBWaWV3RGVzYyApIFdpZGdldFZpZXdEZXNjLl9fcHJvdG9fXyA9IFZpZXdEZXNjO1xuICBXaWRnZXRWaWV3RGVzYy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBWaWV3RGVzYyAmJiBWaWV3RGVzYy5wcm90b3R5cGUgKTtcbiAgV2lkZ2V0Vmlld0Rlc2MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gV2lkZ2V0Vmlld0Rlc2M7XG5cbiAgdmFyIHByb3RvdHlwZUFjY2Vzc29ycyQxID0geyBiZWZvcmVQb3NpdGlvbjoge30gfTtcblxuICBwcm90b3R5cGVBY2Nlc3NvcnMkMS5iZWZvcmVQb3NpdGlvbi5nZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMud2lkZ2V0LnR5cGUuc2lkZSA8IDBcbiAgfTtcblxuICBXaWRnZXRWaWV3RGVzYy5wcm90b3R5cGUubWF0Y2hlc1dpZGdldCA9IGZ1bmN0aW9uIG1hdGNoZXNXaWRnZXQgKHdpZGdldCkge1xuICAgIHJldHVybiB0aGlzLmRpcnR5ID09IE5PVF9ESVJUWSAmJiB3aWRnZXQudHlwZS5lcSh0aGlzLndpZGdldC50eXBlKVxuICB9O1xuXG4gIFdpZGdldFZpZXdEZXNjLnByb3RvdHlwZS5wYXJzZVJ1bGUgPSBmdW5jdGlvbiBwYXJzZVJ1bGUgKCkgeyByZXR1cm4ge2lnbm9yZTogdHJ1ZX0gfTtcblxuICBXaWRnZXRWaWV3RGVzYy5wcm90b3R5cGUuc3RvcEV2ZW50ID0gZnVuY3Rpb24gc3RvcEV2ZW50IChldmVudCkge1xuICAgIHZhciBzdG9wID0gdGhpcy53aWRnZXQuc3BlYy5zdG9wRXZlbnQ7XG4gICAgcmV0dXJuIHN0b3AgPyBzdG9wKGV2ZW50KSA6IGZhbHNlXG4gIH07XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIFdpZGdldFZpZXdEZXNjLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzJDEgKTtcblxuICByZXR1cm4gV2lkZ2V0Vmlld0Rlc2M7XG59KFZpZXdEZXNjKSk7XG5cbi8vIEEgY3Vyc29yIHdyYXBwZXIgaXMgdXNlZCB0byBwdXQgdGhlIGN1cnNvciBpbiB3aGVuIG5ld2x5IHR5cGVkIHRleHRcbi8vIG5lZWRzIHRvIGJlIHN0eWxlZCBkaWZmZXJlbnRseSBmcm9tIGl0cyBzdXJyb3VuZGluZyB0ZXh0IChmb3Jcbi8vIGV4YW1wbGUgdGhyb3VnaCBzdG9yZWRNYXJrcyksIHNvIHRoYXQgdGhlIHN0eWxlIG9mIHRoZSB0ZXh0IGRvZXNuJ3Rcbi8vIHZpc3VhbGx5ICdwb3AnIGJldHdlZW4gdHlwaW5nIGl0IGFuZCBhY3R1YWxseSB1cGRhdGluZyB0aGUgdmlldy5cbnZhciBDdXJzb3JXcmFwcGVyRGVzYyA9IChmdW5jdGlvbiAoV2lkZ2V0Vmlld0Rlc2MpIHtcbiAgZnVuY3Rpb24gQ3Vyc29yV3JhcHBlckRlc2MgKCkge1xuICAgIFdpZGdldFZpZXdEZXNjLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICBpZiAoIFdpZGdldFZpZXdEZXNjICkgQ3Vyc29yV3JhcHBlckRlc2MuX19wcm90b19fID0gV2lkZ2V0Vmlld0Rlc2M7XG4gIEN1cnNvcldyYXBwZXJEZXNjLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFdpZGdldFZpZXdEZXNjICYmIFdpZGdldFZpZXdEZXNjLnByb3RvdHlwZSApO1xuICBDdXJzb3JXcmFwcGVyRGVzYy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDdXJzb3JXcmFwcGVyRGVzYztcblxuICBDdXJzb3JXcmFwcGVyRGVzYy5wcm90b3R5cGUucGFyc2VSdWxlID0gZnVuY3Rpb24gcGFyc2VSdWxlICgpIHtcbiAgICB2YXIgY29udGVudDtcbiAgICBmb3IgKHZhciBjaGlsZCA9IHRoaXMuZG9tLmZpcnN0Q2hpbGQ7IGNoaWxkOyBjaGlsZCA9IGNoaWxkLm5leHRTaWJsaW5nKSB7XG4gICAgICB2YXIgYWRkID0gKHZvaWQgMCk7XG4gICAgICBpZiAoY2hpbGQubm9kZVR5cGUgPT0gMykge1xuICAgICAgICB2YXIgdGV4dCA9IGNoaWxkLm5vZGVWYWx1ZS5yZXBsYWNlKC9cXHVmZWZmL2csIFwiXCIpO1xuICAgICAgICBpZiAoIXRleHQpIHsgY29udGludWUgfVxuICAgICAgICBhZGQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0ZXh0KTtcbiAgICAgIH0gZWxzZSBpZiAoY2hpbGQudGV4dENvbnRlbnQgPT0gXCJcXHVmZWZmXCIpIHtcbiAgICAgICAgY29udGludWVcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFkZCA9IGNoaWxkLmNsb25lTm9kZSh0cnVlKTtcbiAgICAgIH1cbiAgICAgIGlmICghY29udGVudCkgeyBjb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpOyB9XG4gICAgICBjb250ZW50LmFwcGVuZENoaWxkKGFkZCk7XG4gICAgfVxuICAgIGlmIChjb250ZW50KSB7IHJldHVybiB7c2tpcDogY29udGVudH0gfVxuICAgIGVsc2UgeyByZXR1cm4gV2lkZ2V0Vmlld0Rlc2MucHJvdG90eXBlLnBhcnNlUnVsZS5jYWxsKHRoaXMpIH1cbiAgfTtcblxuICBDdXJzb3JXcmFwcGVyRGVzYy5wcm90b3R5cGUuaWdub3JlTXV0YXRpb24gPSBmdW5jdGlvbiBpZ25vcmVNdXRhdGlvbiAoKSB7IHJldHVybiBmYWxzZSB9O1xuXG4gIHJldHVybiBDdXJzb3JXcmFwcGVyRGVzYztcbn0oV2lkZ2V0Vmlld0Rlc2MpKTtcblxuLy8gQSBtYXJrIGRlc2MgcmVwcmVzZW50cyBhIG1hcmsuIE1heSBoYXZlIG11bHRpcGxlIGNoaWxkcmVuLFxuLy8gZGVwZW5kaW5nIG9uIGhvdyB0aGUgbWFyayBpcyBzcGxpdC4gTm90ZSB0aGF0IG1hcmtzIGFyZSBkcmF3biB1c2luZ1xuLy8gYSBmaXhlZCBuZXN0aW5nIG9yZGVyLCBmb3Igc2ltcGxpY2l0eSBhbmQgcHJlZGljdGFiaWxpdHksIHNvIGluXG4vLyBzb21lIGNhc2VzIHRoZXkgd2lsbCBiZSBzcGxpdCBtb3JlIG9mdGVuIHRoYW4gd291bGQgYXBwZWFyXG4vLyBuZWNlc3NhcnkuXG52YXIgTWFya1ZpZXdEZXNjID0gKGZ1bmN0aW9uIChWaWV3RGVzYykge1xuICBmdW5jdGlvbiBNYXJrVmlld0Rlc2MocGFyZW50LCBtYXJrLCBkb20sIGNvbnRlbnRET00pIHtcbiAgICBWaWV3RGVzYy5jYWxsKHRoaXMsIHBhcmVudCwgW10sIGRvbSwgY29udGVudERPTSk7XG4gICAgdGhpcy5tYXJrID0gbWFyaztcbiAgfVxuXG4gIGlmICggVmlld0Rlc2MgKSBNYXJrVmlld0Rlc2MuX19wcm90b19fID0gVmlld0Rlc2M7XG4gIE1hcmtWaWV3RGVzYy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBWaWV3RGVzYyAmJiBWaWV3RGVzYy5wcm90b3R5cGUgKTtcbiAgTWFya1ZpZXdEZXNjLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE1hcmtWaWV3RGVzYztcblxuICBNYXJrVmlld0Rlc2MuY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlIChwYXJlbnQsIG1hcmssIGlubGluZSwgdmlldykge1xuICAgIHZhciBjdXN0b20gPSBjdXN0b21Ob2RlVmlld3ModmlldylbbWFyay50eXBlLm5hbWVdO1xuICAgIHZhciBzcGVjID0gY3VzdG9tICYmIGN1c3RvbShtYXJrLCB2aWV3KTtcbiAgICBpZiAoIXNwZWMgfHwgIXNwZWMuZG9tKVxuICAgICAgeyBzcGVjID0gcHJvc2VtaXJyb3JNb2RlbC5ET01TZXJpYWxpemVyLnJlbmRlclNwZWMoZG9jdW1lbnQsIG1hcmsudHlwZS5zcGVjLnRvRE9NKG1hcmssIGlubGluZSkpOyB9XG4gICAgcmV0dXJuIG5ldyBNYXJrVmlld0Rlc2MocGFyZW50LCBtYXJrLCBzcGVjLmRvbSwgc3BlYy5jb250ZW50RE9NIHx8IHNwZWMuZG9tKVxuICB9O1xuXG4gIE1hcmtWaWV3RGVzYy5wcm90b3R5cGUucGFyc2VSdWxlID0gZnVuY3Rpb24gcGFyc2VSdWxlICgpIHsgcmV0dXJuIHttYXJrOiB0aGlzLm1hcmsudHlwZS5uYW1lLCBhdHRyczogdGhpcy5tYXJrLmF0dHJzLCBjb250ZW50RWxlbWVudDogdGhpcy5jb250ZW50RE9NfSB9O1xuXG4gIE1hcmtWaWV3RGVzYy5wcm90b3R5cGUubWF0Y2hlc01hcmsgPSBmdW5jdGlvbiBtYXRjaGVzTWFyayAobWFyaykgeyByZXR1cm4gdGhpcy5kaXJ0eSAhPSBOT0RFX0RJUlRZICYmIHRoaXMubWFyay5lcShtYXJrKSB9O1xuXG4gIE1hcmtWaWV3RGVzYy5wcm90b3R5cGUubWFya0RpcnR5ID0gZnVuY3Rpb24gbWFya0RpcnR5IChmcm9tLCB0bykge1xuICAgIFZpZXdEZXNjLnByb3RvdHlwZS5tYXJrRGlydHkuY2FsbCh0aGlzLCBmcm9tLCB0byk7XG4gICAgLy8gTW92ZSBkaXJ0eSBpbmZvIHRvIG5lYXJlc3Qgbm9kZSB2aWV3XG4gICAgaWYgKHRoaXMuZGlydHkgIT0gTk9UX0RJUlRZKSB7XG4gICAgICB2YXIgcGFyZW50ID0gdGhpcy5wYXJlbnQ7XG4gICAgICB3aGlsZSAoIXBhcmVudC5ub2RlKSB7IHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7IH1cbiAgICAgIGlmIChwYXJlbnQuZGlydHkgPCB0aGlzLmRpcnR5KSB7IHBhcmVudC5kaXJ0eSA9IHRoaXMuZGlydHk7IH1cbiAgICAgIHRoaXMuZGlydHkgPSBOT1RfRElSVFk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBNYXJrVmlld0Rlc2M7XG59KFZpZXdEZXNjKSk7XG5cbi8vIE5vZGUgdmlldyBkZXNjcyBhcmUgdGhlIG1haW4sIG1vc3QgY29tbW9uIHR5cGUgb2YgdmlldyBkZXNjLCBhbmRcbi8vIGNvcnJlc3BvbmQgdG8gYW4gYWN0dWFsIG5vZGUgaW4gdGhlIGRvY3VtZW50LiBVbmxpa2UgbWFyayBkZXNjcyxcbi8vIHRoZXkgcG9wdWxhdGUgdGhlaXIgY2hpbGQgYXJyYXkgdGhlbXNlbHZlcy5cbnZhciBOb2RlVmlld0Rlc2MgPSAoZnVuY3Rpb24gKFZpZXdEZXNjKSB7XG4gIGZ1bmN0aW9uIE5vZGVWaWV3RGVzYyhwYXJlbnQsIG5vZGUsIG91dGVyRGVjbywgaW5uZXJEZWNvLCBkb20sIGNvbnRlbnRET00sIG5vZGVET00sIHZpZXcsIHBvcykge1xuICAgIFZpZXdEZXNjLmNhbGwodGhpcywgcGFyZW50LCBub2RlLmlzTGVhZiA/IG5vdGhpbmcgOiBbXSwgZG9tLCBjb250ZW50RE9NKTtcbiAgICB0aGlzLm5vZGVET00gPSBub2RlRE9NO1xuICAgIHRoaXMubm9kZSA9IG5vZGU7XG4gICAgdGhpcy5vdXRlckRlY28gPSBvdXRlckRlY287XG4gICAgdGhpcy5pbm5lckRlY28gPSBpbm5lckRlY287XG4gICAgaWYgKGNvbnRlbnRET00pIHsgdGhpcy51cGRhdGVDaGlsZHJlbih2aWV3LCBwb3MpOyB9XG4gIH1cblxuICBpZiAoIFZpZXdEZXNjICkgTm9kZVZpZXdEZXNjLl9fcHJvdG9fXyA9IFZpZXdEZXNjO1xuICBOb2RlVmlld0Rlc2MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggVmlld0Rlc2MgJiYgVmlld0Rlc2MucHJvdG90eXBlICk7XG4gIE5vZGVWaWV3RGVzYy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBOb2RlVmlld0Rlc2M7XG5cbiAgdmFyIHByb3RvdHlwZUFjY2Vzc29ycyQyID0geyBzaXplOiB7fSxib3JkZXI6IHt9IH07XG5cbiAgLy8gQnkgZGVmYXVsdCwgYSBub2RlIGlzIHJlbmRlcmVkIHVzaW5nIHRoZSBgdG9ET01gIG1ldGhvZCBmcm9tIHRoZVxuICAvLyBub2RlIHR5cGUgc3BlYy4gQnV0IGNsaWVudCBjb2RlIGNhbiB1c2UgdGhlIGBub2RlVmlld3NgIHNwZWMgdG9cbiAgLy8gc3VwcGx5IGEgY3VzdG9tIG5vZGUgdmlldywgd2hpY2ggY2FuIGluZmx1ZW5jZSB2YXJpb3VzIGFzcGVjdHMgb2ZcbiAgLy8gdGhlIHdheSB0aGUgbm9kZSB3b3Jrcy5cbiAgLy9cbiAgLy8gKFVzaW5nIHN1YmNsYXNzaW5nIGZvciB0aGlzIHdhcyBpbnRlbnRpb25hbGx5IGRlY2lkZWQgYWdhaW5zdCxcbiAgLy8gc2luY2UgaXQnZCByZXF1aXJlIGV4cG9zaW5nIGEgd2hvbGUgc2xldyBvZiBmaW5uaWNreVxuICAvLyBpbXBsZW1lbnRhdGlvbiBkZXRhaWxzIHRvIHRoZSB1c2VyIGNvZGUgdGhhdCB0aGV5IHByb2JhYmx5IHdpbGxcbiAgLy8gbmV2ZXIgbmVlZC4pXG4gIE5vZGVWaWV3RGVzYy5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUgKHBhcmVudCwgbm9kZSwgb3V0ZXJEZWNvLCBpbm5lckRlY28sIHZpZXcsIHBvcykge1xuICAgIHZhciBjdXN0b20gPSBjdXN0b21Ob2RlVmlld3Modmlldylbbm9kZS50eXBlLm5hbWVdLCBkZXNjT2JqO1xuICAgIHZhciBzcGVjID0gY3VzdG9tICYmIGN1c3RvbShub2RlLCB2aWV3LCBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyAoVGhpcyBpcyBhIGZ1bmN0aW9uIHRoYXQgYWxsb3dzIHRoZSBjdXN0b20gdmlldyB0byBmaW5kIGl0c1xuICAgICAgLy8gb3duIHBvc2l0aW9uKVxuICAgICAgaWYgKCFkZXNjT2JqKSB7IHJldHVybiBwb3MgfVxuICAgICAgaWYgKGRlc2NPYmoucGFyZW50KSB7IHJldHVybiBkZXNjT2JqLnBhcmVudC5wb3NCZWZvcmVDaGlsZChkZXNjT2JqKSB9XG4gICAgfSwgb3V0ZXJEZWNvKTtcblxuICAgIHZhciBkb20gPSBzcGVjICYmIHNwZWMuZG9tLCBjb250ZW50RE9NID0gc3BlYyAmJiBzcGVjLmNvbnRlbnRET007XG4gICAgaWYgKG5vZGUuaXNUZXh0KSB7XG4gICAgICBpZiAoIWRvbSkgeyBkb20gPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShub2RlLnRleHQpOyB9XG4gICAgICBlbHNlIGlmIChkb20ubm9kZVR5cGUgIT0gMykgeyB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIlRleHQgbXVzdCBiZSByZW5kZXJlZCBhcyBhIERPTSB0ZXh0IG5vZGVcIikgfVxuICAgIH0gZWxzZSBpZiAoIWRvbSkge1xuICAgICAgdmFyIGFzc2lnbjtcbiAgICAgICgoYXNzaWduID0gcHJvc2VtaXJyb3JNb2RlbC5ET01TZXJpYWxpemVyLnJlbmRlclNwZWMoZG9jdW1lbnQsIG5vZGUudHlwZS5zcGVjLnRvRE9NKG5vZGUpKSwgZG9tID0gYXNzaWduLmRvbSwgY29udGVudERPTSA9IGFzc2lnbi5jb250ZW50RE9NKSk7XG4gICAgfVxuICAgIGlmICghY29udGVudERPTSAmJiAhbm9kZS5pc1RleHQgJiYgZG9tLm5vZGVOYW1lICE9IFwiQlJcIikgeyAvLyBDaHJvbWUgZ2V0cyBjb25mdXNlZCBieSA8YnIgY29udGVudGVkaXRhYmxlPWZhbHNlPlxuICAgICAgZG9tLmNvbnRlbnRFZGl0YWJsZSA9IGZhbHNlO1xuICAgICAgaWYgKG5vZGUudHlwZS5zcGVjLmRyYWdnYWJsZSkgeyBkb20uZHJhZ2dhYmxlID0gdHJ1ZTsgfVxuICAgIH1cblxuICAgIHZhciBub2RlRE9NID0gZG9tO1xuICAgIGRvbSA9IGFwcGx5T3V0ZXJEZWNvKGRvbSwgb3V0ZXJEZWNvLCBub2RlKTtcblxuICAgIGlmIChzcGVjKVxuICAgICAgeyByZXR1cm4gZGVzY09iaiA9IG5ldyBDdXN0b21Ob2RlVmlld0Rlc2MocGFyZW50LCBub2RlLCBvdXRlckRlY28sIGlubmVyRGVjbywgZG9tLCBjb250ZW50RE9NLCBub2RlRE9NLCBzcGVjLCB2aWV3KSB9XG4gICAgZWxzZSBpZiAobm9kZS5pc1RleHQpXG4gICAgICB7IHJldHVybiBuZXcgVGV4dFZpZXdEZXNjKHBhcmVudCwgbm9kZSwgb3V0ZXJEZWNvLCBpbm5lckRlY28sIGRvbSwgbm9kZURPTSwgdmlldykgfVxuICAgIGVsc2VcbiAgICAgIHsgcmV0dXJuIG5ldyBOb2RlVmlld0Rlc2MocGFyZW50LCBub2RlLCBvdXRlckRlY28sIGlubmVyRGVjbywgZG9tLCBjb250ZW50RE9NLCBub2RlRE9NLCB2aWV3LCBwb3MgKyAxKSB9XG4gIH07XG5cbiAgTm9kZVZpZXdEZXNjLnByb3RvdHlwZS5wYXJzZVJ1bGUgPSBmdW5jdGlvbiBwYXJzZVJ1bGUgKCkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgLy8gRklYTUUgdGhlIGFzc3VtcHRpb24gdGhhdCB0aGlzIGNhbiBhbHdheXMgcmV0dXJuIHRoZSBjdXJyZW50XG4gICAgLy8gYXR0cnMgbWVhbnMgdGhhdCBpZiB0aGUgdXNlciBzb21laG93IG1hbmFnZXMgdG8gY2hhbmdlIHRoZVxuICAgIC8vIGF0dHJzIGluIHRoZSBkb20sIHRoYXQgd29uJ3QgYmUgcGlja2VkIHVwLiBOb3QgZW50aXJlbHkgc3VyZVxuICAgIC8vIHdoZXRoZXIgdGhpcyBpcyBhIHByb2JsZW1cbiAgICBpZiAodGhpcy5jb250ZW50RE9NICYmICF0aGlzLmNvbnRlbnRMb3N0KVxuICAgICAgeyByZXR1cm4ge25vZGU6IHRoaXMubm9kZS50eXBlLm5hbWUsIGF0dHJzOiB0aGlzLm5vZGUuYXR0cnMsIGNvbnRlbnRFbGVtZW50OiB0aGlzLmNvbnRlbnRET019IH1cbiAgICBlbHNlXG4gICAgICB7IHJldHVybiB7bm9kZTogdGhpcy5ub2RlLnR5cGUubmFtZSwgYXR0cnM6IHRoaXMubm9kZS5hdHRycywgZ2V0Q29udGVudDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcyQxLmNvbnRlbnRET00gPyBwcm9zZW1pcnJvck1vZGVsLkZyYWdtZW50LmVtcHR5IDogdGhpcyQxLm5vZGUuY29udGVudDsgfX0gfVxuICB9O1xuXG4gIE5vZGVWaWV3RGVzYy5wcm90b3R5cGUubWF0Y2hlc05vZGUgPSBmdW5jdGlvbiBtYXRjaGVzTm9kZSAobm9kZSwgb3V0ZXJEZWNvLCBpbm5lckRlY28pIHtcbiAgICByZXR1cm4gdGhpcy5kaXJ0eSA9PSBOT1RfRElSVFkgJiYgbm9kZS5lcSh0aGlzLm5vZGUpICYmXG4gICAgICBzYW1lT3V0ZXJEZWNvKG91dGVyRGVjbywgdGhpcy5vdXRlckRlY28pICYmIGlubmVyRGVjby5lcSh0aGlzLmlubmVyRGVjbylcbiAgfTtcblxuICBwcm90b3R5cGVBY2Nlc3NvcnMkMi5zaXplLmdldCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMubm9kZS5ub2RlU2l6ZSB9O1xuXG4gIHByb3RvdHlwZUFjY2Vzc29ycyQyLmJvcmRlci5nZXQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLm5vZGUuaXNMZWFmID8gMCA6IDEgfTtcblxuICAvLyBTeW5jcyBgdGhpcy5jaGlsZHJlbmAgdG8gbWF0Y2ggYHRoaXMubm9kZS5jb250ZW50YCBhbmQgdGhlIGxvY2FsXG4gIC8vIGRlY29yYXRpb25zLCBwb3NzaWJseSBpbnRyb2R1Y2luZyBuZXN0aW5nIGZvciBtYXJrcy4gVGhlbiwgaW4gYVxuICAvLyBzZXBhcmF0ZSBzdGVwLCBzeW5jcyB0aGUgRE9NIGluc2lkZSBgdGhpcy5jb250ZW50RE9NYCB0b1xuICAvLyBgdGhpcy5jaGlsZHJlbmAuXG4gIE5vZGVWaWV3RGVzYy5wcm90b3R5cGUudXBkYXRlQ2hpbGRyZW4gPSBmdW5jdGlvbiB1cGRhdGVDaGlsZHJlbiAodmlldywgcG9zKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICB2YXIgdXBkYXRlciA9IG5ldyBWaWV3VHJlZVVwZGF0ZXIodGhpcyksIGlubGluZSA9IHRoaXMubm9kZS5pbmxpbmVDb250ZW50O1xuICAgIGl0ZXJEZWNvKHRoaXMubm9kZSwgdGhpcy5pbm5lckRlY28sIGZ1bmN0aW9uICh3aWRnZXQsIGkpIHtcbiAgICAgIGlmICh3aWRnZXQuc3BlYy5tYXJrcylcbiAgICAgICAgeyB1cGRhdGVyLnN5bmNUb01hcmtzKHdpZGdldC5zcGVjLm1hcmtzLCBpbmxpbmUsIHZpZXcpOyB9XG4gICAgICBlbHNlIGlmICh3aWRnZXQudHlwZS5zaWRlID49IDApXG4gICAgICAgIHsgdXBkYXRlci5zeW5jVG9NYXJrcyhpID09IHRoaXMkMS5ub2RlLmNoaWxkQ291bnQgPyBwcm9zZW1pcnJvck1vZGVsLk1hcmsubm9uZSA6IHRoaXMkMS5ub2RlLmNoaWxkKGkpLm1hcmtzLCBpbmxpbmUsIHZpZXcpOyB9XG4gICAgICAvLyBJZiB0aGUgbmV4dCBub2RlIGlzIGEgZGVzYyBtYXRjaGluZyB0aGlzIHdpZGdldCwgcmV1c2UgaXQsXG4gICAgICAvLyBvdGhlcndpc2UgaW5zZXJ0IHRoZSB3aWRnZXQgYXMgYSBuZXcgdmlldyBkZXNjLlxuICAgICAgdXBkYXRlci5wbGFjZVdpZGdldCh3aWRnZXQsIHZpZXcsIHBvcyk7XG4gICAgfSwgZnVuY3Rpb24gKGNoaWxkLCBvdXRlckRlY28sIGlubmVyRGVjbywgaSkge1xuICAgICAgLy8gTWFrZSBzdXJlIHRoZSB3cmFwcGluZyBtYXJrIGRlc2NzIG1hdGNoIHRoZSBub2RlJ3MgbWFya3MuXG4gICAgICB1cGRhdGVyLnN5bmNUb01hcmtzKGNoaWxkLm1hcmtzLCBpbmxpbmUsIHZpZXcpO1xuICAgICAgLy8gRWl0aGVyIGZpbmQgYW4gZXhpc3RpbmcgZGVzYyB0aGF0IGV4YWN0bHkgbWF0Y2hlcyB0aGlzIG5vZGUsXG4gICAgICAvLyBhbmQgZHJvcCB0aGUgZGVzY3MgYmVmb3JlIGl0LlxuICAgICAgdXBkYXRlci5maW5kTm9kZU1hdGNoKGNoaWxkLCBvdXRlckRlY28sIGlubmVyRGVjbywgaSkgfHxcbiAgICAgICAgLy8gT3IgdHJ5IHVwZGF0aW5nIHRoZSBuZXh0IGRlc2MgdG8gcmVmbGVjdCB0aGlzIG5vZGUuXG4gICAgICAgIHVwZGF0ZXIudXBkYXRlTmV4dE5vZGUoY2hpbGQsIG91dGVyRGVjbywgaW5uZXJEZWNvLCB2aWV3LCBpKSB8fFxuICAgICAgICAvLyBPciBqdXN0IGFkZCBpdCBhcyBhIG5ldyBkZXNjLlxuICAgICAgICB1cGRhdGVyLmFkZE5vZGUoY2hpbGQsIG91dGVyRGVjbywgaW5uZXJEZWNvLCB2aWV3LCBwb3MpO1xuICAgICAgcG9zICs9IGNoaWxkLm5vZGVTaXplO1xuICAgIH0pO1xuICAgIC8vIERyb3AgYWxsIHJlbWFpbmluZyBkZXNjcyBhZnRlciB0aGUgY3VycmVudCBwb3NpdGlvbi5cbiAgICB1cGRhdGVyLnN5bmNUb01hcmtzKG5vdGhpbmcsIGlubGluZSwgdmlldyk7XG4gICAgaWYgKHRoaXMubm9kZS5pc1RleHRibG9jaykgeyB1cGRhdGVyLmFkZFRleHRibG9ja0hhY2tzKCk7IH1cbiAgICB1cGRhdGVyLmRlc3Ryb3lSZXN0KCk7XG5cbiAgICAvLyBTeW5jIHRoZSBET00gaWYgYW55dGhpbmcgY2hhbmdlZFxuICAgIGlmICh1cGRhdGVyLmNoYW5nZWQgfHwgdGhpcy5kaXJ0eSA9PSBDT05URU5UX0RJUlRZKSB7IHRoaXMucmVuZGVyQ2hpbGRyZW4oKTsgfVxuICB9O1xuXG4gIE5vZGVWaWV3RGVzYy5wcm90b3R5cGUucmVuZGVyQ2hpbGRyZW4gPSBmdW5jdGlvbiByZW5kZXJDaGlsZHJlbiAoKSB7XG4gICAgcmVuZGVyRGVzY3ModGhpcy5jb250ZW50RE9NLCB0aGlzLmNoaWxkcmVuLCBOb2RlVmlld0Rlc2MuaXMpO1xuICAgIGlmIChyZXN1bHQuaW9zKSB7IGlvc0hhY2tzKHRoaXMuZG9tKTsgfVxuICB9O1xuXG4gIC8vIDogKE5vZGUsIFtEZWNvcmF0aW9uXSwgRGVjb3JhdGlvblNldCwgRWRpdG9yVmlldykg4oaSIGJvb2xcbiAgLy8gSWYgdGhpcyBkZXNjIGJlIHVwZGF0ZWQgdG8gbWF0Y2ggdGhlIGdpdmVuIG5vZGUgZGVjb3JhdGlvbixcbiAgLy8gZG8gc28gYW5kIHJldHVybiB0cnVlLlxuICBOb2RlVmlld0Rlc2MucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSAobm9kZSwgb3V0ZXJEZWNvLCBpbm5lckRlY28sIHZpZXcpIHtcbiAgICBpZiAodGhpcy5kaXJ0eSA9PSBOT0RFX0RJUlRZIHx8XG4gICAgICAgICFub2RlLnNhbWVNYXJrdXAodGhpcy5ub2RlKSkgeyByZXR1cm4gZmFsc2UgfVxuICAgIHRoaXMudXBkYXRlSW5uZXIobm9kZSwgb3V0ZXJEZWNvLCBpbm5lckRlY28sIHZpZXcpO1xuICAgIHJldHVybiB0cnVlXG4gIH07XG5cbiAgTm9kZVZpZXdEZXNjLnByb3RvdHlwZS51cGRhdGVJbm5lciA9IGZ1bmN0aW9uIHVwZGF0ZUlubmVyIChub2RlLCBvdXRlckRlY28sIGlubmVyRGVjbywgdmlldykge1xuICAgIHRoaXMudXBkYXRlT3V0ZXJEZWNvKG91dGVyRGVjbyk7XG4gICAgdGhpcy5ub2RlID0gbm9kZTtcbiAgICB0aGlzLmlubmVyRGVjbyA9IGlubmVyRGVjbztcbiAgICBpZiAodGhpcy5jb250ZW50RE9NKSB7IHRoaXMudXBkYXRlQ2hpbGRyZW4odmlldywgdGhpcy5wb3NBdFN0YXJ0KTsgfVxuICAgIHRoaXMuZGlydHkgPSBOT1RfRElSVFk7XG4gIH07XG5cbiAgTm9kZVZpZXdEZXNjLnByb3RvdHlwZS51cGRhdGVPdXRlckRlY28gPSBmdW5jdGlvbiB1cGRhdGVPdXRlckRlY28gKG91dGVyRGVjbykge1xuICAgIGlmIChzYW1lT3V0ZXJEZWNvKG91dGVyRGVjbywgdGhpcy5vdXRlckRlY28pKSB7IHJldHVybiB9XG4gICAgdmFyIG5lZWRzV3JhcCA9IHRoaXMubm9kZURPTS5ub2RlVHlwZSAhPSAxO1xuICAgIHZhciBvbGRET00gPSB0aGlzLmRvbTtcbiAgICB0aGlzLmRvbSA9IHBhdGNoT3V0ZXJEZWNvKHRoaXMuZG9tLCB0aGlzLm5vZGVET00sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wdXRlT3V0ZXJEZWNvKHRoaXMub3V0ZXJEZWNvLCB0aGlzLm5vZGUsIG5lZWRzV3JhcCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wdXRlT3V0ZXJEZWNvKG91dGVyRGVjbywgdGhpcy5ub2RlLCBuZWVkc1dyYXApKTtcbiAgICBpZiAodGhpcy5kb20gIT0gb2xkRE9NKSB7XG4gICAgICBvbGRET00ucG1WaWV3RGVzYyA9IG51bGw7XG4gICAgICB0aGlzLmRvbS5wbVZpZXdEZXNjID0gdGhpcztcbiAgICB9XG4gICAgdGhpcy5vdXRlckRlY28gPSBvdXRlckRlY287XG4gIH07XG5cbiAgLy8gTWFyayB0aGlzIG5vZGUgYXMgYmVpbmcgdGhlIHNlbGVjdGVkIG5vZGUuXG4gIE5vZGVWaWV3RGVzYy5wcm90b3R5cGUuc2VsZWN0Tm9kZSA9IGZ1bmN0aW9uIHNlbGVjdE5vZGUgKCkge1xuICAgIHRoaXMubm9kZURPTS5jbGFzc0xpc3QuYWRkKFwiUHJvc2VNaXJyb3Itc2VsZWN0ZWRub2RlXCIpO1xuICB9O1xuXG4gIC8vIFJlbW92ZSBzZWxlY3RlZCBub2RlIG1hcmtpbmcgZnJvbSB0aGlzIG5vZGUuXG4gIE5vZGVWaWV3RGVzYy5wcm90b3R5cGUuZGVzZWxlY3ROb2RlID0gZnVuY3Rpb24gZGVzZWxlY3ROb2RlICgpIHtcbiAgICB0aGlzLm5vZGVET00uY2xhc3NMaXN0LnJlbW92ZShcIlByb3NlTWlycm9yLXNlbGVjdGVkbm9kZVwiKTtcbiAgfTtcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyggTm9kZVZpZXdEZXNjLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzJDIgKTtcblxuICByZXR1cm4gTm9kZVZpZXdEZXNjO1xufShWaWV3RGVzYykpO1xuXG4vLyBDcmVhdGUgYSB2aWV3IGRlc2MgZm9yIHRoZSB0b3AtbGV2ZWwgZG9jdW1lbnQgbm9kZSwgdG8gYmUgZXhwb3J0ZWRcbi8vIGFuZCB1c2VkIGJ5IHRoZSB2aWV3IGNsYXNzLlxuZnVuY3Rpb24gZG9jVmlld0Rlc2MoZG9jLCBvdXRlckRlY28sIGlubmVyRGVjbywgZG9tLCB2aWV3KSB7XG4gIGFwcGx5T3V0ZXJEZWNvKGRvbSwgb3V0ZXJEZWNvLCBkb2MsIHRydWUpO1xuICByZXR1cm4gbmV3IE5vZGVWaWV3RGVzYyhudWxsLCBkb2MsIG91dGVyRGVjbywgaW5uZXJEZWNvLCBkb20sIGRvbSwgZG9tLCB2aWV3LCAwKVxufVxuXG52YXIgVGV4dFZpZXdEZXNjID0gKGZ1bmN0aW9uIChOb2RlVmlld0Rlc2MpIHtcbiAgZnVuY3Rpb24gVGV4dFZpZXdEZXNjKHBhcmVudCwgbm9kZSwgb3V0ZXJEZWNvLCBpbm5lckRlY28sIGRvbSwgbm9kZURPTSwgdmlldykge1xuICAgIE5vZGVWaWV3RGVzYy5jYWxsKHRoaXMsIHBhcmVudCwgbm9kZSwgb3V0ZXJEZWNvLCBpbm5lckRlY28sIGRvbSwgbnVsbCwgbm9kZURPTSwgdmlldyk7XG4gIH1cblxuICBpZiAoIE5vZGVWaWV3RGVzYyApIFRleHRWaWV3RGVzYy5fX3Byb3RvX18gPSBOb2RlVmlld0Rlc2M7XG4gIFRleHRWaWV3RGVzYy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBOb2RlVmlld0Rlc2MgJiYgTm9kZVZpZXdEZXNjLnByb3RvdHlwZSApO1xuICBUZXh0Vmlld0Rlc2MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gVGV4dFZpZXdEZXNjO1xuXG4gIFRleHRWaWV3RGVzYy5wcm90b3R5cGUucGFyc2VSdWxlID0gZnVuY3Rpb24gcGFyc2VSdWxlICgpIHtcbiAgICB2YXIgcGFyZW50ID0gdGhpcy5ub2RlRE9NLnBhcmVudE5vZGU7XG4gICAgcmV0dXJuIHBhcmVudCA/IHtza2lwOiBwYXJlbnR9IDoge2lnbm9yZTogdHJ1ZX1cbiAgfTtcblxuICBUZXh0Vmlld0Rlc2MucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSAobm9kZSwgb3V0ZXJEZWNvKSB7XG4gICAgaWYgKHRoaXMuZGlydHkgPT0gTk9ERV9ESVJUWSB8fCAodGhpcy5kaXJ0eSAhPSBOT1RfRElSVFkgJiYgIXRoaXMuaW5QYXJlbnQoKSkgfHxcbiAgICAgICAgIW5vZGUuc2FtZU1hcmt1cCh0aGlzLm5vZGUpKSB7IHJldHVybiBmYWxzZSB9XG4gICAgdGhpcy51cGRhdGVPdXRlckRlY28ob3V0ZXJEZWNvKTtcbiAgICBpZiAoKHRoaXMuZGlydHkgIT0gTk9UX0RJUlRZIHx8IG5vZGUudGV4dCAhPSB0aGlzLm5vZGUudGV4dCkgJiYgbm9kZS50ZXh0ICE9IHRoaXMubm9kZURPTS5ub2RlVmFsdWUpXG4gICAgICB7IHRoaXMubm9kZURPTS5ub2RlVmFsdWUgPSBub2RlLnRleHQ7IH1cbiAgICB0aGlzLm5vZGUgPSBub2RlO1xuICAgIHRoaXMuZGlydHkgPSBOT1RfRElSVFk7XG4gICAgcmV0dXJuIHRydWVcbiAgfTtcblxuICBUZXh0Vmlld0Rlc2MucHJvdG90eXBlLmluUGFyZW50ID0gZnVuY3Rpb24gaW5QYXJlbnQgKCkge1xuICAgIHZhciBwYXJlbnRET00gPSB0aGlzLnBhcmVudC5jb250ZW50RE9NO1xuICAgIGZvciAodmFyIG4gPSB0aGlzLm5vZGVET007IG47IG4gPSBuLnBhcmVudE5vZGUpIHsgaWYgKG4gPT0gcGFyZW50RE9NKSB7IHJldHVybiB0cnVlIH0gfVxuICAgIHJldHVybiBmYWxzZVxuICB9O1xuXG4gIFRleHRWaWV3RGVzYy5wcm90b3R5cGUuZG9tRnJvbVBvcyA9IGZ1bmN0aW9uIGRvbUZyb21Qb3MgKHBvcykge1xuICAgIHJldHVybiB7bm9kZTogdGhpcy5ub2RlRE9NLCBvZmZzZXQ6IHBvc31cbiAgfTtcblxuICBUZXh0Vmlld0Rlc2MucHJvdG90eXBlLmxvY2FsUG9zRnJvbURPTSA9IGZ1bmN0aW9uIGxvY2FsUG9zRnJvbURPTSAoZG9tLCBvZmZzZXQsIGJpYXMpIHtcbiAgICBpZiAoZG9tID09IHRoaXMubm9kZURPTSkgeyByZXR1cm4gdGhpcy5wb3NBdFN0YXJ0ICsgTWF0aC5taW4ob2Zmc2V0LCB0aGlzLm5vZGUudGV4dC5sZW5ndGgpIH1cbiAgICByZXR1cm4gTm9kZVZpZXdEZXNjLnByb3RvdHlwZS5sb2NhbFBvc0Zyb21ET00uY2FsbCh0aGlzLCBkb20sIG9mZnNldCwgYmlhcylcbiAgfTtcblxuICBUZXh0Vmlld0Rlc2MucHJvdG90eXBlLmlnbm9yZU11dGF0aW9uID0gZnVuY3Rpb24gaWdub3JlTXV0YXRpb24gKG11dGF0aW9uKSB7XG4gICAgcmV0dXJuIG11dGF0aW9uLnR5cGUgIT0gXCJjaGFyYWN0ZXJEYXRhXCJcbiAgfTtcblxuICByZXR1cm4gVGV4dFZpZXdEZXNjO1xufShOb2RlVmlld0Rlc2MpKTtcblxuLy8gQSBkdW1teSBkZXNjIHVzZWQgdG8gdGFnIHRyYWlsaW5nIEJSIG9yIHNwYW4gbm9kZXMgY3JlYXRlZCB0byB3b3JrXG4vLyBhcm91bmQgY29udGVudEVkaXRhYmxlIHRlcnJpYmxlbmVzcy5cbnZhciBCUkhhY2tWaWV3RGVzYyA9IChmdW5jdGlvbiAoVmlld0Rlc2MpIHtcbiAgZnVuY3Rpb24gQlJIYWNrVmlld0Rlc2MgKCkge1xuICAgIFZpZXdEZXNjLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICBpZiAoIFZpZXdEZXNjICkgQlJIYWNrVmlld0Rlc2MuX19wcm90b19fID0gVmlld0Rlc2M7XG4gIEJSSGFja1ZpZXdEZXNjLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFZpZXdEZXNjICYmIFZpZXdEZXNjLnByb3RvdHlwZSApO1xuICBCUkhhY2tWaWV3RGVzYy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBCUkhhY2tWaWV3RGVzYztcblxuICBCUkhhY2tWaWV3RGVzYy5wcm90b3R5cGUucGFyc2VSdWxlID0gZnVuY3Rpb24gcGFyc2VSdWxlICgpIHsgcmV0dXJuIHtpZ25vcmU6IHRydWV9IH07XG4gIEJSSGFja1ZpZXdEZXNjLnByb3RvdHlwZS5tYXRjaGVzSGFjayA9IGZ1bmN0aW9uIG1hdGNoZXNIYWNrICgpIHsgcmV0dXJuIHRoaXMuZGlydHkgPT0gTk9UX0RJUlRZIH07XG5cbiAgcmV0dXJuIEJSSGFja1ZpZXdEZXNjO1xufShWaWV3RGVzYykpO1xuXG4vLyBBIHNlcGFyYXRlIHN1YmNsYXNzIGlzIHVzZWQgZm9yIGN1c3RvbWl6ZWQgbm9kZSB2aWV3cywgc28gdGhhdCB0aGVcbi8vIGV4dHJhIGNoZWNrcyBvbmx5IGhhdmUgdG8gYmUgbWFkZSBmb3Igbm9kZXMgdGhhdCBhcmUgYWN0dWFsbHlcbi8vIGN1c3RvbWl6ZWQuXG52YXIgQ3VzdG9tTm9kZVZpZXdEZXNjID0gKGZ1bmN0aW9uIChOb2RlVmlld0Rlc2MpIHtcbiAgZnVuY3Rpb24gQ3VzdG9tTm9kZVZpZXdEZXNjKHBhcmVudCwgbm9kZSwgb3V0ZXJEZWNvLCBpbm5lckRlY28sIGRvbSwgY29udGVudERPTSwgbm9kZURPTSwgc3BlYywgdmlldykge1xuICAgIE5vZGVWaWV3RGVzYy5jYWxsKHRoaXMsIHBhcmVudCwgbm9kZSwgb3V0ZXJEZWNvLCBpbm5lckRlY28sIGRvbSwgY29udGVudERPTSwgbm9kZURPTSwgdmlldyk7XG4gICAgdGhpcy5zcGVjID0gc3BlYztcbiAgfVxuXG4gIGlmICggTm9kZVZpZXdEZXNjICkgQ3VzdG9tTm9kZVZpZXdEZXNjLl9fcHJvdG9fXyA9IE5vZGVWaWV3RGVzYztcbiAgQ3VzdG9tTm9kZVZpZXdEZXNjLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIE5vZGVWaWV3RGVzYyAmJiBOb2RlVmlld0Rlc2MucHJvdG90eXBlICk7XG4gIEN1c3RvbU5vZGVWaWV3RGVzYy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDdXN0b21Ob2RlVmlld0Rlc2M7XG5cbiAgLy8gQSBjdXN0b20gYHVwZGF0ZWAgbWV0aG9kIGdldHMgdG8gZGVjaWRlIHdoZXRoZXIgdGhlIHVwZGF0ZSBnb2VzXG4gIC8vIHRocm91Z2guIElmIGl0IGRvZXMsIGFuZCB0aGVyZSdzIGEgYGNvbnRlbnRET01gIG5vZGUsIG91ciBsb2dpY1xuICAvLyB1cGRhdGVzIHRoZSBjaGlsZHJlbi5cbiAgQ3VzdG9tTm9kZVZpZXdEZXNjLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUgKG5vZGUsIG91dGVyRGVjbywgaW5uZXJEZWNvLCB2aWV3KSB7XG4gICAgaWYgKHRoaXMuZGlydHkgPT0gTk9ERV9ESVJUWSkgeyByZXR1cm4gZmFsc2UgfVxuICAgIGlmICh0aGlzLnNwZWMudXBkYXRlKSB7XG4gICAgICB2YXIgcmVzdWx0JCQxID0gdGhpcy5zcGVjLnVwZGF0ZShub2RlLCBvdXRlckRlY28pO1xuICAgICAgaWYgKHJlc3VsdCQkMSkgeyB0aGlzLnVwZGF0ZUlubmVyKG5vZGUsIG91dGVyRGVjbywgaW5uZXJEZWNvLCB2aWV3KTsgfVxuICAgICAgcmV0dXJuIHJlc3VsdCQkMVxuICAgIH0gZWxzZSBpZiAoIXRoaXMuY29udGVudERPTSAmJiAhbm9kZS5pc0xlYWYpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gTm9kZVZpZXdEZXNjLnByb3RvdHlwZS51cGRhdGUuY2FsbCh0aGlzLCBub2RlLCBvdXRlckRlY28sIGlubmVyRGVjbywgdmlldylcbiAgICB9XG4gIH07XG5cbiAgQ3VzdG9tTm9kZVZpZXdEZXNjLnByb3RvdHlwZS5zZWxlY3ROb2RlID0gZnVuY3Rpb24gc2VsZWN0Tm9kZSAoKSB7XG4gICAgdGhpcy5zcGVjLnNlbGVjdE5vZGUgPyB0aGlzLnNwZWMuc2VsZWN0Tm9kZSgpIDogTm9kZVZpZXdEZXNjLnByb3RvdHlwZS5zZWxlY3ROb2RlLmNhbGwodGhpcyk7XG4gIH07XG5cbiAgQ3VzdG9tTm9kZVZpZXdEZXNjLnByb3RvdHlwZS5kZXNlbGVjdE5vZGUgPSBmdW5jdGlvbiBkZXNlbGVjdE5vZGUgKCkge1xuICAgIHRoaXMuc3BlYy5kZXNlbGVjdE5vZGUgPyB0aGlzLnNwZWMuZGVzZWxlY3ROb2RlKCkgOiBOb2RlVmlld0Rlc2MucHJvdG90eXBlLmRlc2VsZWN0Tm9kZS5jYWxsKHRoaXMpO1xuICB9O1xuXG4gIEN1c3RvbU5vZGVWaWV3RGVzYy5wcm90b3R5cGUuc2V0U2VsZWN0aW9uID0gZnVuY3Rpb24gc2V0U2VsZWN0aW9uIChhbmNob3IsIGhlYWQsIHJvb3QpIHtcbiAgICB0aGlzLnNwZWMuc2V0U2VsZWN0aW9uID8gdGhpcy5zcGVjLnNldFNlbGVjdGlvbihhbmNob3IsIGhlYWQsIHJvb3QpIDogTm9kZVZpZXdEZXNjLnByb3RvdHlwZS5zZXRTZWxlY3Rpb24uY2FsbCh0aGlzLCBhbmNob3IsIGhlYWQsIHJvb3QpO1xuICB9O1xuXG4gIEN1c3RvbU5vZGVWaWV3RGVzYy5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKCkge1xuICAgIGlmICh0aGlzLnNwZWMuZGVzdHJveSkgeyB0aGlzLnNwZWMuZGVzdHJveSgpOyB9XG4gICAgTm9kZVZpZXdEZXNjLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG4gIH07XG5cbiAgQ3VzdG9tTm9kZVZpZXdEZXNjLnByb3RvdHlwZS5zdG9wRXZlbnQgPSBmdW5jdGlvbiBzdG9wRXZlbnQgKGV2ZW50KSB7XG4gICAgcmV0dXJuIHRoaXMuc3BlYy5zdG9wRXZlbnQgPyB0aGlzLnNwZWMuc3RvcEV2ZW50KGV2ZW50KSA6IGZhbHNlXG4gIH07XG5cbiAgQ3VzdG9tTm9kZVZpZXdEZXNjLnByb3RvdHlwZS5pZ25vcmVNdXRhdGlvbiA9IGZ1bmN0aW9uIGlnbm9yZU11dGF0aW9uIChtdXRhdGlvbikge1xuICAgIHJldHVybiB0aGlzLnNwZWMuaWdub3JlTXV0YXRpb24gPyB0aGlzLnNwZWMuaWdub3JlTXV0YXRpb24obXV0YXRpb24pIDogTm9kZVZpZXdEZXNjLnByb3RvdHlwZS5pZ25vcmVNdXRhdGlvbi5jYWxsKHRoaXMsIG11dGF0aW9uKVxuICB9O1xuXG4gIHJldHVybiBDdXN0b21Ob2RlVmlld0Rlc2M7XG59KE5vZGVWaWV3RGVzYykpO1xuXG4vLyA6IChkb20uTm9kZSwgW1ZpZXdEZXNjXSlcbi8vIFN5bmMgdGhlIGNvbnRlbnQgb2YgdGhlIGdpdmVuIERPTSBub2RlIHdpdGggdGhlIG5vZGVzIGFzc29jaWF0ZWRcbi8vIHdpdGggdGhlIGdpdmVuIGFycmF5IG9mIHZpZXcgZGVzY3MsIHJlY3Vyc2luZyBpbnRvIG1hcmsgZGVzY3Ncbi8vIGJlY2F1c2UgdGhpcyBzaG91bGQgc3luYyB0aGUgc3VidHJlZSBmb3IgYSB3aG9sZSBub2RlIGF0IGEgdGltZS5cbmZ1bmN0aW9uIHJlbmRlckRlc2NzKHBhcmVudERPTSwgZGVzY3MpIHtcbiAgdmFyIGRvbSA9IHBhcmVudERPTS5maXJzdENoaWxkO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGRlc2NzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGRlc2MgPSBkZXNjc1tpXSwgY2hpbGRET00gPSBkZXNjLmRvbTtcbiAgICBpZiAoY2hpbGRET00ucGFyZW50Tm9kZSA9PSBwYXJlbnRET00pIHtcbiAgICAgIHdoaWxlIChjaGlsZERPTSAhPSBkb20pIHsgZG9tID0gcm0oZG9tKTsgfVxuICAgICAgZG9tID0gZG9tLm5leHRTaWJsaW5nO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYXJlbnRET00uaW5zZXJ0QmVmb3JlKGNoaWxkRE9NLCBkb20pO1xuICAgIH1cbiAgICBpZiAoZGVzYyBpbnN0YW5jZW9mIE1hcmtWaWV3RGVzYykge1xuICAgICAgdmFyIHBvcyA9IGRvbSA/IGRvbS5wcmV2aW91c1NpYmxpbmcgOiBwYXJlbnRET00ubGFzdENoaWxkO1xuICAgICAgcmVuZGVyRGVzY3MoZGVzYy5jb250ZW50RE9NLCBkZXNjLmNoaWxkcmVuKTtcbiAgICAgIGRvbSA9IHBvcyA/IHBvcy5uZXh0U2libGluZyA6IHBhcmVudERPTS5maXJzdENoaWxkO1xuICAgIH1cbiAgfVxuICB3aGlsZSAoZG9tKSB7IGRvbSA9IHJtKGRvbSk7IH1cbn1cblxuZnVuY3Rpb24gT3V0ZXJEZWNvTGV2ZWwobm9kZU5hbWUpIHtcbiAgaWYgKG5vZGVOYW1lKSB7IHRoaXMubm9kZU5hbWUgPSBub2RlTmFtZTsgfVxufVxuT3V0ZXJEZWNvTGV2ZWwucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxudmFyIG5vRGVjbyA9IFtuZXcgT3V0ZXJEZWNvTGV2ZWxdO1xuXG5mdW5jdGlvbiBjb21wdXRlT3V0ZXJEZWNvKG91dGVyRGVjbywgbm9kZSwgbmVlZHNXcmFwKSB7XG4gIGlmIChvdXRlckRlY28ubGVuZ3RoID09IDApIHsgcmV0dXJuIG5vRGVjbyB9XG5cbiAgdmFyIHRvcCA9IG5lZWRzV3JhcCA/IG5vRGVjb1swXSA6IG5ldyBPdXRlckRlY29MZXZlbCwgcmVzdWx0JCQxID0gW3RvcF07XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBvdXRlckRlY28ubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgYXR0cnMgPSBvdXRlckRlY29baV0udHlwZS5hdHRycywgY3VyID0gdG9wO1xuICAgIGlmICghYXR0cnMpIHsgY29udGludWUgfVxuICAgIGlmIChhdHRycy5ub2RlTmFtZSlcbiAgICAgIHsgcmVzdWx0JCQxLnB1c2goY3VyID0gbmV3IE91dGVyRGVjb0xldmVsKGF0dHJzLm5vZGVOYW1lKSk7IH1cblxuICAgIGZvciAodmFyIG5hbWUgaW4gYXR0cnMpIHtcbiAgICAgIHZhciB2YWwgPSBhdHRyc1tuYW1lXTtcbiAgICAgIGlmICh2YWwgPT0gbnVsbCkgeyBjb250aW51ZSB9XG4gICAgICBpZiAobmVlZHNXcmFwICYmIHJlc3VsdCQkMS5sZW5ndGggPT0gMSlcbiAgICAgICAgeyByZXN1bHQkJDEucHVzaChjdXIgPSB0b3AgPSBuZXcgT3V0ZXJEZWNvTGV2ZWwobm9kZS5pc0lubGluZSA/IFwic3BhblwiIDogXCJkaXZcIikpOyB9XG4gICAgICBpZiAobmFtZSA9PSBcImNsYXNzXCIpIHsgY3VyLmNsYXNzID0gKGN1ci5jbGFzcyA/IGN1ci5jbGFzcyArIFwiIFwiIDogXCJcIikgKyB2YWw7IH1cbiAgICAgIGVsc2UgaWYgKG5hbWUgPT0gXCJzdHlsZVwiKSB7IGN1ci5zdHlsZSA9IChjdXIuc3R5bGUgPyBjdXIuc3R5bGUgKyBcIjtcIiA6IFwiXCIpICsgdmFsOyB9XG4gICAgICBlbHNlIGlmIChuYW1lICE9IFwibm9kZU5hbWVcIikgeyBjdXJbbmFtZV0gPSB2YWw7IH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0JCQxXG59XG5cbmZ1bmN0aW9uIHBhdGNoT3V0ZXJEZWNvKG91dGVyRE9NLCBub2RlRE9NLCBwcmV2Q29tcHV0ZWQsIGN1ckNvbXB1dGVkKSB7XG4gIC8vIFNob3J0Y3V0IGZvciB0cml2aWFsIGNhc2VcbiAgaWYgKHByZXZDb21wdXRlZCA9PSBub0RlY28gJiYgY3VyQ29tcHV0ZWQgPT0gbm9EZWNvKSB7IHJldHVybiBub2RlRE9NIH1cblxuICB2YXIgY3VyRE9NID0gbm9kZURPTTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBjdXJDb21wdXRlZC5sZW5ndGg7IGkrKykge1xuICAgIHZhciBkZWNvID0gY3VyQ29tcHV0ZWRbaV0sIHByZXYgPSBwcmV2Q29tcHV0ZWRbaV07XG4gICAgaWYgKGkpIHtcbiAgICAgIHZhciBwYXJlbnQgPSAodm9pZCAwKTtcbiAgICAgIGlmIChwcmV2ICYmIHByZXYubm9kZU5hbWUgPT0gZGVjby5ub2RlTmFtZSAmJiBjdXJET00gIT0gb3V0ZXJET00gJiZcbiAgICAgICAgICAocGFyZW50ID0gbm9kZURPTS5wYXJlbnROb2RlKSAmJiBwYXJlbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09IGRlY28ubm9kZU5hbWUpIHtcbiAgICAgICAgY3VyRE9NID0gcGFyZW50O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFyZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChkZWNvLm5vZGVOYW1lKTtcbiAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKGN1ckRPTSk7XG4gICAgICAgIGN1ckRPTSA9IHBhcmVudDtcbiAgICAgIH1cbiAgICB9XG4gICAgcGF0Y2hBdHRyaWJ1dGVzKGN1ckRPTSwgcHJldiB8fCBub0RlY29bMF0sIGRlY28pO1xuICB9XG4gIHJldHVybiBjdXJET01cbn1cblxuZnVuY3Rpb24gcGF0Y2hBdHRyaWJ1dGVzKGRvbSwgcHJldiwgY3VyKSB7XG4gIGZvciAodmFyIG5hbWUgaW4gcHJldilcbiAgICB7IGlmIChuYW1lICE9IFwiY2xhc3NcIiAmJiBuYW1lICE9IFwic3R5bGVcIiAmJiBuYW1lICE9IFwibm9kZU5hbWVcIiAmJiAhKG5hbWUgaW4gY3VyKSlcbiAgICAgIHsgZG9tLnJlbW92ZUF0dHJpYnV0ZShuYW1lKTsgfSB9XG4gIGZvciAodmFyIG5hbWUkMSBpbiBjdXIpXG4gICAgeyBpZiAobmFtZSQxICE9IFwiY2xhc3NcIiAmJiBuYW1lJDEgIT0gXCJzdHlsZVwiICYmIG5hbWUkMSAhPSBcIm5vZGVOYW1lXCIgJiYgY3VyW25hbWUkMV0gIT0gcHJldltuYW1lJDFdKVxuICAgICAgeyBkb20uc2V0QXR0cmlidXRlKG5hbWUkMSwgY3VyW25hbWUkMV0pOyB9IH1cbiAgaWYgKHByZXYuY2xhc3MgIT0gY3VyLmNsYXNzKSB7XG4gICAgdmFyIHByZXZMaXN0ID0gcHJldi5jbGFzcyA/IHByZXYuY2xhc3Muc3BsaXQoXCIgXCIpIDogbm90aGluZztcbiAgICB2YXIgY3VyTGlzdCA9IGN1ci5jbGFzcyA/IGN1ci5jbGFzcy5zcGxpdChcIiBcIikgOiBub3RoaW5nO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJldkxpc3QubGVuZ3RoOyBpKyspIHsgaWYgKGN1ckxpc3QuaW5kZXhPZihwcmV2TGlzdFtpXSkgPT0gLTEpXG4gICAgICB7IGRvbS5jbGFzc0xpc3QucmVtb3ZlKHByZXZMaXN0W2ldKTsgfSB9XG4gICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgY3VyTGlzdC5sZW5ndGg7IGkkMSsrKSB7IGlmIChwcmV2TGlzdC5pbmRleE9mKGN1ckxpc3RbaSQxXSkgPT0gLTEpXG4gICAgICB7IGRvbS5jbGFzc0xpc3QuYWRkKGN1ckxpc3RbaSQxXSk7IH0gfVxuICB9XG4gIGlmIChwcmV2LnN0eWxlICE9IGN1ci5zdHlsZSkge1xuICAgIGlmIChwcmV2LnN0eWxlKSB7XG4gICAgICB2YXIgcHJvcCA9IC9cXHMqKFtcXHdcXC1cXHhhMS1cXHVmZmZmXSspXFxzKjooPzpcIig/OlxcXFwufFteXCJdKSpcInwnKD86XFxcXC58W14nXSkqJ3xcXCguKj9cXCl8W147XSkqL2csIG07XG4gICAgICB3aGlsZSAobSA9IHByb3AuZXhlYyhwcmV2LnN0eWxlKSlcbiAgICAgICAgeyBkb20uc3R5bGVbbVsxXS50b0xvd2VyQ2FzZSgpXSA9IFwiXCI7IH1cbiAgICB9XG4gICAgaWYgKGN1ci5zdHlsZSlcbiAgICAgIHsgZG9tLnN0eWxlLmNzc1RleHQgKz0gY3VyLnN0eWxlOyB9XG4gIH1cbn1cblxuZnVuY3Rpb24gYXBwbHlPdXRlckRlY28oZG9tLCBkZWNvLCBub2RlKSB7XG4gIHJldHVybiBwYXRjaE91dGVyRGVjbyhkb20sIGRvbSwgbm9EZWNvLCBjb21wdXRlT3V0ZXJEZWNvKGRlY28sIG5vZGUsIGRvbS5ub2RlVHlwZSAhPSAxKSlcbn1cblxuLy8gOiAoW0RlY29yYXRpb25dLCBbRGVjb3JhdGlvbl0pIOKGkiBib29sXG5mdW5jdGlvbiBzYW1lT3V0ZXJEZWNvKGEsIGIpIHtcbiAgaWYgKGEubGVuZ3RoICE9IGIubGVuZ3RoKSB7IHJldHVybiBmYWxzZSB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYS5sZW5ndGg7IGkrKykgeyBpZiAoIWFbaV0udHlwZS5lcShiW2ldLnR5cGUpKSB7IHJldHVybiBmYWxzZSB9IH1cbiAgcmV0dXJuIHRydWVcbn1cblxuLy8gUmVtb3ZlIGEgRE9NIG5vZGUgYW5kIHJldHVybiBpdHMgbmV4dCBzaWJsaW5nLlxuZnVuY3Rpb24gcm0oZG9tKSB7XG4gIHZhciBuZXh0ID0gZG9tLm5leHRTaWJsaW5nO1xuICBkb20ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkb20pO1xuICByZXR1cm4gbmV4dFxufVxuXG4vLyBIZWxwZXIgY2xhc3MgZm9yIGluY3JlbWVudGFsbHkgdXBkYXRpbmcgYSB0cmVlIG9mIG1hcmsgZGVzY3MgYW5kXG4vLyB0aGUgd2lkZ2V0IGFuZCBub2RlIGRlc2NzIGluc2lkZSBvZiB0aGVtLlxudmFyIFZpZXdUcmVlVXBkYXRlciA9IGZ1bmN0aW9uIFZpZXdUcmVlVXBkYXRlcih0b3ApIHtcbiAgdGhpcy50b3AgPSB0b3A7XG4gIC8vIEluZGV4IGludG8gYHRoaXMudG9wYCdzIGNoaWxkIGFycmF5LCByZXByZXNlbnRzIHRoZSBjdXJyZW50XG4gIC8vIHVwZGF0ZSBwb3NpdGlvbi5cbiAgdGhpcy5pbmRleCA9IDA7XG4gIC8vIFdoZW4gZW50ZXJpbmcgYSBtYXJrLCB0aGUgY3VycmVudCB0b3AgYW5kIGluZGV4IGFyZSBwdXNoZWRcbiAgLy8gb250byB0aGlzLlxuICB0aGlzLnN0YWNrID0gW107XG4gIC8vIFRyYWNrcyB3aGV0aGVyIGFueXRoaW5nIHdhcyBjaGFuZ2VkXG4gIHRoaXMuY2hhbmdlZCA9IGZhbHNlO1xuXG4gIHRoaXMucHJlTWF0Y2hlZCA9IHByZU1hdGNoKHRvcC5ub2RlLmNvbnRlbnQsIHRvcC5jaGlsZHJlbik7XG59O1xuXG4vLyBEZXN0cm95IGFuZCByZW1vdmUgdGhlIGNoaWxkcmVuIGJldHdlZW4gdGhlIGdpdmVuIGluZGljZXMgaW5cbi8vIGB0aGlzLnRvcGAuXG5WaWV3VHJlZVVwZGF0ZXIucHJvdG90eXBlLmRlc3Ryb3lCZXR3ZWVuID0gZnVuY3Rpb24gZGVzdHJveUJldHdlZW4gKHN0YXJ0LCBlbmQpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICBpZiAoc3RhcnQgPT0gZW5kKSB7IHJldHVybiB9XG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgaSsrKSB7IHRoaXMkMS50b3AuY2hpbGRyZW5baV0uZGVzdHJveSgpOyB9XG4gIHRoaXMudG9wLmNoaWxkcmVuLnNwbGljZShzdGFydCwgZW5kIC0gc3RhcnQpO1xuICB0aGlzLmNoYW5nZWQgPSB0cnVlO1xufTtcblxuLy8gRGVzdHJveSBhbGwgcmVtYWluaW5nIGNoaWxkcmVuIGluIGB0aGlzLnRvcGAuXG5WaWV3VHJlZVVwZGF0ZXIucHJvdG90eXBlLmRlc3Ryb3lSZXN0ID0gZnVuY3Rpb24gZGVzdHJveVJlc3QgKCkge1xuICB0aGlzLmRlc3Ryb3lCZXR3ZWVuKHRoaXMuaW5kZXgsIHRoaXMudG9wLmNoaWxkcmVuLmxlbmd0aCk7XG59O1xuXG4vLyA6IChbTWFya10sIEVkaXRvclZpZXcpXG4vLyBTeW5jIHRoZSBjdXJyZW50IHN0YWNrIG9mIG1hcmsgZGVzY3Mgd2l0aCB0aGUgZ2l2ZW4gYXJyYXkgb2Zcbi8vIG1hcmtzLCByZXVzaW5nIGV4aXN0aW5nIG1hcmsgZGVzY3Mgd2hlbiBwb3NzaWJsZS5cblZpZXdUcmVlVXBkYXRlci5wcm90b3R5cGUuc3luY1RvTWFya3MgPSBmdW5jdGlvbiBzeW5jVG9NYXJrcyAobWFya3MsIGlubGluZSwgdmlldykge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gIHZhciBrZWVwID0gMCwgZGVwdGggPSB0aGlzLnN0YWNrLmxlbmd0aCA+PiAxO1xuICB2YXIgbWF4S2VlcCA9IE1hdGgubWluKGRlcHRoLCBtYXJrcy5sZW5ndGgpLCBuZXh0O1xuICB3aGlsZSAoa2VlcCA8IG1heEtlZXAgJiZcbiAgICAgICAgIChrZWVwID09IGRlcHRoIC0gMSA/IHRoaXMudG9wIDogdGhpcy5zdGFja1soa2VlcCArIDEpIDw8IDFdKS5tYXRjaGVzTWFyayhtYXJrc1trZWVwXSkpXG4gICAgeyBrZWVwKys7IH1cblxuICB3aGlsZSAoa2VlcCA8IGRlcHRoKSB7XG4gICAgdGhpcyQxLmRlc3Ryb3lSZXN0KCk7XG4gICAgdGhpcyQxLnRvcC5kaXJ0eSA9IE5PVF9ESVJUWTtcbiAgICB0aGlzJDEuaW5kZXggPSB0aGlzJDEuc3RhY2sucG9wKCk7XG4gICAgdGhpcyQxLnRvcCA9IHRoaXMkMS5zdGFjay5wb3AoKTtcbiAgICBkZXB0aC0tO1xuICB9XG4gIHdoaWxlIChkZXB0aCA8IG1hcmtzLmxlbmd0aCkge1xuICAgIHRoaXMkMS5zdGFjay5wdXNoKHRoaXMkMS50b3AsIHRoaXMkMS5pbmRleCArIDEpO1xuICAgIGlmICh0aGlzJDEuaW5kZXggPCB0aGlzJDEudG9wLmNoaWxkcmVuLmxlbmd0aCAmJlxuICAgICAgICAobmV4dCA9IHRoaXMkMS50b3AuY2hpbGRyZW5bdGhpcyQxLmluZGV4XSkubWF0Y2hlc01hcmsobWFya3NbZGVwdGhdKSkge1xuICAgICAgdGhpcyQxLnRvcCA9IG5leHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBtYXJrRGVzYyA9IE1hcmtWaWV3RGVzYy5jcmVhdGUodGhpcyQxLnRvcCwgbWFya3NbZGVwdGhdLCBpbmxpbmUsIHZpZXcpO1xuICAgICAgdGhpcyQxLnRvcC5jaGlsZHJlbi5zcGxpY2UodGhpcyQxLmluZGV4LCAwLCBtYXJrRGVzYyk7XG4gICAgICB0aGlzJDEudG9wID0gbWFya0Rlc2M7XG4gICAgICB0aGlzJDEuY2hhbmdlZCA9IHRydWU7XG4gICAgfVxuICAgIHRoaXMkMS5pbmRleCA9IDA7XG4gICAgZGVwdGgrKztcbiAgfVxufTtcblxuLy8gOiAoTm9kZSwgW0RlY29yYXRpb25dLCBEZWNvcmF0aW9uU2V0KSDihpIgYm9vbFxuLy8gVHJ5IHRvIGZpbmQgYSBub2RlIGRlc2MgbWF0Y2hpbmcgdGhlIGdpdmVuIGRhdGEuIFNraXAgb3ZlciBpdCBhbmRcbi8vIHJldHVybiB0cnVlIHdoZW4gc3VjY2Vzc2Z1bC5cblZpZXdUcmVlVXBkYXRlci5wcm90b3R5cGUuZmluZE5vZGVNYXRjaCA9IGZ1bmN0aW9uIGZpbmROb2RlTWF0Y2ggKG5vZGUsIG91dGVyRGVjbywgaW5uZXJEZWNvLCBpbmRleCkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gIGZvciAodmFyIGkgPSB0aGlzLmluZGV4LCBjaGlsZHJlbiA9IHRoaXMudG9wLmNoaWxkcmVuLCBlID0gTWF0aC5taW4oY2hpbGRyZW4ubGVuZ3RoLCBpICsgNSk7IGkgPCBlOyBpKyspIHtcbiAgICB2YXIgY2hpbGQgPSBjaGlsZHJlbltpXSwgcHJlTWF0Y2hlZCA9ICh2b2lkIDApO1xuICAgIGlmIChjaGlsZC5tYXRjaGVzTm9kZShub2RlLCBvdXRlckRlY28sIGlubmVyRGVjbykgJiZcbiAgICAgICAgKChwcmVNYXRjaGVkID0gdGhpcyQxLnByZU1hdGNoZWQuaW5kZXhPZihjaGlsZCkpID09IC0xIHx8IHByZU1hdGNoZWQgPT0gaW5kZXgpKSB7XG4gICAgICB0aGlzJDEuZGVzdHJveUJldHdlZW4odGhpcyQxLmluZGV4LCBpKTtcbiAgICAgIHRoaXMkMS5pbmRleCsrO1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlXG59O1xuXG4vLyA6IChOb2RlLCBbRGVjb3JhdGlvbl0sIERlY29yYXRpb25TZXQsIEVkaXRvclZpZXcsIEZyYWdtZW50LCBudW1iZXIpIOKGkiBib29sXG4vLyBUcnkgdG8gdXBkYXRlIHRoZSBuZXh0IG5vZGUsIGlmIGFueSwgdG8gdGhlIGdpdmVuIGRhdGEuIENoZWNrc1xuLy8gcHJlLW1hdGNoZXMgdG8gYXZvaWQgb3ZlcndyaXRpbmcgbm9kZXMgdGhhdCBjb3VsZCBzdGlsbCBiZSB1c2VkLlxuVmlld1RyZWVVcGRhdGVyLnByb3RvdHlwZS51cGRhdGVOZXh0Tm9kZSA9IGZ1bmN0aW9uIHVwZGF0ZU5leHROb2RlIChub2RlLCBvdXRlckRlY28sIGlubmVyRGVjbywgdmlldywgaW5kZXgpIHtcbiAgaWYgKHRoaXMuaW5kZXggPT0gdGhpcy50b3AuY2hpbGRyZW4ubGVuZ3RoKSB7IHJldHVybiBmYWxzZSB9XG4gIHZhciBuZXh0ID0gdGhpcy50b3AuY2hpbGRyZW5bdGhpcy5pbmRleF07XG4gIGlmIChuZXh0IGluc3RhbmNlb2YgTm9kZVZpZXdEZXNjKSB7XG4gICAgdmFyIHByZU1hdGNoID0gdGhpcy5wcmVNYXRjaGVkLmluZGV4T2YobmV4dCk7XG4gICAgaWYgKHByZU1hdGNoID4gLTEgJiYgcHJlTWF0Y2ggIT0gaW5kZXgpIHsgcmV0dXJuIGZhbHNlIH1cbiAgICB2YXIgbmV4dERPTSA9IG5leHQuZG9tO1xuICAgIGlmIChuZXh0LnVwZGF0ZShub2RlLCBvdXRlckRlY28sIGlubmVyRGVjbywgdmlldykpIHtcbiAgICAgIGlmIChuZXh0LmRvbSAhPSBuZXh0RE9NKSB7IHRoaXMuY2hhbmdlZCA9IHRydWU7IH1cbiAgICAgIHRoaXMuaW5kZXgrKztcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZVxufTtcblxuLy8gOiAoTm9kZSwgW0RlY29yYXRpb25dLCBEZWNvcmF0aW9uU2V0LCBFZGl0b3JWaWV3KVxuLy8gSW5zZXJ0IHRoZSBub2RlIGFzIGEgbmV3bHkgY3JlYXRlZCBub2RlIGRlc2MuXG5WaWV3VHJlZVVwZGF0ZXIucHJvdG90eXBlLmFkZE5vZGUgPSBmdW5jdGlvbiBhZGROb2RlIChub2RlLCBvdXRlckRlY28sIGlubmVyRGVjbywgdmlldywgcG9zKSB7XG4gIHRoaXMudG9wLmNoaWxkcmVuLnNwbGljZSh0aGlzLmluZGV4KyssIDAsIE5vZGVWaWV3RGVzYy5jcmVhdGUodGhpcy50b3AsIG5vZGUsIG91dGVyRGVjbywgaW5uZXJEZWNvLCB2aWV3LCBwb3MpKTtcbiAgdGhpcy5jaGFuZ2VkID0gdHJ1ZTtcbn07XG5cblZpZXdUcmVlVXBkYXRlci5wcm90b3R5cGUucGxhY2VXaWRnZXQgPSBmdW5jdGlvbiBwbGFjZVdpZGdldCAod2lkZ2V0LCB2aWV3LCBwb3MpIHtcbiAgaWYgKHRoaXMuaW5kZXggPCB0aGlzLnRvcC5jaGlsZHJlbi5sZW5ndGggJiYgdGhpcy50b3AuY2hpbGRyZW5bdGhpcy5pbmRleF0ubWF0Y2hlc1dpZGdldCh3aWRnZXQpKSB7XG4gICAgdGhpcy5pbmRleCsrO1xuICB9IGVsc2Uge1xuICAgIHZhciBkZXNjID0gbmV3ICh3aWRnZXQuc3BlYy5pc0N1cnNvcldyYXBwZXIgPyBDdXJzb3JXcmFwcGVyRGVzYyA6IFdpZGdldFZpZXdEZXNjKSh0aGlzLnRvcCwgd2lkZ2V0LCB2aWV3LCBwb3MpO1xuICAgIHRoaXMudG9wLmNoaWxkcmVuLnNwbGljZSh0aGlzLmluZGV4KyssIDAsIGRlc2MpO1xuICAgIHRoaXMuY2hhbmdlZCA9IHRydWU7XG4gIH1cbn07XG5cbi8vIE1ha2Ugc3VyZSBhIHRleHRibG9jayBsb29rcyBhbmQgYmVoYXZlcyBjb3JyZWN0bHkgaW5cbi8vIGNvbnRlbnRFZGl0YWJsZS5cblZpZXdUcmVlVXBkYXRlci5wcm90b3R5cGUuYWRkVGV4dGJsb2NrSGFja3MgPSBmdW5jdGlvbiBhZGRUZXh0YmxvY2tIYWNrcyAoKSB7XG4gIHZhciBsYXN0Q2hpbGQgPSB0aGlzLnRvcC5jaGlsZHJlblt0aGlzLmluZGV4IC0gMV07XG4gIHdoaWxlIChsYXN0Q2hpbGQgaW5zdGFuY2VvZiBNYXJrVmlld0Rlc2MpIHsgbGFzdENoaWxkID0gbGFzdENoaWxkLmNoaWxkcmVuW2xhc3RDaGlsZC5jaGlsZHJlbi5sZW5ndGggLSAxXTsgfVxuXG4gIGlmICghbGFzdENoaWxkIHx8IC8vIEVtcHR5IHRleHRibG9ja1xuICAgICAgIShsYXN0Q2hpbGQgaW5zdGFuY2VvZiBUZXh0Vmlld0Rlc2MpIHx8XG4gICAgICAvXFxuJC8udGVzdChsYXN0Q2hpbGQubm9kZS50ZXh0KSkge1xuICAgIGlmICh0aGlzLmluZGV4IDwgdGhpcy50b3AuY2hpbGRyZW4ubGVuZ3RoICYmIHRoaXMudG9wLmNoaWxkcmVuW3RoaXMuaW5kZXhdLm1hdGNoZXNIYWNrKCkpIHtcbiAgICAgIHRoaXMuaW5kZXgrKztcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGRvbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJiclwiKTtcbiAgICAgIHRoaXMudG9wLmNoaWxkcmVuLnNwbGljZSh0aGlzLmluZGV4KyssIDAsIG5ldyBCUkhhY2tWaWV3RGVzYyh0aGlzLnRvcCwgbm90aGluZywgZG9tLCBudWxsKSk7XG4gICAgICB0aGlzLmNoYW5nZWQgPSB0cnVlO1xuICAgIH1cbiAgfVxufTtcblxuLy8gOiAoRnJhZ21lbnQsIFtWaWV3RGVzY10pIOKGkiBbVmlld0Rlc2NdXG4vLyBJdGVyYXRlIGZyb20gdGhlIGVuZCBvZiB0aGUgZnJhZ21lbnQgYW5kIGFycmF5IG9mIGRlc2NzIHRvIGZpbmRcbi8vIGRpcmVjdGx5IG1hdGNoaW5nIG9uZXMsIGluIG9yZGVyIHRvIGF2b2lkIG92ZXJlYWdlcmx5IHJldXNpbmdcbi8vIHRob3NlIGZvciBvdGhlciBub2Rlcy4gUmV0dXJucyBhbiBhcnJheSB3aG9zZSBwb3NpdGlvbnMgY29ycmVzcG9uZFxuLy8gdG8gbm9kZSBwb3NpdGlvbnMgaW4gdGhlIGZyYWdtZW50LCBhbmQgd2hvc2UgZWxlbWVudHMgYXJlIGVpdGhlclxuLy8gZGVzY3MgbWF0Y2hlZCB0byB0aGUgY2hpbGQgYXQgdGhhdCBpbmRleCwgb3IgZW1wdHkuXG5mdW5jdGlvbiBwcmVNYXRjaChmcmFnLCBkZXNjcykge1xuICB2YXIgcmVzdWx0JCQxID0gW10sIGVuZCA9IGZyYWcuY2hpbGRDb3VudDtcbiAgZm9yICh2YXIgaSA9IGRlc2NzLmxlbmd0aCAtIDE7IGVuZCA+IDAgJiYgaSA+PSAwOyBpLS0pIHtcbiAgICB2YXIgZGVzYyA9IGRlc2NzW2ldLCBub2RlID0gZGVzYy5ub2RlO1xuICAgIGlmICghbm9kZSkgeyBjb250aW51ZSB9XG4gICAgaWYgKG5vZGUgIT0gZnJhZy5jaGlsZChlbmQgLSAxKSkgeyBicmVhayB9XG4gICAgcmVzdWx0JCQxWy0tZW5kXSA9IGRlc2M7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdCQkMVxufVxuXG5mdW5jdGlvbiBjb21wYXJlU2lkZShhLCBiKSB7IHJldHVybiBhLnR5cGUuc2lkZSAtIGIudHlwZS5zaWRlIH1cblxuLy8gOiAoVmlld0Rlc2MsIERlY29yYXRpb25TZXQsIChEZWNvcmF0aW9uKSwgKE5vZGUsIFtEZWNvcmF0aW9uXSwgRGVjb3JhdGlvblNldCwgbnVtYmVyKSlcbi8vIFRoaXMgZnVuY3Rpb24gYWJzdHJhY3RzIGl0ZXJhdGluZyBvdmVyIHRoZSBub2RlcyBhbmQgZGVjb3JhdGlvbnMgaW5cbi8vIGEgZnJhZ21lbnQuIENhbGxzIGBvbk5vZGVgIGZvciBlYWNoIG5vZGUsIHdpdGggaXRzIGxvY2FsIGFuZCBjaGlsZFxuLy8gZGVjb3JhdGlvbnMuIFNwbGl0cyB0ZXh0IG5vZGVzIHdoZW4gdGhlcmUgaXMgYSBkZWNvcmF0aW9uIHN0YXJ0aW5nXG4vLyBvciBlbmRpbmcgaW5zaWRlIG9mIHRoZW0uIENhbGxzIGBvbldpZGdldGAgZm9yIGVhY2ggd2lkZ2V0LlxuZnVuY3Rpb24gaXRlckRlY28ocGFyZW50LCBkZWNvLCBvbldpZGdldCwgb25Ob2RlKSB7XG4gIHZhciBsb2NhbHMgPSBkZWNvLmxvY2FscyhwYXJlbnQpLCBvZmZzZXQgPSAwO1xuICAvLyBTaW1wbGUsIGNoZWFwIHZhcmlhbnQgZm9yIHdoZW4gdGhlcmUgYXJlIG5vIGxvY2FsIGRlY29yYXRpb25zXG4gIGlmIChsb2NhbHMubGVuZ3RoID09IDApIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhcmVudC5jaGlsZENvdW50OyBpKyspIHtcbiAgICAgIHZhciBjaGlsZCA9IHBhcmVudC5jaGlsZChpKTtcbiAgICAgIG9uTm9kZShjaGlsZCwgbG9jYWxzLCBkZWNvLmZvckNoaWxkKG9mZnNldCwgY2hpbGQpLCBpKTtcbiAgICAgIG9mZnNldCArPSBjaGlsZC5ub2RlU2l6ZTtcbiAgICB9XG4gICAgcmV0dXJuXG4gIH1cblxuICB2YXIgZGVjb0luZGV4ID0gMCwgYWN0aXZlID0gW10sIHJlc3ROb2RlID0gbnVsbDtcbiAgZm9yICh2YXIgcGFyZW50SW5kZXggPSAwOzspIHtcbiAgICBpZiAoZGVjb0luZGV4IDwgbG9jYWxzLmxlbmd0aCAmJiBsb2NhbHNbZGVjb0luZGV4XS50byA9PSBvZmZzZXQpIHtcbiAgICAgIHZhciB3aWRnZXQgPSBsb2NhbHNbZGVjb0luZGV4KytdLCB3aWRnZXRzID0gKHZvaWQgMCk7XG4gICAgICB3aGlsZSAoZGVjb0luZGV4IDwgbG9jYWxzLmxlbmd0aCAmJiBsb2NhbHNbZGVjb0luZGV4XS50byA9PSBvZmZzZXQpXG4gICAgICAgIHsgKHdpZGdldHMgfHwgKHdpZGdldHMgPSBbd2lkZ2V0XSkpLnB1c2gobG9jYWxzW2RlY29JbmRleCsrXSk7IH1cbiAgICAgIGlmICh3aWRnZXRzKSB7XG4gICAgICAgIHdpZGdldHMuc29ydChjb21wYXJlU2lkZSk7XG4gICAgICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IHdpZGdldHMubGVuZ3RoOyBpJDErKykgeyBvbldpZGdldCh3aWRnZXRzW2kkMV0sIHBhcmVudEluZGV4KTsgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb25XaWRnZXQod2lkZ2V0LCBwYXJlbnRJbmRleCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGNoaWxkJDEgPSAodm9pZCAwKTtcbiAgICBpZiAocmVzdE5vZGUpIHtcbiAgICAgIGNoaWxkJDEgPSByZXN0Tm9kZTtcbiAgICAgIHJlc3ROb2RlID0gbnVsbDtcbiAgICB9IGVsc2UgaWYgKHBhcmVudEluZGV4IDwgcGFyZW50LmNoaWxkQ291bnQpIHtcbiAgICAgIGNoaWxkJDEgPSBwYXJlbnQuY2hpbGQocGFyZW50SW5kZXgrKyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJyZWFrXG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSQyID0gMDsgaSQyIDwgYWN0aXZlLmxlbmd0aDsgaSQyKyspIHsgaWYgKGFjdGl2ZVtpJDJdLnRvIDw9IG9mZnNldCkgeyBhY3RpdmUuc3BsaWNlKGkkMi0tLCAxKTsgfSB9XG4gICAgd2hpbGUgKGRlY29JbmRleCA8IGxvY2Fscy5sZW5ndGggJiYgbG9jYWxzW2RlY29JbmRleF0uZnJvbSA9PSBvZmZzZXQpIHsgYWN0aXZlLnB1c2gobG9jYWxzW2RlY29JbmRleCsrXSk7IH1cblxuICAgIHZhciBlbmQgPSBvZmZzZXQgKyBjaGlsZCQxLm5vZGVTaXplO1xuICAgIGlmIChjaGlsZCQxLmlzVGV4dCkge1xuICAgICAgdmFyIGN1dEF0ID0gZW5kO1xuICAgICAgaWYgKGRlY29JbmRleCA8IGxvY2Fscy5sZW5ndGggJiYgbG9jYWxzW2RlY29JbmRleF0uZnJvbSA8IGN1dEF0KSB7IGN1dEF0ID0gbG9jYWxzW2RlY29JbmRleF0uZnJvbTsgfVxuICAgICAgZm9yICh2YXIgaSQzID0gMDsgaSQzIDwgYWN0aXZlLmxlbmd0aDsgaSQzKyspIHsgaWYgKGFjdGl2ZVtpJDNdLnRvIDwgY3V0QXQpIHsgY3V0QXQgPSBhY3RpdmVbaSQzXS50bzsgfSB9XG4gICAgICBpZiAoY3V0QXQgPCBlbmQpIHtcbiAgICAgICAgcmVzdE5vZGUgPSBjaGlsZCQxLmN1dChjdXRBdCAtIG9mZnNldCk7XG4gICAgICAgIGNoaWxkJDEgPSBjaGlsZCQxLmN1dCgwLCBjdXRBdCAtIG9mZnNldCk7XG4gICAgICAgIGVuZCA9IGN1dEF0O1xuICAgICAgfVxuICAgIH1cblxuICAgIG9uTm9kZShjaGlsZCQxLCBhY3RpdmUubGVuZ3RoID8gYWN0aXZlLnNsaWNlKCkgOiBub3RoaW5nLCBkZWNvLmZvckNoaWxkKG9mZnNldCwgY2hpbGQkMSksIHBhcmVudEluZGV4IC0gMSk7XG4gICAgb2Zmc2V0ID0gZW5kO1xuICB9XG59XG5cbi8vIFByZS1jYWxjdWxhdGUgYW5kIGNhY2hlIHRoZSBzZXQgb2YgY3VzdG9tIHZpZXcgc3BlY3MgZm9yIGEgZ2l2ZW5cbi8vIHByb3Agb2JqZWN0LlxudmFyIGNhY2hlZEN1c3RvbVZpZXdzO1xudmFyIGNhY2hlZEN1c3RvbUZvcjtcbmZ1bmN0aW9uIGN1c3RvbU5vZGVWaWV3cyh2aWV3KSB7XG4gIGlmIChjYWNoZWRDdXN0b21Gb3IgPT0gdmlldy5fcHJvcHMpIHsgcmV0dXJuIGNhY2hlZEN1c3RvbVZpZXdzIH1cbiAgY2FjaGVkQ3VzdG9tRm9yID0gdmlldy5fcHJvcHM7XG4gIHJldHVybiBjYWNoZWRDdXN0b21WaWV3cyA9IGJ1aWxkQ3VzdG9tVmlld3Modmlldylcbn1cbmZ1bmN0aW9uIGJ1aWxkQ3VzdG9tVmlld3Modmlldykge1xuICB2YXIgcmVzdWx0JCQxID0ge307XG4gIHZpZXcuc29tZVByb3AoXCJub2RlVmlld3NcIiwgZnVuY3Rpb24gKG9iaikge1xuICAgIGZvciAodmFyIHByb3AgaW4gb2JqKSB7IGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHJlc3VsdCQkMSwgcHJvcCkpXG4gICAgICB7IHJlc3VsdCQkMVtwcm9wXSA9IG9ialtwcm9wXTsgfSB9XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0JCQxXG59XG5cbi8vIExpc3QgbWFya2VycyBpbiBNb2JpbGUgU2FmYXJpIHdpbGwgbXlzdGVyaW91c2x5IGRpc2FwcGVhclxuLy8gc29tZXRpbWVzLiBUaGlzIHdvcmtzIGFyb3VuZCB0aGF0LlxuZnVuY3Rpb24gaW9zSGFja3MoZG9tKSB7XG4gIGlmIChkb20ubm9kZU5hbWUgPT0gXCJVTFwiIHx8IGRvbS5ub2RlTmFtZSA9PSBcIk9MXCIpIHtcbiAgICB2YXIgb2xkQ1NTID0gZG9tLnN0eWxlLmNzc1RleHQ7XG4gICAgZG9tLnN0eWxlLmNzc1RleHQgPSBvbGRDU1MgKyBcIjsgbGlzdC1zdHlsZTogc3F1YXJlICFpbXBvcnRhbnRcIjtcbiAgICB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShkb20pLmxpc3RTdHlsZTtcbiAgICBkb20uc3R5bGUuY3NzVGV4dCA9IG9sZENTUztcbiAgfVxufVxuXG5mdW5jdGlvbiBtb3ZlU2VsZWN0aW9uQmxvY2soc3RhdGUsIGRpcikge1xuICB2YXIgcmVmID0gc3RhdGUuc2VsZWN0aW9uO1xuICB2YXIgJGFuY2hvciA9IHJlZi4kYW5jaG9yO1xuICB2YXIgJGhlYWQgPSByZWYuJGhlYWQ7XG4gIHZhciAkc2lkZSA9IGRpciA+IDAgPyAkYW5jaG9yLm1heCgkaGVhZCkgOiAkYW5jaG9yLm1pbigkaGVhZCk7XG4gIHZhciAkc3RhcnQgPSAhJHNpZGUucGFyZW50LmlubGluZUNvbnRlbnQgPyAkc2lkZSA6ICRzaWRlLmRlcHRoID8gc3RhdGUuZG9jLnJlc29sdmUoZGlyID4gMCA/ICRzaWRlLmFmdGVyKCkgOiAkc2lkZS5iZWZvcmUoKSkgOiBudWxsO1xuICByZXR1cm4gJHN0YXJ0ICYmIHByb3NlbWlycm9yU3RhdGUuU2VsZWN0aW9uLmZpbmRGcm9tKCRzdGFydCwgZGlyKVxufVxuXG5mdW5jdGlvbiBhcHBseSh2aWV3LCBzZWwpIHtcbiAgdmlldy5kaXNwYXRjaCh2aWV3LnN0YXRlLnRyLnNldFNlbGVjdGlvbihzZWwpLnNjcm9sbEludG9WaWV3KCkpO1xuICByZXR1cm4gdHJ1ZVxufVxuXG5mdW5jdGlvbiBzZWxlY3RIb3Jpem9udGFsbHkodmlldywgZGlyKSB7XG4gIHZhciBzZWwgPSB2aWV3LnN0YXRlLnNlbGVjdGlvbjtcbiAgaWYgKHNlbCBpbnN0YW5jZW9mIHByb3NlbWlycm9yU3RhdGUuVGV4dFNlbGVjdGlvbikge1xuICAgIGlmICghc2VsLmVtcHR5KSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9IGVsc2UgaWYgKHZpZXcuZW5kT2ZUZXh0YmxvY2soZGlyID4gMCA/IFwicmlnaHRcIiA6IFwibGVmdFwiKSkge1xuICAgICAgdmFyIG5leHQgPSBtb3ZlU2VsZWN0aW9uQmxvY2sodmlldy5zdGF0ZSwgZGlyKTtcbiAgICAgIGlmIChuZXh0ICYmIChuZXh0IGluc3RhbmNlb2YgcHJvc2VtaXJyb3JTdGF0ZS5Ob2RlU2VsZWN0aW9uKSkgeyByZXR1cm4gYXBwbHkodmlldywgbmV4dCkgfVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciAkaGVhZCA9IHNlbC4kaGVhZCwgbm9kZSA9ICRoZWFkLnRleHRPZmZzZXQgPyBudWxsIDogZGlyIDwgMCA/ICRoZWFkLm5vZGVCZWZvcmUgOiAkaGVhZC5ub2RlQWZ0ZXIsIGRlc2M7XG4gICAgICBpZiAobm9kZSAmJiBwcm9zZW1pcnJvclN0YXRlLk5vZGVTZWxlY3Rpb24uaXNTZWxlY3RhYmxlKG5vZGUpKSB7XG4gICAgICAgIHZhciBub2RlUG9zID0gZGlyIDwgMCA/ICRoZWFkLnBvcyAtIG5vZGUubm9kZVNpemUgOiAkaGVhZC5wb3M7XG4gICAgICAgIGlmIChub2RlLmlzQXRvbSB8fCAoZGVzYyA9IHZpZXcuZG9jVmlldy5kZXNjQXQobm9kZVBvcykpICYmICFkZXNjLmNvbnRlbnRET00pXG4gICAgICAgICAgeyByZXR1cm4gYXBwbHkodmlldywgbmV3IHByb3NlbWlycm9yU3RhdGUuTm9kZVNlbGVjdGlvbihkaXIgPCAwID8gdmlldy5zdGF0ZS5kb2MucmVzb2x2ZSgkaGVhZC5wb3MgLSBub2RlLm5vZGVTaXplKSA6ICRoZWFkKSkgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICB9IGVsc2UgaWYgKHNlbCBpbnN0YW5jZW9mIHByb3NlbWlycm9yU3RhdGUuTm9kZVNlbGVjdGlvbiAmJiBzZWwubm9kZS5pc0lubGluZSkge1xuICAgIHJldHVybiBhcHBseSh2aWV3LCBuZXcgcHJvc2VtaXJyb3JTdGF0ZS5UZXh0U2VsZWN0aW9uKGRpciA+IDAgPyBzZWwuJHRvIDogc2VsLiRmcm9tKSlcbiAgfSBlbHNlIHtcbiAgICB2YXIgbmV4dCQxID0gbW92ZVNlbGVjdGlvbkJsb2NrKHZpZXcuc3RhdGUsIGRpcik7XG4gICAgaWYgKG5leHQkMSkgeyByZXR1cm4gYXBwbHkodmlldywgbmV4dCQxKSB9XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cblxuZnVuY3Rpb24gbm9kZUxlbihub2RlKSB7XG4gIHJldHVybiBub2RlLm5vZGVUeXBlID09IDMgPyBub2RlLm5vZGVWYWx1ZS5sZW5ndGggOiBub2RlLmNoaWxkTm9kZXMubGVuZ3RoXG59XG5cbmZ1bmN0aW9uIGlzSWdub3JhYmxlKGRvbSkge1xuICB2YXIgZGVzYyA9IGRvbS5wbVZpZXdEZXNjO1xuICByZXR1cm4gZGVzYyAmJiBkZXNjLnNpemUgPT0gMCAmJiAoZG9tLm5leHRTaWJsaW5nIHx8IGRvbS5ub2RlTmFtZSAhPSBcIkJSXCIpXG59XG5cbi8vIE1ha2Ugc3VyZSB0aGUgY3Vyc29yIGlzbid0IGRpcmVjdGx5IGFmdGVyIG9uZSBvciBtb3JlIGlnbm9yZWRcbi8vIG5vZGVzLCB3aGljaCB3aWxsIGNvbmZ1c2UgdGhlIGJyb3dzZXIncyBjdXJzb3IgbW90aW9uIGxvZ2ljLlxuZnVuY3Rpb24gc2tpcElnbm9yZWROb2Rlc0xlZnQodmlldykge1xuICB2YXIgc2VsID0gdmlldy5yb290LmdldFNlbGVjdGlvbigpO1xuICB2YXIgbm9kZSA9IHNlbC5hbmNob3JOb2RlLCBvZmZzZXQgPSBzZWwuYW5jaG9yT2Zmc2V0O1xuICBpZiAoIW5vZGUpIHsgcmV0dXJuIH1cbiAgdmFyIG1vdmVOb2RlLCBtb3ZlT2Zmc2V0O1xuICBmb3IgKDs7KSB7XG4gICAgaWYgKG9mZnNldCA+IDApIHtcbiAgICAgIGlmIChub2RlLm5vZGVUeXBlICE9IDEpIHtcbiAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMyAmJiBub2RlLm5vZGVWYWx1ZS5jaGFyQXQob2Zmc2V0IC0gMSkgPT0gXCJcXHVmZWZmXCIpIHtcbiAgICAgICAgICBtb3ZlTm9kZSA9IG5vZGU7XG4gICAgICAgICAgbW92ZU9mZnNldCA9IC0tb2Zmc2V0O1xuICAgICAgICB9IGVsc2UgeyBicmVhayB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgYmVmb3JlID0gbm9kZS5jaGlsZE5vZGVzW29mZnNldCAtIDFdO1xuICAgICAgICBpZiAoaXNJZ25vcmFibGUoYmVmb3JlKSkge1xuICAgICAgICAgIG1vdmVOb2RlID0gbm9kZTtcbiAgICAgICAgICBtb3ZlT2Zmc2V0ID0gLS1vZmZzZXQ7XG4gICAgICAgIH0gZWxzZSBpZiAoYmVmb3JlLm5vZGVUeXBlID09IDMpIHtcbiAgICAgICAgICBub2RlID0gYmVmb3JlO1xuICAgICAgICAgIG9mZnNldCA9IG5vZGUubm9kZVZhbHVlLmxlbmd0aDtcbiAgICAgICAgfSBlbHNlIHsgYnJlYWsgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaXNCbG9ja05vZGUobm9kZSkpIHtcbiAgICAgIGJyZWFrXG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBwcmV2ID0gbm9kZS5wcmV2aW91c1NpYmxpbmc7XG4gICAgICB3aGlsZSAocHJldiAmJiBpc0lnbm9yYWJsZShwcmV2KSkge1xuICAgICAgICBtb3ZlTm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICAgICAgbW92ZU9mZnNldCA9IGRvbUluZGV4KHByZXYpO1xuICAgICAgICBwcmV2ID0gcHJldi5wcmV2aW91c1NpYmxpbmc7XG4gICAgICB9XG4gICAgICBpZiAoIXByZXYpIHtcbiAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICAgICAgaWYgKG5vZGUgPT0gdmlldy5kb20pIHsgYnJlYWsgfVxuICAgICAgICBvZmZzZXQgPSAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbm9kZSA9IHByZXY7XG4gICAgICAgIG9mZnNldCA9IG5vZGVMZW4obm9kZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmIChtb3ZlTm9kZSkgeyBzZXRTZWwodmlldywgc2VsLCBtb3ZlTm9kZSwgbW92ZU9mZnNldCk7IH1cbn1cblxuLy8gTWFrZSBzdXJlIHRoZSBjdXJzb3IgaXNuJ3QgZGlyZWN0bHkgYmVmb3JlIG9uZSBvciBtb3JlIGlnbm9yZWRcbi8vIG5vZGVzLlxuZnVuY3Rpb24gc2tpcElnbm9yZWROb2Rlc1JpZ2h0KHZpZXcpIHtcbiAgdmFyIHNlbCA9IHZpZXcucm9vdC5nZXRTZWxlY3Rpb24oKTtcbiAgdmFyIG5vZGUgPSBzZWwuYW5jaG9yTm9kZSwgb2Zmc2V0ID0gc2VsLmFuY2hvck9mZnNldDtcbiAgaWYgKCFub2RlKSB7IHJldHVybiB9XG4gIHZhciBsZW4gPSBub2RlTGVuKG5vZGUpO1xuICB2YXIgbW92ZU5vZGUsIG1vdmVPZmZzZXQ7XG4gIGZvciAoOzspIHtcbiAgICBpZiAob2Zmc2V0IDwgbGVuKSB7XG4gICAgICBpZiAobm9kZS5ub2RlVHlwZSAhPSAxKSB7IGJyZWFrIH1cbiAgICAgIHZhciBhZnRlciA9IG5vZGUuY2hpbGROb2Rlc1tvZmZzZXRdO1xuICAgICAgaWYgKGlzSWdub3JhYmxlKGFmdGVyKSkge1xuICAgICAgICBtb3ZlTm9kZSA9IG5vZGU7XG4gICAgICAgIG1vdmVPZmZzZXQgPSArK29mZnNldDtcbiAgICAgIH1cbiAgICAgIGVsc2UgeyBicmVhayB9XG4gICAgfSBlbHNlIGlmIChpc0Jsb2NrTm9kZShub2RlKSkge1xuICAgICAgYnJlYWtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIG5leHQgPSBub2RlLm5leHRTaWJsaW5nO1xuICAgICAgd2hpbGUgKG5leHQgJiYgaXNJZ25vcmFibGUobmV4dCkpIHtcbiAgICAgICAgbW92ZU5vZGUgPSBuZXh0LnBhcmVudE5vZGU7XG4gICAgICAgIG1vdmVPZmZzZXQgPSBkb21JbmRleChuZXh0KSArIDE7XG4gICAgICAgIG5leHQgPSBuZXh0Lm5leHRTaWJsaW5nO1xuICAgICAgfVxuICAgICAgaWYgKCFuZXh0KSB7XG4gICAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgICAgIGlmIChub2RlID09IHZpZXcuZG9tKSB7IGJyZWFrIH1cbiAgICAgICAgb2Zmc2V0ID0gbGVuID0gMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5vZGUgPSBuZXh0O1xuICAgICAgICBvZmZzZXQgPSAwO1xuICAgICAgICBsZW4gPSBub2RlTGVuKG5vZGUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAobW92ZU5vZGUpIHsgc2V0U2VsKHZpZXcsIHNlbCwgbW92ZU5vZGUsIG1vdmVPZmZzZXQpOyB9XG59XG5cbmZ1bmN0aW9uIGlzQmxvY2tOb2RlKGRvbSkge1xuICB2YXIgZGVzYyA9IGRvbS5wbVZpZXdEZXNjO1xuICByZXR1cm4gZGVzYyAmJiBkZXNjLm5vZGUgJiYgZGVzYy5ub2RlLmlzQmxvY2tcbn1cblxuZnVuY3Rpb24gc2V0U2VsKHZpZXcsIHNlbCwgbm9kZSwgb2Zmc2V0KSB7XG4gIHZhciByYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG4gIHJhbmdlLnNldEVuZChub2RlLCBvZmZzZXQpO1xuICByYW5nZS5zZXRTdGFydChub2RlLCBvZmZzZXQpO1xuICBzZWwucmVtb3ZlQWxsUmFuZ2VzKCk7XG4gIHNlbC5hZGRSYW5nZShyYW5nZSk7XG4gIHZpZXcuc2VsZWN0aW9uUmVhZGVyLnN0b3JlRE9NU3RhdGUodmlldy5zZWxlY3Rpb24pO1xufVxuXG4vLyA6IChFZGl0b3JTdGF0ZSwgbnVtYmVyKVxuLy8gQ2hlY2sgd2hldGhlciB2ZXJ0aWNhbCBzZWxlY3Rpb24gbW90aW9uIHdvdWxkIGludm9sdmUgbm9kZVxuLy8gc2VsZWN0aW9ucy4gSWYgc28sIGFwcGx5IGl0IChpZiBub3QsIHRoZSByZXN1bHQgaXMgbGVmdCB0byB0aGVcbi8vIGJyb3dzZXIpXG5mdW5jdGlvbiBzZWxlY3RWZXJ0aWNhbGx5KHZpZXcsIGRpcikge1xuICB2YXIgc2VsID0gdmlldy5zdGF0ZS5zZWxlY3Rpb247XG4gIGlmIChzZWwgaW5zdGFuY2VvZiBwcm9zZW1pcnJvclN0YXRlLlRleHRTZWxlY3Rpb24gJiYgIXNlbC5lbXB0eSkgeyByZXR1cm4gZmFsc2UgfVxuICB2YXIgJGZyb20gPSBzZWwuJGZyb207XG4gIHZhciAkdG8gPSBzZWwuJHRvO1xuXG4gIGlmICghJGZyb20ucGFyZW50LmlubGluZUNvbnRlbnQgfHwgdmlldy5lbmRPZlRleHRibG9jayhkaXIgPCAwID8gXCJ1cFwiIDogXCJkb3duXCIpKSB7XG4gICAgdmFyIG5leHQgPSBtb3ZlU2VsZWN0aW9uQmxvY2sodmlldy5zdGF0ZSwgZGlyKTtcbiAgICBpZiAobmV4dCAmJiAobmV4dCBpbnN0YW5jZW9mIHByb3NlbWlycm9yU3RhdGUuTm9kZVNlbGVjdGlvbikpXG4gICAgICB7IHJldHVybiBhcHBseSh2aWV3LCBuZXh0KSB9XG4gIH1cbiAgaWYgKCEkZnJvbS5wYXJlbnQuaW5saW5lQ29udGVudCkge1xuICAgIHZhciBiZXlvbmQgPSBwcm9zZW1pcnJvclN0YXRlLlNlbGVjdGlvbi5maW5kRnJvbShkaXIgPCAwID8gJGZyb20gOiAkdG8sIGRpcik7XG4gICAgcmV0dXJuIGJleW9uZCA/IGFwcGx5KHZpZXcsIGJleW9uZCkgOiB0cnVlXG4gIH1cbiAgcmV0dXJuIGZhbHNlXG59XG5cbmZ1bmN0aW9uIHN0b3BOYXRpdmVIb3Jpem9udGFsRGVsZXRlKHZpZXcsIGRpcikge1xuICBpZiAoISh2aWV3LnN0YXRlLnNlbGVjdGlvbiBpbnN0YW5jZW9mIHByb3NlbWlycm9yU3RhdGUuVGV4dFNlbGVjdGlvbikpIHsgcmV0dXJuIHRydWUgfVxuICB2YXIgcmVmID0gdmlldy5zdGF0ZS5zZWxlY3Rpb247XG4gIHZhciAkaGVhZCA9IHJlZi4kaGVhZDtcbiAgdmFyICRhbmNob3IgPSByZWYuJGFuY2hvcjtcbiAgdmFyIGVtcHR5ID0gcmVmLmVtcHR5O1xuICBpZiAoISRoZWFkLnNhbWVQYXJlbnQoJGFuY2hvcikpIHsgcmV0dXJuIHRydWUgfVxuICBpZiAoIWVtcHR5KSB7IHJldHVybiBmYWxzZSB9XG4gIGlmICh2aWV3LmVuZE9mVGV4dGJsb2NrKGRpciA+IDAgPyBcImZvcndhcmRcIiA6IFwiYmFja3dhcmRcIikpIHsgcmV0dXJuIHRydWUgfVxuICB2YXIgbmV4dE5vZGUgPSAhJGhlYWQudGV4dE9mZnNldCAmJiAoZGlyIDwgMCA/ICRoZWFkLm5vZGVCZWZvcmUgOiAkaGVhZC5ub2RlQWZ0ZXIpO1xuICBpZiAobmV4dE5vZGUgJiYgIW5leHROb2RlLmlzVGV4dCkge1xuICAgIHZhciB0ciA9IHZpZXcuc3RhdGUudHI7XG4gICAgaWYgKGRpciA8IDApIHsgdHIuZGVsZXRlKCRoZWFkLnBvcyAtIG5leHROb2RlLm5vZGVTaXplLCAkaGVhZC5wb3MpOyB9XG4gICAgZWxzZSB7IHRyLmRlbGV0ZSgkaGVhZC5wb3MsICRoZWFkLnBvcyArIG5leHROb2RlLm5vZGVTaXplKTsgfVxuICAgIHZpZXcuZGlzcGF0Y2godHIpO1xuICAgIHJldHVybiB0cnVlXG4gIH1cbiAgcmV0dXJuIGZhbHNlXG59XG5cbi8vIEEgYmFja2Ryb3Aga2V5IG1hcHBpbmcgdXNlZCB0byBtYWtlIHN1cmUgd2UgYWx3YXlzIHN1cHByZXNzIGtleXNcbi8vIHRoYXQgaGF2ZSBhIGRhbmdlcm91cyBkZWZhdWx0IGVmZmVjdCwgZXZlbiBpZiB0aGUgY29tbWFuZHMgdGhleSBhcmVcbi8vIGJvdW5kIHRvIHJldHVybiBmYWxzZSwgYW5kIHRvIG1ha2Ugc3VyZSB0aGF0IGN1cnNvci1tb3Rpb24ga2V5c1xuLy8gZmluZCBhIGN1cnNvciAoYXMgb3Bwb3NlZCB0byBhIG5vZGUgc2VsZWN0aW9uKSB3aGVuIHByZXNzZWQuIEZvclxuLy8gY3Vyc29yLW1vdGlvbiBrZXlzLCB0aGUgY29kZSBpbiB0aGUgaGFuZGxlcnMgYWxzbyB0YWtlcyBjYXJlIG9mXG4vLyBibG9jayBzZWxlY3Rpb25zLlxuXG5mdW5jdGlvbiBnZXRNb2RzKGV2ZW50KSB7XG4gIHZhciByZXN1bHQkJDEgPSBcIlwiO1xuICBpZiAoZXZlbnQuY3RybEtleSkgeyByZXN1bHQkJDEgKz0gXCJjXCI7IH1cbiAgaWYgKGV2ZW50Lm1ldGFLZXkpIHsgcmVzdWx0JCQxICs9IFwibVwiOyB9XG4gIGlmIChldmVudC5hbHRLZXkpIHsgcmVzdWx0JCQxICs9IFwiYVwiOyB9XG4gIGlmIChldmVudC5zaGlmdEtleSkgeyByZXN1bHQkJDEgKz0gXCJzXCI7IH1cbiAgcmV0dXJuIHJlc3VsdCQkMVxufVxuXG5mdW5jdGlvbiBjYXB0dXJlS2V5RG93bih2aWV3LCBldmVudCkge1xuICB2YXIgY29kZSA9IGV2ZW50LmtleUNvZGUsIG1vZHMgPSBnZXRNb2RzKGV2ZW50KTtcbiAgaWYgKGNvZGUgPT0gOCB8fCAocmVzdWx0Lm1hYyAmJiBjb2RlID09IDcyICYmIG1vZHMgPT0gXCJjXCIpKSB7IC8vIEJhY2tzcGFjZSwgQ3RybC1oIG9uIE1hY1xuICAgIHJldHVybiBzdG9wTmF0aXZlSG9yaXpvbnRhbERlbGV0ZSh2aWV3LCAtMSkgfHwgc2tpcElnbm9yZWROb2Rlc0xlZnQodmlldylcbiAgfSBlbHNlIGlmIChjb2RlID09IDQ2IHx8IChyZXN1bHQubWFjICYmIGNvZGUgPT0gNjggJiYgbW9kcyA9PSBcImNcIikpIHsgLy8gRGVsZXRlLCBDdHJsLWQgb24gTWFjXG4gICAgcmV0dXJuIHN0b3BOYXRpdmVIb3Jpem9udGFsRGVsZXRlKHZpZXcsIDEpIHx8IHNraXBJZ25vcmVkTm9kZXNSaWdodCh2aWV3KVxuICB9IGVsc2UgaWYgKGNvZGUgPT0gMTMgfHwgY29kZSA9PSAyNykgeyAvLyBFbnRlciwgRXNjXG4gICAgcmV0dXJuIHRydWVcbiAgfSBlbHNlIGlmIChjb2RlID09IDM3KSB7IC8vIExlZnQgYXJyb3dcbiAgICByZXR1cm4gc2VsZWN0SG9yaXpvbnRhbGx5KHZpZXcsIC0xKSB8fCBza2lwSWdub3JlZE5vZGVzTGVmdCh2aWV3KVxuICB9IGVsc2UgaWYgKGNvZGUgPT0gMzkpIHsgLy8gUmlnaHQgYXJyb3dcbiAgICByZXR1cm4gc2VsZWN0SG9yaXpvbnRhbGx5KHZpZXcsIDEpIHx8IHNraXBJZ25vcmVkTm9kZXNSaWdodCh2aWV3KVxuICB9IGVsc2UgaWYgKGNvZGUgPT0gMzgpIHsgLy8gVXAgYXJyb3dcbiAgICByZXR1cm4gc2VsZWN0VmVydGljYWxseSh2aWV3LCAtMSkgfHwgc2tpcElnbm9yZWROb2Rlc0xlZnQodmlldylcbiAgfSBlbHNlIGlmIChjb2RlID09IDQwKSB7IC8vIERvd24gYXJyb3dcbiAgICByZXR1cm4gc2VsZWN0VmVydGljYWxseSh2aWV3LCAxKSB8fCBza2lwSWdub3JlZE5vZGVzUmlnaHQodmlldylcbiAgfSBlbHNlIGlmIChtb2RzID09IChyZXN1bHQubWFjID8gXCJtXCIgOiBcImNcIikgJiZcbiAgICAgICAgICAgICAoY29kZSA9PSA2NiB8fCBjb2RlID09IDczIHx8IGNvZGUgPT0gODkgfHwgY29kZSA9PSA5MCkpIHsgLy8gTW9kLVtiaXl6XVxuICAgIHJldHVybiB0cnVlXG4gIH1cbiAgcmV0dXJuIGZhbHNlXG59XG5cbnZhciBUcmFja2VkUmVjb3JkID0gZnVuY3Rpb24gVHJhY2tlZFJlY29yZChwcmV2LCBtYXBwaW5nLCBzdGF0ZSkge1xuICB0aGlzLnByZXYgPSBwcmV2O1xuICB0aGlzLm1hcHBpbmcgPSBtYXBwaW5nO1xuICB0aGlzLnN0YXRlID0gc3RhdGU7XG59O1xuXG52YXIgVHJhY2tNYXBwaW5ncyA9IGZ1bmN0aW9uIFRyYWNrTWFwcGluZ3Moc3RhdGUpIHtcbiAgdGhpcy5zZWVuID0gW25ldyBUcmFja2VkUmVjb3JkKG51bGwsIG51bGwsIHN0YXRlKV07XG4gIC8vIEtsdWRnZSB0byBsaXN0ZW4gdG8gc3RhdGUgY2hhbmdlcyBnbG9iYWxseSBpbiBvcmRlciB0byBiZSBhYmxlXG4gIC8vIHRvIGZpbmQgbWFwcGluZ3MgZnJvbSBhIGdpdmVuIHN0YXRlIHRvIGFub3RoZXIuXG4gIHByb3NlbWlycm9yU3RhdGUuRWRpdG9yU3RhdGUuYWRkQXBwbHlMaXN0ZW5lcih0aGlzLnRyYWNrID0gdGhpcy50cmFjay5iaW5kKHRoaXMpKTtcbn07XG5cblRyYWNrTWFwcGluZ3MucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95ICgpIHtcbiAgcHJvc2VtaXJyb3JTdGF0ZS5FZGl0b3JTdGF0ZS5yZW1vdmVBcHBseUxpc3RlbmVyKHRoaXMudHJhY2spO1xufTtcblxuVHJhY2tNYXBwaW5ncy5wcm90b3R5cGUuZmluZCA9IGZ1bmN0aW9uIGZpbmQgKHN0YXRlKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgZm9yICh2YXIgaSA9IHRoaXMuc2Vlbi5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIHZhciByZWNvcmQgPSB0aGlzJDEuc2VlbltpXTtcbiAgICBpZiAocmVjb3JkLnN0YXRlID09IHN0YXRlKSB7IHJldHVybiByZWNvcmQgfVxuICB9XG59O1xuXG5UcmFja01hcHBpbmdzLnByb3RvdHlwZS50cmFjayA9IGZ1bmN0aW9uIHRyYWNrIChvbGQsIHRyLCBzdGF0ZSkge1xuICB2YXIgZm91bmQgPSB0aGlzLnNlZW4ubGVuZ3RoIDwgMjAwID8gdGhpcy5maW5kKG9sZCkgOiBudWxsO1xuICBpZiAoZm91bmQpXG4gICAgeyB0aGlzLnNlZW4ucHVzaChuZXcgVHJhY2tlZFJlY29yZChmb3VuZCwgdHIuZG9jQ2hhbmdlZCA/IHRyLm1hcHBpbmcgOiBudWxsLCBzdGF0ZSkpOyB9XG59O1xuXG5UcmFja01hcHBpbmdzLnByb3RvdHlwZS5nZXRNYXBwaW5nID0gZnVuY3Rpb24gZ2V0TWFwcGluZyAoc3RhdGUsIGFwcGVuZFRvKSB7XG4gIHZhciBmb3VuZCA9IHRoaXMuZmluZChzdGF0ZSk7XG4gIGlmICghZm91bmQpIHsgcmV0dXJuIG51bGwgfVxuICB2YXIgbWFwcGluZ3MgPSBbXTtcbiAgZm9yICh2YXIgcmVjID0gZm91bmQ7IHJlYzsgcmVjID0gcmVjLnByZXYpXG4gICAgeyBpZiAocmVjLm1hcHBpbmcpIHsgbWFwcGluZ3MucHVzaChyZWMubWFwcGluZyk7IH0gfVxuICB2YXIgcmVzdWx0ID0gYXBwZW5kVG8gfHwgbmV3IHByb3NlbWlycm9yVHJhbnNmb3JtLk1hcHBpbmc7XG4gIGZvciAodmFyIGkgPSBtYXBwaW5ncy5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcbiAgICB7IHJlc3VsdC5hcHBlbmRNYXBwaW5nKG1hcHBpbmdzW2ldKTsgfVxuICByZXR1cm4gcmVzdWx0XG59O1xuXG4vLyBUcmFjayB0aGUgc3RhdGUgb2YgdGhlIGN1cnJlbnQgZWRpdG9yIHNlbGVjdGlvbi4gS2VlcHMgdGhlIGVkaXRvclxuLy8gc2VsZWN0aW9uIGluIHN5bmMgd2l0aCB0aGUgRE9NIHNlbGVjdGlvbiBieSBwb2xsaW5nIGZvciBjaGFuZ2VzLFxuLy8gYXMgdGhlcmUgaXMgbm8gRE9NIGV2ZW50IGZvciBET00gc2VsZWN0aW9uIGNoYW5nZXMuXG52YXIgU2VsZWN0aW9uUmVhZGVyID0gZnVuY3Rpb24gU2VsZWN0aW9uUmVhZGVyKHZpZXcpIHtcbiAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgdGhpcy52aWV3ID0gdmlldztcblxuICAvLyBUcmFjayB0aGUgc3RhdGUgb2YgdGhlIERPTSBzZWxlY3Rpb24uXG4gIHRoaXMubGFzdEFuY2hvck5vZGUgPSB0aGlzLmxhc3RIZWFkTm9kZSA9IHRoaXMubGFzdEFuY2hvck9mZnNldCA9IHRoaXMubGFzdEhlYWRPZmZzZXQgPSBudWxsO1xuICB0aGlzLmxhc3RTZWxlY3Rpb24gPSB2aWV3LnN0YXRlLnNlbGVjdGlvbjtcbiAgdGhpcy5pZ25vcmVVcGRhdGVzID0gZmFsc2U7XG4gIHRoaXMucG9sbGVyID0gcG9sbGVyKHRoaXMpO1xuXG4gIHZpZXcuZG9tLmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c1wiLCBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzJDEucG9sbGVyLnN0YXJ0KGhhc0ZvY3VzQW5kU2VsZWN0aW9uKHRoaXMkMS52aWV3KSk7IH0pO1xuICB2aWV3LmRvbS5hZGRFdmVudExpc3RlbmVyKFwiYmx1clwiLCBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzJDEucG9sbGVyLnN0b3AoKTsgfSk7XG5cbiAgaWYgKCF2aWV3LmVkaXRhYmxlKSB7IHRoaXMucG9sbGVyLnN0YXJ0KGZhbHNlKTsgfVxufTtcblxuU2VsZWN0aW9uUmVhZGVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAoKSB7IHRoaXMucG9sbGVyLnN0b3AoKTsgfTtcblxuU2VsZWN0aW9uUmVhZGVyLnByb3RvdHlwZS5wb2xsID0gZnVuY3Rpb24gcG9sbCAob3JpZ2luKSB7IHRoaXMucG9sbGVyLnBvbGwob3JpZ2luKTsgfTtcblxuU2VsZWN0aW9uUmVhZGVyLnByb3RvdHlwZS5lZGl0YWJsZUNoYW5nZWQgPSBmdW5jdGlvbiBlZGl0YWJsZUNoYW5nZWQgKCkge1xuICBpZiAoIXRoaXMudmlldy5lZGl0YWJsZSkgeyB0aGlzLnBvbGxlci5zdGFydCgpOyB9XG4gIGVsc2UgaWYgKCFoYXNGb2N1c0FuZFNlbGVjdGlvbih0aGlzLnZpZXcpKSB7IHRoaXMucG9sbGVyLnN0b3AoKTsgfVxufTtcblxuLy8gOiAoKSDihpIgYm9vbFxuLy8gV2hldGhlciB0aGUgRE9NIHNlbGVjdGlvbiBoYXMgY2hhbmdlZCBmcm9tIHRoZSBsYXN0IGtub3duIHN0YXRlLlxuU2VsZWN0aW9uUmVhZGVyLnByb3RvdHlwZS5kb21DaGFuZ2VkID0gZnVuY3Rpb24gZG9tQ2hhbmdlZCAoKSB7XG4gIHZhciBzZWwgPSB0aGlzLnZpZXcucm9vdC5nZXRTZWxlY3Rpb24oKTtcbiAgcmV0dXJuIHNlbC5hbmNob3JOb2RlICE9IHRoaXMubGFzdEFuY2hvck5vZGUgfHwgc2VsLmFuY2hvck9mZnNldCAhPSB0aGlzLmxhc3RBbmNob3JPZmZzZXQgfHxcbiAgICBzZWwuZm9jdXNOb2RlICE9IHRoaXMubGFzdEhlYWROb2RlIHx8IHNlbC5mb2N1c09mZnNldCAhPSB0aGlzLmxhc3RIZWFkT2Zmc2V0XG59O1xuXG4vLyBTdG9yZSB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgRE9NIHNlbGVjdGlvbi5cblNlbGVjdGlvblJlYWRlci5wcm90b3R5cGUuc3RvcmVET01TdGF0ZSA9IGZ1bmN0aW9uIHN0b3JlRE9NU3RhdGUgKHNlbGVjdGlvbikge1xuICB2YXIgc2VsID0gdGhpcy52aWV3LnJvb3QuZ2V0U2VsZWN0aW9uKCk7XG4gIHRoaXMubGFzdEFuY2hvck5vZGUgPSBzZWwuYW5jaG9yTm9kZTsgdGhpcy5sYXN0QW5jaG9yT2Zmc2V0ID0gc2VsLmFuY2hvck9mZnNldDtcbiAgdGhpcy5sYXN0SGVhZE5vZGUgPSBzZWwuZm9jdXNOb2RlOyB0aGlzLmxhc3RIZWFkT2Zmc2V0ID0gc2VsLmZvY3VzT2Zmc2V0O1xuICB0aGlzLmxhc3RTZWxlY3Rpb24gPSBzZWxlY3Rpb247XG59O1xuXG5TZWxlY3Rpb25SZWFkZXIucHJvdG90eXBlLmNsZWFyRE9NU3RhdGUgPSBmdW5jdGlvbiBjbGVhckRPTVN0YXRlICgpIHtcbiAgdGhpcy5sYXN0QW5jaG9yTm9kZSA9IHRoaXMubGFzdFNlbGVjdGlvbiA9IG51bGw7XG59O1xuXG4vLyA6ICg/c3RyaW5nKSDihpIgYm9vbFxuLy8gV2hlbiB0aGUgRE9NIHNlbGVjdGlvbiBjaGFuZ2VzIGluIGEgbm90YWJsZSBtYW5uZXIsIG1vZGlmeSB0aGVcbi8vIGN1cnJlbnQgc2VsZWN0aW9uIHN0YXRlIHRvIG1hdGNoLlxuU2VsZWN0aW9uUmVhZGVyLnByb3RvdHlwZS5yZWFkRnJvbURPTSA9IGZ1bmN0aW9uIHJlYWRGcm9tRE9NIChvcmlnaW4pIHtcbiAgaWYgKHRoaXMuaWdub3JlVXBkYXRlcyB8fCAhdGhpcy5kb21DaGFuZ2VkKCkgfHwgIWhhc0ZvY3VzQW5kU2VsZWN0aW9uKHRoaXMudmlldykpIHsgcmV0dXJuIH1cbiAgaWYgKCF0aGlzLnZpZXcuaW5ET01DaGFuZ2UpIHsgdGhpcy52aWV3LmRvbU9ic2VydmVyLmZsdXNoKCk7IH1cbiAgaWYgKHRoaXMudmlldy5pbkRPTUNoYW5nZSkgeyByZXR1cm4gfVxuXG4gIHZhciBkb21TZWwgPSB0aGlzLnZpZXcucm9vdC5nZXRTZWxlY3Rpb24oKSwgZG9jID0gdGhpcy52aWV3LnN0YXRlLmRvYztcbiAgdmFyIG5lYXJlc3REZXNjID0gdGhpcy52aWV3LmRvY1ZpZXcubmVhcmVzdERlc2MoZG9tU2VsLmZvY3VzTm9kZSksIGluV2lkZ2V0ID0gbmVhcmVzdERlc2Muc2l6ZSA9PSAwO1xuICB2YXIgaGVhZCA9IHRoaXMudmlldy5kb2NWaWV3LnBvc0Zyb21ET00oZG9tU2VsLmZvY3VzTm9kZSwgZG9tU2VsLmZvY3VzT2Zmc2V0KTtcbiAgdmFyICRoZWFkID0gZG9jLnJlc29sdmUoaGVhZCksICRhbmNob3IsIHNlbGVjdGlvbjtcbiAgaWYgKHNlbGVjdGlvbkNvbGxhcHNlZChkb21TZWwpKSB7XG4gICAgJGFuY2hvciA9ICRoZWFkO1xuICAgIHdoaWxlIChuZWFyZXN0RGVzYyAmJiAhbmVhcmVzdERlc2Mubm9kZSkgeyBuZWFyZXN0RGVzYyA9IG5lYXJlc3REZXNjLnBhcmVudDsgfVxuICAgIGlmIChuZWFyZXN0RGVzYyAmJiBuZWFyZXN0RGVzYy5ub2RlLmlzQXRvbSAmJiBwcm9zZW1pcnJvclN0YXRlLk5vZGVTZWxlY3Rpb24uaXNTZWxlY3RhYmxlKG5lYXJlc3REZXNjLm5vZGUpICYmIG5lYXJlc3REZXNjLnBhcmVudCkge1xuICAgICAgdmFyIHBvcyA9IG5lYXJlc3REZXNjLnBvc0JlZm9yZTtcbiAgICAgIHNlbGVjdGlvbiA9IG5ldyBwcm9zZW1pcnJvclN0YXRlLk5vZGVTZWxlY3Rpb24oaGVhZCA9PSBwb3MgPyAkaGVhZCA6IGRvYy5yZXNvbHZlKHBvcykpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAkYW5jaG9yID0gZG9jLnJlc29sdmUodGhpcy52aWV3LmRvY1ZpZXcucG9zRnJvbURPTShkb21TZWwuYW5jaG9yTm9kZSwgZG9tU2VsLmFuY2hvck9mZnNldCkpO1xuICB9XG5cbiAgaWYgKCFzZWxlY3Rpb24pIHtcbiAgICB2YXIgYmlhcyA9IG9yaWdpbiA9PSBcInBvaW50ZXJcIiB8fCAodGhpcy52aWV3LnN0YXRlLnNlbGVjdGlvbi5oZWFkIDwgJGhlYWQucG9zICYmICFpbldpZGdldCkgPyAxIDogLTE7XG4gICAgc2VsZWN0aW9uID0gc2VsZWN0aW9uQmV0d2Vlbih0aGlzLnZpZXcsICRhbmNob3IsICRoZWFkLCBiaWFzKTtcbiAgfVxuICB2YXIgcHJlc2VydmUgPSAhaW5XaWRnZXQgJiYgaGVhZCA9PSBzZWxlY3Rpb24uaGVhZCAmJiAkYW5jaG9yLnBvcyA9PSBzZWxlY3Rpb24uYW5jaG9yICYmXG4gICAgICAoIXRoaXMudmlldy5jdXJzb3JXcmFwcGVyIHx8IGRvbVNlbC5pc0NvbGxhcHNlZCAmJiBvcmlnaW4gIT0gXCJwb2ludGVyXCIpO1xuICBpZiAocHJlc2VydmUpIHsgdGhpcy5zdG9yZURPTVN0YXRlKHNlbGVjdGlvbik7IH1cbiAgaWYgKCF0aGlzLnZpZXcuc3RhdGUuc2VsZWN0aW9uLmVxKHNlbGVjdGlvbikpIHtcbiAgICB2YXIgdHIgPSB0aGlzLnZpZXcuc3RhdGUudHIuc2V0U2VsZWN0aW9uKHNlbGVjdGlvbik7XG4gICAgaWYgKG9yaWdpbiA9PSBcInBvaW50ZXJcIikgeyB0ci5zZXRNZXRhKFwicG9pbnRlclwiLCB0cnVlKTsgfVxuICAgIHRoaXMudmlldy5kaXNwYXRjaCh0cik7XG4gIH0gZWxzZSBpZiAoIXByZXNlcnZlKSB7XG4gICAgc2VsZWN0aW9uVG9ET00odGhpcy52aWV3KTtcbiAgfVxufTtcblxuLy8gVGhlcmUncyB0d28gcG9sbGluZyBtb2RlbHMuIE9uIGJyb3dzZXJzIHRoYXQgc3VwcG9ydCB0aGVcbi8vIHNlbGVjdGlvbmNoYW5nZSBldmVudCAoZXZlcnl0aGluZyBleGNlcHQgRmlyZWZveCA8IDUyLCBiYXNpY2FsbHkpLCB3ZVxuLy8gcmVnaXN0ZXIgYSBsaXN0ZW5lciBmb3IgdGhhdCB3aGVuZXZlciB0aGUgZWRpdG9yIGlzIGZvY3VzZWQuXG52YXIgU2VsZWN0aW9uQ2hhbmdlUG9sbGVyID0gZnVuY3Rpb24gU2VsZWN0aW9uQ2hhbmdlUG9sbGVyKHJlYWRlcikge1xuICB2YXIgdGhpcyQxID0gdGhpcztcblxuICB0aGlzLmxpc3RlbmluZyA9IGZhbHNlO1xuICB0aGlzLmN1ck9yaWdpbiA9IG51bGw7XG4gIHRoaXMub3JpZ2luVGltZSA9IDA7XG4gIHRoaXMucmVhZGVyID0gcmVhZGVyO1xuXG4gIHRoaXMucmVhZEZ1bmMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiByZWFkZXIucmVhZEZyb21ET00odGhpcyQxLm9yaWdpblRpbWUgPiBEYXRlLm5vdygpIC0gNTAgPyB0aGlzJDEuY3VyT3JpZ2luIDogbnVsbCk7IH07XG59O1xuXG5TZWxlY3Rpb25DaGFuZ2VQb2xsZXIucHJvdG90eXBlLnBvbGwgPSBmdW5jdGlvbiBwb2xsIChvcmlnaW4pIHtcbiAgdGhpcy5jdXJPcmlnaW4gPSBvcmlnaW47XG4gIHRoaXMub3JpZ2luVGltZSA9IERhdGUubm93KCk7XG59O1xuXG5TZWxlY3Rpb25DaGFuZ2VQb2xsZXIucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gc3RhcnQgKGFuZFJlYWQpIHtcbiAgaWYgKCF0aGlzLmxpc3RlbmluZykge1xuICAgIHZhciBkb2MgPSB0aGlzLnJlYWRlci52aWV3LmRvbS5vd25lckRvY3VtZW50O1xuICAgIGRvYy5hZGRFdmVudExpc3RlbmVyKFwic2VsZWN0aW9uY2hhbmdlXCIsIHRoaXMucmVhZEZ1bmMpO1xuICAgIHRoaXMubGlzdGVuaW5nID0gdHJ1ZTtcbiAgICBpZiAoYW5kUmVhZCkgeyB0aGlzLnJlYWRGdW5jKCk7IH1cbiAgfVxufTtcblxuU2VsZWN0aW9uQ2hhbmdlUG9sbGVyLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24gc3RvcCAoKSB7XG4gIGlmICh0aGlzLmxpc3RlbmluZykge1xuICAgIHZhciBkb2MgPSB0aGlzLnJlYWRlci52aWV3LmRvbS5vd25lckRvY3VtZW50O1xuICAgIGRvYy5yZW1vdmVFdmVudExpc3RlbmVyKFwic2VsZWN0aW9uY2hhbmdlXCIsIHRoaXMucmVhZEZ1bmMpO1xuICAgIHRoaXMubGlzdGVuaW5nID0gZmFsc2U7XG4gIH1cbn07XG5cbi8vIE9uIEJyb3dzZXJzIHRoYXQgZG9uJ3Qgc3VwcG9ydCB0aGUgc2VsZWN0aW9uY2hhbmdlIGV2ZW50LFxuLy8gd2UgdXNlIHRpbWVvdXQtYmFzZWQgcG9sbGluZy5cbnZhciBUaW1lb3V0UG9sbGVyID0gZnVuY3Rpb24gVGltZW91dFBvbGxlcihyZWFkZXIpIHtcbiAgLy8gVGhlIHRpbWVvdXQgSUQgZm9yIHRoZSBwb2xsZXIgd2hlbiBhY3RpdmUuXG4gIHRoaXMucG9sbGluZyA9IG51bGw7XG4gIHRoaXMucmVhZGVyID0gcmVhZGVyO1xuICB0aGlzLnBvbGxGdW5jID0gdGhpcy5kb1BvbGwuYmluZCh0aGlzLCBudWxsKTtcbn07XG5cblRpbWVvdXRQb2xsZXIucHJvdG90eXBlLmRvUG9sbCA9IGZ1bmN0aW9uIGRvUG9sbCAob3JpZ2luKSB7XG4gIHZhciB2aWV3ID0gdGhpcy5yZWFkZXIudmlldztcbiAgaWYgKHZpZXcuZm9jdXNlZCB8fCAhdmlldy5lZGl0YWJsZSkge1xuICAgIHRoaXMucmVhZGVyLnJlYWRGcm9tRE9NKG9yaWdpbik7XG4gICAgdGhpcy5wb2xsaW5nID0gc2V0VGltZW91dCh0aGlzLnBvbGxGdW5jLCAxMDApO1xuICB9IGVsc2Uge1xuICAgIHRoaXMucG9sbGluZyA9IG51bGw7XG4gIH1cbn07XG5cblRpbWVvdXRQb2xsZXIucHJvdG90eXBlLnBvbGwgPSBmdW5jdGlvbiBwb2xsIChvcmlnaW4pIHtcbiAgY2xlYXJUaW1lb3V0KHRoaXMucG9sbGluZyk7XG4gIHRoaXMucG9sbGluZyA9IHNldFRpbWVvdXQob3JpZ2luID8gdGhpcy5kb1BvbGwuYmluZCh0aGlzLCBvcmlnaW4pIDogdGhpcy5wb2xsRnVuYywgMCk7XG59O1xuXG5UaW1lb3V0UG9sbGVyLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uIHN0YXJ0ICgpIHtcbiAgaWYgKHRoaXMucG9sbGluZyA9PSBudWxsKSB7IHRoaXMucG9sbCgpOyB9XG59O1xuXG5UaW1lb3V0UG9sbGVyLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24gc3RvcCAoKSB7XG4gIGNsZWFyVGltZW91dCh0aGlzLnBvbGxpbmcpO1xuICB0aGlzLnBvbGxpbmcgPSBudWxsO1xufTtcblxuZnVuY3Rpb24gcG9sbGVyKHJlYWRlcikge1xuICByZXR1cm4gbmV3IChcIm9uc2VsZWN0aW9uY2hhbmdlXCIgaW4gZG9jdW1lbnQgPyBTZWxlY3Rpb25DaGFuZ2VQb2xsZXIgOiBUaW1lb3V0UG9sbGVyKShyZWFkZXIpXG59XG5cbmZ1bmN0aW9uIHNlbGVjdGlvblRvRE9NKHZpZXcsIHRha2VGb2N1cykge1xuICB2YXIgc2VsID0gdmlldy5zdGF0ZS5zZWxlY3Rpb247XG4gIHN5bmNOb2RlU2VsZWN0aW9uKHZpZXcsIHNlbCk7XG5cbiAgaWYgKHZpZXcuZWRpdGFibGUgJiYgIXZpZXcuaGFzRm9jdXMoKSkge1xuICAgIGlmICghdGFrZUZvY3VzKSB7IHJldHVybiB9XG4gICAgLy8gU2VlIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTkyMTQ0NFxuICAgIGlmIChyZXN1bHQuZ2Vja28gJiYgcmVzdWx0LmdlY2tvX3ZlcnNpb24gPD0gNTUpIHtcbiAgICAgIHZpZXcuc2VsZWN0aW9uUmVhZGVyLmlnbm9yZVVwZGF0ZXMgPSB0cnVlO1xuICAgICAgdmlldy5kb20uZm9jdXMoKTtcbiAgICAgIHZpZXcuc2VsZWN0aW9uUmVhZGVyLmlnbm9yZVVwZGF0ZXMgPSBmYWxzZTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoIXZpZXcuZWRpdGFibGUgJiYgIWhhc1NlbGVjdGlvbih2aWV3KSAmJiAhdGFrZUZvY3VzKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICB2YXIgcmVhZGVyID0gdmlldy5zZWxlY3Rpb25SZWFkZXI7XG4gIGlmIChyZWFkZXIubGFzdFNlbGVjdGlvbiAmJiByZWFkZXIubGFzdFNlbGVjdGlvbi5lcShzZWwpICYmICFyZWFkZXIuZG9tQ2hhbmdlZCgpKSB7IHJldHVybiB9XG5cbiAgcmVhZGVyLmlnbm9yZVVwZGF0ZXMgPSB0cnVlO1xuXG4gIGlmICh2aWV3LmN1cnNvcldyYXBwZXIpIHtcbiAgICBzZWxlY3RDdXJzb3JXcmFwcGVyKHZpZXcpO1xuICB9IGVsc2Uge1xuICAgIHZhciBhbmNob3IgPSBzZWwuYW5jaG9yO1xuICAgIHZhciBoZWFkID0gc2VsLmhlYWQ7XG4gICAgdmFyIHJlc2V0RWRpdGFibGVGcm9tLCByZXNldEVkaXRhYmxlVG87XG4gICAgaWYgKGJyb2tlblNlbGVjdEJldHdlZW5VbmVkaXRhYmxlICYmICEoc2VsIGluc3RhbmNlb2YgcHJvc2VtaXJyb3JTdGF0ZS5UZXh0U2VsZWN0aW9uKSkge1xuICAgICAgaWYgKCFzZWwuJGZyb20ucGFyZW50LmlubGluZUNvbnRlbnQpXG4gICAgICAgIHsgcmVzZXRFZGl0YWJsZUZyb20gPSB0ZW1wb3JhcmlseUVkaXRhYmxlTmVhcih2aWV3LCBzZWwuZnJvbSk7IH1cbiAgICAgIGlmICghc2VsLmVtcHR5ICYmICFzZWwuJGZyb20ucGFyZW50LmlubGluZUNvbnRlbnQpXG4gICAgICAgIHsgcmVzZXRFZGl0YWJsZVRvID0gdGVtcG9yYXJpbHlFZGl0YWJsZU5lYXIodmlldywgc2VsLnRvKTsgfVxuICAgIH1cbiAgICB2aWV3LmRvY1ZpZXcuc2V0U2VsZWN0aW9uKGFuY2hvciwgaGVhZCwgdmlldy5yb290KTtcbiAgICBpZiAoYnJva2VuU2VsZWN0QmV0d2VlblVuZWRpdGFibGUpIHtcbiAgICAgIGlmIChyZXNldEVkaXRhYmxlRnJvbSkgeyByZXNldEVkaXRhYmxlRnJvbS5jb250ZW50RWRpdGFibGUgPSBcImZhbHNlXCI7IH1cbiAgICAgIGlmIChyZXNldEVkaXRhYmxlVG8pIHsgcmVzZXRFZGl0YWJsZVRvLmNvbnRlbnRFZGl0YWJsZSA9IFwiZmFsc2VcIjsgfVxuICAgIH1cbiAgICBpZiAoc2VsLnZpc2libGUpIHtcbiAgICAgIHZpZXcuZG9tLmNsYXNzTGlzdC5yZW1vdmUoXCJQcm9zZU1pcnJvci1oaWRlc2VsZWN0aW9uXCIpO1xuICAgIH0gZWxzZSBpZiAoYW5jaG9yICE9IGhlYWQpIHtcbiAgICAgIHZpZXcuZG9tLmNsYXNzTGlzdC5hZGQoXCJQcm9zZU1pcnJvci1oaWRlc2VsZWN0aW9uXCIpO1xuICAgICAgaWYgKFwib25zZWxlY3Rpb25jaGFuZ2VcIiBpbiBkb2N1bWVudCkgeyByZW1vdmVDbGFzc09uU2VsZWN0aW9uQ2hhbmdlKHZpZXcpOyB9XG4gICAgfVxuICB9XG5cbiAgcmVhZGVyLnN0b3JlRE9NU3RhdGUoc2VsKTtcbiAgcmVhZGVyLmlnbm9yZVVwZGF0ZXMgPSBmYWxzZTtcbn1cblxuLy8gS2x1ZGdlIHRvIHdvcmsgYXJvdW5kIFdlYmtpdCBub3QgYWxsb3dpbmcgYSBzZWxlY3Rpb24gdG8gc3RhcnQvZW5kXG4vLyBiZXR3ZWVuIG5vbi1lZGl0YWJsZSBibG9jayBub2Rlcy4gV2UgYnJpZWZseSBtYWtlIHNvbWV0aGluZ1xuLy8gZWRpdGFibGUsIHNldCB0aGUgc2VsZWN0aW9uLCB0aGVuIHNldCBpdCB1bmVkaXRhYmxlIGFnYWluLlxuXG52YXIgYnJva2VuU2VsZWN0QmV0d2VlblVuZWRpdGFibGUgPSByZXN1bHQuc2FmYXJpIHx8IHJlc3VsdC5jaHJvbWUgJiYgcmVzdWx0LmNocm9tZV92ZXJzaW9uIDwgNjM7XG5cbmZ1bmN0aW9uIHRlbXBvcmFyaWx5RWRpdGFibGVOZWFyKHZpZXcsIHBvcykge1xuICB2YXIgcmVmID0gdmlldy5kb2NWaWV3LmRvbUZyb21Qb3MocG9zKTtcbiAgdmFyIG5vZGUgPSByZWYubm9kZTtcbiAgdmFyIG9mZnNldCA9IHJlZi5vZmZzZXQ7XG4gIHZhciBhZnRlciA9IG9mZnNldCA8IG5vZGUuY2hpbGROb2Rlcy5sZW5ndGggPyBub2RlLmNoaWxkTm9kZXNbb2Zmc2V0XSA6IG51bGw7XG4gIHZhciBiZWZvcmUgPSBvZmZzZXQgPyBub2RlLmNoaWxkTm9kZXNbb2Zmc2V0IC0gMV0gOiBudWxsO1xuICBpZiAoKCFhZnRlciB8fCBhZnRlci5jb250ZW50RWRpdGFibGUgPT0gXCJmYWxzZVwiKSAmJiAoIWJlZm9yZSB8fCBiZWZvcmUuY29udGVudEVkaXRhYmxlID09IFwiZmFsc2VcIikpIHtcbiAgICBpZiAoYWZ0ZXIpIHtcbiAgICAgIGFmdGVyLmNvbnRlbnRFZGl0YWJsZSA9IFwidHJ1ZVwiO1xuICAgICAgcmV0dXJuIGFmdGVyXG4gICAgfSBlbHNlIGlmIChiZWZvcmUpIHtcbiAgICAgIGJlZm9yZS5jb250ZW50RWRpdGFibGUgPSBcInRydWVcIjtcbiAgICAgIHJldHVybiBiZWZvcmVcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlQ2xhc3NPblNlbGVjdGlvbkNoYW5nZSh2aWV3KSB7XG4gIHZhciBkb2MgPSB2aWV3LmRvbS5vd25lckRvY3VtZW50O1xuICBkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNlbGVjdGlvbmNoYW5nZVwiLCB2aWV3LmhpZGVTZWxlY3Rpb25HdWFyZCk7XG4gIHZhciBkb21TZWwgPSB2aWV3LnJvb3QuZ2V0U2VsZWN0aW9uKCk7XG4gIHZhciBub2RlID0gZG9tU2VsLmFuY2hvck5vZGUsIG9mZnNldCA9IGRvbVNlbC5hbmNob3JPZmZzZXQ7XG4gIGRvYy5hZGRFdmVudExpc3RlbmVyKFwic2VsZWN0aW9uY2hhbmdlXCIsIHZpZXcuaGlkZVNlbGVjdGlvbkd1YXJkID0gZnVuY3Rpb24gKCkge1xuICAgIGlmIChkb21TZWwuYW5jaG9yTm9kZSAhPSBub2RlIHx8IGRvbVNlbC5hbmNob3JPZmZzZXQgIT0gb2Zmc2V0KSB7XG4gICAgICBkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNlbGVjdGlvbmNoYW5nZVwiLCB2aWV3LmhpZGVTZWxlY3Rpb25HdWFyZCk7XG4gICAgICB2aWV3LmRvbS5jbGFzc0xpc3QucmVtb3ZlKFwiUHJvc2VNaXJyb3ItaGlkZXNlbGVjdGlvblwiKTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBzZWxlY3RDdXJzb3JXcmFwcGVyKHZpZXcpIHtcbiAgdmFyIGRvbVNlbCA9IHZpZXcucm9vdC5nZXRTZWxlY3Rpb24oKSwgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuICB2YXIgbm9kZSA9IHZpZXcuY3Vyc29yV3JhcHBlci5kb207XG4gIHJhbmdlLnNldEVuZChub2RlLCBub2RlLmNoaWxkTm9kZXMubGVuZ3RoKTtcbiAgcmFuZ2UuY29sbGFwc2UoZmFsc2UpO1xuICBkb21TZWwucmVtb3ZlQWxsUmFuZ2VzKCk7XG4gIGRvbVNlbC5hZGRSYW5nZShyYW5nZSk7XG4gIC8vIEtsdWRnZSB0byBraWxsICdjb250cm9sIHNlbGVjdGlvbicgaW4gSUUxMSB3aGVuIHNlbGVjdGluZyBhblxuICAvLyBpbnZpc2libGUgY3Vyc29yIHdyYXBwZXIsIHNpbmNlIHRoYXQgd291bGQgcmVzdWx0IGluIHRob3NlIHdlaXJkXG4gIC8vIHJlc2l6ZSBoYW5kbGVzIGFuZCBhIHNlbGVjdGlvbiB0aGF0IGNvbnNpZGVycyB0aGUgYWJzb2x1dGVseVxuICAvLyBwb3NpdGlvbmVkIHdyYXBwZXIsIHJhdGhlciB0aGFuIHRoZSByb290IGVkaXRhYmxlIG5vZGUsIHRoZVxuICAvLyBmb2N1c2VkIGVsZW1lbnQuXG4gIGlmICghdmlldy5zdGF0ZS5zZWxlY3Rpb24udmlzaWJsZSAmJiByZXN1bHQuaWUgJiYgcmVzdWx0LmllX3ZlcnNpb24gPD0gMTEpIHtcbiAgICBub2RlLmRpc2FibGVkID0gdHJ1ZTtcbiAgICBub2RlLmRpc2FibGVkID0gZmFsc2U7XG4gIH1cbn1cblxuZnVuY3Rpb24gc3luY05vZGVTZWxlY3Rpb24odmlldywgc2VsKSB7XG4gIGlmIChzZWwgaW5zdGFuY2VvZiBwcm9zZW1pcnJvclN0YXRlLk5vZGVTZWxlY3Rpb24pIHtcbiAgICB2YXIgZGVzYyA9IHZpZXcuZG9jVmlldy5kZXNjQXQoc2VsLmZyb20pO1xuICAgIGlmIChkZXNjICE9IHZpZXcubGFzdFNlbGVjdGVkVmlld0Rlc2MpIHtcbiAgICAgIGNsZWFyTm9kZVNlbGVjdGlvbih2aWV3KTtcbiAgICAgIGlmIChkZXNjKSB7IGRlc2Muc2VsZWN0Tm9kZSgpOyB9XG4gICAgICB2aWV3Lmxhc3RTZWxlY3RlZFZpZXdEZXNjID0gZGVzYztcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgY2xlYXJOb2RlU2VsZWN0aW9uKHZpZXcpO1xuICB9XG59XG5cbi8vIENsZWFyIGFsbCBET00gc3RhdGVmdWxuZXNzIG9mIHRoZSBsYXN0IG5vZGUgc2VsZWN0aW9uLlxuZnVuY3Rpb24gY2xlYXJOb2RlU2VsZWN0aW9uKHZpZXcpIHtcbiAgaWYgKHZpZXcubGFzdFNlbGVjdGVkVmlld0Rlc2MpIHtcbiAgICB2aWV3Lmxhc3RTZWxlY3RlZFZpZXdEZXNjLmRlc2VsZWN0Tm9kZSgpO1xuICAgIHZpZXcubGFzdFNlbGVjdGVkVmlld0Rlc2MgPSBudWxsO1xuICB9XG59XG5cbmZ1bmN0aW9uIHNlbGVjdGlvbkJldHdlZW4odmlldywgJGFuY2hvciwgJGhlYWQsIGJpYXMpIHtcbiAgcmV0dXJuIHZpZXcuc29tZVByb3AoXCJjcmVhdGVTZWxlY3Rpb25CZXR3ZWVuXCIsIGZ1bmN0aW9uIChmKSB7IHJldHVybiBmKHZpZXcsICRhbmNob3IsICRoZWFkKTsgfSlcbiAgICB8fCBwcm9zZW1pcnJvclN0YXRlLlRleHRTZWxlY3Rpb24uYmV0d2VlbigkYW5jaG9yLCAkaGVhZCwgYmlhcylcbn1cblxuZnVuY3Rpb24gaGFzRm9jdXNBbmRTZWxlY3Rpb24odmlldykge1xuICBpZiAodmlldy5lZGl0YWJsZSAmJiB2aWV3LnJvb3QuYWN0aXZlRWxlbWVudCAhPSB2aWV3LmRvbSkgeyByZXR1cm4gZmFsc2UgfVxuICByZXR1cm4gaGFzU2VsZWN0aW9uKHZpZXcpXG59XG5cbmZ1bmN0aW9uIGhhc1NlbGVjdGlvbih2aWV3KSB7XG4gIHZhciBzZWwgPSB2aWV3LnJvb3QuZ2V0U2VsZWN0aW9uKCk7XG4gIGlmICghc2VsLmFuY2hvck5vZGUpIHsgcmV0dXJuIGZhbHNlIH1cbiAgdHJ5IHtcbiAgICAvLyBGaXJlZm94IHdpbGwgcmFpc2UgJ3Blcm1pc3Npb24gZGVuaWVkJyBlcnJvcnMgd2hlbiBhY2Nlc3NpbmdcbiAgICAvLyBwcm9wZXJ0aWVzIG9mIGBzZWwuYW5jaG9yTm9kZWAgd2hlbiBpdCdzIGluIGEgZ2VuZXJhdGVkIENTU1xuICAgIC8vIGVsZW1lbnQuXG4gICAgcmV0dXJuIHZpZXcuZG9tLmNvbnRhaW5zKHNlbC5hbmNob3JOb2RlLm5vZGVUeXBlID09IDMgPyBzZWwuYW5jaG9yTm9kZS5wYXJlbnROb2RlIDogc2VsLmFuY2hvck5vZGUpXG4gIH0gY2F0Y2goXykge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG59XG5cbmZ1bmN0aW9uIG5vbkluY2x1c2l2ZU1hcmsobWFyaykge1xuICByZXR1cm4gbWFyay50eXBlLnNwZWMuaW5jbHVzaXZlID09PSBmYWxzZVxufVxuXG5mdW5jdGlvbiBuZWVkc0N1cnNvcldyYXBwZXIoc3RhdGUpIHtcbiAgdmFyIHJlZiA9IHN0YXRlLnNlbGVjdGlvbjtcbiAgdmFyICRoZWFkID0gcmVmLiRoZWFkO1xuICB2YXIgJGFuY2hvciA9IHJlZi4kYW5jaG9yO1xuICB2YXIgdmlzaWJsZSA9IHJlZi52aXNpYmxlO1xuICB2YXIgJHBvcyA9ICRoZWFkLnBvcyA9PSAkYW5jaG9yLnBvcyAmJiAoIXZpc2libGUgfHwgJGhlYWQucGFyZW50LmlubGluZUNvbnRlbnQpID8gJGhlYWQgOiBudWxsO1xuICBpZiAoJHBvcyAmJiAoIXZpc2libGUgfHwgc3RhdGUuc3RvcmVkTWFya3MgfHwgJHBvcy5wYXJlbnQuY29udGVudC5sZW5ndGggPT0gMCB8fFxuICAgICAgICAgICAgICAgJHBvcy5wYXJlbnRPZmZzZXQgJiYgISRwb3MudGV4dE9mZnNldCAmJiAkcG9zLm5vZGVCZWZvcmUubWFya3Muc29tZShub25JbmNsdXNpdmVNYXJrKSkpXG4gICAgeyByZXR1cm4gJHBvcyB9XG4gIGVsc2VcbiAgICB7IHJldHVybiBudWxsIH1cbn1cblxudmFyIERPTUNoYW5nZSA9IGZ1bmN0aW9uIERPTUNoYW5nZSh2aWV3LCBjb21wb3NpbmcpIHtcbiAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgdGhpcy52aWV3ID0gdmlldztcbiAgdGhpcy5zdGF0ZSA9IHZpZXcuc3RhdGU7XG4gIHRoaXMuY29tcG9zaW5nID0gY29tcG9zaW5nO1xuICB0aGlzLmZyb20gPSB0aGlzLnRvID0gbnVsbDtcbiAgdGhpcy50eXBlT3ZlciA9IGZhbHNlO1xuICB0aGlzLnRpbWVvdXQgPSBjb21wb3NpbmcgPyBudWxsIDogc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzJDEuZmluaXNoKCk7IH0sIERPTUNoYW5nZS5jb21taXRUaW1lb3V0KTtcbiAgdGhpcy50cmFja01hcHBpbmdzID0gbmV3IFRyYWNrTWFwcGluZ3Modmlldy5zdGF0ZSk7XG5cbiAgLy8gSWYgdGhlcmUgaGF2ZSBiZWVuIGNoYW5nZXMgc2luY2UgdGhpcyBET00gdXBkYXRlIHN0YXJ0ZWQsIHdlIG11c3RcbiAgLy8gbWFwIG91ciBzdGFydCBhbmQgZW5kIHBvc2l0aW9ucywgYXMgd2VsbCBhcyB0aGUgbmV3IHNlbGVjdGlvblxuICAvLyBwb3NpdGlvbnMsIHRocm91Z2ggdGhlbS4gVGhpcyB0cmFja3MgdGhhdCBtYXBwaW5nLlxuICB0aGlzLm1hcHBpbmcgPSBuZXcgcHJvc2VtaXJyb3JUcmFuc2Zvcm0uTWFwcGluZztcbiAgdGhpcy5tYXBwaW5nVG8gPSB2aWV3LnN0YXRlO1xufTtcblxuRE9NQ2hhbmdlLnByb3RvdHlwZS5hZGRSYW5nZSA9IGZ1bmN0aW9uIGFkZFJhbmdlIChmcm9tLCB0bykge1xuICBpZiAodGhpcy5mcm9tID09IG51bGwpIHtcbiAgICB0aGlzLmZyb20gPSBmcm9tO1xuICAgIHRoaXMudG8gPSB0bztcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmZyb20gPSBNYXRoLm1pbihmcm9tLCB0aGlzLmZyb20pO1xuICAgIHRoaXMudG8gPSBNYXRoLm1heCh0bywgdGhpcy50byk7XG4gIH1cbn07XG5cbkRPTUNoYW5nZS5wcm90b3R5cGUuY2hhbmdlZFJhbmdlID0gZnVuY3Rpb24gY2hhbmdlZFJhbmdlICgpIHtcbiAgaWYgKHRoaXMuZnJvbSA9PSBudWxsKSB7IHJldHVybiByYW5nZUFyb3VuZFNlbGVjdGlvbih0aGlzLnN0YXRlLnNlbGVjdGlvbikgfVxuICB2YXIgJGZyb20gPSB0aGlzLnN0YXRlLmRvYy5yZXNvbHZlKE1hdGgubWluKHRoaXMuZnJvbSwgdGhpcy5zdGF0ZS5zZWxlY3Rpb24uZnJvbSkpLCAkdG8gPSB0aGlzLnN0YXRlLmRvYy5yZXNvbHZlKHRoaXMudG8pO1xuICB2YXIgc2hhcmVkID0gJGZyb20uc2hhcmVkRGVwdGgodGhpcy50byk7XG4gIHJldHVybiB7ZnJvbTogJGZyb20uYmVmb3JlKHNoYXJlZCArIDEpLCB0bzogJHRvLmFmdGVyKHNoYXJlZCArIDEpfVxufTtcblxuRE9NQ2hhbmdlLnByb3RvdHlwZS5tYXJrRGlydHkgPSBmdW5jdGlvbiBtYXJrRGlydHkgKHJhbmdlKSB7XG4gIGlmICh0aGlzLmZyb20gPT0gbnVsbCkgeyB0aGlzLnZpZXcuZG9jVmlldy5tYXJrRGlydHkoKHJhbmdlID0gcmFuZ2UgfHwgdGhpcy5jaGFuZ2VkUmFuZ2UoKSkuZnJvbSwgcmFuZ2UudG8pOyB9XG4gIGVsc2UgeyB0aGlzLnZpZXcuZG9jVmlldy5tYXJrRGlydHkodGhpcy5mcm9tLCB0aGlzLnRvKTsgfVxufTtcblxuRE9NQ2hhbmdlLnByb3RvdHlwZS5zdGF0ZVVwZGF0ZWQgPSBmdW5jdGlvbiBzdGF0ZVVwZGF0ZWQgKHN0YXRlKSB7XG4gIGlmICh0aGlzLnRyYWNrTWFwcGluZ3MuZ2V0TWFwcGluZyhzdGF0ZSwgdGhpcy5tYXBwaW5nKSkge1xuICAgIHRoaXMudHJhY2tNYXBwaW5ncy5kZXN0cm95KCk7XG4gICAgdGhpcy50cmFja01hcHBpbmdzID0gbmV3IFRyYWNrTWFwcGluZ3Moc3RhdGUpO1xuICAgIHRoaXMubWFwcGluZ1RvID0gc3RhdGU7XG4gICAgcmV0dXJuIHRydWVcbiAgfSBlbHNlIHtcbiAgICB0aGlzLm1hcmtEaXJ0eSgpO1xuICAgIHRoaXMuZGVzdHJveSgpO1xuICAgIHJldHVybiBmYWxzZVxuICB9XG59O1xuXG5ET01DaGFuZ2UucHJvdG90eXBlLmZpbmlzaCA9IGZ1bmN0aW9uIGZpbmlzaCAoZm9yY2UpIHtcbiAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dCk7XG4gIGlmICh0aGlzLmNvbXBvc2luZyAmJiAhZm9yY2UpIHsgcmV0dXJuIH1cbiAgdGhpcy52aWV3LmRvbU9ic2VydmVyLmZsdXNoKCk7XG4gIHZhciByYW5nZSA9IHRoaXMuY2hhbmdlZFJhbmdlKCk7XG4gIHRoaXMubWFya0RpcnR5KHJhbmdlKTtcblxuICB0aGlzLmRlc3Ryb3koKTtcbiAgdmFyIHNlbCA9IHRoaXMuc3RhdGUuc2VsZWN0aW9uLCBhbGxvd1R5cGVPdmVyID0gdGhpcy50eXBlT3ZlciAmJiBzZWwgaW5zdGFuY2VvZiBwcm9zZW1pcnJvclN0YXRlLlRleHRTZWxlY3Rpb24gJiZcbiAgICAgICFzZWwuZW1wdHkgJiYgc2VsLiRoZWFkLnNhbWVQYXJlbnQoc2VsLiRhbmNob3IpO1xuICByZWFkRE9NQ2hhbmdlKHRoaXMudmlldywgdGhpcy5tYXBwaW5nLCB0aGlzLnN0YXRlLCByYW5nZSwgYWxsb3dUeXBlT3Zlcik7XG5cbiAgLy8gSWYgdGhlIHJlYWRpbmcgZGlkbid0IHJlc3VsdCBpbiBhIHZpZXcgdXBkYXRlLCBmb3JjZSBvbmUgYnlcbiAgLy8gcmVzZXR0aW5nIHRoZSB2aWV3IHRvIGl0cyBjdXJyZW50IHN0YXRlLlxuICBpZiAodGhpcy52aWV3LmRvY1ZpZXcuZGlydHkpIHsgdGhpcy52aWV3LnVwZGF0ZVN0YXRlKHRoaXMudmlldy5zdGF0ZSk7IH1cbn07XG5cbkRPTUNoYW5nZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKCkge1xuICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KTtcbiAgdGhpcy50cmFja01hcHBpbmdzLmRlc3Ryb3koKTtcbiAgdGhpcy52aWV3LmluRE9NQ2hhbmdlID0gbnVsbDtcbn07XG5cbkRPTUNoYW5nZS5wcm90b3R5cGUuY29tcG9zaXRpb25FbmQgPSBmdW5jdGlvbiBjb21wb3NpdGlvbkVuZCAoKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgaWYgKHRoaXMuY29tcG9zaW5nKSB7XG4gICAgdGhpcy5jb21wb3NpbmcgPSBmYWxzZTtcbiAgICB0aGlzLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMkMS5maW5pc2goKTsgfSwgNTApO1xuICB9XG59O1xuXG5ET01DaGFuZ2Uuc3RhcnQgPSBmdW5jdGlvbiBzdGFydCAodmlldywgY29tcG9zaW5nKSB7XG4gIGlmICh2aWV3LmluRE9NQ2hhbmdlKSB7XG4gICAgaWYgKGNvbXBvc2luZykge1xuICAgICAgY2xlYXJUaW1lb3V0KHZpZXcuaW5ET01DaGFuZ2UudGltZW91dCk7XG4gICAgICB2aWV3LmluRE9NQ2hhbmdlLmNvbXBvc2luZyA9IHRydWU7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHZpZXcuaW5ET01DaGFuZ2UgPSBuZXcgRE9NQ2hhbmdlKHZpZXcsIGNvbXBvc2luZyk7XG4gIH1cbiAgcmV0dXJuIHZpZXcuaW5ET01DaGFuZ2Vcbn07XG5ET01DaGFuZ2UuY29tbWl0VGltZW91dCA9IDIwO1xuXG4vLyBOb3RlIHRoYXQgYWxsIHJlZmVyZW5jaW5nIGFuZCBwYXJzaW5nIGlzIGRvbmUgd2l0aCB0aGVcbi8vIHN0YXJ0LW9mLW9wZXJhdGlvbiBzZWxlY3Rpb24gYW5kIGRvY3VtZW50LCBzaW5jZSB0aGF0J3MgdGhlIG9uZVxuLy8gdGhhdCB0aGUgRE9NIHJlcHJlc2VudHMuIElmIGFueSBjaGFuZ2VzIGNhbWUgaW4gaW4gdGhlIG1lYW50aW1lLFxuLy8gdGhlIG1vZGlmaWNhdGlvbiBpcyBtYXBwZWQgb3ZlciB0aG9zZSBiZWZvcmUgaXQgaXMgYXBwbGllZCwgaW5cbi8vIHJlYWRET01DaGFuZ2UuXG5cbmZ1bmN0aW9uIHBhcnNlQmV0d2Vlbih2aWV3LCBvbGRTdGF0ZSwgcmFuZ2UpIHtcbiAgdmFyIHJlZiA9IHZpZXcuZG9jVmlldy5wYXJzZVJhbmdlKHJhbmdlLmZyb20sIHJhbmdlLnRvKTtcbiAgdmFyIHBhcmVudCA9IHJlZi5ub2RlO1xuICB2YXIgZnJvbU9mZnNldCA9IHJlZi5mcm9tT2Zmc2V0O1xuICB2YXIgdG9PZmZzZXQgPSByZWYudG9PZmZzZXQ7XG4gIHZhciBmcm9tID0gcmVmLmZyb207XG4gIHZhciB0byA9IHJlZi50bztcblxuICB2YXIgZG9tU2VsID0gdmlldy5yb290LmdldFNlbGVjdGlvbigpLCBmaW5kID0gbnVsbCwgYW5jaG9yID0gZG9tU2VsLmFuY2hvck5vZGU7XG4gIGlmIChhbmNob3IgJiYgdmlldy5kb20uY29udGFpbnMoYW5jaG9yLm5vZGVUeXBlID09IDEgPyBhbmNob3IgOiBhbmNob3IucGFyZW50Tm9kZSkpIHtcbiAgICBmaW5kID0gW3tub2RlOiBhbmNob3IsIG9mZnNldDogZG9tU2VsLmFuY2hvck9mZnNldH1dO1xuICAgIGlmICghc2VsZWN0aW9uQ29sbGFwc2VkKGRvbVNlbCkpXG4gICAgICB7IGZpbmQucHVzaCh7bm9kZTogZG9tU2VsLmZvY3VzTm9kZSwgb2Zmc2V0OiBkb21TZWwuZm9jdXNPZmZzZXR9KTsgfVxuICB9XG4gIHZhciBzdGFydERvYyA9IG9sZFN0YXRlLmRvYztcbiAgdmFyIHBhcnNlciA9IHZpZXcuc29tZVByb3AoXCJkb21QYXJzZXJcIikgfHwgcHJvc2VtaXJyb3JNb2RlbC5ET01QYXJzZXIuZnJvbVNjaGVtYSh2aWV3LnN0YXRlLnNjaGVtYSk7XG4gIHZhciAkZnJvbSA9IHN0YXJ0RG9jLnJlc29sdmUoZnJvbSk7XG4gIHZhciBzZWwgPSBudWxsLCBkb2MgPSBwYXJzZXIucGFyc2UocGFyZW50LCB7XG4gICAgdG9wTm9kZTogJGZyb20ucGFyZW50LFxuICAgIHRvcE1hdGNoOiAkZnJvbS5wYXJlbnQuY29udGVudE1hdGNoQXQoJGZyb20uaW5kZXgoKSksXG4gICAgdG9wT3BlbjogdHJ1ZSxcbiAgICBmcm9tOiBmcm9tT2Zmc2V0LFxuICAgIHRvOiB0b09mZnNldCxcbiAgICBwcmVzZXJ2ZVdoaXRlc3BhY2U6ICRmcm9tLnBhcmVudC50eXBlLnNwZWMuY29kZSA/IFwiZnVsbFwiIDogdHJ1ZSxcbiAgICBlZGl0YWJsZUNvbnRlbnQ6IHRydWUsXG4gICAgZmluZFBvc2l0aW9uczogZmluZCxcbiAgICBydWxlRnJvbU5vZGU6IHJ1bGVGcm9tTm9kZShwYXJzZXIsICRmcm9tKSxcbiAgICBjb250ZXh0OiAkZnJvbVxuICB9KTtcbiAgaWYgKGZpbmQgJiYgZmluZFswXS5wb3MgIT0gbnVsbCkge1xuICAgIHZhciBhbmNob3IkMSA9IGZpbmRbMF0ucG9zLCBoZWFkID0gZmluZFsxXSAmJiBmaW5kWzFdLnBvcztcbiAgICBpZiAoaGVhZCA9PSBudWxsKSB7IGhlYWQgPSBhbmNob3IkMTsgfVxuICAgIHNlbCA9IHthbmNob3I6IGFuY2hvciQxICsgZnJvbSwgaGVhZDogaGVhZCArIGZyb219O1xuICB9XG4gIHJldHVybiB7ZG9jOiBkb2MsIHNlbDogc2VsLCBmcm9tOiBmcm9tLCB0bzogdG99XG59XG5cbmZ1bmN0aW9uIHJ1bGVGcm9tTm9kZShwYXJzZXIsIGNvbnRleHQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChkb20pIHtcbiAgICB2YXIgZGVzYyA9IGRvbS5wbVZpZXdEZXNjO1xuICAgIGlmIChkZXNjKSB7XG4gICAgICByZXR1cm4gZGVzYy5wYXJzZVJ1bGUoKVxuICAgIH0gZWxzZSBpZiAoZG9tLm5vZGVOYW1lID09IFwiQlJcIiAmJiBkb20ucGFyZW50Tm9kZSkge1xuICAgICAgLy8gU2FmYXJpIHJlcGxhY2VzIHRoZSBsaXN0IGl0ZW0gd2l0aCBhIEJSIGRpcmVjdGx5IGluIHRoZSBsaXN0IG5vZGUgKD8hKSBpZiB5b3UgZGVsZXRlIHRoZSBsYXN0IGNoYXJhY3RlciBpbiBhIGxpc3QgaXRlbSAoIzcwOClcbiAgICAgIGlmIChyZXN1bHQuc2FmYXJpICYmIC9eKHVsfG9sKSQvaS50ZXN0KGRvbS5wYXJlbnROb2RlLm5vZGVOYW1lKSlcbiAgICAgICAgeyByZXR1cm4gcGFyc2VyLm1hdGNoVGFnKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKSwgY29udGV4dCkgfVxuICAgICAgZWxzZSBpZiAoZG9tLnBhcmVudE5vZGUubGFzdENoaWxkID09IGRvbSlcbiAgICAgICAgeyByZXR1cm4ge2lnbm9yZTogdHJ1ZX0gfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBpc0F0RW5kKCRwb3MsIGRlcHRoKSB7XG4gIGZvciAodmFyIGkgPSBkZXB0aCB8fCAwOyBpIDwgJHBvcy5kZXB0aDsgaSsrKVxuICAgIHsgaWYgKCRwb3MuaW5kZXgoaSkgKyAxIDwgJHBvcy5ub2RlKGkpLmNoaWxkQ291bnQpIHsgcmV0dXJuIGZhbHNlIH0gfVxuICByZXR1cm4gJHBvcy5wYXJlbnRPZmZzZXQgPT0gJHBvcy5wYXJlbnQuY29udGVudC5zaXplXG59XG5mdW5jdGlvbiBpc0F0U3RhcnQoJHBvcywgZGVwdGgpIHtcbiAgZm9yICh2YXIgaSA9IGRlcHRoIHx8IDA7IGkgPCAkcG9zLmRlcHRoOyBpKyspXG4gICAgeyBpZiAoJHBvcy5pbmRleCgwKSA+IDApIHsgcmV0dXJuIGZhbHNlIH0gfVxuICByZXR1cm4gJHBvcy5wYXJlbnRPZmZzZXQgPT0gMFxufVxuXG5mdW5jdGlvbiByYW5nZUFyb3VuZFNlbGVjdGlvbihzZWxlY3Rpb24pIHtcbiAgLy8gSW50ZW50aW9uYWxseSB1c2VzICRoZWFkLyRhbmNob3IgYmVjYXVzZSB0aG9zZSB3aWxsIGNvcnJlc3BvbmQgdG8gdGhlIERPTSBzZWxlY3Rpb25cbiAgdmFyICRmcm9tID0gc2VsZWN0aW9uLiRhbmNob3IubWluKHNlbGVjdGlvbi4kaGVhZCksICR0byA9IHNlbGVjdGlvbi4kYW5jaG9yLm1heChzZWxlY3Rpb24uJGhlYWQpO1xuXG4gIGlmICgkZnJvbS5zYW1lUGFyZW50KCR0bykgJiYgJGZyb20ucGFyZW50LmlubGluZUNvbnRlbnQgJiYgJGZyb20ucGFyZW50T2Zmc2V0ICYmICR0by5wYXJlbnRPZmZzZXQgPCAkdG8ucGFyZW50LmNvbnRlbnQuc2l6ZSkge1xuICAgIHZhciBzdGFydE9mZiA9IE1hdGgubWF4KDAsICRmcm9tLnBhcmVudE9mZnNldCk7XG4gICAgdmFyIHNpemUgPSAkZnJvbS5wYXJlbnQuY29udGVudC5zaXplO1xuICAgIHZhciBlbmRPZmYgPSBNYXRoLm1pbihzaXplLCAkdG8ucGFyZW50T2Zmc2V0KTtcblxuICAgIGlmIChzdGFydE9mZiA+IDApXG4gICAgICB7IHN0YXJ0T2ZmID0gJGZyb20ucGFyZW50LmNoaWxkQmVmb3JlKHN0YXJ0T2ZmKS5vZmZzZXQ7IH1cbiAgICBpZiAoZW5kT2ZmIDwgc2l6ZSkge1xuICAgICAgdmFyIGFmdGVyID0gJGZyb20ucGFyZW50LmNoaWxkQWZ0ZXIoZW5kT2ZmKTtcbiAgICAgIGVuZE9mZiA9IGFmdGVyLm9mZnNldCArIGFmdGVyLm5vZGUubm9kZVNpemU7XG4gICAgfVxuICAgIHZhciBub2RlU3RhcnQgPSAkZnJvbS5zdGFydCgpO1xuICAgIHJldHVybiB7ZnJvbTogbm9kZVN0YXJ0ICsgc3RhcnRPZmYsIHRvOiBub2RlU3RhcnQgKyBlbmRPZmZ9XG4gIH0gZWxzZSB7XG4gICAgZm9yICh2YXIgZGVwdGggPSAwOzsgZGVwdGgrKykge1xuICAgICAgdmFyIGZyb21TdGFydCA9IGlzQXRTdGFydCgkZnJvbSwgZGVwdGggKyAxKSwgdG9FbmQgPSBpc0F0RW5kKCR0bywgZGVwdGggKyAxKTtcbiAgICAgIGlmIChmcm9tU3RhcnQgfHwgdG9FbmQgfHwgJGZyb20uaW5kZXgoZGVwdGgpICE9ICR0by5pbmRleChkZXB0aCkgfHwgJHRvLm5vZGUoZGVwdGgpLmlzVGV4dGJsb2NrKSB7XG4gICAgICAgIHZhciBmcm9tID0gJGZyb20uYmVmb3JlKGRlcHRoICsgMSksIHRvID0gJHRvLmFmdGVyKGRlcHRoICsgMSk7XG4gICAgICAgIGlmIChmcm9tU3RhcnQgJiYgJGZyb20uaW5kZXgoZGVwdGgpID4gMClcbiAgICAgICAgICB7IGZyb20gLT0gJGZyb20ubm9kZShkZXB0aCkuY2hpbGQoJGZyb20uaW5kZXgoZGVwdGgpIC0gMSkubm9kZVNpemU7IH1cbiAgICAgICAgaWYgKHRvRW5kICYmICR0by5pbmRleChkZXB0aCkgKyAxIDwgJHRvLm5vZGUoZGVwdGgpLmNoaWxkQ291bnQpXG4gICAgICAgICAgeyB0byArPSAkdG8ubm9kZShkZXB0aCkuY2hpbGQoJHRvLmluZGV4KGRlcHRoKSArIDEpLm5vZGVTaXplOyB9XG4gICAgICAgIHJldHVybiB7ZnJvbTogZnJvbSwgdG86IHRvfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBrZXlFdmVudChrZXlDb2RlLCBrZXkpIHtcbiAgdmFyIGV2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJFdmVudFwiKTtcbiAgZXZlbnQuaW5pdEV2ZW50KFwia2V5ZG93blwiLCB0cnVlLCB0cnVlKTtcbiAgZXZlbnQua2V5Q29kZSA9IGtleUNvZGU7XG4gIGV2ZW50LmtleSA9IGV2ZW50LmNvZGUgPSBrZXk7XG4gIHJldHVybiBldmVudFxufVxuXG5mdW5jdGlvbiByZWFkRE9NQ2hhbmdlKHZpZXcsIG1hcHBpbmcsIG9sZFN0YXRlLCByYW5nZSwgYWxsb3dUeXBlT3Zlcikge1xuICB2YXIgcGFyc2UgPSBwYXJzZUJldHdlZW4odmlldywgb2xkU3RhdGUsIHJhbmdlKTtcblxuICB2YXIgZG9jID0gb2xkU3RhdGUuZG9jLCBjb21wYXJlID0gZG9jLnNsaWNlKHBhcnNlLmZyb20sIHBhcnNlLnRvKTtcbiAgdmFyIHByZWZlcnJlZFBvcywgcHJlZmVycmVkU2lkZTtcbiAgLy8gUHJlZmVyIGFuY2hvcmluZyB0byBlbmQgd2hlbiBCYWNrc3BhY2UgaXMgcHJlc3NlZFxuICBpZiAodmlldy5sYXN0S2V5Q29kZSA9PT0gOCAmJiBEYXRlLm5vdygpIC0gMTAwIDwgdmlldy5sYXN0S2V5Q29kZVRpbWUpIHtcbiAgICBwcmVmZXJyZWRQb3MgPSBvbGRTdGF0ZS5zZWxlY3Rpb24udG87XG4gICAgcHJlZmVycmVkU2lkZSA9IFwiZW5kXCI7XG4gIH0gZWxzZSB7XG4gICAgcHJlZmVycmVkUG9zID0gb2xkU3RhdGUuc2VsZWN0aW9uLmZyb207XG4gICAgcHJlZmVycmVkU2lkZSA9IFwic3RhcnRcIjtcbiAgfVxuICB2aWV3Lmxhc3RLZXlDb2RlID0gbnVsbDtcblxuICB2YXIgY2hhbmdlID0gZmluZERpZmYoY29tcGFyZS5jb250ZW50LCBwYXJzZS5kb2MuY29udGVudCwgcGFyc2UuZnJvbSwgcHJlZmVycmVkUG9zLCBwcmVmZXJyZWRTaWRlKTtcbiAgaWYgKCFjaGFuZ2UpIHtcbiAgICBpZiAoYWxsb3dUeXBlT3Zlcikge1xuICAgICAgdmFyIHN0YXRlID0gdmlldy5zdGF0ZSwgc2VsID0gc3RhdGUuc2VsZWN0aW9uO1xuICAgICAgdmlldy5kaXNwYXRjaChzdGF0ZS50ci5yZXBsYWNlU2VsZWN0aW9uV2l0aChzdGF0ZS5zY2hlbWEudGV4dChzdGF0ZS5kb2MudGV4dEJldHdlZW4oc2VsLmZyb20sIHNlbC50bykpLCB0cnVlKS5zY3JvbGxJbnRvVmlldygpKTtcbiAgICB9IGVsc2UgaWYgKHBhcnNlLnNlbCkge1xuICAgICAgdmFyIHNlbCQxID0gcmVzb2x2ZVNlbGVjdGlvbih2aWV3LCB2aWV3LnN0YXRlLmRvYywgbWFwcGluZywgcGFyc2Uuc2VsKTtcbiAgICAgIGlmIChzZWwkMSAmJiAhc2VsJDEuZXEodmlldy5zdGF0ZS5zZWxlY3Rpb24pKSB7IHZpZXcuZGlzcGF0Y2godmlldy5zdGF0ZS50ci5zZXRTZWxlY3Rpb24oc2VsJDEpKTsgfVxuICAgIH1cbiAgICByZXR1cm5cbiAgfVxuXG4gIHZhciAkZnJvbSA9IHBhcnNlLmRvYy5yZXNvbHZlTm9DYWNoZShjaGFuZ2Uuc3RhcnQgLSBwYXJzZS5mcm9tKTtcbiAgdmFyICR0byA9IHBhcnNlLmRvYy5yZXNvbHZlTm9DYWNoZShjaGFuZ2UuZW5kQiAtIHBhcnNlLmZyb20pO1xuICB2YXIgbmV4dFNlbDtcbiAgLy8gSWYgdGhpcyBsb29rcyBsaWtlIHRoZSBlZmZlY3Qgb2YgcHJlc3NpbmcgRW50ZXIsIGp1c3QgZGlzcGF0Y2ggYW5cbiAgLy8gRW50ZXIga2V5IGluc3RlYWQuXG4gIGlmICghJGZyb20uc2FtZVBhcmVudCgkdG8pICYmICRmcm9tLnBvcyA8IHBhcnNlLmRvYy5jb250ZW50LnNpemUgJiZcbiAgICAgIChuZXh0U2VsID0gcHJvc2VtaXJyb3JTdGF0ZS5TZWxlY3Rpb24uZmluZEZyb20ocGFyc2UuZG9jLnJlc29sdmUoJGZyb20ucG9zICsgMSksIDEsIHRydWUpKSAmJlxuICAgICAgbmV4dFNlbC5oZWFkID09ICR0by5wb3MgJiZcbiAgICAgIHZpZXcuc29tZVByb3AoXCJoYW5kbGVLZXlEb3duXCIsIGZ1bmN0aW9uIChmKSB7IHJldHVybiBmKHZpZXcsIGtleUV2ZW50KDEzLCBcIkVudGVyXCIpKTsgfSkpXG4gICAgeyByZXR1cm4gfVxuICAvLyBTYW1lIGZvciBiYWNrc3BhY2VcbiAgaWYgKG9sZFN0YXRlLnNlbGVjdGlvbi5hbmNob3IgPiBjaGFuZ2Uuc3RhcnQgJiZcbiAgICAgIGxvb2tzTGlrZUpvaW4oZG9jLCBjaGFuZ2Uuc3RhcnQsIGNoYW5nZS5lbmRBLCAkZnJvbSwgJHRvKSAmJlxuICAgICAgdmlldy5zb21lUHJvcChcImhhbmRsZUtleURvd25cIiwgZnVuY3Rpb24gKGYpIHsgcmV0dXJuIGYodmlldywga2V5RXZlbnQoOCwgXCJCYWNrc3BhY2VcIikpOyB9KSlcbiAgICB7IHJldHVybiB9XG5cbiAgdmFyIGZyb20gPSBtYXBwaW5nLm1hcChjaGFuZ2Uuc3RhcnQpLCB0byA9IG1hcHBpbmcubWFwKGNoYW5nZS5lbmRBLCAtMSk7XG5cbiAgdmFyIHRyLCBzdG9yZWRNYXJrcywgbWFya0NoYW5nZSwgJGZyb20xO1xuICBpZiAoJGZyb20uc2FtZVBhcmVudCgkdG8pICYmICRmcm9tLnBhcmVudC5pbmxpbmVDb250ZW50KSB7XG4gICAgaWYgKCRmcm9tLnBvcyA9PSAkdG8ucG9zKSB7IC8vIERlbGV0aW9uXG4gICAgICB0ciA9IHZpZXcuc3RhdGUudHIuZGVsZXRlKGZyb20sIHRvKTtcbiAgICAgIHN0b3JlZE1hcmtzID0gZG9jLnJlc29sdmUoY2hhbmdlLnN0YXJ0KS5tYXJrc0Fjcm9zcyhkb2MucmVzb2x2ZShjaGFuZ2UuZW5kQSkpO1xuICAgIH0gZWxzZSBpZiAoIC8vIEFkZGluZyBvciByZW1vdmluZyBhIG1hcmtcbiAgICAgIGNoYW5nZS5lbmRBID09IGNoYW5nZS5lbmRCICYmICgkZnJvbTEgPSBkb2MucmVzb2x2ZShjaGFuZ2Uuc3RhcnQpKSAmJlxuICAgICAgKG1hcmtDaGFuZ2UgPSBpc01hcmtDaGFuZ2UoJGZyb20ucGFyZW50LmNvbnRlbnQuY3V0KCRmcm9tLnBhcmVudE9mZnNldCwgJHRvLnBhcmVudE9mZnNldCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZnJvbTEucGFyZW50LmNvbnRlbnQuY3V0KCRmcm9tMS5wYXJlbnRPZmZzZXQsIGNoYW5nZS5lbmRBIC0gJGZyb20xLnN0YXJ0KCkpKSlcbiAgICApIHtcbiAgICAgIHRyID0gdmlldy5zdGF0ZS50cjtcbiAgICAgIGlmIChtYXJrQ2hhbmdlLnR5cGUgPT0gXCJhZGRcIikgeyB0ci5hZGRNYXJrKGZyb20sIHRvLCBtYXJrQ2hhbmdlLm1hcmspOyB9XG4gICAgICBlbHNlIHsgdHIucmVtb3ZlTWFyayhmcm9tLCB0bywgbWFya0NoYW5nZS5tYXJrKTsgfVxuICAgIH0gZWxzZSBpZiAoJGZyb20ucGFyZW50LmNoaWxkKCRmcm9tLmluZGV4KCkpLmlzVGV4dCAmJiAkZnJvbS5pbmRleCgpID09ICR0by5pbmRleCgpIC0gKCR0by50ZXh0T2Zmc2V0ID8gMCA6IDEpKSB7XG4gICAgICAvLyBCb3RoIHBvc2l0aW9ucyBpbiB0aGUgc2FtZSB0ZXh0IG5vZGUgLS0gc2ltcGx5IGluc2VydCB0ZXh0XG4gICAgICB2YXIgdGV4dCA9ICRmcm9tLnBhcmVudC50ZXh0QmV0d2VlbigkZnJvbS5wYXJlbnRPZmZzZXQsICR0by5wYXJlbnRPZmZzZXQpO1xuICAgICAgaWYgKHZpZXcuc29tZVByb3AoXCJoYW5kbGVUZXh0SW5wdXRcIiwgZnVuY3Rpb24gKGYpIHsgcmV0dXJuIGYodmlldywgZnJvbSwgdG8sIHRleHQpOyB9KSkgeyByZXR1cm4gfVxuICAgICAgdHIgPSB2aWV3LnN0YXRlLnRyLmluc2VydFRleHQodGV4dCwgZnJvbSwgdG8pO1xuICAgIH1cbiAgfVxuXG4gIGlmICghdHIpXG4gICAgeyB0ciA9IHZpZXcuc3RhdGUudHIucmVwbGFjZShmcm9tLCB0bywgcGFyc2UuZG9jLnNsaWNlKGNoYW5nZS5zdGFydCAtIHBhcnNlLmZyb20sIGNoYW5nZS5lbmRCIC0gcGFyc2UuZnJvbSkpOyB9XG4gIGlmIChwYXJzZS5zZWwpIHtcbiAgICB2YXIgc2VsJDIgPSByZXNvbHZlU2VsZWN0aW9uKHZpZXcsIHRyLmRvYywgbWFwcGluZywgcGFyc2Uuc2VsKTtcbiAgICBpZiAoc2VsJDIpIHsgdHIuc2V0U2VsZWN0aW9uKHNlbCQyKTsgfVxuICB9XG4gIGlmIChzdG9yZWRNYXJrcykgeyB0ci5lbnN1cmVNYXJrcyhzdG9yZWRNYXJrcyk7IH1cbiAgdmlldy5kaXNwYXRjaCh0ci5zY3JvbGxJbnRvVmlldygpKTtcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZVNlbGVjdGlvbih2aWV3LCBkb2MsIG1hcHBpbmcsIHBhcnNlZFNlbCkge1xuICBpZiAoTWF0aC5tYXgocGFyc2VkU2VsLmFuY2hvciwgcGFyc2VkU2VsLmhlYWQpID4gZG9jLmNvbnRlbnQuc2l6ZSkgeyByZXR1cm4gbnVsbCB9XG4gIHJldHVybiBzZWxlY3Rpb25CZXR3ZWVuKHZpZXcsIGRvYy5yZXNvbHZlKG1hcHBpbmcubWFwKHBhcnNlZFNlbC5hbmNob3IpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLnJlc29sdmUobWFwcGluZy5tYXAocGFyc2VkU2VsLmhlYWQpKSlcbn1cblxuLy8gOiAoRnJhZ21lbnQsIEZyYWdtZW50KSDihpIgP3ttYXJrOiBNYXJrLCB0eXBlOiBzdHJpbmd9XG4vLyBHaXZlbiB0d28gc2FtZS1sZW5ndGgsIG5vbi1lbXB0eSBmcmFnbWVudHMgb2YgaW5saW5lIGNvbnRlbnQsXG4vLyBkZXRlcm1pbmUgd2hldGhlciB0aGUgZmlyc3QgY291bGQgYmUgY3JlYXRlZCBmcm9tIHRoZSBzZWNvbmQgYnlcbi8vIHJlbW92aW5nIG9yIGFkZGluZyBhIHNpbmdsZSBtYXJrIHR5cGUuXG5mdW5jdGlvbiBpc01hcmtDaGFuZ2UoY3VyLCBwcmV2KSB7XG4gIHZhciBjdXJNYXJrcyA9IGN1ci5maXJzdENoaWxkLm1hcmtzLCBwcmV2TWFya3MgPSBwcmV2LmZpcnN0Q2hpbGQubWFya3M7XG4gIHZhciBhZGRlZCA9IGN1ck1hcmtzLCByZW1vdmVkID0gcHJldk1hcmtzLCB0eXBlLCBtYXJrLCB1cGRhdGU7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcHJldk1hcmtzLmxlbmd0aDsgaSsrKSB7IGFkZGVkID0gcHJldk1hcmtzW2ldLnJlbW92ZUZyb21TZXQoYWRkZWQpOyB9XG4gIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IGN1ck1hcmtzLmxlbmd0aDsgaSQxKyspIHsgcmVtb3ZlZCA9IGN1ck1hcmtzW2kkMV0ucmVtb3ZlRnJvbVNldChyZW1vdmVkKTsgfVxuICBpZiAoYWRkZWQubGVuZ3RoID09IDEgJiYgcmVtb3ZlZC5sZW5ndGggPT0gMCkge1xuICAgIG1hcmsgPSBhZGRlZFswXTtcbiAgICB0eXBlID0gXCJhZGRcIjtcbiAgICB1cGRhdGUgPSBmdW5jdGlvbiAobm9kZSkgeyByZXR1cm4gbm9kZS5tYXJrKG1hcmsuYWRkVG9TZXQobm9kZS5tYXJrcykpOyB9O1xuICB9IGVsc2UgaWYgKGFkZGVkLmxlbmd0aCA9PSAwICYmIHJlbW92ZWQubGVuZ3RoID09IDEpIHtcbiAgICBtYXJrID0gcmVtb3ZlZFswXTtcbiAgICB0eXBlID0gXCJyZW1vdmVcIjtcbiAgICB1cGRhdGUgPSBmdW5jdGlvbiAobm9kZSkgeyByZXR1cm4gbm9kZS5tYXJrKG1hcmsucmVtb3ZlRnJvbVNldChub2RlLm1hcmtzKSk7IH07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuICB2YXIgdXBkYXRlZCA9IFtdO1xuICBmb3IgKHZhciBpJDIgPSAwOyBpJDIgPCBwcmV2LmNoaWxkQ291bnQ7IGkkMisrKSB7IHVwZGF0ZWQucHVzaCh1cGRhdGUocHJldi5jaGlsZChpJDIpKSk7IH1cbiAgaWYgKHByb3NlbWlycm9yTW9kZWwuRnJhZ21lbnQuZnJvbSh1cGRhdGVkKS5lcShjdXIpKSB7IHJldHVybiB7bWFyazogbWFyaywgdHlwZTogdHlwZX0gfVxufVxuXG5mdW5jdGlvbiBsb29rc0xpa2VKb2luKG9sZCwgc3RhcnQsIGVuZCwgJG5ld1N0YXJ0LCAkbmV3RW5kKSB7XG4gIGlmICghJG5ld1N0YXJ0LnBhcmVudC5pc1RleHRibG9jayB8fFxuICAgICAgLy8gVGhlIGNvbnRlbnQgbXVzdCBoYXZlIHNocnVua1xuICAgICAgZW5kIC0gc3RhcnQgPD0gJG5ld0VuZC5wb3MgLSAkbmV3U3RhcnQucG9zIHx8XG4gICAgICAvLyBuZXdFbmQgbXVzdCBwb2ludCBkaXJlY3RseSBhdCBvciBhZnRlciB0aGUgZW5kIG9mIHRoZSBibG9jayB0aGF0IG5ld1N0YXJ0IHBvaW50cyBpbnRvXG4gICAgICBza2lwQ2xvc2luZ0FuZE9wZW5pbmcoJG5ld1N0YXJ0LCB0cnVlLCBmYWxzZSkgPCAkbmV3RW5kLnBvcylcbiAgICB7IHJldHVybiBmYWxzZSB9XG5cbiAgdmFyICRzdGFydCA9IG9sZC5yZXNvbHZlKHN0YXJ0KTtcbiAgLy8gU3RhcnQgbXVzdCBiZSBhdCB0aGUgZW5kIG9mIGEgYmxvY2tcbiAgaWYgKCRzdGFydC5wYXJlbnRPZmZzZXQgPCAkc3RhcnQucGFyZW50LmNvbnRlbnQuc2l6ZSB8fCAhJHN0YXJ0LnBhcmVudC5pc1RleHRibG9jaylcbiAgICB7IHJldHVybiBmYWxzZSB9XG4gIHZhciAkbmV4dCA9IG9sZC5yZXNvbHZlKHNraXBDbG9zaW5nQW5kT3BlbmluZygkc3RhcnQsIHRydWUsIHRydWUpKTtcbiAgLy8gVGhlIG5leHQgdGV4dGJsb2NrIG11c3Qgc3RhcnQgYmVmb3JlIGVuZCBhbmQgZW5kIG5lYXIgaXRcbiAgaWYgKCEkbmV4dC5wYXJlbnQuaXNUZXh0YmxvY2sgfHwgJG5leHQucG9zID4gZW5kIHx8XG4gICAgICBza2lwQ2xvc2luZ0FuZE9wZW5pbmcoJG5leHQsIHRydWUsIGZhbHNlKSA8IGVuZClcbiAgICB7IHJldHVybiBmYWxzZSB9XG5cbiAgLy8gVGhlIGZyYWdtZW50cyBhZnRlciB0aGUgam9pbiBwb2ludCBtdXN0IG1hdGNoXG4gIHJldHVybiAkbmV3U3RhcnQucGFyZW50LmNvbnRlbnQuY3V0KCRuZXdTdGFydC5wYXJlbnRPZmZzZXQpLmVxKCRuZXh0LnBhcmVudC5jb250ZW50KVxufVxuXG5mdW5jdGlvbiBza2lwQ2xvc2luZ0FuZE9wZW5pbmcoJHBvcywgZnJvbUVuZCwgbWF5T3Blbikge1xuICB2YXIgZGVwdGggPSAkcG9zLmRlcHRoLCBlbmQgPSBmcm9tRW5kID8gJHBvcy5lbmQoKSA6ICRwb3MucG9zO1xuICB3aGlsZSAoZGVwdGggPiAwICYmIChmcm9tRW5kIHx8ICRwb3MuaW5kZXhBZnRlcihkZXB0aCkgPT0gJHBvcy5ub2RlKGRlcHRoKS5jaGlsZENvdW50KSkge1xuICAgIGRlcHRoLS07XG4gICAgZW5kKys7XG4gICAgZnJvbUVuZCA9IGZhbHNlO1xuICB9XG4gIGlmIChtYXlPcGVuKSB7XG4gICAgdmFyIG5leHQgPSAkcG9zLm5vZGUoZGVwdGgpLm1heWJlQ2hpbGQoJHBvcy5pbmRleEFmdGVyKGRlcHRoKSk7XG4gICAgd2hpbGUgKG5leHQgJiYgIW5leHQuaXNMZWFmKSB7XG4gICAgICBuZXh0ID0gbmV4dC5maXJzdENoaWxkO1xuICAgICAgZW5kKys7XG4gICAgfVxuICB9XG4gIHJldHVybiBlbmRcbn1cblxuZnVuY3Rpb24gZmluZERpZmYoYSwgYiwgcG9zLCBwcmVmZXJyZWRQb3MsIHByZWZlcnJlZFNpZGUpIHtcbiAgdmFyIHN0YXJ0ID0gYS5maW5kRGlmZlN0YXJ0KGIsIHBvcyk7XG4gIGlmIChzdGFydCA9PSBudWxsKSB7IHJldHVybiBudWxsIH1cbiAgdmFyIHJlZiA9IGEuZmluZERpZmZFbmQoYiwgcG9zICsgYS5zaXplLCBwb3MgKyBiLnNpemUpO1xuICB2YXIgZW5kQSA9IHJlZi5hO1xuICB2YXIgZW5kQiA9IHJlZi5iO1xuICBpZiAocHJlZmVycmVkU2lkZSA9PSBcImVuZFwiKSB7XG4gICAgdmFyIGFkanVzdCA9IE1hdGgubWF4KDAsIHN0YXJ0IC0gTWF0aC5taW4oZW5kQSwgZW5kQikpO1xuICAgIHByZWZlcnJlZFBvcyAtPSBlbmRBICsgYWRqdXN0IC0gc3RhcnQ7XG4gIH1cbiAgaWYgKGVuZEEgPCBzdGFydCAmJiBhLnNpemUgPCBiLnNpemUpIHtcbiAgICB2YXIgbW92ZSA9IHByZWZlcnJlZFBvcyA8PSBzdGFydCAmJiBwcmVmZXJyZWRQb3MgPj0gZW5kQSA/IHN0YXJ0IC0gcHJlZmVycmVkUG9zIDogMDtcbiAgICBzdGFydCAtPSBtb3ZlO1xuICAgIGVuZEIgPSBzdGFydCArIChlbmRCIC0gZW5kQSk7XG4gICAgZW5kQSA9IHN0YXJ0O1xuICB9IGVsc2UgaWYgKGVuZEIgPCBzdGFydCkge1xuICAgIHZhciBtb3ZlJDEgPSBwcmVmZXJyZWRQb3MgPD0gc3RhcnQgJiYgcHJlZmVycmVkUG9zID49IGVuZEIgPyBzdGFydCAtIHByZWZlcnJlZFBvcyA6IDA7XG4gICAgc3RhcnQgLT0gbW92ZSQxO1xuICAgIGVuZEEgPSBzdGFydCArIChlbmRBIC0gZW5kQik7XG4gICAgZW5kQiA9IHN0YXJ0O1xuICB9XG4gIHJldHVybiB7c3RhcnQ6IHN0YXJ0LCBlbmRBOiBlbmRBLCBlbmRCOiBlbmRCfVxufVxuXG5mdW5jdGlvbiBzZXJpYWxpemVGb3JDbGlwYm9hcmQodmlldywgc2xpY2UpIHtcbiAgdmFyIGNvbnRleHQgPSBbXTtcbiAgdmFyIGNvbnRlbnQgPSBzbGljZS5jb250ZW50O1xuICB2YXIgb3BlblN0YXJ0ID0gc2xpY2Uub3BlblN0YXJ0O1xuICB2YXIgb3BlbkVuZCA9IHNsaWNlLm9wZW5FbmQ7XG4gIHdoaWxlIChvcGVuU3RhcnQgPiAxICYmIG9wZW5FbmQgPiAxICYmIGNvbnRlbnQuY2hpbGRDb3VudCA9PSAxICYmIGNvbnRlbnQuZmlyc3RDaGlsZC5jaGlsZENvdW50ID09IDEpIHtcbiAgICBvcGVuU3RhcnQtLTtcbiAgICBvcGVuRW5kLS07XG4gICAgdmFyIG5vZGUgPSBjb250ZW50LmZpcnN0Q2hpbGQ7XG4gICAgY29udGV4dC5wdXNoKG5vZGUudHlwZS5uYW1lLCBub2RlLnR5cGUuaGFzUmVxdWlyZWRBdHRycygpID8gbm9kZS5hdHRycyA6IG51bGwpO1xuICAgIGNvbnRlbnQgPSBub2RlLmNvbnRlbnQ7XG4gIH1cblxuICB2YXIgc2VyaWFsaXplciA9IHZpZXcuc29tZVByb3AoXCJjbGlwYm9hcmRTZXJpYWxpemVyXCIpIHx8IHByb3NlbWlycm9yTW9kZWwuRE9NU2VyaWFsaXplci5mcm9tU2NoZW1hKHZpZXcuc3RhdGUuc2NoZW1hKTtcbiAgdmFyIHdyYXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICB3cmFwLmFwcGVuZENoaWxkKHNlcmlhbGl6ZXIuc2VyaWFsaXplRnJhZ21lbnQoY29udGVudCkpO1xuXG4gIHZhciBmaXJzdENoaWxkID0gd3JhcC5maXJzdENoaWxkLCBuZWVkc1dyYXA7XG4gIHdoaWxlIChmaXJzdENoaWxkICYmIGZpcnN0Q2hpbGQubm9kZVR5cGUgPT0gMSAmJiAobmVlZHNXcmFwID0gd3JhcE1hcFtmaXJzdENoaWxkLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldKSkge1xuICAgIGZvciAodmFyIGkgPSBuZWVkc1dyYXAubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIHZhciB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChuZWVkc1dyYXBbaV0pO1xuICAgICAgd2hpbGUgKHdyYXAuZmlyc3RDaGlsZCkgeyB3cmFwcGVyLmFwcGVuZENoaWxkKHdyYXAuZmlyc3RDaGlsZCk7IH1cbiAgICAgIHdyYXAuYXBwZW5kQ2hpbGQod3JhcHBlcik7XG4gICAgfVxuICAgIGZpcnN0Q2hpbGQgPSB3cmFwLmZpcnN0Q2hpbGQ7XG4gIH1cblxuICBpZiAoZmlyc3RDaGlsZCAmJiBmaXJzdENoaWxkLm5vZGVUeXBlID09IDEpXG4gICAgeyBmaXJzdENoaWxkLnNldEF0dHJpYnV0ZShcImRhdGEtcG0tc2xpY2VcIiwgKG9wZW5TdGFydCArIFwiIFwiICsgb3BlbkVuZCArIFwiIFwiICsgKEpTT04uc3RyaW5naWZ5KGNvbnRleHQpKSkpOyB9XG5cbiAgdmFyIHRleHQgPSB2aWV3LnNvbWVQcm9wKFwiY2xpcGJvYXJkVGV4dFNlcmlhbGl6ZXJcIiwgZnVuY3Rpb24gKGYpIHsgcmV0dXJuIGYoc2xpY2UpOyB9KSB8fFxuICAgICAgc2xpY2UuY29udGVudC50ZXh0QmV0d2VlbigwLCBzbGljZS5jb250ZW50LnNpemUsIFwiXFxuXFxuXCIpO1xuXG4gIHJldHVybiB7ZG9tOiB3cmFwLCB0ZXh0OiB0ZXh0fVxufVxuXG4vLyA6IChFZGl0b3JWaWV3LCBzdHJpbmcsIHN0cmluZywgP2Jvb2wsIFJlc29sdmVkUG9zKSDihpIgP1NsaWNlXG4vLyBSZWFkIGEgc2xpY2Ugb2YgY29udGVudCBmcm9tIHRoZSBjbGlwYm9hcmQgKG9yIGRyb3AgZGF0YSkuXG5mdW5jdGlvbiBwYXJzZUZyb21DbGlwYm9hcmQodmlldywgdGV4dCwgaHRtbCwgcGxhaW5UZXh0LCAkY29udGV4dCkge1xuICB2YXIgZG9tLCBpbkNvZGUgPSAkY29udGV4dC5wYXJlbnQudHlwZS5zcGVjLmNvZGUsIHNsaWNlO1xuICBpZiAoIWh0bWwgJiYgIXRleHQpIHsgcmV0dXJuIG51bGwgfVxuICBpZiAoKHBsYWluVGV4dCB8fCBpbkNvZGUgfHwgIWh0bWwpICYmIHRleHQpIHtcbiAgICB2aWV3LnNvbWVQcm9wKFwidHJhbnNmb3JtUGFzdGVkVGV4dFwiLCBmdW5jdGlvbiAoZikgeyB0ZXh0ID0gZih0ZXh0KTsgfSk7XG4gICAgaWYgKGluQ29kZSkgeyByZXR1cm4gbmV3IHByb3NlbWlycm9yTW9kZWwuU2xpY2UocHJvc2VtaXJyb3JNb2RlbC5GcmFnbWVudC5mcm9tKHZpZXcuc3RhdGUuc2NoZW1hLnRleHQodGV4dCkpLCAwLCAwKSB9XG4gICAgdmFyIHBhcnNlZCA9IHZpZXcuc29tZVByb3AoXCJjbGlwYm9hcmRUZXh0UGFyc2VyXCIsIGZ1bmN0aW9uIChmKSB7IHJldHVybiBmKHRleHQsICRjb250ZXh0KTsgfSk7XG4gICAgaWYgKHBhcnNlZCkge1xuICAgICAgc2xpY2UgPSBwYXJzZWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRvbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICB0ZXh0LnRyaW0oKS5zcGxpdCgvKD86XFxyXFxuP3xcXG4pKy8pLmZvckVhY2goZnVuY3Rpb24gKGJsb2NrKSB7XG4gICAgICAgIGRvbS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKSkudGV4dENvbnRlbnQgPSBibG9jaztcbiAgICAgIH0pO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2aWV3LnNvbWVQcm9wKFwidHJhbnNmb3JtUGFzdGVkSFRNTFwiLCBmdW5jdGlvbiAoZikgeyByZXR1cm4gaHRtbCA9IGYoaHRtbCk7IH0pO1xuICAgIGRvbSA9IHJlYWRIVE1MKGh0bWwpO1xuICB9XG5cbiAgaWYgKCFzbGljZSkge1xuICAgIHZhciBwYXJzZXIgPSB2aWV3LnNvbWVQcm9wKFwiY2xpcGJvYXJkUGFyc2VyXCIpIHx8IHZpZXcuc29tZVByb3AoXCJkb21QYXJzZXJcIikgfHwgcHJvc2VtaXJyb3JNb2RlbC5ET01QYXJzZXIuZnJvbVNjaGVtYSh2aWV3LnN0YXRlLnNjaGVtYSk7XG4gICAgc2xpY2UgPSBwYXJzZXIucGFyc2VTbGljZShkb20sIHtwcmVzZXJ2ZVdoaXRlc3BhY2U6IHRydWUsIGNvbnRleHQ6ICRjb250ZXh0fSk7XG4gIH1cbiAgdmFyIGNvbnRleHROb2RlID0gZG9tICYmIGRvbS5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtcG0tc2xpY2VdXCIpO1xuICB2YXIgc2xpY2VEYXRhID0gY29udGV4dE5vZGUgJiYgL14oXFxkKykgKFxcZCspICguKikvLmV4ZWMoY29udGV4dE5vZGUuZ2V0QXR0cmlidXRlKFwiZGF0YS1wbS1zbGljZVwiKSk7XG4gIGlmIChzbGljZURhdGEpXG4gICAgeyBzbGljZSA9IGFkZENvbnRleHQobmV3IHByb3NlbWlycm9yTW9kZWwuU2xpY2Uoc2xpY2UuY29udGVudCwgTWF0aC5taW4oc2xpY2Uub3BlblN0YXJ0LCArc2xpY2VEYXRhWzFdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWluKHNsaWNlLm9wZW5FbmQsICtzbGljZURhdGFbMl0pKSwgc2xpY2VEYXRhWzNdKTsgfVxuICBlbHNlIC8vIEhUTUwgd2Fzbid0IGNyZWF0ZWQgYnkgUHJvc2VNaXJyb3IuIE1ha2Ugc3VyZSB0b3AtbGV2ZWwgc2libGluZ3MgYXJlIGNvaGVyZW50XG4gICAgeyBzbGljZSA9IHByb3NlbWlycm9yTW9kZWwuU2xpY2UubWF4T3Blbihub3JtYWxpemVTaWJsaW5ncyhzbGljZS5jb250ZW50LCAkY29udGV4dCksIGZhbHNlKTsgfVxuICB2aWV3LnNvbWVQcm9wKFwidHJhbnNmb3JtUGFzdGVkXCIsIGZ1bmN0aW9uIChmKSB7IHNsaWNlID0gZihzbGljZSk7IH0pO1xuICByZXR1cm4gc2xpY2Vcbn1cblxuLy8gVGFrZXMgYSBzbGljZSBwYXJzZWQgd2l0aCBwYXJzZVNsaWNlLCB3aGljaCBtZWFucyB0aGVyZSBoYXNuJ3QgYmVlblxuLy8gYW55IGNvbnRlbnQtZXhwcmVzc2lvbiBjaGVja2luZyBkb25lIG9uIHRoZSB0b3Agbm9kZXMsIHRyaWVzIHRvXG4vLyBmaW5kIGEgcGFyZW50IG5vZGUgaW4gdGhlIGN1cnJlbnQgY29udGV4dCB0aGF0IG1pZ2h0IGZpdCB0aGUgbm9kZXMsXG4vLyBhbmQgaWYgc3VjY2Vzc2Z1bCwgcmVidWlsZHMgdGhlIHNsaWNlIHNvIHRoYXQgaXQgZml0cyBpbnRvIHRoYXQgcGFyZW50LlxuLy9cbi8vIFRoaXMgYWRkcmVzc2VzIHRoZSBwcm9ibGVtIHRoYXQgVHJhbnNmb3JtLnJlcGxhY2UgZXhwZWN0cyBhXG4vLyBjb2hlcmVudCBzbGljZSwgYW5kIHdpbGwgZmFpbCB0byBwbGFjZSBhIHNldCBvZiBzaWJsaW5ncyB0aGF0IGRvbid0XG4vLyBmaXQgYW55d2hlcmUgaW4gdGhlIHNjaGVtYS5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVNpYmxpbmdzKGZyYWdtZW50LCAkY29udGV4dCkge1xuICBpZiAoZnJhZ21lbnQuY2hpbGRDb3VudCA8IDIpIHsgcmV0dXJuIGZyYWdtZW50IH1cbiAgdmFyIGxvb3AgPSBmdW5jdGlvbiAoIGQgKSB7XG4gICAgdmFyIHBhcmVudCA9ICRjb250ZXh0Lm5vZGUoZCk7XG4gICAgdmFyIG1hdGNoID0gcGFyZW50LmNvbnRlbnRNYXRjaEF0KCRjb250ZXh0LmluZGV4KGQpKTtcbiAgICB2YXIgbGFzdFdyYXAgPSAodm9pZCAwKSwgcmVzdWx0ID0gW107XG4gICAgZnJhZ21lbnQuZm9yRWFjaChmdW5jdGlvbiAobm9kZSkge1xuICAgICAgaWYgKCFyZXN1bHQpIHsgcmV0dXJuIH1cbiAgICAgIHZhciB3cmFwID0gbWF0Y2guZmluZFdyYXBwaW5nKG5vZGUudHlwZSksIGluTGFzdDtcbiAgICAgIGlmICghd3JhcCkgeyByZXR1cm4gcmVzdWx0ID0gbnVsbCB9XG4gICAgICBpZiAoaW5MYXN0ID0gcmVzdWx0Lmxlbmd0aCAmJiBsYXN0V3JhcC5sZW5ndGggJiYgYWRkVG9TaWJsaW5nKHdyYXAsIGxhc3RXcmFwLCBub2RlLCByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdLCAwKSkge1xuICAgICAgICByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdID0gaW5MYXN0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHJlc3VsdC5sZW5ndGgpIHsgcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXSA9IGNsb3NlUmlnaHQocmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXSwgbGFzdFdyYXAubGVuZ3RoKTsgfVxuICAgICAgICB2YXIgd3JhcHBlZCA9IHdpdGhXcmFwcGVycyhub2RlLCB3cmFwKTtcbiAgICAgICAgcmVzdWx0LnB1c2god3JhcHBlZCk7XG4gICAgICAgIG1hdGNoID0gbWF0Y2gubWF0Y2hUeXBlKHdyYXBwZWQudHlwZSwgd3JhcHBlZC5hdHRycyk7XG4gICAgICAgIGxhc3RXcmFwID0gd3JhcDtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAocmVzdWx0KSB7IHJldHVybiB7IHY6IHByb3NlbWlycm9yTW9kZWwuRnJhZ21lbnQuZnJvbShyZXN1bHQpIH0gfVxuICB9O1xuXG4gIGZvciAodmFyIGQgPSAkY29udGV4dC5kZXB0aDsgZCA+PSAwOyBkLS0pIHtcbiAgICB2YXIgcmV0dXJuZWQgPSBsb29wKCBkICk7XG5cbiAgICBpZiAoIHJldHVybmVkICkgcmV0dXJuIHJldHVybmVkLnY7XG4gIH1cbiAgcmV0dXJuIGZyYWdtZW50XG59XG5cbmZ1bmN0aW9uIHdpdGhXcmFwcGVycyhub2RlLCB3cmFwLCBmcm9tKSB7XG4gIGlmICggZnJvbSA9PT0gdm9pZCAwICkgZnJvbSA9IDA7XG5cbiAgZm9yICh2YXIgaSA9IHdyYXAubGVuZ3RoIC0gMTsgaSA+PSBmcm9tOyBpLS0pXG4gICAgeyBub2RlID0gd3JhcFtpXS5jcmVhdGUobnVsbCwgcHJvc2VtaXJyb3JNb2RlbC5GcmFnbWVudC5mcm9tKG5vZGUpKTsgfVxuICByZXR1cm4gbm9kZVxufVxuXG4vLyBVc2VkIHRvIGdyb3VwIGFkamFjZW50IG5vZGVzIHdyYXBwZWQgaW4gc2ltaWxhciBwYXJlbnRzIGJ5XG4vLyBub3JtYWxpemVTaWJsaW5ncyBpbnRvIHRoZSBzYW1lIHBhcmVudCBub2RlXG5mdW5jdGlvbiBhZGRUb1NpYmxpbmcod3JhcCwgbGFzdFdyYXAsIG5vZGUsIHNpYmxpbmcsIGRlcHRoKSB7XG4gIGlmIChkZXB0aCA8IHdyYXAubGVuZ3RoICYmIGRlcHRoIDwgbGFzdFdyYXAubGVuZ3RoICYmIHdyYXBbZGVwdGhdID09IGxhc3RXcmFwW2RlcHRoXSkge1xuICAgIHZhciBpbm5lciA9IGFkZFRvU2libGluZyh3cmFwLCBsYXN0V3JhcCwgbm9kZSwgc2libGluZy5sYXN0Q2hpbGQsIGRlcHRoICsgMSk7XG4gICAgaWYgKGlubmVyKSB7IHJldHVybiBzaWJsaW5nLmNvcHkoc2libGluZy5jb250ZW50LnJlcGxhY2VDaGlsZChzaWJsaW5nLmNoaWxkQ291bnQgLSAxLCBpbm5lcikpIH1cbiAgICB2YXIgbWF0Y2ggPSBzaWJsaW5nLmNvbnRlbnRNYXRjaEF0KHNpYmxpbmcuY2hpbGRDb3VudCk7XG4gICAgaWYgKG1hdGNoLm1hdGNoVHlwZShkZXB0aCA9PSB3cmFwLmxlbmd0aCAtIDEgPyBub2RlLnR5cGUgOiB3cmFwW2RlcHRoICsgMV0pKVxuICAgICAgeyByZXR1cm4gc2libGluZy5jb3B5KHNpYmxpbmcuY29udGVudC5hcHBlbmQocHJvc2VtaXJyb3JNb2RlbC5GcmFnbWVudC5mcm9tKHdpdGhXcmFwcGVycyhub2RlLCB3cmFwLCBkZXB0aCArIDEpKSkpIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBjbG9zZVJpZ2h0KG5vZGUsIGRlcHRoKSB7XG4gIGlmIChkZXB0aCA9PSAwKSB7IHJldHVybiBub2RlIH1cbiAgdmFyIGZyYWdtZW50ID0gbm9kZS5jb250ZW50LnJlcGxhY2VDaGlsZChub2RlLmNoaWxkQ291bnQgLSAxLCBjbG9zZVJpZ2h0KG5vZGUubGFzdENoaWxkLCBkZXB0aCAtIDEpKTtcbiAgdmFyIGZpbGwgPSBub2RlLmNvbnRlbnRNYXRjaEF0KG5vZGUuY2hpbGRDb3VudCkuZmlsbEJlZm9yZShwcm9zZW1pcnJvck1vZGVsLkZyYWdtZW50LmVtcHR5LCB0cnVlKTtcbiAgcmV0dXJuIG5vZGUuY29weShmcmFnbWVudC5hcHBlbmQoZmlsbCkpXG59XG5cbi8vIFRyaWNrIGZyb20galF1ZXJ5IC0tIHNvbWUgZWxlbWVudHMgbXVzdCBiZSB3cmFwcGVkIGluIG90aGVyXG4vLyBlbGVtZW50cyBmb3IgaW5uZXJIVE1MIHRvIHdvcmsuIEkuZS4gaWYgeW91IGRvIGBkaXYuaW5uZXJIVE1MID1cbi8vIFwiPHRkPi4uPC90ZD5cImAgdGhlIHRhYmxlIGNlbGxzIGFyZSBpZ25vcmVkLlxudmFyIHdyYXBNYXAgPSB7dGhlYWQ6IFtcInRhYmxlXCJdLCBjb2xncm91cDogW1widGFibGVcIl0sIGNvbDogW1widGFibGVcIiwgXCJjb2xncm91cFwiXSxcbiAgICAgICAgICAgICAgICAgdHI6IFtcInRhYmxlXCIsIFwidGJvZHlcIl0sIHRkOiBbXCJ0YWJsZVwiLCBcInRib2R5XCIsIFwidHJcIl0sIHRoOiBbXCJ0YWJsZVwiLCBcInRib2R5XCIsIFwidHJcIl19O1xudmFyIGRldGFjaGVkRG9jID0gbnVsbDtcbmZ1bmN0aW9uIHJlYWRIVE1MKGh0bWwpIHtcbiAgdmFyIG1ldGFzID0gLyhcXHMqPG1ldGEgW14+XSo+KSovLmV4ZWMoaHRtbCk7XG4gIGlmIChtZXRhcykgeyBodG1sID0gaHRtbC5zbGljZShtZXRhc1swXS5sZW5ndGgpOyB9XG4gIHZhciBkb2MgPSBkZXRhY2hlZERvYyB8fCAoZGV0YWNoZWREb2MgPSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoXCJ0aXRsZVwiKSk7XG4gIHZhciBlbHQgPSBkb2MuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgdmFyIGZpcnN0VGFnID0gLyg/OjxtZXRhIFtePl0qPikqPChbYS16XVtePlxcc10rKS9pLmV4ZWMoaHRtbCksIHdyYXAsIGRlcHRoID0gMDtcbiAgaWYgKHdyYXAgPSBmaXJzdFRhZyAmJiB3cmFwTWFwW2ZpcnN0VGFnWzFdLnRvTG93ZXJDYXNlKCldKSB7XG4gICAgaHRtbCA9IHdyYXAubWFwKGZ1bmN0aW9uIChuKSB7IHJldHVybiBcIjxcIiArIG4gKyBcIj5cIjsgfSkuam9pbihcIlwiKSArIGh0bWwgKyB3cmFwLm1hcChmdW5jdGlvbiAobikgeyByZXR1cm4gXCI8L1wiICsgbiArIFwiPlwiOyB9KS5yZXZlcnNlKCkuam9pbihcIlwiKTtcbiAgICBkZXB0aCA9IHdyYXAubGVuZ3RoO1xuICB9XG4gIGVsdC5pbm5lckhUTUwgPSBodG1sO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGRlcHRoOyBpKyspIHsgZWx0ID0gZWx0LmZpcnN0Q2hpbGQ7IH1cbiAgcmV0dXJuIGVsdFxufVxuXG5mdW5jdGlvbiBhZGRDb250ZXh0KHNsaWNlLCBjb250ZXh0KSB7XG4gIGlmICghc2xpY2Uuc2l6ZSkgeyByZXR1cm4gc2xpY2UgfVxuICB2YXIgc2NoZW1hID0gc2xpY2UuY29udGVudC5maXJzdENoaWxkLnR5cGUuc2NoZW1hLCBhcnJheTtcbiAgdHJ5IHsgYXJyYXkgPSBKU09OLnBhcnNlKGNvbnRleHQpOyB9XG4gIGNhdGNoKGUpIHsgcmV0dXJuIHNsaWNlIH1cbiAgdmFyIGNvbnRlbnQgPSBzbGljZS5jb250ZW50O1xuICB2YXIgb3BlblN0YXJ0ID0gc2xpY2Uub3BlblN0YXJ0O1xuICB2YXIgb3BlbkVuZCA9IHNsaWNlLm9wZW5FbmQ7XG4gIGZvciAodmFyIGkgPSBhcnJheS5sZW5ndGggLSAyOyBpID49IDA7IGkgLT0gMikge1xuICAgIHZhciB0eXBlID0gc2NoZW1hLm5vZGVzW2FycmF5W2ldXTtcbiAgICBpZiAoIXR5cGUgfHwgdHlwZS5oYXNSZXF1aXJlZEF0dHJzKCkpIHsgYnJlYWsgfVxuICAgIGNvbnRlbnQgPSBwcm9zZW1pcnJvck1vZGVsLkZyYWdtZW50LmZyb20odHlwZS5jcmVhdGUoYXJyYXlbaSArIDFdLCBjb250ZW50KSk7XG4gICAgb3BlblN0YXJ0Kys7IG9wZW5FbmQrKztcbiAgfVxuICByZXR1cm4gbmV3IHByb3NlbWlycm9yTW9kZWwuU2xpY2UoY29udGVudCwgb3BlblN0YXJ0LCBvcGVuRW5kKVxufVxuXG52YXIgb2JzZXJ2ZU9wdGlvbnMgPSB7Y2hpbGRMaXN0OiB0cnVlLCBjaGFyYWN0ZXJEYXRhOiB0cnVlLCBhdHRyaWJ1dGVzOiB0cnVlLCBzdWJ0cmVlOiB0cnVlLCBjaGFyYWN0ZXJEYXRhT2xkVmFsdWU6IHRydWV9O1xuLy8gSUUxMSBoYXMgdmVyeSBicm9rZW4gbXV0YXRpb24gb2JzZXJ2ZXJzLCBzbyB3ZSBhbHNvIGxpc3RlbiB0byBET01DaGFyYWN0ZXJEYXRhTW9kaWZpZWRcbnZhciB1c2VDaGFyRGF0YSA9IHJlc3VsdC5pZSAmJiByZXN1bHQuaWVfdmVyc2lvbiA8PSAxMTtcblxudmFyIERPTU9ic2VydmVyID0gZnVuY3Rpb24gRE9NT2JzZXJ2ZXIodmlldykge1xuICB2YXIgdGhpcyQxID0gdGhpcztcblxuICB0aGlzLnZpZXcgPSB2aWV3O1xuICB0aGlzLm9ic2VydmVyID0gd2luZG93Lk11dGF0aW9uT2JzZXJ2ZXIgJiZcbiAgICBuZXcgd2luZG93Lk11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24gKG11dGF0aW9ucykgeyByZXR1cm4gdGhpcyQxLnJlZ2lzdGVyTXV0YXRpb25zKG11dGF0aW9ucyk7IH0pO1xuICBpZiAodXNlQ2hhckRhdGEpXG4gICAgeyB0aGlzLm9uQ2hhckRhdGEgPSBmdW5jdGlvbiAoZSkgeyByZXR1cm4gdGhpcyQxLnJlZ2lzdGVyTXV0YXRpb24oe3RhcmdldDogZS50YXJnZXQsIHR5cGU6IFwiY2hhcmFjdGVyRGF0YVwiLCBvbGRWYWx1ZTogZS5wcmV2VmFsdWV9KTsgfTsgfVxufTtcblxuRE9NT2JzZXJ2ZXIucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gc3RhcnQgKCkge1xuICBpZiAodGhpcy5vYnNlcnZlcilcbiAgICB7IHRoaXMub2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLnZpZXcuZG9tLCBvYnNlcnZlT3B0aW9ucyk7IH1cbiAgaWYgKHVzZUNoYXJEYXRhKVxuICAgIHsgdGhpcy52aWV3LmRvbS5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ2hhcmFjdGVyRGF0YU1vZGlmaWVkXCIsIHRoaXMub25DaGFyRGF0YSk7IH1cbn07XG5cbkRPTU9ic2VydmVyLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24gc3RvcCAoKSB7XG4gIGlmICh0aGlzLm9ic2VydmVyKSB7XG4gICAgdGhpcy5mbHVzaCgpO1xuICAgIHRoaXMub2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICB9XG4gIGlmICh1c2VDaGFyRGF0YSlcbiAgICB7IHRoaXMudmlldy5kb20ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIkRPTUNoYXJhY3RlckRhdGFNb2RpZmllZFwiLCB0aGlzLm9uQ2hhckRhdGEpOyB9XG59O1xuXG5ET01PYnNlcnZlci5wcm90b3R5cGUuZmx1c2ggPSBmdW5jdGlvbiBmbHVzaCAoKSB7XG4gIGlmICh0aGlzLm9ic2VydmVyKVxuICAgIHsgdGhpcy5yZWdpc3Rlck11dGF0aW9ucyh0aGlzLm9ic2VydmVyLnRha2VSZWNvcmRzKCkpOyB9XG59O1xuXG5ET01PYnNlcnZlci5wcm90b3R5cGUucmVnaXN0ZXJNdXRhdGlvbnMgPSBmdW5jdGlvbiByZWdpc3Rlck11dGF0aW9ucyAobXV0YXRpb25zKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBtdXRhdGlvbnMubGVuZ3RoOyBpKyspXG4gICAgeyB0aGlzJDEucmVnaXN0ZXJNdXRhdGlvbihtdXRhdGlvbnNbaV0pOyB9XG59O1xuXG5ET01PYnNlcnZlci5wcm90b3R5cGUucmVnaXN0ZXJNdXRhdGlvbiA9IGZ1bmN0aW9uIHJlZ2lzdGVyTXV0YXRpb24gKG11dCkge1xuICBpZiAoIXRoaXMudmlldy5lZGl0YWJsZSkgeyByZXR1cm4gfVxuICB2YXIgZGVzYyA9IHRoaXMudmlldy5kb2NWaWV3Lm5lYXJlc3REZXNjKG11dC50YXJnZXQpO1xuICBpZiAobXV0LnR5cGUgPT0gXCJhdHRyaWJ1dGVzXCIgJiZcbiAgICAgIChkZXNjID09IHRoaXMudmlldy5kb2NWaWV3IHx8IG11dC5hdHRyaWJ1dGVOYW1lID09IFwiY29udGVudGVkaXRhYmxlXCIpKSB7IHJldHVybiB9XG4gIGlmICghZGVzYyB8fCBkZXNjLmlnbm9yZU11dGF0aW9uKG11dCkpIHsgcmV0dXJuIH1cblxuICB2YXIgZnJvbSwgdG87XG4gIGlmIChtdXQudHlwZSA9PSBcImNoaWxkTGlzdFwiKSB7XG4gICAgdmFyIGZyb21PZmZzZXQgPSBtdXQucHJldmlvdXNTaWJsaW5nICYmIG11dC5wcmV2aW91c1NpYmxpbmcucGFyZW50Tm9kZSA9PSBtdXQudGFyZ2V0XG4gICAgICAgID8gZG9tSW5kZXgobXV0LnByZXZpb3VzU2libGluZykgKyAxIDogMDtcbiAgICBpZiAoZnJvbU9mZnNldCA9PSAtMSkgeyByZXR1cm4gfVxuICAgIGZyb20gPSBkZXNjLmxvY2FsUG9zRnJvbURPTShtdXQudGFyZ2V0LCBmcm9tT2Zmc2V0LCAtMSk7XG4gICAgdmFyIHRvT2Zmc2V0ID0gbXV0Lm5leHRTaWJsaW5nICYmIG11dC5uZXh0U2libGluZy5wYXJlbnROb2RlID09IG11dC50YXJnZXRcbiAgICAgICAgPyBkb21JbmRleChtdXQubmV4dFNpYmxpbmcpIDogbXV0LnRhcmdldC5jaGlsZE5vZGVzLmxlbmd0aDtcbiAgICBpZiAodG9PZmZzZXQgPT0gLTEpIHsgcmV0dXJuIH1cbiAgICB0byA9IGRlc2MubG9jYWxQb3NGcm9tRE9NKG11dC50YXJnZXQsIHRvT2Zmc2V0LCAxKTtcbiAgfSBlbHNlIGlmIChtdXQudHlwZSA9PSBcImF0dHJpYnV0ZXNcIikge1xuICAgIGZyb20gPSBkZXNjLnBvc0F0U3RhcnQgLSBkZXNjLmJvcmRlcjtcbiAgICB0byA9IGRlc2MucG9zQXRFbmQgKyBkZXNjLmJvcmRlcjtcbiAgfSBlbHNlIHsgLy8gXCJjaGFyYWN0ZXJEYXRhXCJcbiAgICBmcm9tID0gZGVzYy5wb3NBdFN0YXJ0O1xuICAgIHRvID0gZGVzYy5wb3NBdEVuZDtcbiAgICAvLyBBbiBldmVudCB3YXMgZ2VuZXJhdGVkIGZvciBhIHRleHQgY2hhbmdlIHRoYXQgZGlkbid0IGNoYW5nZVxuICAgIC8vIGFueSB0ZXh0LiBNYXJrIHRoZSBkb20gY2hhbmdlIHRvIGZhbGwgYmFjayB0byBhc3N1bWluZyB0aGVcbiAgICAvLyBzZWxlY3Rpb24gd2FzIHR5cGVkIG92ZXIgd2l0aCBhbiBpZGVudGljYWwgdmFsdWUgaWYgaXQgY2FuJ3RcbiAgICAvLyBmaW5kIGFub3RoZXIgY2hhbmdlLlxuICAgIGlmIChtdXQudGFyZ2V0Lm5vZGVWYWx1ZSA9PSBtdXQub2xkVmFsdWUpIHsgRE9NQ2hhbmdlLnN0YXJ0KHRoaXMudmlldykudHlwZU92ZXIgPSB0cnVlOyB9XG4gIH1cblxuICBET01DaGFuZ2Uuc3RhcnQodGhpcy52aWV3KS5hZGRSYW5nZShmcm9tLCB0byk7XG59O1xuXG4vLyBBIGNvbGxlY3Rpb24gb2YgRE9NIGV2ZW50cyB0aGF0IG9jY3VyIHdpdGhpbiB0aGUgZWRpdG9yLCBhbmQgY2FsbGJhY2sgZnVuY3Rpb25zXG4vLyB0byBpbnZva2Ugd2hlbiB0aGUgZXZlbnQgZmlyZXMuXG52YXIgaGFuZGxlcnMgPSB7fTtcbnZhciBlZGl0SGFuZGxlcnMgPSB7fTtcblxuZnVuY3Rpb24gaW5pdElucHV0KHZpZXcpIHtcbiAgdmlldy5zaGlmdEtleSA9IGZhbHNlO1xuICB2aWV3Lm1vdXNlRG93biA9IG51bGw7XG4gIHZpZXcuaW5ET01DaGFuZ2UgPSBudWxsO1xuICB2aWV3Lmxhc3RLZXlDb2RlID0gbnVsbDtcbiAgdmlldy5sYXN0S2V5Q29kZVRpbWUgPSAwO1xuICB2aWV3LmRvbU9ic2VydmVyID0gbmV3IERPTU9ic2VydmVyKHZpZXcpO1xuICB2aWV3LmRvbU9ic2VydmVyLnN0YXJ0KCk7XG5cbiAgdmlldy5ldmVudEhhbmRsZXJzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgdmFyIGxvb3AgPSBmdW5jdGlvbiAoIGV2ZW50ICkge1xuICAgIHZhciBoYW5kbGVyID0gaGFuZGxlcnNbZXZlbnRdO1xuICAgIHZpZXcuZG9tLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIHZpZXcuZXZlbnRIYW5kbGVyc1tldmVudF0gPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGlmIChldmVudEJlbG9uZ3NUb1ZpZXcodmlldywgZXZlbnQpICYmICFydW5DdXN0b21IYW5kbGVyKHZpZXcsIGV2ZW50KSAmJlxuICAgICAgICAgICh2aWV3LmVkaXRhYmxlIHx8ICEoZXZlbnQudHlwZSBpbiBlZGl0SGFuZGxlcnMpKSlcbiAgICAgICAgeyBoYW5kbGVyKHZpZXcsIGV2ZW50KTsgfVxuICAgIH0pO1xuICB9O1xuXG4gIGZvciAodmFyIGV2ZW50IGluIGhhbmRsZXJzKSBsb29wKCBldmVudCApO1xuICBlbnN1cmVMaXN0ZW5lcnModmlldyk7XG59XG5cbmZ1bmN0aW9uIGRlc3Ryb3lJbnB1dCh2aWV3KSB7XG4gIHZpZXcuZG9tT2JzZXJ2ZXIuc3RvcCgpO1xuICBpZiAodmlldy5pbkRPTUNoYW5nZSkgeyB2aWV3LmluRE9NQ2hhbmdlLmRlc3Ryb3koKTsgfVxuICBmb3IgKHZhciB0eXBlIGluIHZpZXcuZXZlbnRIYW5kbGVycylcbiAgICB7IHZpZXcuZG9tLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgdmlldy5ldmVudEhhbmRsZXJzW3R5cGVdKTsgfVxufVxuXG5mdW5jdGlvbiBlbnN1cmVMaXN0ZW5lcnModmlldykge1xuICB2aWV3LnNvbWVQcm9wKFwiaGFuZGxlRE9NRXZlbnRzXCIsIGZ1bmN0aW9uIChjdXJyZW50SGFuZGxlcnMpIHtcbiAgICBmb3IgKHZhciB0eXBlIGluIGN1cnJlbnRIYW5kbGVycykgeyBpZiAoIXZpZXcuZXZlbnRIYW5kbGVyc1t0eXBlXSlcbiAgICAgIHsgdmlldy5kb20uYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCB2aWV3LmV2ZW50SGFuZGxlcnNbdHlwZV0gPSBmdW5jdGlvbiAoZXZlbnQpIHsgcmV0dXJuIHJ1bkN1c3RvbUhhbmRsZXIodmlldywgZXZlbnQpOyB9KTsgfSB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBydW5DdXN0b21IYW5kbGVyKHZpZXcsIGV2ZW50KSB7XG4gIHJldHVybiB2aWV3LnNvbWVQcm9wKFwiaGFuZGxlRE9NRXZlbnRzXCIsIGZ1bmN0aW9uIChoYW5kbGVycykge1xuICAgIHZhciBoYW5kbGVyID0gaGFuZGxlcnNbZXZlbnQudHlwZV07XG4gICAgcmV0dXJuIGhhbmRsZXIgPyBoYW5kbGVyKHZpZXcsIGV2ZW50KSB8fCBldmVudC5kZWZhdWx0UHJldmVudGVkIDogZmFsc2VcbiAgfSlcbn1cblxuZnVuY3Rpb24gZXZlbnRCZWxvbmdzVG9WaWV3KHZpZXcsIGV2ZW50KSB7XG4gIGlmICghZXZlbnQuYnViYmxlcykgeyByZXR1cm4gdHJ1ZSB9XG4gIGlmIChldmVudC5kZWZhdWx0UHJldmVudGVkKSB7IHJldHVybiBmYWxzZSB9XG4gIGZvciAodmFyIG5vZGUgPSBldmVudC50YXJnZXQ7IG5vZGUgIT0gdmlldy5kb207IG5vZGUgPSBub2RlLnBhcmVudE5vZGUpXG4gICAgeyBpZiAoIW5vZGUgfHwgbm9kZS5ub2RlVHlwZSA9PSAxMSB8fFxuICAgICAgICAobm9kZS5wbVZpZXdEZXNjICYmIG5vZGUucG1WaWV3RGVzYy5zdG9wRXZlbnQoZXZlbnQpKSlcbiAgICAgIHsgcmV0dXJuIGZhbHNlIH0gfVxuICByZXR1cm4gdHJ1ZVxufVxuXG5mdW5jdGlvbiBkaXNwYXRjaEV2ZW50KHZpZXcsIGV2ZW50KSB7XG4gIGlmICghcnVuQ3VzdG9tSGFuZGxlcih2aWV3LCBldmVudCkgJiYgaGFuZGxlcnNbZXZlbnQudHlwZV0gJiZcbiAgICAgICh2aWV3LmVkaXRhYmxlIHx8ICEoZXZlbnQudHlwZSBpbiBlZGl0SGFuZGxlcnMpKSlcbiAgICB7IGhhbmRsZXJzW2V2ZW50LnR5cGVdKHZpZXcsIGV2ZW50KTsgfVxufVxuXG5lZGl0SGFuZGxlcnMua2V5ZG93biA9IGZ1bmN0aW9uICh2aWV3LCBldmVudCkge1xuICBpZiAoZXZlbnQua2V5Q29kZSA9PSAxNikgeyB2aWV3LnNoaWZ0S2V5ID0gdHJ1ZTsgfVxuICBpZiAodmlldy5pbkRPTUNoYW5nZSkgeyByZXR1cm4gfVxuICB2aWV3Lmxhc3RLZXlDb2RlID0gZXZlbnQua2V5Q29kZTtcbiAgdmlldy5sYXN0S2V5Q29kZVRpbWUgPSBEYXRlLm5vdygpO1xuICBpZiAodmlldy5zb21lUHJvcChcImhhbmRsZUtleURvd25cIiwgZnVuY3Rpb24gKGYpIHsgcmV0dXJuIGYodmlldywgZXZlbnQpOyB9KSB8fCBjYXB0dXJlS2V5RG93bih2aWV3LCBldmVudCkpXG4gICAgeyBldmVudC5wcmV2ZW50RGVmYXVsdCgpOyB9XG4gIGVsc2VcbiAgICB7IHZpZXcuc2VsZWN0aW9uUmVhZGVyLnBvbGwoKTsgfVxufTtcblxuZWRpdEhhbmRsZXJzLmtleXVwID0gZnVuY3Rpb24gKHZpZXcsIGUpIHtcbiAgaWYgKGUua2V5Q29kZSA9PSAxNikgeyB2aWV3LnNoaWZ0S2V5ID0gZmFsc2U7IH1cbn07XG5cbmVkaXRIYW5kbGVycy5rZXlwcmVzcyA9IGZ1bmN0aW9uICh2aWV3LCBldmVudCkge1xuICBpZiAodmlldy5pbkRPTUNoYW5nZSB8fCAhZXZlbnQuY2hhckNvZGUgfHxcbiAgICAgIGV2ZW50LmN0cmxLZXkgJiYgIWV2ZW50LmFsdEtleSB8fCByZXN1bHQubWFjICYmIGV2ZW50Lm1ldGFLZXkpIHsgcmV0dXJuIH1cblxuICBpZiAodmlldy5zb21lUHJvcChcImhhbmRsZUtleVByZXNzXCIsIGZ1bmN0aW9uIChmKSB7IHJldHVybiBmKHZpZXcsIGV2ZW50KTsgfSkpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHJldHVyblxuICB9XG5cbiAgdmFyIHNlbCA9IHZpZXcuc3RhdGUuc2VsZWN0aW9uO1xuICBpZiAoIShzZWwgaW5zdGFuY2VvZiBwcm9zZW1pcnJvclN0YXRlLlRleHRTZWxlY3Rpb24pIHx8ICFzZWwuJGZyb20uc2FtZVBhcmVudChzZWwuJHRvKSkge1xuICAgIHZhciB0ZXh0ID0gU3RyaW5nLmZyb21DaGFyQ29kZShldmVudC5jaGFyQ29kZSk7XG4gICAgaWYgKCF2aWV3LnNvbWVQcm9wKFwiaGFuZGxlVGV4dElucHV0XCIsIGZ1bmN0aW9uIChmKSB7IHJldHVybiBmKHZpZXcsIHNlbC4kZnJvbS5wb3MsIHNlbC4kdG8ucG9zLCB0ZXh0KTsgfSkpXG4gICAgICB7IHZpZXcuZGlzcGF0Y2godmlldy5zdGF0ZS50ci5pbnNlcnRUZXh0KHRleHQpLnNjcm9sbEludG9WaWV3KCkpOyB9XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gZXZlbnRDb29yZHMoZXZlbnQpIHsgcmV0dXJuIHtsZWZ0OiBldmVudC5jbGllbnRYLCB0b3A6IGV2ZW50LmNsaWVudFl9IH1cblxudmFyIGxhc3RDbGljayA9IHt0aW1lOiAwLCB4OiAwLCB5OiAwfTtcbnZhciBvbmVCdXRMYXN0Q2xpY2sgPSBsYXN0Q2xpY2s7XG5cbmZ1bmN0aW9uIGlzTmVhcihldmVudCwgY2xpY2spIHtcbiAgdmFyIGR4ID0gY2xpY2sueCAtIGV2ZW50LmNsaWVudFgsIGR5ID0gY2xpY2sueSAtIGV2ZW50LmNsaWVudFk7XG4gIHJldHVybiBkeCAqIGR4ICsgZHkgKiBkeSA8IDEwMFxufVxuXG5mdW5jdGlvbiBydW5IYW5kbGVyT25Db250ZXh0KHZpZXcsIHByb3BOYW1lLCBwb3MsIGluc2lkZSwgZXZlbnQpIHtcbiAgaWYgKGluc2lkZSA9PSAtMSkgeyByZXR1cm4gZmFsc2UgfVxuICB2YXIgJHBvcyA9IHZpZXcuc3RhdGUuZG9jLnJlc29sdmUoaW5zaWRlKTtcbiAgdmFyIGxvb3AgPSBmdW5jdGlvbiAoIGkgKSB7XG4gICAgaWYgKHZpZXcuc29tZVByb3AocHJvcE5hbWUsIGZ1bmN0aW9uIChmKSB7IHJldHVybiBpID4gJHBvcy5kZXB0aCA/IGYodmlldywgcG9zLCAkcG9zLm5vZGVBZnRlciwgJHBvcy5iZWZvcmUoaSksIGV2ZW50LCB0cnVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZih2aWV3LCBwb3MsICRwb3Mubm9kZShpKSwgJHBvcy5iZWZvcmUoaSksIGV2ZW50LCBmYWxzZSk7IH0pKVxuICAgICAgeyByZXR1cm4geyB2OiB0cnVlIH0gfVxuICB9O1xuXG4gIGZvciAodmFyIGkgPSAkcG9zLmRlcHRoICsgMTsgaSA+IDA7IGktLSkge1xuICAgIHZhciByZXR1cm5lZCA9IGxvb3AoIGkgKTtcblxuICAgIGlmICggcmV0dXJuZWQgKSByZXR1cm4gcmV0dXJuZWQudjtcbiAgfVxuICByZXR1cm4gZmFsc2Vcbn1cblxuZnVuY3Rpb24gdXBkYXRlU2VsZWN0aW9uKHZpZXcsIHNlbGVjdGlvbiwgb3JpZ2luKSB7XG4gIGlmICghdmlldy5mb2N1c2VkKSB7IHZpZXcuZm9jdXMoKTsgfVxuICB2YXIgdHIgPSB2aWV3LnN0YXRlLnRyLnNldFNlbGVjdGlvbihzZWxlY3Rpb24pO1xuICBpZiAob3JpZ2luID09IFwicG9pbnRlclwiKSB7IHRyLnNldE1ldGEoXCJwb2ludGVyXCIsIHRydWUpOyB9XG4gIHZpZXcuZGlzcGF0Y2godHIpO1xufVxuXG5mdW5jdGlvbiBzZWxlY3RDbGlja2VkTGVhZih2aWV3LCBpbnNpZGUpIHtcbiAgaWYgKGluc2lkZSA9PSAtMSkgeyByZXR1cm4gZmFsc2UgfVxuICB2YXIgJHBvcyA9IHZpZXcuc3RhdGUuZG9jLnJlc29sdmUoaW5zaWRlKSwgbm9kZSA9ICRwb3Mubm9kZUFmdGVyO1xuICBpZiAobm9kZSAmJiBub2RlLmlzQXRvbSAmJiBwcm9zZW1pcnJvclN0YXRlLk5vZGVTZWxlY3Rpb24uaXNTZWxlY3RhYmxlKG5vZGUpKSB7XG4gICAgdXBkYXRlU2VsZWN0aW9uKHZpZXcsIG5ldyBwcm9zZW1pcnJvclN0YXRlLk5vZGVTZWxlY3Rpb24oJHBvcyksIFwicG9pbnRlclwiKTtcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG4gIHJldHVybiBmYWxzZVxufVxuXG5mdW5jdGlvbiBzZWxlY3RDbGlja2VkTm9kZSh2aWV3LCBpbnNpZGUpIHtcbiAgaWYgKGluc2lkZSA9PSAtMSkgeyByZXR1cm4gZmFsc2UgfVxuICB2YXIgc2VsID0gdmlldy5zdGF0ZS5zZWxlY3Rpb24sIHNlbGVjdGVkTm9kZSwgc2VsZWN0QXQ7XG4gIGlmIChzZWwgaW5zdGFuY2VvZiBwcm9zZW1pcnJvclN0YXRlLk5vZGVTZWxlY3Rpb24pIHsgc2VsZWN0ZWROb2RlID0gc2VsLm5vZGU7IH1cblxuICB2YXIgJHBvcyA9IHZpZXcuc3RhdGUuZG9jLnJlc29sdmUoaW5zaWRlKTtcbiAgZm9yICh2YXIgaSA9ICRwb3MuZGVwdGggKyAxOyBpID4gMDsgaS0tKSB7XG4gICAgdmFyIG5vZGUgPSBpID4gJHBvcy5kZXB0aCA/ICRwb3Mubm9kZUFmdGVyIDogJHBvcy5ub2RlKGkpO1xuICAgIGlmIChwcm9zZW1pcnJvclN0YXRlLk5vZGVTZWxlY3Rpb24uaXNTZWxlY3RhYmxlKG5vZGUpKSB7XG4gICAgICBpZiAoc2VsZWN0ZWROb2RlICYmIHNlbC4kZnJvbS5kZXB0aCA+IDAgJiZcbiAgICAgICAgICBpID49IHNlbC4kZnJvbS5kZXB0aCAmJiAkcG9zLmJlZm9yZShzZWwuJGZyb20uZGVwdGggKyAxKSA9PSBzZWwuJGZyb20ucG9zKVxuICAgICAgICB7IHNlbGVjdEF0ID0gJHBvcy5iZWZvcmUoc2VsLiRmcm9tLmRlcHRoKTsgfVxuICAgICAgZWxzZVxuICAgICAgICB7IHNlbGVjdEF0ID0gJHBvcy5iZWZvcmUoaSk7IH1cbiAgICAgIGJyZWFrXG4gICAgfVxuICB9XG5cbiAgaWYgKHNlbGVjdEF0ICE9IG51bGwpIHtcbiAgICB1cGRhdGVTZWxlY3Rpb24odmlldywgcHJvc2VtaXJyb3JTdGF0ZS5Ob2RlU2VsZWN0aW9uLmNyZWF0ZSh2aWV3LnN0YXRlLmRvYywgc2VsZWN0QXQpLCBcInBvaW50ZXJcIik7XG4gICAgcmV0dXJuIHRydWVcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxufVxuXG5mdW5jdGlvbiBoYW5kbGVTaW5nbGVDbGljayh2aWV3LCBwb3MsIGluc2lkZSwgZXZlbnQsIHNlbGVjdE5vZGUpIHtcbiAgcmV0dXJuIHJ1bkhhbmRsZXJPbkNvbnRleHQodmlldywgXCJoYW5kbGVDbGlja09uXCIsIHBvcywgaW5zaWRlLCBldmVudCkgfHxcbiAgICB2aWV3LnNvbWVQcm9wKFwiaGFuZGxlQ2xpY2tcIiwgZnVuY3Rpb24gKGYpIHsgcmV0dXJuIGYodmlldywgcG9zLCBldmVudCk7IH0pIHx8XG4gICAgKHNlbGVjdE5vZGUgPyBzZWxlY3RDbGlja2VkTm9kZSh2aWV3LCBpbnNpZGUpIDogc2VsZWN0Q2xpY2tlZExlYWYodmlldywgaW5zaWRlKSlcbn1cblxuZnVuY3Rpb24gaGFuZGxlRG91YmxlQ2xpY2sodmlldywgcG9zLCBpbnNpZGUsIGV2ZW50KSB7XG4gIHJldHVybiBydW5IYW5kbGVyT25Db250ZXh0KHZpZXcsIFwiaGFuZGxlRG91YmxlQ2xpY2tPblwiLCBwb3MsIGluc2lkZSwgZXZlbnQpIHx8XG4gICAgdmlldy5zb21lUHJvcChcImhhbmRsZURvdWJsZUNsaWNrXCIsIGZ1bmN0aW9uIChmKSB7IHJldHVybiBmKHZpZXcsIHBvcywgZXZlbnQpOyB9KVxufVxuXG5mdW5jdGlvbiBoYW5kbGVUcmlwbGVDbGljayh2aWV3LCBwb3MsIGluc2lkZSwgZXZlbnQpIHtcbiAgcmV0dXJuIHJ1bkhhbmRsZXJPbkNvbnRleHQodmlldywgXCJoYW5kbGVUcmlwbGVDbGlja09uXCIsIHBvcywgaW5zaWRlLCBldmVudCkgfHxcbiAgICB2aWV3LnNvbWVQcm9wKFwiaGFuZGxlVHJpcGxlQ2xpY2tcIiwgZnVuY3Rpb24gKGYpIHsgcmV0dXJuIGYodmlldywgcG9zLCBldmVudCk7IH0pIHx8XG4gICAgZGVmYXVsdFRyaXBsZUNsaWNrKHZpZXcsIGluc2lkZSlcbn1cblxuZnVuY3Rpb24gZGVmYXVsdFRyaXBsZUNsaWNrKHZpZXcsIGluc2lkZSkge1xuICB2YXIgZG9jID0gdmlldy5zdGF0ZS5kb2M7XG4gIGlmIChpbnNpZGUgPT0gLTEpIHtcbiAgICBpZiAoZG9jLmlubGluZUNvbnRlbnQpIHtcbiAgICAgIHVwZGF0ZVNlbGVjdGlvbih2aWV3LCBwcm9zZW1pcnJvclN0YXRlLlRleHRTZWxlY3Rpb24uY3JlYXRlKGRvYywgMCwgZG9jLmNvbnRlbnQuc2l6ZSksIFwicG9pbnRlclwiKTtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgdmFyICRwb3MgPSBkb2MucmVzb2x2ZShpbnNpZGUpO1xuICBmb3IgKHZhciBpID0gJHBvcy5kZXB0aCArIDE7IGkgPiAwOyBpLS0pIHtcbiAgICB2YXIgbm9kZSA9IGkgPiAkcG9zLmRlcHRoID8gJHBvcy5ub2RlQWZ0ZXIgOiAkcG9zLm5vZGUoaSk7XG4gICAgdmFyIG5vZGVQb3MgPSAkcG9zLmJlZm9yZShpKTtcbiAgICBpZiAobm9kZS5pbmxpbmVDb250ZW50KVxuICAgICAgeyB1cGRhdGVTZWxlY3Rpb24odmlldywgcHJvc2VtaXJyb3JTdGF0ZS5UZXh0U2VsZWN0aW9uLmNyZWF0ZShkb2MsIG5vZGVQb3MgKyAxLCBub2RlUG9zICsgMSArIG5vZGUuY29udGVudC5zaXplKSwgXCJwb2ludGVyXCIpOyB9XG4gICAgZWxzZSBpZiAocHJvc2VtaXJyb3JTdGF0ZS5Ob2RlU2VsZWN0aW9uLmlzU2VsZWN0YWJsZShub2RlKSlcbiAgICAgIHsgdXBkYXRlU2VsZWN0aW9uKHZpZXcsIHByb3NlbWlycm9yU3RhdGUuTm9kZVNlbGVjdGlvbi5jcmVhdGUoZG9jLCBub2RlUG9zKSwgXCJwb2ludGVyXCIpOyB9XG4gICAgZWxzZVxuICAgICAgeyBjb250aW51ZSB9XG4gICAgcmV0dXJuIHRydWVcbiAgfVxufVxuXG5mdW5jdGlvbiBmb3JjZURPTUZsdXNoKHZpZXcpIHtcbiAgaWYgKCF2aWV3LmluRE9NQ2hhbmdlKSB7IHJldHVybiBmYWxzZSB9XG4gIHZpZXcuaW5ET01DaGFuZ2UuZmluaXNoKHRydWUpO1xuICByZXR1cm4gdHJ1ZVxufVxuXG52YXIgc2VsZWN0Tm9kZU1vZGlmaWVyID0gcmVzdWx0Lm1hYyA/IFwibWV0YUtleVwiIDogXCJjdHJsS2V5XCI7XG5cbmhhbmRsZXJzLm1vdXNlZG93biA9IGZ1bmN0aW9uICh2aWV3LCBldmVudCkge1xuICB2YXIgZmx1c2hlZCA9IGZvcmNlRE9NRmx1c2godmlldyk7XG4gIHZhciBub3cgPSBEYXRlLm5vdygpLCB0eXBlO1xuICBpZiAobm93IC0gbGFzdENsaWNrLnRpbWUgPj0gNTAwIHx8ICFpc05lYXIoZXZlbnQsIGxhc3RDbGljaykgfHwgZXZlbnRbc2VsZWN0Tm9kZU1vZGlmaWVyXSkgeyB0eXBlID0gXCJzaW5nbGVDbGlja1wiOyB9XG4gIGVsc2UgaWYgKG5vdyAtIG9uZUJ1dExhc3RDbGljay50aW1lID49IDYwMCB8fCAhaXNOZWFyKGV2ZW50LCBvbmVCdXRMYXN0Q2xpY2spKSB7IHR5cGUgPSBcImRvdWJsZUNsaWNrXCI7IH1cbiAgZWxzZSB7IHR5cGUgPSBcInRyaXBsZUNsaWNrXCI7IH1cbiAgb25lQnV0TGFzdENsaWNrID0gbGFzdENsaWNrO1xuICBsYXN0Q2xpY2sgPSB7dGltZTogbm93LCB4OiBldmVudC5jbGllbnRYLCB5OiBldmVudC5jbGllbnRZfTtcblxuICB2YXIgcG9zID0gdmlldy5wb3NBdENvb3JkcyhldmVudENvb3JkcyhldmVudCkpO1xuICBpZiAoIXBvcykgeyByZXR1cm4gfVxuXG4gIGlmICh0eXBlID09IFwic2luZ2xlQ2xpY2tcIilcbiAgICB7IHZpZXcubW91c2VEb3duID0gbmV3IE1vdXNlRG93bih2aWV3LCBwb3MsIGV2ZW50LCBmbHVzaGVkKTsgfVxuICBlbHNlIGlmICgodHlwZSA9PSBcImRvdWJsZUNsaWNrXCIgPyBoYW5kbGVEb3VibGVDbGljayA6IGhhbmRsZVRyaXBsZUNsaWNrKSh2aWV3LCBwb3MucG9zLCBwb3MuaW5zaWRlLCBldmVudCkpXG4gICAgeyBldmVudC5wcmV2ZW50RGVmYXVsdCgpOyB9XG4gIGVsc2VcbiAgICB7IHZpZXcuc2VsZWN0aW9uUmVhZGVyLnBvbGwoXCJwb2ludGVyXCIpOyB9XG59O1xuXG52YXIgTW91c2VEb3duID0gZnVuY3Rpb24gTW91c2VEb3duKHZpZXcsIHBvcywgZXZlbnQsIGZsdXNoZWQpIHtcbiAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgdGhpcy52aWV3ID0gdmlldztcbiAgdGhpcy5wb3MgPSBwb3M7XG4gIHRoaXMuZXZlbnQgPSBldmVudDtcbiAgdGhpcy5mbHVzaGVkID0gZmx1c2hlZDtcbiAgdGhpcy5zZWxlY3ROb2RlID0gZXZlbnRbc2VsZWN0Tm9kZU1vZGlmaWVyXTtcbiAgdGhpcy5hbGxvd0RlZmF1bHQgPSBldmVudC5zaGlmdEtleTtcblxuICB2YXIgdGFyZ2V0Tm9kZSwgdGFyZ2V0UG9zO1xuICBpZiAocG9zLmluc2lkZSA+IC0xKSB7XG4gICAgdGFyZ2V0Tm9kZSA9IHZpZXcuc3RhdGUuZG9jLm5vZGVBdChwb3MuaW5zaWRlKTtcbiAgICB0YXJnZXRQb3MgPSBwb3MuaW5zaWRlO1xuICB9IGVsc2Uge1xuICAgIHZhciAkcG9zID0gdmlldy5zdGF0ZS5kb2MucmVzb2x2ZShwb3MucG9zKTtcbiAgICB0YXJnZXROb2RlID0gJHBvcy5wYXJlbnQ7XG4gICAgdGFyZ2V0UG9zID0gJHBvcy5kZXB0aCA/ICRwb3MuYmVmb3JlKCkgOiAwO1xuICB9XG5cbiAgdGhpcy5taWdodERyYWcgPSBudWxsO1xuICB0aGlzLnRhcmdldCA9IGZsdXNoZWQgPyBudWxsIDogZXZlbnQudGFyZ2V0O1xuICBpZiAodGFyZ2V0Tm9kZS50eXBlLnNwZWMuZHJhZ2dhYmxlICYmIHRhcmdldE5vZGUudHlwZS5zcGVjLnNlbGVjdGFibGUgIT09IGZhbHNlIHx8XG4gICAgICB2aWV3LnN0YXRlLnNlbGVjdGlvbiBpbnN0YW5jZW9mIHByb3NlbWlycm9yU3RhdGUuTm9kZVNlbGVjdGlvbiAmJiB0YXJnZXRQb3MgPT0gdmlldy5zdGF0ZS5zZWxlY3Rpb24uZnJvbSlcbiAgICB7IHRoaXMubWlnaHREcmFnID0ge25vZGU6IHRhcmdldE5vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgcG9zOiB0YXJnZXRQb3MsXG4gICAgICAgICAgICAgICAgICAgICAgYWRkQXR0cjogdGhpcy50YXJnZXQgJiYgIXRoaXMudGFyZ2V0LmRyYWdnYWJsZSxcbiAgICAgICAgICAgICAgICAgICAgICBzZXRVbmVkaXRhYmxlOiB0aGlzLnRhcmdldCAmJiByZXN1bHQuZ2Vja28gJiYgIXRoaXMudGFyZ2V0Lmhhc0F0dHJpYnV0ZShcImNvbnRlbnRFZGl0YWJsZVwiKX07IH1cblxuICBpZiAodGhpcy50YXJnZXQgJiYgdGhpcy5taWdodERyYWcgJiYgKHRoaXMubWlnaHREcmFnLmFkZEF0dHIgfHwgdGhpcy5taWdodERyYWcuc2V0VW5lZGl0YWJsZSkpIHtcbiAgICB0aGlzLnZpZXcuZG9tT2JzZXJ2ZXIuc3RvcCgpO1xuICAgIGlmICh0aGlzLm1pZ2h0RHJhZy5hZGRBdHRyKSB7IHRoaXMudGFyZ2V0LmRyYWdnYWJsZSA9IHRydWU7IH1cbiAgICBpZiAodGhpcy5taWdodERyYWcuc2V0VW5lZGl0YWJsZSlcbiAgICAgIHsgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzJDEudGFyZ2V0LnNldEF0dHJpYnV0ZShcImNvbnRlbnRFZGl0YWJsZVwiLCBcImZhbHNlXCIpOyB9LCAyMCk7IH1cbiAgICB0aGlzLnZpZXcuZG9tT2JzZXJ2ZXIuc3RhcnQoKTtcbiAgfVxuXG4gIHZpZXcucm9vdC5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCB0aGlzLnVwID0gdGhpcy51cC5iaW5kKHRoaXMpKTtcbiAgdmlldy5yb290LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgdGhpcy5tb3ZlID0gdGhpcy5tb3ZlLmJpbmQodGhpcykpO1xuICB2aWV3LnNlbGVjdGlvblJlYWRlci5wb2xsKFwicG9pbnRlclwiKTtcbn07XG5cbk1vdXNlRG93bi5wcm90b3R5cGUuZG9uZSA9IGZ1bmN0aW9uIGRvbmUgKCkge1xuICB0aGlzLnZpZXcucm9vdC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCB0aGlzLnVwKTtcbiAgdGhpcy52aWV3LnJvb3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLm1vdmUpO1xuICBpZiAodGhpcy5taWdodERyYWcgJiYgdGhpcy50YXJnZXQpIHtcbiAgICB0aGlzLnZpZXcuZG9tT2JzZXJ2ZXIuc3RvcCgpO1xuICAgIGlmICh0aGlzLm1pZ2h0RHJhZy5hZGRBdHRyKSB7IHRoaXMudGFyZ2V0LmRyYWdnYWJsZSA9IGZhbHNlOyB9XG4gICAgaWYgKHRoaXMubWlnaHREcmFnLnNldFVuZWRpdGFibGUpIHsgdGhpcy50YXJnZXQucmVtb3ZlQXR0cmlidXRlKFwiY29udGVudEVkaXRhYmxlXCIpOyB9XG4gICAgdGhpcy52aWV3LmRvbU9ic2VydmVyLnN0YXJ0KCk7XG4gIH1cbiAgdGhpcy52aWV3Lm1vdXNlRG93biA9IG51bGw7XG59O1xuXG5Nb3VzZURvd24ucHJvdG90eXBlLnVwID0gZnVuY3Rpb24gdXAgKGV2ZW50KSB7XG4gIHRoaXMuZG9uZSgpO1xuXG4gIGlmICghdGhpcy52aWV3LmRvbS5jb250YWlucyhldmVudC50YXJnZXQubm9kZVR5cGUgPT0gMyA/IGV2ZW50LnRhcmdldC5wYXJlbnROb2RlIDogZXZlbnQudGFyZ2V0KSlcbiAgICB7IHJldHVybiB9XG5cbiAgaWYgKHRoaXMuYWxsb3dEZWZhdWx0KSB7XG4gICAgLy8gRm9yY2UgYSBjdXJzb3Igd3JhcHBlciByZWRyYXcgaWYgdGhpcyB3YXMgc3VwcHJlc3NlZCAodG8gYXZvaWQgYW4gaXNzdWUgd2l0aCBJRSBkcmFnLXNlbGVjdGlvbilcbiAgICBpZiAocmVzdWx0LmllICYmIG5lZWRzQ3Vyc29yV3JhcHBlcih0aGlzLnZpZXcuc3RhdGUpKSB7IHRoaXMudmlldy51cGRhdGVTdGF0ZSh0aGlzLnZpZXcuc3RhdGUpOyB9XG4gICAgdGhpcy52aWV3LnNlbGVjdGlvblJlYWRlci5wb2xsKFwicG9pbnRlclwiKTtcbiAgfSBlbHNlIGlmIChoYW5kbGVTaW5nbGVDbGljayh0aGlzLnZpZXcsIHRoaXMucG9zLnBvcywgdGhpcy5wb3MuaW5zaWRlLCBldmVudCwgdGhpcy5zZWxlY3ROb2RlKSkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIH0gZWxzZSBpZiAodGhpcy5mbHVzaGVkKSB7XG4gICAgdXBkYXRlU2VsZWN0aW9uKHRoaXMudmlldywgcHJvc2VtaXJyb3JTdGF0ZS5TZWxlY3Rpb24ubmVhcih0aGlzLnZpZXcuc3RhdGUuZG9jLnJlc29sdmUodGhpcy5wb3MucG9zKSksIFwicG9pbnRlclwiKTtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMudmlldy5zZWxlY3Rpb25SZWFkZXIucG9sbChcInBvaW50ZXJcIik7XG4gIH1cbn07XG5cbk1vdXNlRG93bi5wcm90b3R5cGUubW92ZSA9IGZ1bmN0aW9uIG1vdmUgKGV2ZW50KSB7XG4gIGlmICghdGhpcy5hbGxvd0RlZmF1bHQgJiYgKE1hdGguYWJzKHRoaXMuZXZlbnQueCAtIGV2ZW50LmNsaWVudFgpID4gNCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLmFicyh0aGlzLmV2ZW50LnkgLSBldmVudC5jbGllbnRZKSA+IDQpKVxuICAgIHsgdGhpcy5hbGxvd0RlZmF1bHQgPSB0cnVlOyB9XG4gIHRoaXMudmlldy5zZWxlY3Rpb25SZWFkZXIucG9sbChcInBvaW50ZXJcIik7XG59O1xuXG5oYW5kbGVycy50b3VjaGRvd24gPSBmdW5jdGlvbiAodmlldykge1xuICBmb3JjZURPTUZsdXNoKHZpZXcpO1xuICB2aWV3LnNlbGVjdGlvblJlYWRlci5wb2xsKFwicG9pbnRlclwiKTtcbn07XG5cbmhhbmRsZXJzLmNvbnRleHRtZW51ID0gZnVuY3Rpb24gKHZpZXcpIHsgcmV0dXJuIGZvcmNlRE9NRmx1c2godmlldyk7IH07XG5cbi8vIElucHV0IGNvbXBvc2l0aW9ucyBhcmUgaGFyZC4gTW9zdGx5IGJlY2F1c2UgdGhlIGV2ZW50cyBmaXJlZCBieVxuLy8gYnJvd3NlcnMgYXJlIEEpIHZlcnkgdW5wcmVkaWN0YWJsZSBhbmQgaW5jb25zaXN0ZW50LCBhbmQgQikgbm90XG4vLyBjYW5jZWxhYmxlLlxuLy9cbi8vIFByb3NlTWlycm9yIGhhcyB0aGUgcHJvYmxlbSB0aGF0IGl0IG11c3Qgbm90IHVwZGF0ZSB0aGUgRE9NIGR1cmluZ1xuLy8gYSBjb21wb3NpdGlvbiwgb3IgdGhlIGJyb3dzZXIgd2lsbCBjYW5jZWwgaXQuIFdoYXQgaXQgZG9lcyBpcyBrZWVwXG4vLyBsb25nLXJ1bm5pbmcgb3BlcmF0aW9ucyAoZGVsYXllZCBET00gdXBkYXRlcykgd2hlbiBhIGNvbXBvc2l0aW9uIGlzXG4vLyBhY3RpdmUuXG4vL1xuLy8gV2UgX2RvIG5vdF8gdHJ1c3QgdGhlIGluZm9ybWF0aW9uIGluIHRoZSBjb21wb3NpdGlvbiBldmVudHMgd2hpY2gsXG4vLyBhcGFydCBmcm9tIGJlaW5nIHZlcnkgdW5pbmZvcm1hdGl2ZSB0byBiZWdpbiB3aXRoLCBpcyBvZnRlbiBqdXN0XG4vLyBwbGFpbiB3cm9uZy4gSW5zdGVhZCwgd2hlbiBhIGNvbXBvc2l0aW9uIGVuZHMsIHdlIHBhcnNlIHRoZSBkb21cbi8vIGFyb3VuZCB0aGUgb3JpZ2luYWwgc2VsZWN0aW9uLCBhbmQgZGVyaXZlIGFuIHVwZGF0ZSBmcm9tIHRoYXQuXG5cbmVkaXRIYW5kbGVycy5jb21wb3NpdGlvbnN0YXJ0ID0gZWRpdEhhbmRsZXJzLmNvbXBvc2l0aW9udXBkYXRlID0gZnVuY3Rpb24gKHZpZXcpIHtcbiAgRE9NQ2hhbmdlLnN0YXJ0KHZpZXcsIHRydWUpO1xufTtcblxuZWRpdEhhbmRsZXJzLmNvbXBvc2l0aW9uZW5kID0gZnVuY3Rpb24gKHZpZXcsIGUpIHtcbiAgaWYgKCF2aWV3LmluRE9NQ2hhbmdlKSB7XG4gICAgLy8gV2UgcmVjZWl2ZWQgYSBjb21wb3NpdGlvbmVuZCB3aXRob3V0IGhhdmluZyBzZWVuIGFueSBwcmV2aW91c1xuICAgIC8vIGV2ZW50cyBmb3IgdGhlIGNvbXBvc2l0aW9uLiBJZiB0aGVyZSdzIGRhdGEgaW4gdGhlIGV2ZW50XG4gICAgLy8gb2JqZWN0LCB3ZSBhc3N1bWUgdGhhdCBpdCdzIGEgcmVhbCBjaGFuZ2UsIGFuZCBzdGFydCBhXG4gICAgLy8gY29tcG9zaXRpb24uIE90aGVyd2lzZSwgd2UganVzdCBpZ25vcmUgaXQuXG4gICAgaWYgKGUuZGF0YSkgeyBET01DaGFuZ2Uuc3RhcnQodmlldywgdHJ1ZSk7IH1cbiAgICBlbHNlIHsgcmV0dXJuIH1cbiAgfVxuXG4gIHZpZXcuaW5ET01DaGFuZ2UuY29tcG9zaXRpb25FbmQoKTtcbn07XG5cbmVkaXRIYW5kbGVycy5pbnB1dCA9IGZ1bmN0aW9uICh2aWV3KSB7XG4gIHZhciBjaGFuZ2UgPSBET01DaGFuZ2Uuc3RhcnQodmlldyk7XG4gIGlmICghY2hhbmdlLmNvbXBvc2luZykgeyBjaGFuZ2UuZmluaXNoKCk7IH1cbn07XG5cbmZ1bmN0aW9uIGNhcHR1cmVDb3B5KHZpZXcsIGRvbSkge1xuICAvLyBUaGUgZXh0cmEgd3JhcHBlciBpcyBzb21laG93IG5lY2Vzc2FyeSBvbiBJRS9FZGdlIHRvIHByZXZlbnQgdGhlXG4gIC8vIGNvbnRlbnQgZnJvbSBiZWluZyBtYW5nbGVkIHdoZW4gaXQgaXMgcHV0IG9udG8gdGhlIGNsaXBib2FyZFxuICB2YXIgZG9jID0gZG9tLm93bmVyRG9jdW1lbnQ7XG4gIHZhciB3cmFwID0gZG9jLmJvZHkuYXBwZW5kQ2hpbGQoZG9jLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpO1xuICB3cmFwLmFwcGVuZENoaWxkKGRvbSk7XG4gIHdyYXAuc3R5bGUuY3NzVGV4dCA9IFwicG9zaXRpb246IGZpeGVkOyBsZWZ0OiAtMTAwMDBweDsgdG9wOiAxMHB4XCI7XG4gIHZhciBzZWwgPSBnZXRTZWxlY3Rpb24oKSwgcmFuZ2UgPSBkb2MuY3JlYXRlUmFuZ2UoKTtcbiAgcmFuZ2Uuc2VsZWN0Tm9kZUNvbnRlbnRzKGRvbSk7XG4gIC8vIERvbmUgYmVjYXVzZSBJRSB3aWxsIGZpcmUgYSBzZWxlY3Rpb25jaGFuZ2UgbW92aW5nIHRoZSBzZWxlY3Rpb25cbiAgLy8gdG8gaXRzIHN0YXJ0IHdoZW4gcmVtb3ZlQWxsUmFuZ2VzIGlzIGNhbGxlZCBhbmQgdGhlIGVkaXRvciBzdGlsbFxuICAvLyBoYXMgZm9jdXMgKHdoaWNoIHdpbGwgbWVzcyB1cCB0aGUgZWRpdG9yJ3Mgc2VsZWN0aW9uIHN0YXRlKS5cbiAgdmlldy5kb20uYmx1cigpO1xuICBzZWwucmVtb3ZlQWxsUmFuZ2VzKCk7XG4gIHNlbC5hZGRSYW5nZShyYW5nZSk7XG4gIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgIGRvYy5ib2R5LnJlbW92ZUNoaWxkKHdyYXApO1xuICAgIHZpZXcuZm9jdXMoKTtcbiAgfSwgNTApO1xufVxuXG4vLyBUaGlzIGlzIHZlcnkgY3J1ZGUsIGJ1dCB1bmZvcnR1bmF0ZWx5IGJvdGggdGhlc2UgYnJvd3NlcnMgX3ByZXRlbmRfXG4vLyB0aGF0IHRoZXkgaGF2ZSBhIGNsaXBib2FyZCBBUEnigJRhbGwgdGhlIG9iamVjdHMgYW5kIG1ldGhvZHMgYXJlXG4vLyB0aGVyZSwgdGhleSBqdXN0IGRvbid0IHdvcmssIGFuZCB0aGV5IGFyZSBoYXJkIHRvIHRlc3QuXG4vLyBGSVhNRSB3aGVuIE1vYmlsZSBTYWZhcmkgZml4ZXMgdGhpcywgY2hhbmdlIHRoaXMgdG8gYSB2ZXJzaW9uXG4vLyByYW5nZSB0ZXN0XG52YXIgYnJva2VuQ2xpcGJvYXJkQVBJID0gKHJlc3VsdC5pZSAmJiByZXN1bHQuaWVfdmVyc2lvbiA8IDE1KSB8fCByZXN1bHQuaW9zO1xuXG5oYW5kbGVycy5jb3B5ID0gZWRpdEhhbmRsZXJzLmN1dCA9IGZ1bmN0aW9uICh2aWV3LCBlKSB7XG4gIHZhciBzZWwgPSB2aWV3LnN0YXRlLnNlbGVjdGlvbiwgY3V0ID0gZS50eXBlID09IFwiY3V0XCI7XG4gIGlmIChzZWwuZW1wdHkpIHsgcmV0dXJuIH1cblxuICAvLyBJRSBhbmQgRWRnZSdzIGNsaXBib2FyZCBpbnRlcmZhY2UgaXMgY29tcGxldGVseSBicm9rZW5cbiAgdmFyIGRhdGEgPSBicm9rZW5DbGlwYm9hcmRBUEkgPyBudWxsIDogZS5jbGlwYm9hcmREYXRhO1xuICB2YXIgc2xpY2UgPSBzZWwuY29udGVudCgpO1xuICB2YXIgcmVmID0gc2VyaWFsaXplRm9yQ2xpcGJvYXJkKHZpZXcsIHNsaWNlKTtcbiAgdmFyIGRvbSA9IHJlZi5kb207XG4gIHZhciB0ZXh0ID0gcmVmLnRleHQ7XG4gIGlmIChkYXRhKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGRhdGEuY2xlYXJEYXRhKCk7XG4gICAgZGF0YS5zZXREYXRhKFwidGV4dC9odG1sXCIsIGRvbS5pbm5lckhUTUwpO1xuICAgIGRhdGEuc2V0RGF0YShcInRleHQvcGxhaW5cIiwgdGV4dCk7XG4gIH0gZWxzZSB7XG4gICAgY2FwdHVyZUNvcHkodmlldywgZG9tKTtcbiAgfVxuICBpZiAoY3V0KSB7IHZpZXcuZGlzcGF0Y2godmlldy5zdGF0ZS50ci5kZWxldGVTZWxlY3Rpb24oKS5zY3JvbGxJbnRvVmlldygpLnNldE1ldGEoXCJ1aUV2ZW50XCIsIFwiY3V0XCIpKTsgfVxufTtcblxuZnVuY3Rpb24gc2xpY2VTaW5nbGVOb2RlKHNsaWNlKSB7XG4gIHJldHVybiBzbGljZS5vcGVuU3RhcnQgPT0gMCAmJiBzbGljZS5vcGVuRW5kID09IDAgJiYgc2xpY2UuY29udGVudC5jaGlsZENvdW50ID09IDEgPyBzbGljZS5jb250ZW50LmZpcnN0Q2hpbGQgOiBudWxsXG59XG5cbmZ1bmN0aW9uIGNhcHR1cmVQYXN0ZSh2aWV3LCBlKSB7XG4gIHZhciBkb2MgPSB2aWV3LmRvbS5vd25lckRvY3VtZW50O1xuICB2YXIgcGxhaW5UZXh0ID0gdmlldy5zaGlmdEtleSB8fCB2aWV3LnN0YXRlLnNlbGVjdGlvbi4kZnJvbS5wYXJlbnQudHlwZS5zcGVjLmNvZGU7XG4gIHZhciB0YXJnZXQgPSBkb2MuYm9keS5hcHBlbmRDaGlsZChkb2MuY3JlYXRlRWxlbWVudChwbGFpblRleHQgPyBcInRleHRhcmVhXCIgOiBcImRpdlwiKSk7XG4gIGlmICghcGxhaW5UZXh0KSB7IHRhcmdldC5jb250ZW50RWRpdGFibGUgPSBcInRydWVcIjsgfVxuICB0YXJnZXQuc3R5bGUuY3NzVGV4dCA9IFwicG9zaXRpb246IGZpeGVkOyBsZWZ0OiAtMTAwMDBweDsgdG9wOiAxMHB4XCI7XG4gIHRhcmdldC5mb2N1cygpO1xuICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICB2aWV3LmZvY3VzKCk7XG4gICAgZG9jLmJvZHkucmVtb3ZlQ2hpbGQodGFyZ2V0KTtcbiAgICBpZiAocGxhaW5UZXh0KSB7IGRvUGFzdGUodmlldywgdGFyZ2V0LnZhbHVlLCBudWxsLCBlKTsgfVxuICAgIGVsc2UgeyBkb1Bhc3RlKHZpZXcsIHRhcmdldC50ZXh0Q29udGVudCwgdGFyZ2V0LmlubmVySFRNTCwgZSk7IH1cbiAgfSwgNTApO1xufVxuXG5mdW5jdGlvbiBkb1Bhc3RlKHZpZXcsIHRleHQsIGh0bWwsIGUpIHtcbiAgdmFyIHNsaWNlID0gcGFyc2VGcm9tQ2xpcGJvYXJkKHZpZXcsIHRleHQsIGh0bWwsIHZpZXcuc2hpZnRLZXksIHZpZXcuc3RhdGUuc2VsZWN0aW9uLiRmcm9tKTtcbiAgaWYgKCFzbGljZSkgeyByZXR1cm4gZmFsc2UgfVxuXG4gIGlmICh2aWV3LnNvbWVQcm9wKFwiaGFuZGxlUGFzdGVcIiwgZnVuY3Rpb24gKGYpIHsgcmV0dXJuIGYodmlldywgZSwgc2xpY2UpOyB9KSkgeyByZXR1cm4gdHJ1ZSB9XG5cbiAgdmFyIHNpbmdsZU5vZGUgPSBzbGljZVNpbmdsZU5vZGUoc2xpY2UpO1xuICB2YXIgdHIgPSBzaW5nbGVOb2RlID8gdmlldy5zdGF0ZS50ci5yZXBsYWNlU2VsZWN0aW9uV2l0aChzaW5nbGVOb2RlLCB2aWV3LnNoaWZ0S2V5KSA6IHZpZXcuc3RhdGUudHIucmVwbGFjZVNlbGVjdGlvbihzbGljZSk7XG4gIHZpZXcuZGlzcGF0Y2godHIuc2Nyb2xsSW50b1ZpZXcoKS5zZXRNZXRhKFwicGFzdGVcIiwgdHJ1ZSkuc2V0TWV0YShcInVpRXZlbnRcIiwgXCJwYXN0ZVwiKSk7XG4gIHJldHVybiB0cnVlXG59XG5cbmVkaXRIYW5kbGVycy5wYXN0ZSA9IGZ1bmN0aW9uICh2aWV3LCBlKSB7XG4gIHZhciBkYXRhID0gYnJva2VuQ2xpcGJvYXJkQVBJID8gbnVsbCA6IGUuY2xpcGJvYXJkRGF0YTtcbiAgaWYgKGRhdGEgJiYgZG9QYXN0ZSh2aWV3LCBkYXRhLmdldERhdGEoXCJ0ZXh0L3BsYWluXCIpLCBkYXRhLmdldERhdGEoXCJ0ZXh0L2h0bWxcIiksIGUpKVxuICAgIHsgZS5wcmV2ZW50RGVmYXVsdCgpOyB9XG4gIGVsc2VcbiAgICB7IGNhcHR1cmVQYXN0ZSh2aWV3LCBlKTsgfVxufTtcblxudmFyIERyYWdnaW5nID0gZnVuY3Rpb24gRHJhZ2dpbmcoc2xpY2UsIG1vdmUpIHtcbiAgdGhpcy5zbGljZSA9IHNsaWNlO1xuICB0aGlzLm1vdmUgPSBtb3ZlO1xufTtcblxuZnVuY3Rpb24gZHJvcFBvcyhzbGljZSwgJHBvcykge1xuICBpZiAoIXNsaWNlIHx8ICFzbGljZS5jb250ZW50LnNpemUpIHsgcmV0dXJuICRwb3MucG9zIH1cbiAgdmFyIGNvbnRlbnQgPSBzbGljZS5jb250ZW50O1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHNsaWNlLm9wZW5TdGFydDsgaSsrKSB7IGNvbnRlbnQgPSBjb250ZW50LmZpcnN0Q2hpbGQuY29udGVudDsgfVxuICBmb3IgKHZhciBkID0gJHBvcy5kZXB0aDsgZCA+PSAwOyBkLS0pIHtcbiAgICB2YXIgYmlhcyA9IGQgPT0gJHBvcy5kZXB0aCA/IDAgOiAkcG9zLnBvcyA8PSAoJHBvcy5zdGFydChkICsgMSkgKyAkcG9zLmVuZChkICsgMSkpIC8gMiA/IC0xIDogMTtcbiAgICB2YXIgaW5zZXJ0UG9zID0gJHBvcy5pbmRleChkKSArIChiaWFzID4gMCA/IDEgOiAwKTtcbiAgICBpZiAoJHBvcy5ub2RlKGQpLmNhblJlcGxhY2UoaW5zZXJ0UG9zLCBpbnNlcnRQb3MsIGNvbnRlbnQpKVxuICAgICAgeyByZXR1cm4gYmlhcyA9PSAwID8gJHBvcy5wb3MgOiBiaWFzIDwgMCA/ICRwb3MuYmVmb3JlKGQgKyAxKSA6ICRwb3MuYWZ0ZXIoZCArIDEpIH1cbiAgfVxuICByZXR1cm4gJHBvcy5wb3Ncbn1cblxudmFyIGRyYWdDb3B5TW9kaWZpZXIgPSByZXN1bHQubWFjID8gXCJhbHRLZXlcIiA6IFwiY3RybEtleVwiO1xuXG5oYW5kbGVycy5kcmFnc3RhcnQgPSBmdW5jdGlvbiAodmlldywgZSkge1xuICB2YXIgbW91c2VEb3duID0gdmlldy5tb3VzZURvd247XG4gIGlmIChtb3VzZURvd24pIHsgbW91c2VEb3duLmRvbmUoKTsgfVxuICBpZiAoIWUuZGF0YVRyYW5zZmVyKSB7IHJldHVybiB9XG5cbiAgdmFyIHNlbCA9IHZpZXcuc3RhdGUuc2VsZWN0aW9uO1xuICB2YXIgcG9zID0gc2VsLmVtcHR5ID8gbnVsbCA6IHZpZXcucG9zQXRDb29yZHMoZXZlbnRDb29yZHMoZSkpO1xuICBpZiAocG9zICYmIHBvcy5wb3MgPj0gc2VsLmZyb20gJiYgcG9zLnBvcyA8PSAoc2VsIGluc3RhbmNlb2YgcHJvc2VtaXJyb3JTdGF0ZS5Ob2RlU2VsZWN0aW9uID8gc2VsLnRvIC0gMTogc2VsLnRvKSkge1xuICAgIC8vIEluIHNlbGVjdGlvblxuICB9IGVsc2UgaWYgKG1vdXNlRG93biAmJiBtb3VzZURvd24ubWlnaHREcmFnKSB7XG4gICAgdmlldy5kaXNwYXRjaCh2aWV3LnN0YXRlLnRyLnNldFNlbGVjdGlvbihwcm9zZW1pcnJvclN0YXRlLk5vZGVTZWxlY3Rpb24uY3JlYXRlKHZpZXcuc3RhdGUuZG9jLCBtb3VzZURvd24ubWlnaHREcmFnLnBvcykpKTtcbiAgfSBlbHNlIGlmIChlLnRhcmdldCAmJiBlLnRhcmdldC5ub2RlVHlwZSA9PSAxKSB7XG4gICAgdmFyIGRlc2MgPSB2aWV3LmRvY1ZpZXcubmVhcmVzdERlc2MoZS50YXJnZXQsIHRydWUpO1xuICAgIGlmICghZGVzYyB8fCAhZGVzYy5ub2RlLnR5cGUuc3BlYy5kcmFnZ2FibGUgfHwgZGVzYyA9PSB2aWV3LmRvY1ZpZXcpIHsgcmV0dXJuIH1cbiAgICB2aWV3LmRpc3BhdGNoKHZpZXcuc3RhdGUudHIuc2V0U2VsZWN0aW9uKHByb3NlbWlycm9yU3RhdGUuTm9kZVNlbGVjdGlvbi5jcmVhdGUodmlldy5zdGF0ZS5kb2MsIGRlc2MucG9zQmVmb3JlKSkpO1xuICB9XG4gIHZhciBzbGljZSA9IHZpZXcuc3RhdGUuc2VsZWN0aW9uLmNvbnRlbnQoKTtcbiAgdmFyIHJlZiA9IHNlcmlhbGl6ZUZvckNsaXBib2FyZCh2aWV3LCBzbGljZSk7XG4gIHZhciBkb20gPSByZWYuZG9tO1xuICB2YXIgdGV4dCA9IHJlZi50ZXh0O1xuICBlLmRhdGFUcmFuc2Zlci5jbGVhckRhdGEoKTtcbiAgZS5kYXRhVHJhbnNmZXIuc2V0RGF0YShicm9rZW5DbGlwYm9hcmRBUEkgPyBcIlRleHRcIiA6IFwidGV4dC9odG1sXCIsIGRvbS5pbm5lckhUTUwpO1xuICBpZiAoIWJyb2tlbkNsaXBib2FyZEFQSSkgeyBlLmRhdGFUcmFuc2Zlci5zZXREYXRhKFwidGV4dC9wbGFpblwiLCB0ZXh0KTsgfVxuICB2aWV3LmRyYWdnaW5nID0gbmV3IERyYWdnaW5nKHNsaWNlLCAhZVtkcmFnQ29weU1vZGlmaWVyXSk7XG59O1xuXG5oYW5kbGVycy5kcmFnZW5kID0gZnVuY3Rpb24gKHZpZXcpIHtcbiAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gdmlldy5kcmFnZ2luZyA9IG51bGw7IH0sIDUwKTtcbn07XG5cbmVkaXRIYW5kbGVycy5kcmFnb3ZlciA9IGVkaXRIYW5kbGVycy5kcmFnZW50ZXIgPSBmdW5jdGlvbiAoXywgZSkgeyByZXR1cm4gZS5wcmV2ZW50RGVmYXVsdCgpOyB9O1xuXG5lZGl0SGFuZGxlcnMuZHJvcCA9IGZ1bmN0aW9uICh2aWV3LCBlKSB7XG4gIHZhciBkcmFnZ2luZyA9IHZpZXcuZHJhZ2dpbmc7XG4gIHZpZXcuZHJhZ2dpbmcgPSBudWxsO1xuXG4gIGlmICghZS5kYXRhVHJhbnNmZXIpIHsgcmV0dXJuIH1cblxuICB2YXIgZXZlbnRQb3MgPSB2aWV3LnBvc0F0Q29vcmRzKGV2ZW50Q29vcmRzKGUpKTtcbiAgaWYgKCFldmVudFBvcykgeyByZXR1cm4gfVxuICB2YXIgJG1vdXNlID0gdmlldy5zdGF0ZS5kb2MucmVzb2x2ZShldmVudFBvcy5wb3MpO1xuICBpZiAoISRtb3VzZSkgeyByZXR1cm4gfVxuICB2YXIgc2xpY2UgPSBkcmFnZ2luZyAmJiBkcmFnZ2luZy5zbGljZSB8fFxuICAgICAgcGFyc2VGcm9tQ2xpcGJvYXJkKHZpZXcsIGUuZGF0YVRyYW5zZmVyLmdldERhdGEoYnJva2VuQ2xpcGJvYXJkQVBJID8gXCJUZXh0XCIgOiBcInRleHQvcGxhaW5cIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgYnJva2VuQ2xpcGJvYXJkQVBJID8gbnVsbCA6IGUuZGF0YVRyYW5zZmVyLmdldERhdGEoXCJ0ZXh0L2h0bWxcIiksIGZhbHNlLCAkbW91c2UpO1xuICBpZiAoIXNsaWNlKSB7IHJldHVybiB9XG5cbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICBpZiAodmlldy5zb21lUHJvcChcImhhbmRsZURyb3BcIiwgZnVuY3Rpb24gKGYpIHsgcmV0dXJuIGYodmlldywgZSwgc2xpY2UsIGRyYWdnaW5nICYmIGRyYWdnaW5nLm1vdmUpOyB9KSkgeyByZXR1cm4gfVxuICB2YXIgaW5zZXJ0UG9zID0gZHJvcFBvcyhzbGljZSwgdmlldy5zdGF0ZS5kb2MucmVzb2x2ZSgkbW91c2UucG9zKSk7XG5cbiAgdmFyIHRyID0gdmlldy5zdGF0ZS50cjtcbiAgaWYgKGRyYWdnaW5nICYmIGRyYWdnaW5nLm1vdmUpIHsgdHIuZGVsZXRlU2VsZWN0aW9uKCk7IH1cblxuICB2YXIgcG9zID0gdHIubWFwcGluZy5tYXAoaW5zZXJ0UG9zKTtcbiAgdmFyIGlzTm9kZSA9IHNsaWNlLm9wZW5TdGFydCA9PSAwICYmIHNsaWNlLm9wZW5FbmQgPT0gMCAmJiBzbGljZS5jb250ZW50LmNoaWxkQ291bnQgPT0gMTtcbiAgdmFyIGJlZm9yZUluc2VydCA9IHRyLmRvYztcbiAgaWYgKGlzTm9kZSlcbiAgICB7IHRyLnJlcGxhY2VSYW5nZVdpdGgocG9zLCBwb3MsIHNsaWNlLmNvbnRlbnQuZmlyc3RDaGlsZCk7IH1cbiAgZWxzZVxuICAgIHsgdHIucmVwbGFjZVJhbmdlKHBvcywgcG9zLCBzbGljZSk7IH1cbiAgaWYgKHRyLmRvYy5lcShiZWZvcmVJbnNlcnQpKSB7IHJldHVybiB9XG5cbiAgdmFyICRwb3MgPSB0ci5kb2MucmVzb2x2ZShwb3MpO1xuICBpZiAoaXNOb2RlICYmIHByb3NlbWlycm9yU3RhdGUuTm9kZVNlbGVjdGlvbi5pc1NlbGVjdGFibGUoc2xpY2UuY29udGVudC5maXJzdENoaWxkKSAmJlxuICAgICAgJHBvcy5ub2RlQWZ0ZXIgJiYgJHBvcy5ub2RlQWZ0ZXIuc2FtZU1hcmt1cChzbGljZS5jb250ZW50LmZpcnN0Q2hpbGQpKVxuICAgIHsgdHIuc2V0U2VsZWN0aW9uKG5ldyBwcm9zZW1pcnJvclN0YXRlLk5vZGVTZWxlY3Rpb24oJHBvcykpOyB9XG4gIGVsc2VcbiAgICB7IHRyLnNldFNlbGVjdGlvbihzZWxlY3Rpb25CZXR3ZWVuKHZpZXcsICRwb3MsIHRyLmRvYy5yZXNvbHZlKHRyLm1hcHBpbmcubWFwKGluc2VydFBvcykpKSk7IH1cbiAgdmlldy5mb2N1cygpO1xuICB2aWV3LmRpc3BhdGNoKHRyLnNldE1ldGEoXCJ1aUV2ZW50XCIsIFwiZHJvcFwiKSk7XG59O1xuXG5oYW5kbGVycy5mb2N1cyA9IGZ1bmN0aW9uICh2aWV3KSB7XG4gIGlmICghdmlldy5mb2N1c2VkKSB7XG4gICAgdmlldy5kb20uY2xhc3NMaXN0LmFkZChcIlByb3NlTWlycm9yLWZvY3VzZWRcIik7XG4gICAgdmlldy5mb2N1c2VkID0gdHJ1ZTtcbiAgfVxufTtcblxuaGFuZGxlcnMuYmx1ciA9IGZ1bmN0aW9uICh2aWV3KSB7XG4gIGlmICh2aWV3LmZvY3VzZWQpIHtcbiAgICB2aWV3LmRvbS5jbGFzc0xpc3QucmVtb3ZlKFwiUHJvc2VNaXJyb3ItZm9jdXNlZFwiKTtcbiAgICB2aWV3LmZvY3VzZWQgPSBmYWxzZTtcbiAgfVxufTtcblxuLy8gTWFrZSBzdXJlIGFsbCBoYW5kbGVycyBnZXQgcmVnaXN0ZXJlZFxuZm9yICh2YXIgcHJvcCBpbiBlZGl0SGFuZGxlcnMpIHsgaGFuZGxlcnNbcHJvcF0gPSBlZGl0SGFuZGxlcnNbcHJvcF07IH1cblxuZnVuY3Rpb24gY29tcGFyZU9ianMoYSwgYikge1xuICBpZiAoYSA9PSBiKSB7IHJldHVybiB0cnVlIH1cbiAgZm9yICh2YXIgcCBpbiBhKSB7IGlmIChhW3BdICE9PSBiW3BdKSB7IHJldHVybiBmYWxzZSB9IH1cbiAgZm9yICh2YXIgcCQxIGluIGIpIHsgaWYgKCEocCQxIGluIGEpKSB7IHJldHVybiBmYWxzZSB9IH1cbiAgcmV0dXJuIHRydWVcbn1cblxudmFyIFdpZGdldFR5cGUgPSBmdW5jdGlvbiBXaWRnZXRUeXBlKHRvRE9NLCBzcGVjKSB7XG4gIHRoaXMuc3BlYyA9IHNwZWMgfHwgbm9TcGVjO1xuICB0aGlzLnNpZGUgPSB0aGlzLnNwZWMuc2lkZSB8fCAwO1xuICB0aGlzLnRvRE9NID0gdG9ET007XG59O1xuXG5XaWRnZXRUeXBlLnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiBtYXAgKG1hcHBpbmcsIHNwYW4sIG9mZnNldCwgb2xkT2Zmc2V0KSB7XG4gIHZhciByZWYgPSBtYXBwaW5nLm1hcFJlc3VsdChzcGFuLmZyb20gKyBvbGRPZmZzZXQsIHRoaXMuc2lkZSA8IDAgPyAtMSA6IDEpO1xuICAgIHZhciBwb3MgPSByZWYucG9zO1xuICAgIHZhciBkZWxldGVkID0gcmVmLmRlbGV0ZWQ7XG4gIHJldHVybiBkZWxldGVkID8gbnVsbCA6IG5ldyBEZWNvcmF0aW9uKHBvcyAtIG9mZnNldCwgcG9zIC0gb2Zmc2V0LCB0aGlzKVxufTtcblxuV2lkZ2V0VHlwZS5wcm90b3R5cGUudmFsaWQgPSBmdW5jdGlvbiB2YWxpZCAoKSB7IHJldHVybiB0cnVlIH07XG5cbldpZGdldFR5cGUucHJvdG90eXBlLmVxID0gZnVuY3Rpb24gZXEgKG90aGVyKSB7XG4gIHJldHVybiB0aGlzID09IG90aGVyIHx8XG4gICAgKG90aGVyIGluc3RhbmNlb2YgV2lkZ2V0VHlwZSAmJlxuICAgICAodGhpcy5zcGVjLmtleSAmJiB0aGlzLnNwZWMua2V5ID09IG90aGVyLnNwZWMua2V5IHx8XG4gICAgICB0aGlzLnRvRE9NID09IG90aGVyLnRvRE9NICYmIGNvbXBhcmVPYmpzKHRoaXMuc3BlYywgb3RoZXIuc3BlYykpKVxufTtcblxudmFyIElubGluZVR5cGUgPSBmdW5jdGlvbiBJbmxpbmVUeXBlKGF0dHJzLCBzcGVjKSB7XG4gIHRoaXMuc3BlYyA9IHNwZWMgfHwgbm9TcGVjO1xuICB0aGlzLmF0dHJzID0gYXR0cnM7XG59O1xuXG5JbmxpbmVUeXBlLnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiBtYXAgKG1hcHBpbmcsIHNwYW4sIG9mZnNldCwgb2xkT2Zmc2V0KSB7XG4gIHZhciBmcm9tID0gbWFwcGluZy5tYXAoc3Bhbi5mcm9tICsgb2xkT2Zmc2V0LCB0aGlzLnNwZWMuaW5jbHVzaXZlU3RhcnQgPyAtMSA6IDEpIC0gb2Zmc2V0O1xuICB2YXIgdG8gPSBtYXBwaW5nLm1hcChzcGFuLnRvICsgb2xkT2Zmc2V0LCB0aGlzLnNwZWMuaW5jbHVzaXZlRW5kID8gMSA6IC0xKSAtIG9mZnNldDtcbiAgcmV0dXJuIGZyb20gPj0gdG8gPyBudWxsIDogbmV3IERlY29yYXRpb24oZnJvbSwgdG8sIHRoaXMpXG59O1xuXG5JbmxpbmVUeXBlLnByb3RvdHlwZS52YWxpZCA9IGZ1bmN0aW9uIHZhbGlkIChfLCBzcGFuKSB7IHJldHVybiBzcGFuLmZyb20gPCBzcGFuLnRvIH07XG5cbklubGluZVR5cGUucHJvdG90eXBlLmVxID0gZnVuY3Rpb24gZXEgKG90aGVyKSB7XG4gIHJldHVybiB0aGlzID09IG90aGVyIHx8XG4gICAgKG90aGVyIGluc3RhbmNlb2YgSW5saW5lVHlwZSAmJiBjb21wYXJlT2Jqcyh0aGlzLmF0dHJzLCBvdGhlci5hdHRycykgJiZcbiAgICAgY29tcGFyZU9ianModGhpcy5zcGVjLCBvdGhlci5zcGVjKSlcbn07XG5cbklubGluZVR5cGUuaXMgPSBmdW5jdGlvbiBpcyAoc3BhbikgeyByZXR1cm4gc3Bhbi50eXBlIGluc3RhbmNlb2YgSW5saW5lVHlwZSB9O1xuXG52YXIgTm9kZVR5cGUgPSBmdW5jdGlvbiBOb2RlVHlwZShhdHRycywgc3BlYykge1xuICB0aGlzLnNwZWMgPSBzcGVjIHx8IG5vU3BlYztcbiAgdGhpcy5hdHRycyA9IGF0dHJzO1xufTtcblxuTm9kZVR5cGUucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIG1hcCAobWFwcGluZywgc3Bhbiwgb2Zmc2V0LCBvbGRPZmZzZXQpIHtcbiAgdmFyIGZyb20gPSBtYXBwaW5nLm1hcFJlc3VsdChzcGFuLmZyb20gKyBvbGRPZmZzZXQsIDEpO1xuICBpZiAoZnJvbS5kZWxldGVkKSB7IHJldHVybiBudWxsIH1cbiAgdmFyIHRvID0gbWFwcGluZy5tYXBSZXN1bHQoc3Bhbi50byArIG9sZE9mZnNldCwgLTEpO1xuICBpZiAodG8uZGVsZXRlZCB8fCB0by5wb3MgPD0gZnJvbS5wb3MpIHsgcmV0dXJuIG51bGwgfVxuICByZXR1cm4gbmV3IERlY29yYXRpb24oZnJvbS5wb3MgLSBvZmZzZXQsIHRvLnBvcyAtIG9mZnNldCwgdGhpcylcbn07XG5cbk5vZGVUeXBlLnByb3RvdHlwZS52YWxpZCA9IGZ1bmN0aW9uIHZhbGlkIChub2RlLCBzcGFuKSB7XG4gIHZhciByZWYgPSBub2RlLmNvbnRlbnQuZmluZEluZGV4KHNwYW4uZnJvbSk7XG4gICAgdmFyIGluZGV4ID0gcmVmLmluZGV4O1xuICAgIHZhciBvZmZzZXQgPSByZWYub2Zmc2V0O1xuICByZXR1cm4gb2Zmc2V0ID09IHNwYW4uZnJvbSAmJiBvZmZzZXQgKyBub2RlLmNoaWxkKGluZGV4KS5ub2RlU2l6ZSA9PSBzcGFuLnRvXG59O1xuXG5Ob2RlVHlwZS5wcm90b3R5cGUuZXEgPSBmdW5jdGlvbiBlcSAob3RoZXIpIHtcbiAgcmV0dXJuIHRoaXMgPT0gb3RoZXIgfHxcbiAgICAob3RoZXIgaW5zdGFuY2VvZiBOb2RlVHlwZSAmJiBjb21wYXJlT2Jqcyh0aGlzLmF0dHJzLCBvdGhlci5hdHRycykgJiZcbiAgICAgY29tcGFyZU9ianModGhpcy5zcGVjLCBvdGhlci5zcGVjKSlcbn07XG5cbi8vIDo6LSBEZWNvcmF0aW9uIG9iamVjdHMgY2FuIGJlIHByb3ZpZGVkIHRvIHRoZSB2aWV3IHRocm91Z2ggdGhlXG4vLyBbYGRlY29yYXRpb25zYCBwcm9wXSgjdmlldy5FZGl0b3JQcm9wcy5kZWNvcmF0aW9ucykuIFRoZXkgY29tZSBpblxuLy8gc2V2ZXJhbCB2YXJpYW50c+KAlHNlZSB0aGUgc3RhdGljIG1lbWJlcnMgb2YgdGhpcyBjbGFzcyBmb3IgZGV0YWlscy5cbnZhciBEZWNvcmF0aW9uID0gZnVuY3Rpb24gRGVjb3JhdGlvbihmcm9tLCB0bywgdHlwZSkge1xuICAvLyA6OiBudW1iZXJcbiAgLy8gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSBkZWNvcmF0aW9uLlxuICB0aGlzLmZyb20gPSBmcm9tO1xuICAvLyA6OiBudW1iZXJcbiAgLy8gVGhlIGVuZCBwb3NpdGlvbi4gV2lsbCBiZSB0aGUgc2FtZSBhcyBgZnJvbWAgZm9yIFt3aWRnZXRcbiAgLy8gZGVjb3JhdGlvbnNdKCN2aWV3LkRlY29yYXRpb25ed2lkZ2V0KS5cbiAgdGhpcy50byA9IHRvO1xuICB0aGlzLnR5cGUgPSB0eXBlO1xufTtcblxudmFyIHByb3RvdHlwZUFjY2Vzc29ycyQyID0geyBzcGVjOiB7fSB9O1xuXG5EZWNvcmF0aW9uLnByb3RvdHlwZS5jb3B5ID0gZnVuY3Rpb24gY29weSAoZnJvbSwgdG8pIHtcbiAgcmV0dXJuIG5ldyBEZWNvcmF0aW9uKGZyb20sIHRvLCB0aGlzLnR5cGUpXG59O1xuXG5EZWNvcmF0aW9uLnByb3RvdHlwZS5lcSA9IGZ1bmN0aW9uIGVxIChvdGhlcikge1xuICByZXR1cm4gdGhpcy50eXBlLmVxKG90aGVyLnR5cGUpICYmIHRoaXMuZnJvbSA9PSBvdGhlci5mcm9tICYmIHRoaXMudG8gPT0gb3RoZXIudG9cbn07XG5cbkRlY29yYXRpb24ucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIG1hcCAobWFwcGluZywgb2Zmc2V0LCBvbGRPZmZzZXQpIHtcbiAgcmV0dXJuIHRoaXMudHlwZS5tYXAobWFwcGluZywgdGhpcywgb2Zmc2V0LCBvbGRPZmZzZXQpXG59O1xuXG4vLyA6OiAobnVtYmVyLCAodmlldzogRWRpdG9yVmlldywgZ2V0UG9zOiAoKSDihpIgbnVtYmVyKSDihpIgZG9tLk5vZGUgfCBkb20uTm9kZSwgP09iamVjdCkg4oaSIERlY29yYXRpb25cbi8vIENyZWF0ZXMgYSB3aWRnZXQgZGVjb3JhdGlvbiwgd2hpY2ggaXMgYSBET00gbm9kZSB0aGF0J3Mgc2hvd24gaW5cbi8vIHRoZSBkb2N1bWVudCBhdCB0aGUgZ2l2ZW4gcG9zaXRpb24uIEl0IGlzIHJlY29tbWVuZGVkIHRoYXQgeW91XG4vLyBkZWxheSByZW5kZXJpbmcgdGhlIHdpZGdldCBieSBwYXNzaW5nIGEgZnVuY3Rpb24gdGhhdCB3aWxsIGJlXG4vLyBjYWxsZWQgd2hlbiB0aGUgd2lkZ2V0IGlzIGFjdHVhbGx5IGRyYXduIGluIGEgdmlldywgYnV0IHlvdSBjYW5cbi8vIGFsc28gZGlyZWN0bHkgcGFzcyBhIERPTSBub2RlLiBgZ2V0UG9zYCBjYW4gYmUgdXNlZCB0byBmaW5kIHRoZVxuLy8gd2lkZ2V0J3MgY3VycmVudCBkb2N1bWVudCBwb3NpdGlvbi5cbi8vXG4vLyBzcGVjOjotIFRoZXNlIG9wdGlvbnMgYXJlIHN1cHBvcnRlZDpcbi8vXG4vLyAgIHNpZGU6OiA/bnVtYmVyXG4vLyAgIENvbnRyb2xzIHdoaWNoIHNpZGUgb2YgdGhlIGRvY3VtZW50IHBvc2l0aW9uIHRoaXMgd2lkZ2V0IGlzXG4vLyAgIGFzc29jaWF0ZWQgd2l0aC4gV2hlbiBuZWdhdGl2ZSwgaXQgaXMgZHJhd24gYmVmb3JlIGEgY3Vyc29yXG4vLyAgIGF0IGl0cyBwb3NpdGlvbiwgYW5kIGNvbnRlbnQgaW5zZXJ0ZWQgYXQgdGhhdCBwb3NpdGlvbiBlbmRzXG4vLyAgIHVwIGFmdGVyIHRoZSB3aWRnZXQuIFdoZW4gemVybyAodGhlIGRlZmF1bHQpIG9yIHBvc2l0aXZlLCB0aGVcbi8vICAgd2lkZ2V0IGlzIGRyYXduIGFmdGVyIHRoZSBjdXJzb3IgYW5kIGNvbnRlbnQgaW5zZXJ0ZWQgdGhlcmVcbi8vICAgZW5kcyB1cCBiZWZvcmUgdGhlIHdpZGdldC5cbi8vXG4vLyAgIFdoZW4gdGhlcmUgYXJlIG11bHRpcGxlIHdpZGdldHMgYXQgYSBnaXZlbiBwb3NpdGlvbiwgdGhlaXJcbi8vICAgYHNpZGVgIHZhbHVlcyBkZXRlcm1pbmUgdGhlIG9yZGVyIGluIHdoaWNoIHRoZXkgYXBwZWFyLiBUaG9zZVxuLy8gICB3aXRoIGxvd2VyIHZhbHVlcyBhcHBlYXIgZmlyc3QuIFRoZSBvcmRlcmluZyBvZiB3aWRnZXRzIHdpdGhcbi8vICAgdGhlIHNhbWUgYHNpZGVgIHZhbHVlIGlzIHVuc3BlY2lmaWVkLlxuLy9cbi8vICAgV2hlbiBgbWFya3NgIGlzIG51bGwsIGBzaWRlYCBhbHNvIGRldGVybWluZXMgdGhlIG1hcmtzIHRoYXRcbi8vICAgdGhlIHdpZGdldCBpcyB3cmFwcGVkIGlu4oCUdGhvc2Ugb2YgdGhlIG5vZGUgYmVmb3JlIHdoZW5cbi8vICAgbmVnYXRpdmUsIHRob3NlIG9mIHRoZSBub2RlIGFmdGVyIHdoZW4gcG9zaXRpdmUuXG4vL1xuLy8gICBtYXJrczo6ID9bTWFya11cbi8vICAgVGhlIHByZWNpc2Ugc2V0IG9mIG1hcmtzIHRvIGRyYXcgYXJvdW5kIHRoZSB3aWRnZXQuXG4vL1xuLy8gICBzdG9wRXZlbnQ6OiA/KGV2ZW50OiBkb20uRXZlbnQpIOKGkiBib29sXG4vLyAgIENhbiBiZSB1c2VkIHRvIGNvbnRyb2wgd2hpY2ggRE9NIGV2ZW50cywgd2hlbiB0aGV5IGJ1YmJsZSBvdXRcbi8vICAgb2YgdGhpcyB3aWRnZXQsIHRoZSBlZGl0b3IgdmlldyBzaG91bGQgaWdub3JlLlxuLy9cbi8vICAga2V5OjogP3N0cmluZ1xuLy8gICBXaGVuIGNvbXBhcmluZyBkZWNvcmF0aW9ucyBvZiB0aGlzIHR5cGUgKGluIG9yZGVyIHRvIGRlY2lkZVxuLy8gICB3aGV0aGVyIGl0IG5lZWRzIHRvIGJlIHJlZHJhd24pLCBQcm9zZU1pcnJvciB3aWxsIGJ5IGRlZmF1bHRcbi8vICAgY29tcGFyZSB0aGUgd2lkZ2V0IERPTSBub2RlIGJ5IGlkZW50aXR5LiBJZiB5b3UgcGFzcyBhIGtleSxcbi8vICAgdGhhdCBrZXkgd2lsbCBiZSBjb21wYXJlZCBpbnN0ZWFkLCB3aGljaCBjYW4gYmUgdXNlZnVsIHdoZW5cbi8vICAgeW91IGdlbmVyYXRlIGRlY29yYXRpb25zIG9uIHRoZSBmbHkgYW5kIGRvbid0IHdhbnQgdG8gc3RvcmVcbi8vICAgYW5kIHJldXNlIERPTSBub2Rlcy4gTWFrZSBzdXJlIHRoYXQgYW55IHdpZGdldHMgd2l0aCB0aGUgc2FtZVxuLy8gICBrZXkgYXJlIGludGVyY2hhbmdlYWJsZeKAlGlmIHdpZGdldHMgZGlmZmVyIGluLCBmb3IgZXhhbXBsZSxcbi8vICAgdGhlIGJlaGF2aW9yIG9mIHNvbWUgZXZlbnQgaGFuZGxlciwgdGhleSBzaG91bGQgZ2V0XG4vLyAgIGRpZmZlcmVudCBrZXlzLlxuRGVjb3JhdGlvbi53aWRnZXQgPSBmdW5jdGlvbiB3aWRnZXQgKHBvcywgdG9ET00sIHNwZWMpIHtcbiAgcmV0dXJuIG5ldyBEZWNvcmF0aW9uKHBvcywgcG9zLCBuZXcgV2lkZ2V0VHlwZSh0b0RPTSwgc3BlYykpXG59O1xuXG4vLyA6OiAobnVtYmVyLCBudW1iZXIsIERlY29yYXRpb25BdHRycywgP09iamVjdCkg4oaSIERlY29yYXRpb25cbi8vIENyZWF0ZXMgYW4gaW5saW5lIGRlY29yYXRpb24sIHdoaWNoIGFkZHMgdGhlIGdpdmVuIGF0dHJpYnV0ZXMgdG9cbi8vIGVhY2ggaW5saW5lIG5vZGUgYmV0d2VlbiBgZnJvbWAgYW5kIGB0b2AuXG4vL1xuLy8gc3BlYzo6LSBUaGVzZSBvcHRpb25zIGFyZSByZWNvZ25pemVkOlxuLy9cbi8vICAgaW5jbHVzaXZlU3RhcnQ6OiA/Ym9vbFxuLy8gICBEZXRlcm1pbmVzIGhvdyB0aGUgbGVmdCBzaWRlIG9mIHRoZSBkZWNvcmF0aW9uIGlzXG4vLyAgIFttYXBwZWRdKCN0cmFuc2Zvcm0uUG9zaXRpb25fTWFwcGluZykgd2hlbiBjb250ZW50IGlzXG4vLyAgIGluc2VydGVkIGRpcmVjdGx5IGF0IHRoYXQgcG9zaXRvbi4gQnkgZGVmYXVsdCwgdGhlIGRlY29yYXRpb25cbi8vICAgd29uJ3QgaW5jbHVkZSB0aGUgbmV3IGNvbnRlbnQsIGJ1dCB5b3UgY2FuIHNldCB0aGlzIHRvIGB0cnVlYFxuLy8gICB0byBtYWtlIGl0IGluY2x1c2l2ZS5cbi8vXG4vLyAgIGluY2x1c2l2ZUVuZDo6ID9ib29sXG4vLyAgIERldGVybWluZXMgaG93IHRoZSByaWdodCBzaWRlIG9mIHRoZSBkZWNvcmF0aW9uIGlzIG1hcHBlZC5cbi8vICAgU2VlXG4vLyAgIFtgaW5jbHVzaXZlU3RhcnRgXSgjdmlldy5EZWNvcmF0aW9uXmlubGluZV5zcGVjLmluY2x1c2l2ZVN0YXJ0KS5cbkRlY29yYXRpb24uaW5saW5lID0gZnVuY3Rpb24gaW5saW5lIChmcm9tLCB0bywgYXR0cnMsIHNwZWMpIHtcbiAgcmV0dXJuIG5ldyBEZWNvcmF0aW9uKGZyb20sIHRvLCBuZXcgSW5saW5lVHlwZShhdHRycywgc3BlYykpXG59O1xuXG4vLyA6OiAobnVtYmVyLCBudW1iZXIsIERlY29yYXRpb25BdHRycywgP09iamVjdCkg4oaSIERlY29yYXRpb25cbi8vIENyZWF0ZXMgYSBub2RlIGRlY29yYXRpb24uIGBmcm9tYCBhbmQgYHRvYCBzaG91bGQgcG9pbnQgcHJlY2lzZWx5XG4vLyBiZWZvcmUgYW5kIGFmdGVyIGEgbm9kZSBpbiB0aGUgZG9jdW1lbnQuIFRoYXQgbm9kZSwgYW5kIG9ubHkgdGhhdFxuLy8gbm9kZSwgd2lsbCByZWNlaXZlIHRoZSBnaXZlbiBhdHRyaWJ1dGVzLlxuRGVjb3JhdGlvbi5ub2RlID0gZnVuY3Rpb24gbm9kZSAoZnJvbSwgdG8sIGF0dHJzLCBzcGVjKSB7XG4gIHJldHVybiBuZXcgRGVjb3JhdGlvbihmcm9tLCB0bywgbmV3IE5vZGVUeXBlKGF0dHJzLCBzcGVjKSlcbn07XG5cbi8vIDo6IE9iamVjdFxuLy8gVGhlIHNwZWMgcHJvdmlkZWQgd2hlbiBjcmVhdGluZyB0aGlzIGRlY29yYXRpb24uIENhbiBiZSB1c2VmdWxcbi8vIGlmIHlvdSd2ZSBzdG9yZWQgZXh0cmEgaW5mb3JtYXRpb24gaW4gdGhhdCBvYmplY3QuXG5wcm90b3R5cGVBY2Nlc3NvcnMkMi5zcGVjLmdldCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMudHlwZS5zcGVjIH07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBEZWNvcmF0aW9uLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzJDIgKTtcblxuLy8gRGVjb3JhdGlvbkF0dHJzOjogaW50ZXJmYWNlXG4vLyBBIHNldCBvZiBhdHRyaWJ1dGVzIHRvIGFkZCB0byBhIGRlY29yYXRlZCBub2RlLiBNb3N0IHByb3BlcnRpZXNcbi8vIHNpbXBseSBkaXJlY3RseSBjb3JyZXNwb25kIHRvIERPTSBhdHRyaWJ1dGVzIG9mIHRoZSBzYW1lIG5hbWUsXG4vLyB3aGljaCB3aWxsIGJlIHNldCB0byB0aGUgcHJvcGVydHkncyB2YWx1ZS4gVGhlc2UgYXJlIGV4Y2VwdGlvbnM6XG4vL1xuLy8gICBjbGFzczo6ID9zdHJpbmdcbi8vICAgQSBDU1MgY2xhc3MgbmFtZSBvciBhIHNwYWNlLXNlcGFyYXRlZCBzZXQgb2YgY2xhc3MgbmFtZXMgdG8gYmVcbi8vICAgX2FkZGVkXyB0byB0aGUgY2xhc3NlcyB0aGF0IHRoZSBub2RlIGFscmVhZHkgaGFkLlxuLy9cbi8vICAgc3R5bGU6OiA/c3RyaW5nXG4vLyAgIEEgc3RyaW5nIG9mIENTUyB0byBiZSBfYWRkZWRfIHRvIHRoZSBub2RlJ3MgZXhpc3RpbmcgYHN0eWxlYCBwcm9wZXJ0eS5cbi8vXG4vLyAgIG5vZGVOYW1lOjogP3N0cmluZ1xuLy8gICBXaGVuIG5vbi1udWxsLCB0aGUgdGFyZ2V0IG5vZGUgaXMgd3JhcHBlZCBpbiBhIERPTSBlbGVtZW50IG9mXG4vLyAgIHRoaXMgdHlwZSAoYW5kIHRoZSBvdGhlciBhdHRyaWJ1dGVzIGFyZSBhcHBsaWVkIHRvIHRoaXMgZWxlbWVudCkuXG5cbnZhciBub25lID0gW107XG52YXIgbm9TcGVjID0ge307XG5cbi8vIDo6LSBBIGNvbGxlY3Rpb24gb2YgW2RlY29yYXRpb25zXSgjdmlldy5EZWNvcmF0aW9uKSwgb3JnYW5pemVkIGluXG4vLyBzdWNoIGEgd2F5IHRoYXQgdGhlIGRyYXdpbmcgYWxnb3JpdGhtIGNhbiBlZmZpY2llbnRseSB1c2UgYW5kXG4vLyBjb21wYXJlIHRoZW0uIFRoaXMgaXMgYSBwZXJzaXN0ZW50IGRhdGEgc3RydWN0dXJl4oCUaXQgaXMgbm90XG4vLyBtb2RpZmllZCwgdXBkYXRlcyBjcmVhdGUgYSBuZXcgdmFsdWUuXG52YXIgRGVjb3JhdGlvblNldCA9IGZ1bmN0aW9uIERlY29yYXRpb25TZXQobG9jYWwsIGNoaWxkcmVuKSB7XG4gIHRoaXMubG9jYWwgPSBsb2NhbCAmJiBsb2NhbC5sZW5ndGggPyBsb2NhbCA6IG5vbmU7XG4gIHRoaXMuY2hpbGRyZW4gPSBjaGlsZHJlbiAmJiBjaGlsZHJlbi5sZW5ndGggPyBjaGlsZHJlbiA6IG5vbmU7XG59O1xuXG4vLyA6OiAoTm9kZSwgW0RlY29yYXRpb25dKSDihpIgRGVjb3JhdGlvblNldFxuLy8gQ3JlYXRlIGEgc2V0IG9mIGRlY29yYXRpb25zLCB1c2luZyB0aGUgc3RydWN0dXJlIG9mIHRoZSBnaXZlblxuLy8gZG9jdW1lbnQuXG5EZWNvcmF0aW9uU2V0LmNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZSAoZG9jLCBkZWNvcmF0aW9ucykge1xuICByZXR1cm4gZGVjb3JhdGlvbnMubGVuZ3RoID8gYnVpbGRUcmVlKGRlY29yYXRpb25zLCBkb2MsIDAsIG5vU3BlYykgOiBlbXB0eVxufTtcblxuLy8gOjogKD9udW1iZXIsID9udW1iZXIsID8oc3BlYzogT2JqZWN0KSDihpIgYm9vbCkg4oaSIFtEZWNvcmF0aW9uXVxuLy8gRmluZCBhbGwgZGVjb3JhdGlvbnMgaW4gdGhpcyBzZXQgd2hpY2ggdG91Y2ggdGhlIGdpdmVuIHJhbmdlXG4vLyAoaW5jbHVkaW5nIGRlY29yYXRpb25zIHRoYXQgc3RhcnQgb3IgZW5kIGRpcmVjdGx5IGF0IHRoZVxuLy8gYm91bmRhcmllcykgYW5kIG1hdGNoIHRoZSBnaXZlbiBwcmVkaWNhdGUgb24gdGhlaXIgc3BlYy4gV2hlblxuLy8gYHN0YXJ0YCBhbmQgYGVuZGAgYXJlIG9taXR0ZWQsIGFsbCBkZWNvcmF0aW9ucyBpbiB0aGUgc2V0IGFyZVxuLy8gY29uc2lkZXJlZC4gV2hlbiBgcHJlZGljYXRlYCBpc24ndCBnaXZlbiwgYWxsIGRlY29yYXRpb25zIGFyZVxuLy8gYXNzc3VtZWQgdG8gbWF0Y2guXG5EZWNvcmF0aW9uU2V0LnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24gZmluZCAoc3RhcnQsIGVuZCwgcHJlZGljYXRlKSB7XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgdGhpcy5maW5kSW5uZXIoc3RhcnQgPT0gbnVsbCA/IDAgOiBzdGFydCwgZW5kID09IG51bGwgPyAxZTkgOiBlbmQsIHJlc3VsdCwgMCwgcHJlZGljYXRlKTtcbiAgcmV0dXJuIHJlc3VsdFxufTtcblxuRGVjb3JhdGlvblNldC5wcm90b3R5cGUuZmluZElubmVyID0gZnVuY3Rpb24gZmluZElubmVyIChzdGFydCwgZW5kLCByZXN1bHQsIG9mZnNldCwgcHJlZGljYXRlKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxvY2FsLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHNwYW4gPSB0aGlzJDEubG9jYWxbaV07XG4gICAgaWYgKHNwYW4uZnJvbSA8PSBlbmQgJiYgc3Bhbi50byA+PSBzdGFydCAmJiAoIXByZWRpY2F0ZSB8fCBwcmVkaWNhdGUoc3Bhbi5zcGVjKSkpXG4gICAgICB7IHJlc3VsdC5wdXNoKHNwYW4uY29weShzcGFuLmZyb20gKyBvZmZzZXQsIHNwYW4udG8gKyBvZmZzZXQpKTsgfVxuICB9XG4gIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpJDEgKz0gMykge1xuICAgIGlmICh0aGlzJDEuY2hpbGRyZW5baSQxXSA8IGVuZCAmJiB0aGlzJDEuY2hpbGRyZW5baSQxICsgMV0gPiBzdGFydCkge1xuICAgICAgdmFyIGNoaWxkT2ZmID0gdGhpcyQxLmNoaWxkcmVuW2kkMV0gKyAxO1xuICAgICAgdGhpcyQxLmNoaWxkcmVuW2kkMSArIDJdLmZpbmRJbm5lcihzdGFydCAtIGNoaWxkT2ZmLCBlbmQgLSBjaGlsZE9mZiwgcmVzdWx0LCBvZmZzZXQgKyBjaGlsZE9mZiwgcHJlZGljYXRlKTtcbiAgICB9XG4gIH1cbn07XG5cbi8vIDo6IChNYXBwaW5nLCBOb2RlLCA/T2JqZWN0KSDihpIgRGVjb3JhdGlvblNldFxuLy8gTWFwIHRoZSBzZXQgb2YgZGVjb3JhdGlvbnMgaW4gcmVzcG9uc2UgdG8gYSBjaGFuZ2UgaW4gdGhlXG4vLyBkb2N1bWVudC5cbi8vXG4vLyBvcHRpb25zOjotIEFuIG9wdGlvbmFsIHNldCBvZiBvcHRpb25zLlxuLy9cbi8vICAgb25SZW1vdmU6OiA/KGRlY29yYXRpb25TcGVjOiBPYmplY3QpXG4vLyAgIFdoZW4gZ2l2ZW4sIHRoaXMgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgZm9yIGVhY2ggZGVjb3JhdGlvblxuLy8gICB0aGF0IGdldHMgZHJvcHBlZCBhcyBhIHJlc3VsdCBvZiB0aGUgbWFwcGluZywgcGFzc2luZyB0aGVcbi8vICAgc3BlYyBvZiB0aGF0IGRlY29yYXRpb24uXG5EZWNvcmF0aW9uU2V0LnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiBtYXAgKG1hcHBpbmcsIGRvYywgb3B0aW9ucykge1xuICBpZiAodGhpcyA9PSBlbXB0eSB8fCBtYXBwaW5nLm1hcHMubGVuZ3RoID09IDApIHsgcmV0dXJuIHRoaXMgfVxuICByZXR1cm4gdGhpcy5tYXBJbm5lcihtYXBwaW5nLCBkb2MsIDAsIDAsIG9wdGlvbnMgfHwgbm9TcGVjKVxufTtcblxuRGVjb3JhdGlvblNldC5wcm90b3R5cGUubWFwSW5uZXIgPSBmdW5jdGlvbiBtYXBJbm5lciAobWFwcGluZywgbm9kZSwgb2Zmc2V0LCBvbGRPZmZzZXQsIG9wdGlvbnMpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICB2YXIgbmV3TG9jYWw7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sb2NhbC5sZW5ndGg7IGkrKykge1xuICAgIHZhciBtYXBwZWQgPSB0aGlzJDEubG9jYWxbaV0ubWFwKG1hcHBpbmcsIG9mZnNldCwgb2xkT2Zmc2V0KTtcbiAgICBpZiAobWFwcGVkICYmIG1hcHBlZC50eXBlLnZhbGlkKG5vZGUsIG1hcHBlZCkpIHsgKG5ld0xvY2FsIHx8IChuZXdMb2NhbCA9IFtdKSkucHVzaChtYXBwZWQpOyB9XG4gICAgZWxzZSBpZiAob3B0aW9ucy5vblJlbW92ZSkgeyBvcHRpb25zLm9uUmVtb3ZlKHRoaXMkMS5sb2NhbFtpXS5zcGVjKTsgfVxuICB9XG5cbiAgaWYgKHRoaXMuY2hpbGRyZW4ubGVuZ3RoKVxuICAgIHsgcmV0dXJuIG1hcENoaWxkcmVuKHRoaXMuY2hpbGRyZW4sIG5ld0xvY2FsLCBtYXBwaW5nLCBub2RlLCBvZmZzZXQsIG9sZE9mZnNldCwgb3B0aW9ucykgfVxuICBlbHNlXG4gICAgeyByZXR1cm4gbmV3TG9jYWwgPyBuZXcgRGVjb3JhdGlvblNldChuZXdMb2NhbC5zb3J0KGJ5UG9zKSkgOiBlbXB0eSB9XG59O1xuXG4vLyA6OiAoTm9kZSwgW0RlY29yYXRpb25dKSDihpIgRGVjb3JhdGlvblNldFxuLy8gQWRkIHRoZSBnaXZlbiBhcnJheSBvZiBkZWNvcmF0aW9ucyB0byB0aGUgb25lcyBpbiB0aGUgc2V0LFxuLy8gcHJvZHVjaW5nIGEgbmV3IHNldC4gTmVlZHMgYWNjZXNzIHRvIHRoZSBjdXJyZW50IGRvY3VtZW50IHRvXG4vLyBjcmVhdGUgdGhlIGFwcHJvcHJpYXRlIHRyZWUgc3RydWN0dXJlLlxuRGVjb3JhdGlvblNldC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gYWRkIChkb2MsIGRlY29yYXRpb25zKSB7XG4gIGlmICghZGVjb3JhdGlvbnMubGVuZ3RoKSB7IHJldHVybiB0aGlzIH1cbiAgaWYgKHRoaXMgPT0gZW1wdHkpIHsgcmV0dXJuIERlY29yYXRpb25TZXQuY3JlYXRlKGRvYywgZGVjb3JhdGlvbnMpIH1cbiAgcmV0dXJuIHRoaXMuYWRkSW5uZXIoZG9jLCBkZWNvcmF0aW9ucywgMClcbn07XG5cbkRlY29yYXRpb25TZXQucHJvdG90eXBlLmFkZElubmVyID0gZnVuY3Rpb24gYWRkSW5uZXIgKGRvYywgZGVjb3JhdGlvbnMsIG9mZnNldCkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gIHZhciBjaGlsZHJlbiwgY2hpbGRJbmRleCA9IDA7XG4gIGRvYy5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZE5vZGUsIGNoaWxkT2Zmc2V0KSB7XG4gICAgdmFyIGJhc2VPZmZzZXQgPSBjaGlsZE9mZnNldCArIG9mZnNldCwgZm91bmQ7XG4gICAgaWYgKCEoZm91bmQgPSB0YWtlU3BhbnNGb3JOb2RlKGRlY29yYXRpb25zLCBjaGlsZE5vZGUsIGJhc2VPZmZzZXQpKSkgeyByZXR1cm4gfVxuXG4gICAgaWYgKCFjaGlsZHJlbikgeyBjaGlsZHJlbiA9IHRoaXMkMS5jaGlsZHJlbi5zbGljZSgpOyB9XG4gICAgd2hpbGUgKGNoaWxkSW5kZXggPCBjaGlsZHJlbi5sZW5ndGggJiYgY2hpbGRyZW5bY2hpbGRJbmRleF0gPCBjaGlsZE9mZnNldCkgeyBjaGlsZEluZGV4ICs9IDM7IH1cbiAgICBpZiAoY2hpbGRyZW5bY2hpbGRJbmRleF0gPT0gY2hpbGRPZmZzZXQpXG4gICAgICB7IGNoaWxkcmVuW2NoaWxkSW5kZXggKyAyXSA9IGNoaWxkcmVuW2NoaWxkSW5kZXggKyAyXS5hZGRJbm5lcihjaGlsZE5vZGUsIGZvdW5kLCBiYXNlT2Zmc2V0ICsgMSk7IH1cbiAgICBlbHNlXG4gICAgICB7IGNoaWxkcmVuLnNwbGljZShjaGlsZEluZGV4LCAwLCBjaGlsZE9mZnNldCwgY2hpbGRPZmZzZXQgKyBjaGlsZE5vZGUubm9kZVNpemUsIGJ1aWxkVHJlZShmb3VuZCwgY2hpbGROb2RlLCBiYXNlT2Zmc2V0ICsgMSwgbm9TcGVjKSk7IH1cbiAgICBjaGlsZEluZGV4ICs9IDM7XG4gIH0pO1xuXG4gIHZhciBsb2NhbCA9IG1vdmVTcGFucyhjaGlsZEluZGV4ID8gd2l0aG91dE51bGxzKGRlY29yYXRpb25zKSA6IGRlY29yYXRpb25zLCAtb2Zmc2V0KTtcbiAgcmV0dXJuIG5ldyBEZWNvcmF0aW9uU2V0KGxvY2FsLmxlbmd0aCA/IHRoaXMubG9jYWwuY29uY2F0KGxvY2FsKS5zb3J0KGJ5UG9zKSA6IHRoaXMubG9jYWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbiB8fCB0aGlzLmNoaWxkcmVuKVxufTtcblxuLy8gOjogKFtEZWNvcmF0aW9uXSkg4oaSIERlY29yYXRpb25TZXRcbi8vIENyZWF0ZSBhIG5ldyBzZXQgdGhhdCBjb250YWlucyB0aGUgZGVjb3JhdGlvbnMgaW4gdGhpcyBzZXQsIG1pbnVzXG4vLyB0aGUgb25lcyBpbiB0aGUgZ2l2ZW4gYXJyYXkuXG5EZWNvcmF0aW9uU2V0LnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiByZW1vdmUgKGRlY29yYXRpb25zKSB7XG4gIGlmIChkZWNvcmF0aW9ucy5sZW5ndGggPT0gMCB8fCB0aGlzID09IGVtcHR5KSB7IHJldHVybiB0aGlzIH1cbiAgcmV0dXJuIHRoaXMucmVtb3ZlSW5uZXIoZGVjb3JhdGlvbnMsIDApXG59O1xuXG5EZWNvcmF0aW9uU2V0LnByb3RvdHlwZS5yZW1vdmVJbm5lciA9IGZ1bmN0aW9uIHJlbW92ZUlubmVyIChkZWNvcmF0aW9ucywgb2Zmc2V0KSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgdmFyIGNoaWxkcmVuID0gdGhpcy5jaGlsZHJlbiwgbG9jYWwgPSB0aGlzLmxvY2FsO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSArPSAzKSB7XG4gICAgdmFyIGZvdW5kID0gKHZvaWQgMCksIGZyb20gPSBjaGlsZHJlbltpXSArIG9mZnNldCwgdG8gPSBjaGlsZHJlbltpICsgMV0gKyBvZmZzZXQ7XG4gICAgZm9yICh2YXIgaiA9IDAsIHNwYW4gPSAodm9pZCAwKTsgaiA8IGRlY29yYXRpb25zLmxlbmd0aDsgaisrKSB7IGlmIChzcGFuID0gZGVjb3JhdGlvbnNbal0pIHtcbiAgICAgIGlmIChzcGFuLmZyb20gPiBmcm9tICYmIHNwYW4udG8gPCB0bykge1xuICAgICAgICBkZWNvcmF0aW9uc1tqXSA9IG51bGxcbiAgICAgICAgOyhmb3VuZCB8fCAoZm91bmQgPSBbXSkpLnB1c2goc3Bhbik7XG4gICAgICB9XG4gICAgfSB9XG4gICAgaWYgKCFmb3VuZCkgeyBjb250aW51ZSB9XG4gICAgaWYgKGNoaWxkcmVuID09IHRoaXMkMS5jaGlsZHJlbikgeyBjaGlsZHJlbiA9IHRoaXMkMS5jaGlsZHJlbi5zbGljZSgpOyB9XG4gICAgdmFyIHJlbW92ZWQgPSBjaGlsZHJlbltpICsgMl0ucmVtb3ZlSW5uZXIoZm91bmQsIGZyb20gKyAxKTtcbiAgICBpZiAocmVtb3ZlZCAhPSBlbXB0eSkge1xuICAgICAgY2hpbGRyZW5baSArIDJdID0gcmVtb3ZlZDtcbiAgICB9IGVsc2Uge1xuICAgICAgY2hpbGRyZW4uc3BsaWNlKGksIDMpO1xuICAgICAgaSAtPSAzO1xuICAgIH1cbiAgfVxuICBpZiAobG9jYWwubGVuZ3RoKSB7IGZvciAodmFyIGkkMSA9IDAsIHNwYW4kMSA9ICh2b2lkIDApOyBpJDEgPCBkZWNvcmF0aW9ucy5sZW5ndGg7IGkkMSsrKSB7IGlmIChzcGFuJDEgPSBkZWNvcmF0aW9uc1tpJDFdKSB7XG4gICAgZm9yICh2YXIgaiQxID0gMDsgaiQxIDwgbG9jYWwubGVuZ3RoOyBqJDErKykgeyBpZiAobG9jYWxbaiQxXS50eXBlLmVxKHNwYW4kMS50eXBlKSkge1xuICAgICAgaWYgKGxvY2FsID09IHRoaXMkMS5sb2NhbCkgeyBsb2NhbCA9IHRoaXMkMS5sb2NhbC5zbGljZSgpOyB9XG4gICAgICBsb2NhbC5zcGxpY2UoaiQxLS0sIDEpO1xuICAgIH0gfVxuICB9IH0gfVxuICBpZiAoY2hpbGRyZW4gPT0gdGhpcy5jaGlsZHJlbiAmJiBsb2NhbCA9PSB0aGlzLmxvY2FsKSB7IHJldHVybiB0aGlzIH1cbiAgcmV0dXJuIGxvY2FsLmxlbmd0aCB8fCBjaGlsZHJlbi5sZW5ndGggPyBuZXcgRGVjb3JhdGlvblNldChsb2NhbCwgY2hpbGRyZW4pIDogZW1wdHlcbn07XG5cbkRlY29yYXRpb25TZXQucHJvdG90eXBlLmZvckNoaWxkID0gZnVuY3Rpb24gZm9yQ2hpbGQgKG9mZnNldCwgbm9kZSkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gIGlmICh0aGlzID09IGVtcHR5KSB7IHJldHVybiB0aGlzIH1cbiAgaWYgKG5vZGUuaXNMZWFmKSB7IHJldHVybiBEZWNvcmF0aW9uU2V0LmVtcHR5IH1cblxuICB2YXIgY2hpbGQsIGxvY2FsO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpICs9IDMpIHsgaWYgKHRoaXMkMS5jaGlsZHJlbltpXSA+PSBvZmZzZXQpIHtcbiAgICBpZiAodGhpcyQxLmNoaWxkcmVuW2ldID09IG9mZnNldCkgeyBjaGlsZCA9IHRoaXMkMS5jaGlsZHJlbltpICsgMl07IH1cbiAgICBicmVha1xuICB9IH1cbiAgdmFyIHN0YXJ0ID0gb2Zmc2V0ICsgMSwgZW5kID0gc3RhcnQgKyBub2RlLmNvbnRlbnQuc2l6ZTtcbiAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgdGhpcy5sb2NhbC5sZW5ndGg7IGkkMSsrKSB7XG4gICAgdmFyIGRlYyA9IHRoaXMkMS5sb2NhbFtpJDFdO1xuICAgIGlmIChkZWMuZnJvbSA8IGVuZCAmJiBkZWMudG8gPiBzdGFydCAmJiAoZGVjLnR5cGUgaW5zdGFuY2VvZiBJbmxpbmVUeXBlKSkge1xuICAgICAgdmFyIGZyb20gPSBNYXRoLm1heChzdGFydCwgZGVjLmZyb20pIC0gc3RhcnQsIHRvID0gTWF0aC5taW4oZW5kLCBkZWMudG8pIC0gc3RhcnQ7XG4gICAgICBpZiAoZnJvbSA8IHRvKSB7IChsb2NhbCB8fCAobG9jYWwgPSBbXSkpLnB1c2goZGVjLmNvcHkoZnJvbSwgdG8pKTsgfVxuICAgIH1cbiAgfVxuICBpZiAobG9jYWwpIHtcbiAgICB2YXIgbG9jYWxTZXQgPSBuZXcgRGVjb3JhdGlvblNldChsb2NhbC5zb3J0KGJ5UG9zKSk7XG4gICAgcmV0dXJuIGNoaWxkID8gbmV3IERlY29yYXRpb25Hcm91cChbbG9jYWxTZXQsIGNoaWxkXSkgOiBsb2NhbFNldFxuICB9XG4gIHJldHVybiBjaGlsZCB8fCBlbXB0eVxufTtcblxuRGVjb3JhdGlvblNldC5wcm90b3R5cGUuZXEgPSBmdW5jdGlvbiBlcSAob3RoZXIpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICBpZiAodGhpcyA9PSBvdGhlcikgeyByZXR1cm4gdHJ1ZSB9XG4gIGlmICghKG90aGVyIGluc3RhbmNlb2YgRGVjb3JhdGlvblNldCkgfHxcbiAgICAgIHRoaXMubG9jYWwubGVuZ3RoICE9IG90aGVyLmxvY2FsLmxlbmd0aCB8fFxuICAgICAgdGhpcy5jaGlsZHJlbi5sZW5ndGggIT0gb3RoZXIuY2hpbGRyZW4ubGVuZ3RoKSB7IHJldHVybiBmYWxzZSB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sb2NhbC5sZW5ndGg7IGkrKylcbiAgICB7IGlmICghdGhpcyQxLmxvY2FsW2ldLmVxKG90aGVyLmxvY2FsW2ldKSkgeyByZXR1cm4gZmFsc2UgfSB9XG4gIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpJDEgKz0gMylcbiAgICB7IGlmICh0aGlzJDEuY2hpbGRyZW5baSQxXSAhPSBvdGhlci5jaGlsZHJlbltpJDFdIHx8XG4gICAgICAgIHRoaXMkMS5jaGlsZHJlbltpJDEgKyAxXSAhPSBvdGhlci5jaGlsZHJlbltpJDEgKyAxXSB8fFxuICAgICAgICAhdGhpcyQxLmNoaWxkcmVuW2kkMSArIDJdLmVxKG90aGVyLmNoaWxkcmVuW2kkMSArIDJdKSkgeyByZXR1cm4gZmFsc2UgfSB9XG4gIHJldHVybiBmYWxzZVxufTtcblxuRGVjb3JhdGlvblNldC5wcm90b3R5cGUubG9jYWxzID0gZnVuY3Rpb24gbG9jYWxzIChub2RlKSB7XG4gIHJldHVybiByZW1vdmVPdmVybGFwKHRoaXMubG9jYWxzSW5uZXIobm9kZSkpXG59O1xuXG5EZWNvcmF0aW9uU2V0LnByb3RvdHlwZS5sb2NhbHNJbm5lciA9IGZ1bmN0aW9uIGxvY2Fsc0lubmVyIChub2RlKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgaWYgKHRoaXMgPT0gZW1wdHkpIHsgcmV0dXJuIG5vbmUgfVxuICBpZiAobm9kZS5pbmxpbmVDb250ZW50IHx8ICF0aGlzLmxvY2FsLnNvbWUoSW5saW5lVHlwZS5pcykpIHsgcmV0dXJuIHRoaXMubG9jYWwgfVxuICB2YXIgcmVzdWx0ID0gW107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sb2NhbC5sZW5ndGg7IGkrKykge1xuICAgIGlmICghKHRoaXMkMS5sb2NhbFtpXS50eXBlIGluc3RhbmNlb2YgSW5saW5lVHlwZSkpXG4gICAgICB7IHJlc3VsdC5wdXNoKHRoaXMkMS5sb2NhbFtpXSk7IH1cbiAgfVxuICByZXR1cm4gcmVzdWx0XG59O1xuXG52YXIgZW1wdHkgPSBuZXcgRGVjb3JhdGlvblNldCgpO1xuXG4vLyA6OiBEZWNvcmF0aW9uU2V0XG4vLyBUaGUgZW1wdHkgc2V0IG9mIGRlY29yYXRpb25zLlxuRGVjb3JhdGlvblNldC5lbXB0eSA9IGVtcHR5O1xuXG5EZWNvcmF0aW9uU2V0LnJlbW92ZU92ZXJsYXAgPSByZW1vdmVPdmVybGFwO1xuXG4vLyA6LSBBbiBhYnN0cmFjdGlvbiB0aGF0IGFsbG93cyB0aGUgY29kZSBkZWFsaW5nIHdpdGggZGVjb3JhdGlvbnMgdG9cbi8vIHRyZWF0IG11bHRpcGxlIERlY29yYXRpb25TZXQgb2JqZWN0cyBhcyBpZiBpdCB3ZXJlIGEgc2luZ2xlIG9iamVjdFxuLy8gd2l0aCAoYSBzdWJzZXQgb2YpIHRoZSBzYW1lIGludGVyZmFjZS5cbnZhciBEZWNvcmF0aW9uR3JvdXAgPSBmdW5jdGlvbiBEZWNvcmF0aW9uR3JvdXAobWVtYmVycykge1xuICB0aGlzLm1lbWJlcnMgPSBtZW1iZXJzO1xufTtcblxuRGVjb3JhdGlvbkdyb3VwLnByb3RvdHlwZS5mb3JDaGlsZCA9IGZ1bmN0aW9uIGZvckNoaWxkIChvZmZzZXQsIGNoaWxkKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgaWYgKGNoaWxkLmlzTGVhZikgeyByZXR1cm4gRGVjb3JhdGlvblNldC5lbXB0eSB9XG4gIHZhciBmb3VuZCA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubWVtYmVycy5sZW5ndGg7IGkrKykge1xuICAgIHZhciByZXN1bHQgPSB0aGlzJDEubWVtYmVyc1tpXS5mb3JDaGlsZChvZmZzZXQsIGNoaWxkKTtcbiAgICBpZiAocmVzdWx0ID09IGVtcHR5KSB7IGNvbnRpbnVlIH1cbiAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgRGVjb3JhdGlvbkdyb3VwKSB7IGZvdW5kID0gZm91bmQuY29uY2F0KHJlc3VsdC5tZW1iZXJzKTsgfVxuICAgIGVsc2UgeyBmb3VuZC5wdXNoKHJlc3VsdCk7IH1cbiAgfVxuICByZXR1cm4gRGVjb3JhdGlvbkdyb3VwLmZyb20oZm91bmQpXG59O1xuXG5EZWNvcmF0aW9uR3JvdXAucHJvdG90eXBlLmVxID0gZnVuY3Rpb24gZXEgKG90aGVyKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgaWYgKCEob3RoZXIgaW5zdGFuY2VvZiBEZWNvcmF0aW9uR3JvdXApIHx8XG4gICAgICBvdGhlci5tZW1iZXJzLmxlbmd0aCAhPSB0aGlzLm1lbWJlcnMubGVuZ3RoKSB7IHJldHVybiBmYWxzZSB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5tZW1iZXJzLmxlbmd0aDsgaSsrKVxuICAgIHsgaWYgKCF0aGlzJDEubWVtYmVyc1tpXS5lcShvdGhlci5tZW1iZXJzW2ldKSkgeyByZXR1cm4gZmFsc2UgfSB9XG4gIHJldHVybiB0cnVlXG59O1xuXG5EZWNvcmF0aW9uR3JvdXAucHJvdG90eXBlLmxvY2FscyA9IGZ1bmN0aW9uIGxvY2FscyAobm9kZSkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gIHZhciByZXN1bHQsIHNvcnRlZCA9IHRydWU7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5tZW1iZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGxvY2FscyA9IHRoaXMkMS5tZW1iZXJzW2ldLmxvY2Fsc0lubmVyKG5vZGUpO1xuICAgIGlmICghbG9jYWxzLmxlbmd0aCkgeyBjb250aW51ZSB9XG4gICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgIHJlc3VsdCA9IGxvY2FscztcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHNvcnRlZCkge1xuICAgICAgICByZXN1bHQgPSByZXN1bHQuc2xpY2UoKTtcbiAgICAgICAgc29ydGVkID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGxvY2Fscy5sZW5ndGg7IGorKykgeyByZXN1bHQucHVzaChsb2NhbHNbal0pOyB9XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQgPyByZW1vdmVPdmVybGFwKHNvcnRlZCA/IHJlc3VsdCA6IHJlc3VsdC5zb3J0KGJ5UG9zKSkgOiBub25lXG59O1xuXG4vLyA6IChbRGVjb3JhdGlvblNldF0pIOKGkiB1bmlvbjxEZWNvcmF0aW9uU2V0LCBEZWNvcmF0aW9uR3JvdXA+XG4vLyBDcmVhdGUgYSBncm91cCBmb3IgdGhlIGdpdmVuIGFycmF5IG9mIGRlY29yYXRpb24gc2V0cywgb3IgcmV0dXJuXG4vLyBhIHNpbmdsZSBzZXQgd2hlbiBwb3NzaWJsZS5cbkRlY29yYXRpb25Hcm91cC5mcm9tID0gZnVuY3Rpb24gZnJvbSAobWVtYmVycykge1xuICBzd2l0Y2ggKG1lbWJlcnMubGVuZ3RoKSB7XG4gICAgY2FzZSAwOiByZXR1cm4gZW1wdHlcbiAgICBjYXNlIDE6IHJldHVybiBtZW1iZXJzWzBdXG4gICAgZGVmYXVsdDogcmV0dXJuIG5ldyBEZWNvcmF0aW9uR3JvdXAobWVtYmVycylcbiAgfVxufTtcblxuZnVuY3Rpb24gbWFwQ2hpbGRyZW4ob2xkQ2hpbGRyZW4sIG5ld0xvY2FsLCBtYXBwaW5nLCBub2RlLCBvZmZzZXQsIG9sZE9mZnNldCwgb3B0aW9ucykge1xuICB2YXIgY2hpbGRyZW4gPSBvbGRDaGlsZHJlbi5zbGljZSgpO1xuXG4gIC8vIE1hcmsgdGhlIGNoaWxkcmVuIHRoYXQgYXJlIGRpcmVjdGx5IHRvdWNoZWQgYnkgY2hhbmdlcywgYW5kXG4gIC8vIG1vdmUgdGhvc2UgdGhhdCBhcmUgYWZ0ZXIgdGhlIGNoYW5nZXMuXG4gIHZhciBzaGlmdCA9IGZ1bmN0aW9uIChvbGRTdGFydCwgb2xkRW5kLCBuZXdTdGFydCwgbmV3RW5kKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkgKz0gMykge1xuICAgICAgdmFyIGVuZCA9IGNoaWxkcmVuW2kgKyAxXSwgZFNpemUgPSAodm9pZCAwKTtcbiAgICAgIGlmIChlbmQgPT0gLTEgfHwgb2xkU3RhcnQgPiBlbmQgKyBvbGRPZmZzZXQpIHsgY29udGludWUgfVxuICAgICAgaWYgKG9sZEVuZCA+PSBjaGlsZHJlbltpXSArIG9sZE9mZnNldCkge1xuICAgICAgICBjaGlsZHJlbltpICsgMV0gPSAtMTtcbiAgICAgIH0gZWxzZSBpZiAoZFNpemUgPSAobmV3RW5kIC0gbmV3U3RhcnQpIC0gKG9sZEVuZCAtIG9sZFN0YXJ0KSArIChvbGRPZmZzZXQgLSBvZmZzZXQpKSB7XG4gICAgICAgIGNoaWxkcmVuW2ldICs9IGRTaXplO1xuICAgICAgICBjaGlsZHJlbltpICsgMV0gKz0gZFNpemU7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBmb3IgKHZhciBpID0gMDsgaSA8IG1hcHBpbmcubWFwcy5sZW5ndGg7IGkrKykgeyBtYXBwaW5nLm1hcHNbaV0uZm9yRWFjaChzaGlmdCk7IH1cblxuICAvLyBGaW5kIHRoZSBjaGlsZCBub2RlcyB0aGF0IHN0aWxsIGNvcnJlc3BvbmQgdG8gYSBzaW5nbGUgbm9kZSxcbiAgLy8gcmVjdXJzaXZlbHkgY2FsbCBtYXBJbm5lciBvbiB0aGVtIGFuZCB1cGRhdGUgdGhlaXIgcG9zaXRpb25zLlxuICB2YXIgbXVzdFJlYnVpbGQgPSBmYWxzZTtcbiAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgY2hpbGRyZW4ubGVuZ3RoOyBpJDEgKz0gMykgeyBpZiAoY2hpbGRyZW5baSQxICsgMV0gPT0gLTEpIHsgLy8gVG91Y2hlZCBub2Rlc1xuICAgIHZhciBmcm9tID0gbWFwcGluZy5tYXAoY2hpbGRyZW5baSQxXSArIG9sZE9mZnNldCksIGZyb21Mb2NhbCA9IGZyb20gLSBvZmZzZXQ7XG4gICAgaWYgKGZyb21Mb2NhbCA8IDAgfHwgZnJvbUxvY2FsID49IG5vZGUuY29udGVudC5zaXplKSB7XG4gICAgICBtdXN0UmVidWlsZCA9IHRydWU7XG4gICAgICBjb250aW51ZVxuICAgIH1cbiAgICAvLyBNdXN0IHJlYWQgb2xkQ2hpbGRyZW4gYmVjYXVzZSBjaGlsZHJlbiB3YXMgdGFnZ2VkIHdpdGggLTFcbiAgICB2YXIgdG8gPSBtYXBwaW5nLm1hcChvbGRDaGlsZHJlbltpJDEgKyAxXSArIG9sZE9mZnNldCwgLTEpLCB0b0xvY2FsID0gdG8gLSBvZmZzZXQ7XG4gICAgdmFyIHJlZiA9IG5vZGUuY29udGVudC5maW5kSW5kZXgoZnJvbUxvY2FsKTtcbiAgICB2YXIgaW5kZXggPSByZWYuaW5kZXg7XG4gICAgdmFyIGNoaWxkT2Zmc2V0ID0gcmVmLm9mZnNldDtcbiAgICB2YXIgY2hpbGROb2RlID0gbm9kZS5tYXliZUNoaWxkKGluZGV4KTtcbiAgICBpZiAoY2hpbGROb2RlICYmIGNoaWxkT2Zmc2V0ID09IGZyb21Mb2NhbCAmJiBjaGlsZE9mZnNldCArIGNoaWxkTm9kZS5ub2RlU2l6ZSA9PSB0b0xvY2FsKSB7XG4gICAgICB2YXIgbWFwcGVkID0gY2hpbGRyZW5baSQxICsgMl0ubWFwSW5uZXIobWFwcGluZywgY2hpbGROb2RlLCBmcm9tICsgMSwgY2hpbGRyZW5baSQxXSArIG9sZE9mZnNldCArIDEsIG9wdGlvbnMpO1xuICAgICAgaWYgKG1hcHBlZCAhPSBlbXB0eSkge1xuICAgICAgICBjaGlsZHJlbltpJDFdID0gZnJvbUxvY2FsO1xuICAgICAgICBjaGlsZHJlbltpJDEgKyAxXSA9IHRvTG9jYWw7XG4gICAgICAgIGNoaWxkcmVuW2kkMSArIDJdID0gbWFwcGVkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2hpbGRyZW4uc3BsaWNlKGkkMSwgMyk7XG4gICAgICAgIGkkMSAtPSAzO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBtdXN0UmVidWlsZCA9IHRydWU7XG4gICAgfVxuICB9IH1cblxuICAvLyBSZW1haW5pbmcgY2hpbGRyZW4gbXVzdCBiZSBjb2xsZWN0ZWQgYW5kIHJlYnVpbHQgaW50byB0aGUgYXBwcm9wcmlhdGUgc3RydWN0dXJlXG4gIGlmIChtdXN0UmVidWlsZCkge1xuICAgIHZhciBkZWNvcmF0aW9ucyA9IG1hcEFuZEdhdGhlclJlbWFpbmluZ0RlY29yYXRpb25zKGNoaWxkcmVuLCBuZXdMb2NhbCA/IG1vdmVTcGFucyhuZXdMb2NhbCwgb2Zmc2V0KSA6IFtdLCBtYXBwaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldCwgb2xkT2Zmc2V0LCBvcHRpb25zKTtcbiAgICB2YXIgYnVpbHQgPSBidWlsZFRyZWUoZGVjb3JhdGlvbnMsIG5vZGUsIDAsIG9wdGlvbnMpO1xuICAgIG5ld0xvY2FsID0gYnVpbHQubG9jYWw7XG4gICAgZm9yICh2YXIgaSQyID0gMDsgaSQyIDwgY2hpbGRyZW4ubGVuZ3RoOyBpJDIgKz0gMykgeyBpZiAoY2hpbGRyZW5baSQyICsgMV0gPT0gLTEpIHtcbiAgICAgIGNoaWxkcmVuLnNwbGljZShpJDIsIDMpO1xuICAgICAgaSQyIC09IDM7XG4gICAgfSB9XG4gICAgZm9yICh2YXIgaSQzID0gMCwgaiA9IDA7IGkkMyA8IGJ1aWx0LmNoaWxkcmVuLmxlbmd0aDsgaSQzICs9IDMpIHtcbiAgICAgIHZhciBmcm9tJDEgPSBidWlsdC5jaGlsZHJlbltpJDNdO1xuICAgICAgd2hpbGUgKGogPCBjaGlsZHJlbi5sZW5ndGggJiYgY2hpbGRyZW5bal0gPCBmcm9tJDEpIHsgaiArPSAzOyB9XG4gICAgICBjaGlsZHJlbi5zcGxpY2UoaiwgMCwgYnVpbHQuY2hpbGRyZW5baSQzXSwgYnVpbHQuY2hpbGRyZW5baSQzICsgMV0sIGJ1aWx0LmNoaWxkcmVuW2kkMyArIDJdKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmV3IERlY29yYXRpb25TZXQobmV3TG9jYWwgJiYgbmV3TG9jYWwuc29ydChieVBvcyksIGNoaWxkcmVuKVxufVxuXG5mdW5jdGlvbiBtb3ZlU3BhbnMoc3BhbnMsIG9mZnNldCkge1xuICBpZiAoIW9mZnNldCB8fCAhc3BhbnMubGVuZ3RoKSB7IHJldHVybiBzcGFucyB9XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzcGFucy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBzcGFuID0gc3BhbnNbaV07XG4gICAgcmVzdWx0LnB1c2gobmV3IERlY29yYXRpb24oc3Bhbi5mcm9tICsgb2Zmc2V0LCBzcGFuLnRvICsgb2Zmc2V0LCBzcGFuLnR5cGUpKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0XG59XG5cbmZ1bmN0aW9uIG1hcEFuZEdhdGhlclJlbWFpbmluZ0RlY29yYXRpb25zKGNoaWxkcmVuLCBkZWNvcmF0aW9ucywgbWFwcGluZywgb2Zmc2V0LCBvbGRPZmZzZXQsIG9wdGlvbnMpIHtcbiAgLy8gR2F0aGVyIGFsbCBkZWNvcmF0aW9ucyBmcm9tIHRoZSByZW1haW5pbmcgbWFya2VkIGNoaWxkcmVuXG4gIGZ1bmN0aW9uIGdhdGhlcihzZXQsIG9sZE9mZnNldCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2V0LmxvY2FsLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgbWFwcGVkID0gc2V0LmxvY2FsW2ldLm1hcChtYXBwaW5nLCBvZmZzZXQsIG9sZE9mZnNldCk7XG4gICAgICBpZiAobWFwcGVkKSB7IGRlY29yYXRpb25zLnB1c2gobWFwcGVkKTsgfVxuICAgICAgZWxzZSBpZiAob3B0aW9ucy5vblJlbW92ZSkgeyBvcHRpb25zLm9uUmVtb3ZlKHNldC5sb2NhbFtpXS5zcGVjKTsgfVxuICAgIH1cbiAgICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCBzZXQuY2hpbGRyZW4ubGVuZ3RoOyBpJDEgKz0gMylcbiAgICAgIHsgZ2F0aGVyKHNldC5jaGlsZHJlbltpJDEgKyAyXSwgc2V0LmNoaWxkcmVuW2kkMV0gKyBvbGRPZmZzZXQgKyAxKTsgfVxuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpICs9IDMpIHsgaWYgKGNoaWxkcmVuW2kgKyAxXSA9PSAtMSlcbiAgICB7IGdhdGhlcihjaGlsZHJlbltpICsgMl0sIGNoaWxkcmVuW2ldICsgb2xkT2Zmc2V0ICsgMSk7IH0gfVxuXG4gIHJldHVybiBkZWNvcmF0aW9uc1xufVxuXG5mdW5jdGlvbiB0YWtlU3BhbnNGb3JOb2RlKHNwYW5zLCBub2RlLCBvZmZzZXQpIHtcbiAgaWYgKG5vZGUuaXNMZWFmKSB7IHJldHVybiBudWxsIH1cbiAgdmFyIGVuZCA9IG9mZnNldCArIG5vZGUubm9kZVNpemUsIGZvdW5kID0gbnVsbDtcbiAgZm9yICh2YXIgaSA9IDAsIHNwYW4gPSAodm9pZCAwKTsgaSA8IHNwYW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKChzcGFuID0gc3BhbnNbaV0pICYmIHNwYW4uZnJvbSA+IG9mZnNldCAmJiBzcGFuLnRvIDwgZW5kKSB7XG4gICAgICAoZm91bmQgfHwgKGZvdW5kID0gW10pKS5wdXNoKHNwYW4pO1xuICAgICAgc3BhbnNbaV0gPSBudWxsO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZm91bmRcbn1cblxuZnVuY3Rpb24gd2l0aG91dE51bGxzKGFycmF5KSB7XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKylcbiAgICB7IGlmIChhcnJheVtpXSAhPSBudWxsKSB7IHJlc3VsdC5wdXNoKGFycmF5W2ldKTsgfSB9XG4gIHJldHVybiByZXN1bHRcbn1cblxuLy8gOiAoW0RlY29yYXRpb25dLCBOb2RlLCBudW1iZXIpIOKGkiBEZWNvcmF0aW9uU2V0XG4vLyBCdWlsZCB1cCBhIHRyZWUgdGhhdCBjb3JyZXNwb25kcyB0byBhIHNldCBvZiBkZWNvcmF0aW9ucy4gYG9mZnNldGBcbi8vIGlzIGEgYmFzZSBvZmZzZXQgdGhhdCBzaG91bGQgYmUgc3VidHJhY3RldCBmcm9tIHRoZSBgZnJvbWAgYW5kIGB0b2Bcbi8vIHBvc2l0aW9ucyBpbiB0aGUgc3BhbnMgKHNvIHRoYXQgd2UgZG9uJ3QgaGF2ZSB0byBhbGxvY2F0ZSBuZXcgc3BhbnNcbi8vIGZvciByZWN1cnNpdmUgY2FsbHMpLlxuZnVuY3Rpb24gYnVpbGRUcmVlKHNwYW5zLCBub2RlLCBvZmZzZXQsIG9wdGlvbnMpIHtcbiAgdmFyIGNoaWxkcmVuID0gW10sIGhhc051bGxzID0gZmFsc2U7XG4gIG5vZGUuZm9yRWFjaChmdW5jdGlvbiAoY2hpbGROb2RlLCBsb2NhbFN0YXJ0KSB7XG4gICAgdmFyIGZvdW5kID0gdGFrZVNwYW5zRm9yTm9kZShzcGFucywgY2hpbGROb2RlLCBsb2NhbFN0YXJ0ICsgb2Zmc2V0KTtcbiAgICBpZiAoZm91bmQpIHtcbiAgICAgIGhhc051bGxzID0gdHJ1ZTtcbiAgICAgIHZhciBzdWJ0cmVlID0gYnVpbGRUcmVlKGZvdW5kLCBjaGlsZE5vZGUsIG9mZnNldCArIGxvY2FsU3RhcnQgKyAxLCBvcHRpb25zKTtcbiAgICAgIGlmIChzdWJ0cmVlICE9IGVtcHR5KVxuICAgICAgICB7IGNoaWxkcmVuLnB1c2gobG9jYWxTdGFydCwgbG9jYWxTdGFydCArIGNoaWxkTm9kZS5ub2RlU2l6ZSwgc3VidHJlZSk7IH1cbiAgICB9XG4gIH0pO1xuICB2YXIgbG9jYWxzID0gbW92ZVNwYW5zKGhhc051bGxzID8gd2l0aG91dE51bGxzKHNwYW5zKSA6IHNwYW5zLCAtb2Zmc2V0KS5zb3J0KGJ5UG9zKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsb2NhbHMubGVuZ3RoOyBpKyspIHsgaWYgKCFsb2NhbHNbaV0udHlwZS52YWxpZChub2RlLCBsb2NhbHNbaV0pKSB7XG4gICAgaWYgKG9wdGlvbnMub25SZW1vdmUpIHsgb3B0aW9ucy5vblJlbW92ZShsb2NhbHNbaV0uc3BlYyk7IH1cbiAgICBsb2NhbHMuc3BsaWNlKGktLSwgMSk7XG4gIH0gfVxuICByZXR1cm4gbG9jYWxzLmxlbmd0aCB8fCBjaGlsZHJlbi5sZW5ndGggPyBuZXcgRGVjb3JhdGlvblNldChsb2NhbHMsIGNoaWxkcmVuKSA6IGVtcHR5XG59XG5cbi8vIDogKERlY29yYXRpb24sIERlY29yYXRpb24pIOKGkiBudW1iZXJcbi8vIFVzZWQgdG8gc29ydCBkZWNvcmF0aW9ucyBzbyB0aGF0IG9uZXMgd2l0aCBhIGxvdyBzdGFydCBwb3NpdGlvblxuLy8gY29tZSBmaXJzdCwgYW5kIHdpdGhpbiBhIHNldCB3aXRoIHRoZSBzYW1lIHN0YXJ0IHBvc2l0aW9uLCB0aG9zZVxuLy8gd2l0aCBhbiBzbWFsbGVyIGVuZCBwb3NpdGlvbiBjb21lIGZpcnN0LlxuZnVuY3Rpb24gYnlQb3MoYSwgYikge1xuICByZXR1cm4gYS5mcm9tIC0gYi5mcm9tIHx8IGEudG8gLSBiLnRvXG59XG5cbi8vIDogKFtEZWNvcmF0aW9uXSkg4oaSIFtEZWNvcmF0aW9uXVxuLy8gU2NhbiBhIHNvcnRlZCBhcnJheSBvZiBkZWNvcmF0aW9ucyBmb3IgcGFydGlhbGx5IG92ZXJsYXBwaW5nIHNwYW5zLFxuLy8gYW5kIHNwbGl0IHRob3NlIHNvIHRoYXQgb25seSBmdWxseSBvdmVybGFwcGluZyBzcGFucyBhcmUgbGVmdCAodG9cbi8vIG1ha2Ugc3Vic2VxdWVudCByZW5kZXJpbmcgZWFzaWVyKS4gV2lsbCByZXR1cm4gdGhlIGlucHV0IGFycmF5IGlmXG4vLyBubyBwYXJ0aWFsbHkgb3ZlcmxhcHBpbmcgc3BhbnMgYXJlIGZvdW5kICh0aGUgY29tbW9uIGNhc2UpLlxuZnVuY3Rpb24gcmVtb3ZlT3ZlcmxhcChzcGFucykge1xuICB2YXIgd29ya2luZyA9IHNwYW5zO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHdvcmtpbmcubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgdmFyIHNwYW4gPSB3b3JraW5nW2ldO1xuICAgIGlmIChzcGFuLmZyb20gIT0gc3Bhbi50bykgeyBmb3IgKHZhciBqID0gaSArIDE7IGogPCB3b3JraW5nLmxlbmd0aDsgaisrKSB7XG4gICAgICB2YXIgbmV4dCA9IHdvcmtpbmdbal07XG4gICAgICBpZiAobmV4dC5mcm9tID09IHNwYW4uZnJvbSkge1xuICAgICAgICBpZiAobmV4dC50byAhPSBzcGFuLnRvKSB7XG4gICAgICAgICAgaWYgKHdvcmtpbmcgPT0gc3BhbnMpIHsgd29ya2luZyA9IHNwYW5zLnNsaWNlKCk7IH1cbiAgICAgICAgICAvLyBGb2xsb3dlZCBieSBhIHBhcnRpYWxseSBvdmVybGFwcGluZyBsYXJnZXIgc3Bhbi4gU3BsaXQgdGhhdFxuICAgICAgICAgIC8vIHNwYW4uXG4gICAgICAgICAgd29ya2luZ1tqXSA9IG5leHQuY29weShuZXh0LmZyb20sIHNwYW4udG8pO1xuICAgICAgICAgIGluc2VydEFoZWFkKHdvcmtpbmcsIGogKyAxLCBuZXh0LmNvcHkoc3Bhbi50bywgbmV4dC50bykpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAobmV4dC5mcm9tIDwgc3Bhbi50bykge1xuICAgICAgICAgIGlmICh3b3JraW5nID09IHNwYW5zKSB7IHdvcmtpbmcgPSBzcGFucy5zbGljZSgpOyB9XG4gICAgICAgICAgLy8gVGhlIGVuZCBvZiB0aGlzIG9uZSBvdmVybGFwcyB3aXRoIGEgc3Vic2VxdWVudCBzcGFuLiBTcGxpdFxuICAgICAgICAgIC8vIHRoaXMgb25lLlxuICAgICAgICAgIHdvcmtpbmdbaV0gPSBzcGFuLmNvcHkoc3Bhbi5mcm9tLCBuZXh0LmZyb20pO1xuICAgICAgICAgIGluc2VydEFoZWFkKHdvcmtpbmcsIGosIHNwYW4uY29weShuZXh0LmZyb20sIHNwYW4udG8pKTtcbiAgICAgICAgfVxuICAgICAgICBicmVha1xuICAgICAgfVxuICAgIH0gfVxuICB9XG4gIHJldHVybiB3b3JraW5nXG59XG5cbmZ1bmN0aW9uIGluc2VydEFoZWFkKGFycmF5LCBpLCBkZWNvKSB7XG4gIHdoaWxlIChpIDwgYXJyYXkubGVuZ3RoICYmIGJ5UG9zKGRlY28sIGFycmF5W2ldKSA+IDApIHsgaSsrOyB9XG4gIGFycmF5LnNwbGljZShpLCAwLCBkZWNvKTtcbn1cblxuLy8gOiAoRWRpdG9yVmlldykg4oaSIHVuaW9uPERlY29yYXRpb25TZXQsIERlY29yYXRpb25Hcm91cD5cbi8vIEdldCB0aGUgZGVjb3JhdGlvbnMgYXNzb2NpYXRlZCB3aXRoIHRoZSBjdXJyZW50IHByb3BzIG9mIGEgdmlldy5cbmZ1bmN0aW9uIHZpZXdEZWNvcmF0aW9ucyh2aWV3KSB7XG4gIHZhciBmb3VuZCA9IFtdO1xuICB2aWV3LnNvbWVQcm9wKFwiZGVjb3JhdGlvbnNcIiwgZnVuY3Rpb24gKGYpIHtcbiAgICB2YXIgcmVzdWx0ID0gZih2aWV3LnN0YXRlKTtcbiAgICBpZiAocmVzdWx0ICYmIHJlc3VsdCAhPSBlbXB0eSkgeyBmb3VuZC5wdXNoKHJlc3VsdCk7IH1cbiAgfSk7XG4gIGlmICh2aWV3LmN1cnNvcldyYXBwZXIpXG4gICAgeyBmb3VuZC5wdXNoKERlY29yYXRpb25TZXQuY3JlYXRlKHZpZXcuc3RhdGUuZG9jLCBbdmlldy5jdXJzb3JXcmFwcGVyLmRlY29dKSk7IH1cbiAgcmV0dXJuIERlY29yYXRpb25Hcm91cC5mcm9tKGZvdW5kKVxufVxuXG4vLyA6Oi0gQW4gZWRpdG9yIHZpZXcgbWFuYWdlcyB0aGUgRE9NIHN0cnVjdHVyZSB0aGF0IHJlcHJlc2VudHMgYW5cbi8vIGVkaXRhYmxlIGRvY3VtZW50LiBJdHMgc3RhdGUgYW5kIGJlaGF2aW9yIGFyZSBkZXRlcm1pbmVkIGJ5IGl0c1xuLy8gW3Byb3BzXSgjdmlldy5EaXJlY3RFZGl0b3JQcm9wcykuXG52YXIgRWRpdG9yVmlldyA9IGZ1bmN0aW9uIEVkaXRvclZpZXcocGxhY2UsIHByb3BzKSB7XG4gIHRoaXMuX3Byb3BzID0gcHJvcHM7XG4gIC8vIDo6IEVkaXRvclN0YXRlXG4gIC8vIFRoZSB2aWV3J3MgY3VycmVudCBbc3RhdGVdKCNzdGF0ZS5FZGl0b3JTdGF0ZSkuXG4gIHRoaXMuc3RhdGUgPSBwcm9wcy5zdGF0ZTtcblxuICB0aGlzLmRpc3BhdGNoID0gdGhpcy5kaXNwYXRjaC5iaW5kKHRoaXMpO1xuXG4gIHRoaXMuX3Jvb3QgPSBudWxsO1xuICB0aGlzLmZvY3VzZWQgPSBmYWxzZTtcblxuICAvLyA6OiBkb20uRWxlbWVudFxuICAvLyBBbiBlZGl0YWJsZSBET00gbm9kZSBjb250YWluaW5nIHRoZSBkb2N1bWVudC4gKFlvdSBwcm9iYWJseVxuICAvLyBzaG91bGQgbm90IGRpcmVjdGx5IGludGVyZmVyZSB3aXRoIGl0cyBjb250ZW50LilcbiAgdGhpcy5kb20gPSAocGxhY2UgJiYgcGxhY2UubW91bnQpIHx8IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGlmIChwbGFjZSkge1xuICAgIGlmIChwbGFjZS5hcHBlbmRDaGlsZCkgeyBwbGFjZS5hcHBlbmRDaGlsZCh0aGlzLmRvbSk7IH1cbiAgICBlbHNlIGlmIChwbGFjZS5hcHBseSkgeyBwbGFjZSh0aGlzLmRvbSk7IH1cbiAgICBlbHNlIGlmIChwbGFjZS5tb3VudCkgeyB0aGlzLm1vdW50ZWQgPSB0cnVlOyB9XG4gIH1cblxuICB0aGlzLmVkaXRhYmxlID0gZ2V0RWRpdGFibGUodGhpcyk7XG4gIHRoaXMuY3Vyc29yV3JhcHBlciA9IG51bGw7XG4gIHVwZGF0ZUN1cnNvcldyYXBwZXIodGhpcyk7XG4gIHRoaXMuZG9jVmlldyA9IGRvY1ZpZXdEZXNjKHRoaXMuc3RhdGUuZG9jLCBjb21wdXRlRG9jRGVjbyh0aGlzKSwgdmlld0RlY29yYXRpb25zKHRoaXMpLCB0aGlzLmRvbSwgdGhpcyk7XG5cbiAgdGhpcy5sYXN0U2VsZWN0ZWRWaWV3RGVzYyA9IG51bGw7XG4gIC8vIDo6ID97c2xpY2U6IFNsaWNlLCBtb3ZlOiBib29sfVxuICAvLyBXaGVuIGVkaXRvciBjb250ZW50IGlzIGJlaW5nIGRyYWdnZWQsIHRoaXMgb2JqZWN0IGNvbnRhaW5zXG4gIC8vIGluZm9ybWF0aW9uIGFib3V0IHRoZSBkcmFnZ2VkIHNsaWNlIGFuZCB3aGV0aGVyIGl0IGlzIGJlaW5nXG4gIC8vIGNvcGllZCBvciBtb3ZlZC4gQXQgYW55IG90aGVyIHRpbWUsIGl0IGlzIG51bGwuXG4gIHRoaXMuZHJhZ2dpbmcgPSBudWxsO1xuICBpbml0SW5wdXQodGhpcyk7IC8vIE11c3QgYmUgZG9uZSBiZWZvcmUgY3JlYXRpbmcgYSBTZWxlY3Rpb25SZWFkZXJcblxuICB0aGlzLnNlbGVjdGlvblJlYWRlciA9IG5ldyBTZWxlY3Rpb25SZWFkZXIodGhpcyk7XG5cbiAgdGhpcy5wbHVnaW5WaWV3cyA9IFtdO1xuICB0aGlzLnVwZGF0ZVBsdWdpblZpZXdzKCk7XG59O1xuXG52YXIgcHJvdG90eXBlQWNjZXNzb3JzID0geyBwcm9wczoge30scm9vdDoge30gfTtcblxuLy8gOjogRGlyZWN0RWRpdG9yUHJvcHNcbi8vIFRoZSB2aWV3J3MgY3VycmVudCBbcHJvcHNdKCN2aWV3LkVkaXRvclByb3BzKS5cbnByb3RvdHlwZUFjY2Vzc29ycy5wcm9wcy5nZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgaWYgKHRoaXMuX3Byb3BzLnN0YXRlICE9IHRoaXMuc3RhdGUpIHtcbiAgICB2YXIgcHJldiA9IHRoaXMuX3Byb3BzO1xuICAgIHRoaXMuX3Byb3BzID0ge307XG4gICAgZm9yICh2YXIgbmFtZSBpbiBwcmV2KSB7IHRoaXMkMS5fcHJvcHNbbmFtZV0gPSBwcmV2W25hbWVdOyB9XG4gICAgdGhpcy5fcHJvcHMuc3RhdGUgPSB0aGlzLnN0YXRlO1xuICB9XG4gIHJldHVybiB0aGlzLl9wcm9wc1xufTtcblxuLy8gOjogKERpcmVjdEVkaXRvclByb3BzKVxuLy8gVXBkYXRlIHRoZSB2aWV3J3MgcHJvcHMuIFdpbGwgaW1tZWRpYXRlbHkgY2F1c2UgYW4gdXBkYXRlIHRvXG4vLyB0aGUgRE9NLlxuRWRpdG9yVmlldy5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlIChwcm9wcykge1xuICBpZiAocHJvcHMuaGFuZGxlRE9NRXZlbnRzICE9IHRoaXMuX3Byb3BzLmhhbmRsZURPTUV2ZW50cykgeyBlbnN1cmVMaXN0ZW5lcnModGhpcyk7IH1cbiAgdGhpcy5fcHJvcHMgPSBwcm9wcztcbiAgdGhpcy51cGRhdGVTdGF0ZShwcm9wcy5zdGF0ZSk7XG59O1xuXG4vLyA6OiAoRGlyZWN0RWRpdG9yUHJvcHMpXG4vLyBVcGRhdGUgdGhlIHZpZXcgYnkgdXBkYXRpbmcgZXhpc3RpbmcgcHJvcHMgb2JqZWN0IHdpdGggdGhlIG9iamVjdFxuLy8gZ2l2ZW4gYXMgYXJndW1lbnQuIEVxdWl2YWxlbnQgdG8gYHZpZXcudXBkYXRlKE9iamVjdC5hc3NpZ24oe30sXG4vLyB2aWV3LnByb3BzLCBwcm9wcykpYC5cbkVkaXRvclZpZXcucHJvdG90eXBlLnNldFByb3BzID0gZnVuY3Rpb24gc2V0UHJvcHMgKHByb3BzKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgdmFyIHVwZGF0ZWQgPSB7fTtcbiAgZm9yICh2YXIgbmFtZSBpbiB0aGlzJDEuX3Byb3BzKSB7IHVwZGF0ZWRbbmFtZV0gPSB0aGlzJDEuX3Byb3BzW25hbWVdOyB9XG4gIHVwZGF0ZWQuc3RhdGUgPSB0aGlzLnN0YXRlO1xuICBmb3IgKHZhciBuYW1lJDEgaW4gcHJvcHMpIHsgdXBkYXRlZFtuYW1lJDFdID0gcHJvcHNbbmFtZSQxXTsgfVxuICB0aGlzLnVwZGF0ZSh1cGRhdGVkKTtcbn07XG5cbi8vIDo6IChFZGl0b3JTdGF0ZSlcbi8vIFVwZGF0ZSB0aGUgZWRpdG9yJ3MgYHN0YXRlYCBwcm9wLCB3aXRob3V0IHRvdWNoaW5nIGFueSBvZiB0aGVcbi8vIG90aGVyIHByb3BzLlxuRWRpdG9yVmlldy5wcm90b3R5cGUudXBkYXRlU3RhdGUgPSBmdW5jdGlvbiB1cGRhdGVTdGF0ZSAoc3RhdGUpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICB2YXIgcHJldiA9IHRoaXMuc3RhdGU7XG4gIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgaWYgKHByZXYucGx1Z2lucyAhPSBzdGF0ZS5wbHVnaW5zKSB7IGVuc3VyZUxpc3RlbmVycyh0aGlzKTsgfVxuXG4gIHRoaXMuZG9tT2JzZXJ2ZXIuZmx1c2goKTtcbiAgaWYgKHRoaXMuaW5ET01DaGFuZ2UgJiYgdGhpcy5pbkRPTUNoYW5nZS5zdGF0ZVVwZGF0ZWQoc3RhdGUpKSB7IHJldHVybiB9XG5cbiAgdmFyIHByZXZFZGl0YWJsZSA9IHRoaXMuZWRpdGFibGU7XG4gIHRoaXMuZWRpdGFibGUgPSBnZXRFZGl0YWJsZSh0aGlzKTtcbiAgdXBkYXRlQ3Vyc29yV3JhcHBlcih0aGlzKTtcbiAgdmFyIGlubmVyRGVjbyA9IHZpZXdEZWNvcmF0aW9ucyh0aGlzKSwgb3V0ZXJEZWNvID0gY29tcHV0ZURvY0RlY28odGhpcyk7XG5cbiAgdmFyIHNjcm9sbCA9IHByZXYuY29uZmlnICE9IHN0YXRlLmNvbmZpZyA/IFwicmVzZXRcIlxuICAgICAgOiBzdGF0ZS5zY3JvbGxUb1NlbGVjdGlvbiA+IHByZXYuc2Nyb2xsVG9TZWxlY3Rpb24gPyBcInRvIHNlbGVjdGlvblwiIDogXCJwcmVzZXJ2ZVwiO1xuICB2YXIgdXBkYXRlRG9jID0gIXRoaXMuZG9jVmlldy5tYXRjaGVzTm9kZShzdGF0ZS5kb2MsIG91dGVyRGVjbywgaW5uZXJEZWNvKTtcbiAgdmFyIHVwZGF0ZVNlbCA9IHVwZGF0ZURvYyB8fCAhc3RhdGUuc2VsZWN0aW9uLmVxKHByZXYuc2VsZWN0aW9uKSB8fCB0aGlzLnNlbGVjdGlvblJlYWRlci5kb21DaGFuZ2VkKCk7XG4gIHZhciBvbGRTY3JvbGxQb3MgPSBzY3JvbGwgPT0gXCJwcmVzZXJ2ZVwiICYmIHVwZGF0ZVNlbCAmJiBzdG9yZVNjcm9sbFBvcyh0aGlzKTtcblxuICBpZiAodXBkYXRlU2VsKSB7XG4gICAgdGhpcy5kb21PYnNlcnZlci5zdG9wKCk7XG4gICAgaWYgKHVwZGF0ZURvYykge1xuICAgICAgaWYgKCF0aGlzLmRvY1ZpZXcudXBkYXRlKHN0YXRlLmRvYywgb3V0ZXJEZWNvLCBpbm5lckRlY28sIHRoaXMpKSB7XG4gICAgICAgIHRoaXMuZG9jVmlldy5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuZG9jVmlldyA9IGRvY1ZpZXdEZXNjKHN0YXRlLmRvYywgb3V0ZXJEZWNvLCBpbm5lckRlY28sIHRoaXMuZG9tLCB0aGlzKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuc2VsZWN0aW9uUmVhZGVyLmNsZWFyRE9NU3RhdGUoKTtcbiAgICB9XG4gICAgc2VsZWN0aW9uVG9ET00odGhpcyk7XG4gICAgdGhpcy5kb21PYnNlcnZlci5zdGFydCgpO1xuICB9XG5cbiAgaWYgKHByZXZFZGl0YWJsZSAhPSB0aGlzLmVkaXRhYmxlKSB7IHRoaXMuc2VsZWN0aW9uUmVhZGVyLmVkaXRhYmxlQ2hhbmdlZCgpOyB9XG4gIHRoaXMudXBkYXRlUGx1Z2luVmlld3MocHJldik7XG5cbiAgaWYgKHNjcm9sbCA9PSBcInJlc2V0XCIpIHtcbiAgICB0aGlzLmRvbS5zY3JvbGxUb3AgPSAwO1xuICB9IGVsc2UgaWYgKHNjcm9sbCA9PSBcInRvIHNlbGVjdGlvblwiKSB7XG4gICAgaWYgKHRoaXMuc29tZVByb3AoXCJoYW5kbGVTY3JvbGxUb1NlbGVjdGlvblwiLCBmdW5jdGlvbiAoZikgeyByZXR1cm4gZih0aGlzJDEpOyB9KSlcbiAgICAgIHt9IC8vIEhhbmRsZWRcbiAgICBlbHNlIGlmIChzdGF0ZS5zZWxlY3Rpb24gaW5zdGFuY2VvZiBwcm9zZW1pcnJvclN0YXRlLk5vZGVTZWxlY3Rpb24pXG4gICAgICB7IHNjcm9sbFJlY3RJbnRvVmlldyh0aGlzLCB0aGlzLmRvY1ZpZXcuZG9tQWZ0ZXJQb3Moc3RhdGUuc2VsZWN0aW9uLmZyb20pLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKTsgfVxuICAgIGVsc2VcbiAgICAgIHsgc2Nyb2xsUmVjdEludG9WaWV3KHRoaXMsIHRoaXMuY29vcmRzQXRQb3Moc3RhdGUuc2VsZWN0aW9uLmhlYWQpKTsgfVxuICB9IGVsc2UgaWYgKG9sZFNjcm9sbFBvcykge1xuICAgIHJlc2V0U2Nyb2xsUG9zKG9sZFNjcm9sbFBvcyk7XG4gIH1cbn07XG5cbkVkaXRvclZpZXcucHJvdG90eXBlLmRlc3Ryb3lQbHVnaW5WaWV3cyA9IGZ1bmN0aW9uIGRlc3Ryb3lQbHVnaW5WaWV3cyAoKSB7XG4gIHZhciB2aWV3O1xuICB3aGlsZSAodmlldyA9IHRoaXMucGx1Z2luVmlld3MucG9wKCkpIHsgaWYgKHZpZXcuZGVzdHJveSkgeyB2aWV3LmRlc3Ryb3koKTsgfSB9XG59O1xuXG5FZGl0b3JWaWV3LnByb3RvdHlwZS51cGRhdGVQbHVnaW5WaWV3cyA9IGZ1bmN0aW9uIHVwZGF0ZVBsdWdpblZpZXdzIChwcmV2U3RhdGUpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICB2YXIgcGx1Z2lucyA9IHRoaXMuc3RhdGUucGx1Z2lucztcbiAgaWYgKCFwcmV2U3RhdGUgfHwgcHJldlN0YXRlLnBsdWdpbnMgIT0gcGx1Z2lucykge1xuICAgIHRoaXMuZGVzdHJveVBsdWdpblZpZXdzKCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwbHVnaW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgcGx1Z2luID0gcGx1Z2luc1tpXTtcbiAgICAgIGlmIChwbHVnaW4uc3BlYy52aWV3KSB7IHRoaXMkMS5wbHVnaW5WaWV3cy5wdXNoKHBsdWdpbi5zcGVjLnZpZXcodGhpcyQxKSk7IH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgdGhpcy5wbHVnaW5WaWV3cy5sZW5ndGg7IGkkMSsrKSB7XG4gICAgICB2YXIgcGx1Z2luVmlldyA9IHRoaXMkMS5wbHVnaW5WaWV3c1tpJDFdO1xuICAgICAgaWYgKHBsdWdpblZpZXcudXBkYXRlKSB7IHBsdWdpblZpZXcudXBkYXRlKHRoaXMkMSwgcHJldlN0YXRlKTsgfVxuICAgIH1cbiAgfVxufTtcblxuLy8gOjogKHN0cmluZywgPyhwcm9wOiAqKSDihpIgKikg4oaSICpcbi8vIEdvZXMgb3ZlciB0aGUgdmFsdWVzIG9mIGEgcHJvcCwgZmlyc3QgdGhvc2UgcHJvdmlkZWQgZGlyZWN0bHksXG4vLyB0aGVuIHRob3NlIGZyb20gcGx1Z2lucyAoaW4gb3JkZXIpLCBhbmQgY2FsbHMgYGZgIGV2ZXJ5IHRpbWUgYVxuLy8gbm9uLXVuZGVmaW5lZCB2YWx1ZSBpcyBmb3VuZC4gV2hlbiBgZmAgcmV0dXJucyBhIHRydXRoeSB2YWx1ZSxcbi8vIHRoYXQgaXMgaW1tZWRpYXRlbHkgcmV0dXJuZWQuIFdoZW4gYGZgIGlzbid0IHByb3ZpZGVkLCBpdCBpc1xuLy8gdHJlYXRlZCBhcyB0aGUgaWRlbnRpdHkgZnVuY3Rpb24gKHRoZSBwcm9wIHZhbHVlIGlzIHJldHVybmVkXG4vLyBkaXJlY3RseSkuXG5FZGl0b3JWaWV3LnByb3RvdHlwZS5zb21lUHJvcCA9IGZ1bmN0aW9uIHNvbWVQcm9wIChwcm9wTmFtZSwgZikge1xuICB2YXIgcHJvcCA9IHRoaXMuX3Byb3BzICYmIHRoaXMuX3Byb3BzW3Byb3BOYW1lXSwgdmFsdWU7XG4gIGlmIChwcm9wICE9IG51bGwgJiYgKHZhbHVlID0gZiA/IGYocHJvcCkgOiBwcm9wKSkgeyByZXR1cm4gdmFsdWUgfVxuICB2YXIgcGx1Z2lucyA9IHRoaXMuc3RhdGUucGx1Z2lucztcbiAgaWYgKHBsdWdpbnMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwbHVnaW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHByb3AkMSA9IHBsdWdpbnNbaV0ucHJvcHNbcHJvcE5hbWVdO1xuICAgIGlmIChwcm9wJDEgIT0gbnVsbCAmJiAodmFsdWUgPSBmID8gZihwcm9wJDEpIDogcHJvcCQxKSkgeyByZXR1cm4gdmFsdWUgfVxuICB9IH1cbn07XG5cbi8vIDo6ICgpIOKGkiBib29sXG4vLyBRdWVyeSB3aGV0aGVyIHRoZSB2aWV3IGhhcyBmb2N1cy5cbkVkaXRvclZpZXcucHJvdG90eXBlLmhhc0ZvY3VzID0gZnVuY3Rpb24gaGFzRm9jdXMgKCkge1xuICByZXR1cm4gdGhpcy5yb290LmFjdGl2ZUVsZW1lbnQgPT0gdGhpcy5kb21cbn07XG5cbi8vIDo6ICgpXG4vLyBGb2N1cyB0aGUgZWRpdG9yLlxuRWRpdG9yVmlldy5wcm90b3R5cGUuZm9jdXMgPSBmdW5jdGlvbiBmb2N1cyAoKSB7XG4gIHRoaXMuZG9tT2JzZXJ2ZXIuc3RvcCgpO1xuICBzZWxlY3Rpb25Ub0RPTSh0aGlzLCB0cnVlKTtcbiAgdGhpcy5kb21PYnNlcnZlci5zdGFydCgpO1xuICBpZiAodGhpcy5lZGl0YWJsZSkgeyB0aGlzLmRvbS5mb2N1cygpOyB9XG59O1xuXG4vLyA6OiB1bmlvbjxkb20uRG9jdW1lbnQsIGRvbS5Eb2N1bWVudEZyYWdtZW50PlxuLy8gR2V0IHRoZSBkb2N1bWVudCByb290IGluIHdoaWNoIHRoZSBlZGl0b3IgZXhpc3RzLiBUaGlzIHdpbGxcbi8vIHVzdWFsbHkgYmUgdGhlIHRvcC1sZXZlbCBgZG9jdW1lbnRgLCBidXQgbWlnaHQgYmUgYSBbc2hhZG93XG4vLyBET01dKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL1dlYl9Db21wb25lbnRzL1NoYWRvd19ET00pXG4vLyByb290IGlmIHRoZSBlZGl0b3IgaXMgaW5zaWRlIG9uZS5cbnByb3RvdHlwZUFjY2Vzc29ycy5yb290LmdldCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICB2YXIgY2FjaGVkID0gdGhpcy5fcm9vdDtcbiAgaWYgKGNhY2hlZCA9PSBudWxsKSB7IGZvciAodmFyIHNlYXJjaCA9IHRoaXMuZG9tLnBhcmVudE5vZGU7IHNlYXJjaDsgc2VhcmNoID0gc2VhcmNoLnBhcmVudE5vZGUpIHtcbiAgICBpZiAoc2VhcmNoLm5vZGVUeXBlID09IDkgfHwgKHNlYXJjaC5ub2RlVHlwZSA9PSAxMSAmJiBzZWFyY2guaG9zdCkpXG4gICAgICB7IHJldHVybiB0aGlzJDEuX3Jvb3QgPSBzZWFyY2ggfVxuICB9IH1cbiAgcmV0dXJuIGNhY2hlZCB8fCBkb2N1bWVudFxufTtcblxuLy8gOjogKHtsZWZ0OiBudW1iZXIsIHRvcDogbnVtYmVyfSkg4oaSID97cG9zOiBudW1iZXIsIGluc2lkZTogbnVtYmVyfVxuLy8gR2l2ZW4gYSBwYWlyIG9mIHZpZXdwb3J0IGNvb3JkaW5hdGVzLCByZXR1cm4gdGhlIGRvY3VtZW50XG4vLyBwb3NpdGlvbiB0aGF0IGNvcnJlc3BvbmRzIHRvIHRoZW0uIE1heSByZXR1cm4gbnVsbCBpZiB0aGUgZ2l2ZW5cbi8vIGNvb3JkaW5hdGVzIGFyZW4ndCBpbnNpZGUgb2YgdGhlIHZpc2libGUgZWRpdG9yLiBXaGVuIGFuIG9iamVjdFxuLy8gaXMgcmV0dXJuZWQsIGl0cyBgcG9zYCBwcm9wZXJ0eSBpcyB0aGUgcG9zaXRpb24gbmVhcmVzdCB0byB0aGVcbi8vIGNvb3JkaW5hdGVzLCBhbmQgaXRzIGBpbnNpZGVgIHByb3BlcnR5IGhvbGRzIHRoZSBwb3NpdGlvbiBvZiB0aGVcbi8vIGlubmVyIG5vZGUgdGhhdCB0aGUgcG9zaXRpb24gZmFsbHMgaW5zaWRlIG9mLCBvciAtMSBpZiBpdCBpcyBhdFxuLy8gdGhlIHRvcCBsZXZlbCwgbm90IGluIGFueSBub2RlLlxuRWRpdG9yVmlldy5wcm90b3R5cGUucG9zQXRDb29yZHMgPSBmdW5jdGlvbiBwb3NBdENvb3JkcyQxIChjb29yZHMpIHtcbiAgdmFyIHBvcyA9IHBvc0F0Q29vcmRzKHRoaXMsIGNvb3Jkcyk7XG4gIGlmICh0aGlzLmluRE9NQ2hhbmdlICYmIHBvcykge1xuICAgIHBvcy5wb3MgPSB0aGlzLmluRE9NQ2hhbmdlLm1hcHBpbmcubWFwKHBvcy5wb3MpO1xuICAgIGlmIChwb3MuaW5zaWRlICE9IC0xKSB7IHBvcy5pbnNpZGUgPSB0aGlzLmluRE9NQ2hhbmdlLm1hcHBpbmcubWFwKHBvcy5pbnNpZGUpOyB9XG4gIH1cbiAgcmV0dXJuIHBvc1xufTtcblxuLy8gOjogKG51bWJlcikg4oaSIHtsZWZ0OiBudW1iZXIsIHJpZ2h0OiBudW1iZXIsIHRvcDogbnVtYmVyLCBib3R0b206IG51bWJlcn1cbi8vIFJldHVybnMgdGhlIHZpZXdwb3J0IHJlY3RhbmdsZSBhdCBhIGdpdmVuIGRvY3VtZW50IHBvc2l0aW9uLiBgbGVmdGBcbi8vIGFuZCBgcmlnaHRgIHdpbGwgYmUgdGhlIHNhbWUgbnVtYmVyLCBhcyB0aGlzIHJldHVybnMgYSBmbGF0XG4vLyBjdXJzb3ItaXNoIHJlY3RhbmdsZS5cbkVkaXRvclZpZXcucHJvdG90eXBlLmNvb3Jkc0F0UG9zID0gZnVuY3Rpb24gY29vcmRzQXRQb3MkMSAocG9zKSB7XG4gIGlmICh0aGlzLmluRE9NQ2hhbmdlKVxuICAgIHsgcG9zID0gdGhpcy5pbkRPTUNoYW5nZS5tYXBwaW5nLmludmVydCgpLm1hcChwb3MpOyB9XG4gIHJldHVybiBjb29yZHNBdFBvcyh0aGlzLCBwb3MpXG59O1xuXG4vLyA6OiAobnVtYmVyKSDihpIge25vZGU6IGRvbS5Ob2RlLCBvZmZzZXQ6IG51bWJlcn1cbi8vIEZpbmQgdGhlIERPTSBwb3NpdGlvbiB0aGF0IGNvcnJlc3BvbmRzIHRvIHRoZSBnaXZlbiBkb2N1bWVudFxuLy8gcG9zaXRpb24uIE5vdGUgdGhhdCB5b3Ugc2hvdWxkICoqbm90KiogbXV0YXRlIHRoZSBlZGl0b3Inc1xuLy8gaW50ZXJuYWwgRE9NLCBvbmx5IGluc3BlY3QgaXQgKGFuZCBldmVuIHRoYXQgaXMgdXN1YWxseSBub3Rcbi8vIG5lY2Vzc2FyeSkuXG5FZGl0b3JWaWV3LnByb3RvdHlwZS5kb21BdFBvcyA9IGZ1bmN0aW9uIGRvbUF0UG9zIChwb3MpIHtcbiAgaWYgKHRoaXMuaW5ET01DaGFuZ2UpXG4gICAgeyBwb3MgPSB0aGlzLmluRE9NQ2hhbmdlLm1hcHBpbmcuaW52ZXJ0KCkubWFwKHBvcyk7IH1cbiAgcmV0dXJuIHRoaXMuZG9jVmlldy5kb21Gcm9tUG9zKHBvcylcbn07XG5cbi8vIDo6IChudW1iZXIpIOKGkiA/ZG9tLk5vZGVcbi8vIEZpbmQgdGhlIERPTSBub2RlIHRoYXQgcmVwcmVzZW50cyB0aGUgZG9jdW1lbnQgbm9kZSBhZnRlciB0aGVcbi8vIGdpdmVuIHBvc2l0aW9uLiBNYXkgcmV0dXJuIGBudWxsYCB3aGVuIHRoZSBwb3NpdGlvbiBkb2Vzbid0IHBvaW50XG4vLyBpbiBmcm9udCBvZiBhIG5vZGUgb3IgaWYgdGhlIG5vZGUgaXMgaW5zaWRlIGFuIG9wYXF1ZSBub2RlIHZpZXcuXG4vL1xuLy8gVGhpcyBpcyBpbnRlbmRlZCB0byBiZSBhYmxlIHRvIGNhbGwgdGhpbmdzIGxpa2Vcbi8vIGBnZXRCb3VuZGluZ0NsaWVudFJlY3RgIG9uIHRoYXQgRE9NIG5vZGUuIERvICoqbm90KiogbXV0YXRlIHRoZVxuLy8gZWRpdG9yIERPTSBkaXJlY3RseSwgb3IgYWRkIHN0eWxpbmcgdGhpcyB3YXksIHNpbmNlIHRoYXQgd2lsbCBiZVxuLy8gaW1tZWRpYXRlbHkgb3ZlcnJpZGVuIGJ5IHRoZSBlZGl0b3IgYXMgaXQgcmVkcmF3cyB0aGUgbm9kZS5cbkVkaXRvclZpZXcucHJvdG90eXBlLm5vZGVET00gPSBmdW5jdGlvbiBub2RlRE9NIChwb3MpIHtcbiAgaWYgKHRoaXMuaW5ET01DaGFuZ2UpXG4gICAgeyBwb3MgPSB0aGlzLmluRE9NQ2hhbmdlLm1hcHBpbmcuaW52ZXJ0KCkubWFwKHBvcyk7IH1cbiAgdmFyIGRlc2MgPSB0aGlzLmRvY1ZpZXcuZGVzY0F0KHBvcyk7XG4gIHJldHVybiBkZXNjID8gZGVzYy5ub2RlRE9NIDogbnVsbFxufTtcblxuLy8gOjogKGRvbS5Ob2RlLCBudW1iZXIsID9udW1iZXIpIOKGkiBudW1iZXJcbi8vIEZpbmQgdGhlIGRvY3VtZW50IHBvc2l0aW9uIHRoYXQgY29ycmVzcG9uZHMgdG8gYSBnaXZlbiBET01cbi8vIHBvc2l0aW9uLiAoV2hlbmV2ZXIgcG9zc2libGUsIGl0IGlzIHByZWZlcmFibGUgdG8gaW5zcGVjdCB0aGVcbi8vIGRvY3VtZW50IHN0cnVjdHVyZSBkaXJlY3RseSwgcmF0aGVyIHRoYW4gcG9raW5nIGFyb3VuZCBpbiB0aGVcbi8vIERPTSwgYnV0IHNvbWV0aW1lc+KAlGZvciBleGFtcGxlIHdoZW4gaW50ZXJwcmV0aW5nIGFuIGV2ZW50XG4vLyB0YXJnZXTigJR5b3UgZG9uJ3QgaGF2ZSBhIGNob2ljZS4pXG4vL1xuLy8gVGhlIGBiaWFzYCBwYXJhbWV0ZXIgY2FuIGJlIHVzZWQgdG8gaW5mbHVlbmNlIHdoaWNoIHNpZGUgb2YgYSBET01cbi8vIG5vZGUgdG8gdXNlIHdoZW4gdGhlIHBvc2l0aW9uIGlzIGluc2lkZSBhIGxlYWYgbm9kZS5cbkVkaXRvclZpZXcucHJvdG90eXBlLnBvc0F0RE9NID0gZnVuY3Rpb24gcG9zQXRET00gKG5vZGUsIG9mZnNldCwgYmlhcykge1xuICAgIGlmICggYmlhcyA9PT0gdm9pZCAwICkgYmlhcyA9IC0xO1xuXG4gIHZhciBwb3MgPSB0aGlzLmRvY1ZpZXcucG9zRnJvbURPTShub2RlLCBvZmZzZXQsIGJpYXMpO1xuICBpZiAocG9zID09IG51bGwpIHsgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJET00gcG9zaXRpb24gbm90IGluc2lkZSB0aGUgZWRpdG9yXCIpIH1cbiAgaWYgKHRoaXMuaW5ET01DaGFuZ2UpXG4gICAgeyBwb3MgPSB0aGlzLmluRE9NQ2hhbmdlLm1hcHBpbmcubWFwKHBvcyk7IH1cbiAgcmV0dXJuIHBvc1xufTtcblxuLy8gOjogKHVuaW9uPFwidXBcIiwgXCJkb3duXCIsIFwibGVmdFwiLCBcInJpZ2h0XCIsIFwiZm9yd2FyZFwiLCBcImJhY2t3YXJkXCI+LCA/RWRpdG9yU3RhdGUpIOKGkiBib29sXG4vLyBGaW5kIG91dCB3aGV0aGVyIHRoZSBzZWxlY3Rpb24gaXMgYXQgdGhlIGVuZCBvZiBhIHRleHRibG9jayB3aGVuXG4vLyBtb3ZpbmcgaW4gYSBnaXZlbiBkaXJlY3Rpb24uIFdoZW4sIGZvciBleGFtcGxlLCBnaXZlbiBgXCJsZWZ0XCJgLFxuLy8gaXQgd2lsbCByZXR1cm4gdHJ1ZSBpZiBtb3ZpbmcgbGVmdCBmcm9tIHRoZSBjdXJyZW50IGN1cnNvclxuLy8gcG9zaXRpb24gd291bGQgbGVhdmUgdGhhdCBwb3NpdGlvbidzIHBhcmVudCB0ZXh0YmxvY2suIFdpbGwgYXBwbHlcbi8vIHRvIHRoZSB2aWV3J3MgY3VycmVudCBzdGF0ZSBieSBkZWZhdWx0LCBidXQgaXQgaXMgcG9zc2libGUgdG9cbi8vIHBhc3MgYSBkaWZmZXJlbnQgc3RhdGUuXG5FZGl0b3JWaWV3LnByb3RvdHlwZS5lbmRPZlRleHRibG9jayA9IGZ1bmN0aW9uIGVuZE9mVGV4dGJsb2NrJDEgKGRpciwgc3RhdGUpIHtcbiAgcmV0dXJuIGVuZE9mVGV4dGJsb2NrKHRoaXMsIHN0YXRlIHx8IHRoaXMuc3RhdGUsIGRpcilcbn07XG5cbi8vIDo6ICgpXG4vLyBSZW1vdmVzIHRoZSBlZGl0b3IgZnJvbSB0aGUgRE9NIGFuZCBkZXN0cm95cyBhbGwgW25vZGVcbi8vIHZpZXdzXSgjdmlldy5Ob2RlVmlldykuXG5FZGl0b3JWaWV3LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAoKSB7XG4gIGlmICghdGhpcy5kb2NWaWV3KSB7IHJldHVybiB9XG4gIGRlc3Ryb3lJbnB1dCh0aGlzKTtcbiAgdGhpcy5kZXN0cm95UGx1Z2luVmlld3MoKTtcbiAgdGhpcy5zZWxlY3Rpb25SZWFkZXIuZGVzdHJveSgpO1xuICBpZiAodGhpcy5tb3VudGVkKSB7XG4gICAgdGhpcy5kb2NWaWV3LnVwZGF0ZSh0aGlzLnN0YXRlLmRvYywgW10sIHZpZXdEZWNvcmF0aW9ucyh0aGlzKSwgdGhpcyk7XG4gICAgdGhpcy5kb20udGV4dENvbnRlbnQgPSBcIlwiO1xuICB9IGVsc2UgaWYgKHRoaXMuZG9tLnBhcmVudE5vZGUpIHtcbiAgICB0aGlzLmRvbS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZG9tKTtcbiAgfVxuICB0aGlzLmRvY1ZpZXcuZGVzdHJveSgpO1xuICB0aGlzLmRvY1ZpZXcgPSBudWxsO1xufTtcblxuLy8gVXNlZCBmb3IgdGVzdGluZy5cbkVkaXRvclZpZXcucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQgPSBmdW5jdGlvbiBkaXNwYXRjaEV2ZW50JDEgKGV2ZW50KSB7XG4gIHJldHVybiBkaXNwYXRjaEV2ZW50KHRoaXMsIGV2ZW50KVxufTtcblxuLy8gOjogKFRyYW5zYWN0aW9uKVxuLy8gRGlzcGF0Y2ggYSB0cmFuc2FjdGlvbi4gV2lsbCBjYWxsXG4vLyBbYGRpc3BhdGNoVHJhbnNhY3Rpb25gXSgjdmlldy5EaXJlY3RFZGl0b3JQcm9wcy5kaXNwYXRjaFRyYW5zYWN0aW9uKVxuLy8gd2hlbiBnaXZlbiwgYW5kIG90aGVyd2lzZSBkZWZhdWx0cyB0byBhcHBseWluZyB0aGUgdHJhbnNhY3Rpb24gdG9cbi8vIHRoZSBjdXJyZW50IHN0YXRlIGFuZCBjYWxsaW5nXG4vLyBbYHVwZGF0ZVN0YXRlYF0oI3ZpZXcuRWRpdG9yVmlldy51cGRhdGVTdGF0ZSkgd2l0aCB0aGUgcmVzdWx0LlxuLy8gVGhpcyBtZXRob2QgaXMgYm91bmQgdG8gdGhlIHZpZXcgaW5zdGFuY2UsIHNvIHRoYXQgaXQgY2FuIGJlXG4vLyBlYXNpbHkgcGFzc2VkIGFyb3VuZC5cbkVkaXRvclZpZXcucHJvdG90eXBlLmRpc3BhdGNoID0gZnVuY3Rpb24gZGlzcGF0Y2ggKHRyKSB7XG4gIHZhciBkaXNwYXRjaFRyYW5zYWN0aW9uID0gdGhpcy5fcHJvcHMuZGlzcGF0Y2hUcmFuc2FjdGlvbjtcbiAgaWYgKGRpc3BhdGNoVHJhbnNhY3Rpb24pIHsgZGlzcGF0Y2hUcmFuc2FjdGlvbih0cik7IH1cbiAgZWxzZSB7IHRoaXMudXBkYXRlU3RhdGUodGhpcy5zdGF0ZS5hcHBseSh0cikpOyB9XG59O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyggRWRpdG9yVmlldy5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyApO1xuXG5mdW5jdGlvbiBjb21wdXRlRG9jRGVjbyh2aWV3KSB7XG4gIHZhciBhdHRycyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIGF0dHJzLmNsYXNzID0gXCJQcm9zZU1pcnJvclwiICsgKHZpZXcuZm9jdXNlZCA/IFwiIFByb3NlTWlycm9yLWZvY3VzZWRcIiA6IFwiXCIpO1xuICBhdHRycy5jb250ZW50ZWRpdGFibGUgPSBTdHJpbmcodmlldy5lZGl0YWJsZSk7XG5cbiAgdmlldy5zb21lUHJvcChcImF0dHJpYnV0ZXNcIiwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcImZ1bmN0aW9uXCIpIHsgdmFsdWUgPSB2YWx1ZSh2aWV3LnN0YXRlKTsgfVxuICAgIGlmICh2YWx1ZSkgeyBmb3IgKHZhciBhdHRyIGluIHZhbHVlKSB7XG4gICAgICBpZiAoYXR0ciA9PSBcImNsYXNzXCIpXG4gICAgICAgIHsgYXR0cnMuY2xhc3MgKz0gXCIgXCIgKyB2YWx1ZVthdHRyXTsgfVxuICAgICAgZWxzZSBpZiAoIWF0dHJzW2F0dHJdICYmIGF0dHIgIT0gXCJjb250ZW50ZWRpdGFibGVcIiAmJiBhdHRyICE9IFwibm9kZU5hbWVcIilcbiAgICAgICAgeyBhdHRyc1thdHRyXSA9IFN0cmluZyh2YWx1ZVthdHRyXSk7IH1cbiAgICB9IH1cbiAgfSk7XG5cbiAgcmV0dXJuIFtEZWNvcmF0aW9uLm5vZGUoMCwgdmlldy5zdGF0ZS5kb2MuY29udGVudC5zaXplLCBhdHRycyldXG59XG5cbmZ1bmN0aW9uIGN1cnNvcldyYXBwZXJET00odmlzaWJsZSkge1xuICB2YXIgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICBzcGFuLnRleHRDb250ZW50ID0gXCJcXHVmZWZmXCI7IC8vIHplcm8td2lkdGggbm9uLWJyZWFraW5nIHNwYWNlXG4gIGlmICghdmlzaWJsZSkge1xuICAgIHNwYW4uc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgc3Bhbi5zdHlsZS5sZWZ0ID0gXCItMTAwMDAwcHhcIjtcbiAgfVxuICByZXR1cm4gc3BhblxufVxuXG5mdW5jdGlvbiB1cGRhdGVDdXJzb3JXcmFwcGVyKHZpZXcpIHtcbiAgdmFyICRwb3MgPSBuZWVkc0N1cnNvcldyYXBwZXIodmlldy5zdGF0ZSk7XG4gIC8vIE9uIElFL0VkZ2UsIG1vdmluZyB0aGUgRE9NIHNlbGVjdGlvbiB3aWxsIGFib3J0IGEgbW91c2UgZHJhZywgc29cbiAgLy8gdGhlcmUgd2UgZGVsYXkgdGhlIGNyZWF0aW9uIG9mIHRoZSB3cmFwcGVyIHdoZW4gdGhlIG1vdXNlIGlzIGRvd24uXG4gIGlmICgkcG9zICYmICEocmVzdWx0LmllICYmIHZpZXcubW91c2VEb3duKSkge1xuICAgIHZhciB2aXNpYmxlID0gdmlldy5zdGF0ZS5zZWxlY3Rpb24udmlzaWJsZTtcbiAgICAvLyBOZWVkcyBhIGN1cnNvciB3cmFwcGVyXG4gICAgdmFyIG1hcmtzID0gdmlldy5zdGF0ZS5zdG9yZWRNYXJrcyB8fCAkcG9zLm1hcmtzKCksIGRvbTtcbiAgICBpZiAoIXZpZXcuY3Vyc29yV3JhcHBlciB8fCAhcHJvc2VtaXJyb3JNb2RlbC5NYXJrLnNhbWVTZXQodmlldy5jdXJzb3JXcmFwcGVyLmRlY28uc3BlYy5tYXJrcywgbWFya3MpIHx8XG4gICAgICAgIHZpZXcuY3Vyc29yV3JhcHBlci5kb20udGV4dENvbnRlbnQgIT0gXCJcXHVmZWZmXCIgfHxcbiAgICAgICAgdmlldy5jdXJzb3JXcmFwcGVyLmRlY28uc3BlYy52aXNpYmxlICE9IHZpc2libGUpXG4gICAgICB7IGRvbSA9IGN1cnNvcldyYXBwZXJET00odmlzaWJsZSk7IH1cbiAgICBlbHNlIGlmICh2aWV3LmN1cnNvcldyYXBwZXIuZGVjby5wb3MgIT0gJHBvcy5wb3MpXG4gICAgICB7IGRvbSA9IHZpZXcuY3Vyc29yV3JhcHBlci5kb207IH1cbiAgICBpZiAoZG9tKVxuICAgICAgeyB2aWV3LmN1cnNvcldyYXBwZXIgPSB7ZG9tOiBkb20sIGRlY286IERlY29yYXRpb24ud2lkZ2V0KCRwb3MucG9zLCBkb20sIHtpc0N1cnNvcldyYXBwZXI6IHRydWUsIG1hcmtzOiBtYXJrcywgcmF3OiB0cnVlLCB2aXNpYmxlOiB2aXNpYmxlfSl9OyB9XG4gIH0gZWxzZSB7XG4gICAgdmlldy5jdXJzb3JXcmFwcGVyID0gbnVsbDtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRFZGl0YWJsZSh2aWV3KSB7XG4gIHJldHVybiAhdmlldy5zb21lUHJvcChcImVkaXRhYmxlXCIsIGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gdmFsdWUodmlldy5zdGF0ZSkgPT09IGZhbHNlOyB9KVxufVxuXG4vLyBFZGl0b3JQcm9wczo6IGludGVyZmFjZVxuLy9cbi8vIFByb3BzIGFyZSBjb25maWd1cmF0aW9uIHZhbHVlcyB0aGF0IGNhbiBiZSBwYXNzZWQgdG8gYW4gZWRpdG9yIHZpZXdcbi8vIG9yIGluY2x1ZGVkIGluIGEgcGx1Z2luLiBUaGlzIGludGVyZmFjZSBsaXN0cyB0aGUgc3VwcG9ydGVkIHByb3BzLlxuLy9cbi8vIFRoZSB2YXJpb3VzIGV2ZW50LWhhbmRsaW5nIGZ1bmN0aW9ucyBtYXkgYWxsIHJldHVybiBgdHJ1ZWAgdG9cbi8vIGluZGljYXRlIHRoYXQgdGhleSBoYW5kbGVkIHRoZSBnaXZlbiBldmVudC4gVGhlIHZpZXcgd2lsbCB0aGVuIHRha2Vcbi8vIGNhcmUgdG8gY2FsbCBgcHJldmVudERlZmF1bHRgIG9uIHRoZSBldmVudCwgZXhjZXB0IHdpdGhcbi8vIGBoYW5kbGVET01FdmVudHNgLCB3aGVyZSB0aGUgaGFuZGxlciBpdHNlbGYgaXMgcmVzcG9uc2libGUgZm9yIHRoYXQuXG4vL1xuLy8gSG93IGEgcHJvcCBpcyByZXNvbHZlZCBkZXBlbmRzIG9uIHRoZSBwcm9wLiBIYW5kbGVyIGZ1bmN0aW9ucyBhcmVcbi8vIGNhbGxlZCBvbmUgYXQgYSB0aW1lLCBzdGFydGluZyB3aXRoIHRoZSBiYXNlIHByb3BzIGFuZCB0aGVuXG4vLyBzZWFyY2hpbmcgdGhyb3VnaCB0aGUgcGx1Z2lucyAoaW4gb3JkZXIgb2YgYXBwZWFyYW5jZSkgdW50aWwgb25lIG9mXG4vLyB0aGVtIHJldHVybnMgdHJ1ZS4gRm9yIHNvbWUgcHJvcHMsIHRoZSBmaXJzdCBwbHVnaW4gdGhhdCB5aWVsZHMgYVxuLy8gdmFsdWUgZ2V0cyBwcmVjZWRlbmNlLlxuLy9cbi8vICAgaGFuZGxlRE9NRXZlbnRzOjogP09iamVjdDwodmlldzogRWRpdG9yVmlldywgZXZlbnQ6IGRvbS5FdmVudCkg4oaSIGJvb2w+XG4vLyAgIENhbiBiZSBhbiBvYmplY3QgbWFwcGluZyBET00gZXZlbnQgdHlwZSBuYW1lcyB0byBmdW5jdGlvbnMgdGhhdFxuLy8gICBoYW5kbGUgdGhlbS4gU3VjaCBmdW5jdGlvbnMgd2lsbCBiZSBjYWxsZWQgYmVmb3JlIGFueSBoYW5kbGluZ1xuLy8gICBQcm9zZU1pcnJvciBkb2VzIG9mIGV2ZW50cyBmaXJlZCBvbiB0aGUgZWRpdGFibGUgRE9NIGVsZW1lbnQuXG4vLyAgIENvbnRyYXJ5IHRvIHRoZSBvdGhlciBldmVudCBoYW5kbGluZyBwcm9wcywgd2hlbiByZXR1cm5pbmcgdHJ1ZVxuLy8gICBmcm9tIHN1Y2ggYSBmdW5jdGlvbiwgeW91IGFyZSByZXNwb25zaWJsZSBmb3IgY2FsbGluZ1xuLy8gICBgcHJldmVudERlZmF1bHRgIHlvdXJzZWxmIChvciBub3QsIGlmIHlvdSB3YW50IHRvIGFsbG93IHRoZVxuLy8gICBkZWZhdWx0IGJlaGF2aW9yKS5cbi8vXG4vLyAgIGhhbmRsZUtleURvd246OiA/KHZpZXc6IEVkaXRvclZpZXcsIGV2ZW50OiBkb20uS2V5Ym9hcmRFdmVudCkg4oaSIGJvb2xcbi8vICAgQ2FsbGVkIHdoZW4gdGhlIGVkaXRvciByZWNlaXZlcyBhIGBrZXlkb3duYCBldmVudC5cbi8vXG4vLyAgIGhhbmRsZUtleVByZXNzOjogPyh2aWV3OiBFZGl0b3JWaWV3LCBldmVudDogZG9tLktleWJvYXJkRXZlbnQpIOKGkiBib29sXG4vLyAgIEhhbmRsZXIgZm9yIGBrZXlwcmVzc2AgZXZlbnRzLlxuLy9cbi8vICAgaGFuZGxlVGV4dElucHV0OjogPyh2aWV3OiBFZGl0b3JWaWV3LCBmcm9tOiBudW1iZXIsIHRvOiBudW1iZXIsIHRleHQ6IHN0cmluZykg4oaSIGJvb2xcbi8vICAgV2hlbmV2ZXIgdGhlIHVzZXIgZGlyZWN0bHkgaW5wdXQgdGV4dCwgdGhpcyBoYW5kbGVyIGlzIGNhbGxlZFxuLy8gICBiZWZvcmUgdGhlIGlucHV0IGlzIGFwcGxpZWQuIElmIGl0IHJldHVybnMgYHRydWVgLCB0aGUgZGVmYXVsdFxuLy8gICBiZWhhdmlvciBvZiBhY3R1YWxseSBpbnNlcnRpbmcgdGhlIHRleHQgaXMgc3VwcHJlc3NlZC5cbi8vXG4vLyAgIGhhbmRsZUNsaWNrT246OiA/KHZpZXc6IEVkaXRvclZpZXcsIHBvczogbnVtYmVyLCBub2RlOiBOb2RlLCBub2RlUG9zOiBudW1iZXIsIGV2ZW50OiBkb20uTW91c2VFdmVudCwgZGlyZWN0OiBib29sKSDihpIgYm9vbFxuLy8gICBDYWxsZWQgZm9yIGVhY2ggbm9kZSBhcm91bmQgYSBjbGljaywgZnJvbSB0aGUgaW5zaWRlIG91dC4gVGhlXG4vLyAgIGBkaXJlY3RgIGZsYWcgd2lsbCBiZSB0cnVlIGZvciB0aGUgaW5uZXIgbm9kZS5cbi8vXG4vLyAgIGhhbmRsZUNsaWNrOjogPyh2aWV3OiBFZGl0b3JWaWV3LCBwb3M6IG51bWJlciwgZXZlbnQ6IGRvbS5Nb3VzZUV2ZW50KSDihpIgYm9vbFxuLy8gICBDYWxsZWQgd2hlbiB0aGUgZWRpdG9yIGlzIGNsaWNrZWQsIGFmdGVyIGBoYW5kbGVDbGlja09uYCBoYW5kbGVyc1xuLy8gICBoYXZlIGJlZW4gY2FsbGVkLlxuLy9cbi8vICAgaGFuZGxlRG91YmxlQ2xpY2tPbjo6ID8odmlldzogRWRpdG9yVmlldywgcG9zOiBudW1iZXIsIG5vZGU6IE5vZGUsIG5vZGVQb3M6IG51bWJlciwgZXZlbnQ6IGRvbS5Nb3VzZUV2ZW50LCBkaXJlY3Q6IGJvb2wpIOKGkiBib29sXG4vLyAgIENhbGxlZCBmb3IgZWFjaCBub2RlIGFyb3VuZCBhIGRvdWJsZSBjbGljay5cbi8vXG4vLyAgIGhhbmRsZURvdWJsZUNsaWNrOjogPyh2aWV3OiBFZGl0b3JWaWV3LCBwb3M6IG51bWJlciwgZXZlbnQ6IGRvbS5Nb3VzZUV2ZW50KSDihpIgYm9vbFxuLy8gICBDYWxsZWQgd2hlbiB0aGUgZWRpdG9yIGlzIGRvdWJsZS1jbGlja2VkLCBhZnRlciBgaGFuZGxlRG91YmxlQ2xpY2tPbmAuXG4vL1xuLy8gICBoYW5kbGVUcmlwbGVDbGlja09uOjogPyh2aWV3OiBFZGl0b3JWaWV3LCBwb3M6IG51bWJlciwgbm9kZTogTm9kZSwgbm9kZVBvczogbnVtYmVyLCBldmVudDogZG9tLk1vdXNlRXZlbnQsIGRpcmVjdDogYm9vbCkg4oaSIGJvb2xcbi8vICAgQ2FsbGVkIGZvciBlYWNoIG5vZGUgYXJvdW5kIGEgdHJpcGxlIGNsaWNrLlxuLy9cbi8vICAgaGFuZGxlVHJpcGxlQ2xpY2s6OiA/KHZpZXc6IEVkaXRvclZpZXcsIHBvczogbnVtYmVyLCBldmVudDogZG9tLk1vdXNlRXZlbnQpIOKGkiBib29sXG4vLyAgIENhbGxlZCB3aGVuIHRoZSBlZGl0b3IgaXMgdHJpcGxlLWNsaWNrZWQsIGFmdGVyIGBoYW5kbGVUcmlwbGVDbGlja09uYC5cbi8vXG4vLyAgIGhhbmRsZVBhc3RlOjogPyh2aWV3OiBFZGl0b3JWaWV3LCBldmVudDogZG9tLkV2ZW50LCBzbGljZTogU2xpY2UpIOKGkiBib29sXG4vLyAgIENhbiBiZSB1c2VkIHRvIG92ZXJyaWRlIHRoZSBiZWhhdmlvciBvZiBwYXN0aW5nLiBgc2xpY2VgIGlzIHRoZVxuLy8gICBwYXN0ZWQgY29udGVudCBwYXJzZWQgYnkgdGhlIGVkaXRvciwgYnV0IHlvdSBjYW4gZGlyZWN0bHkgYWNjZXNzXG4vLyAgIHRoZSBldmVudCB0byBnZXQgYXQgdGhlIHJhdyBjb250ZW50LlxuLy9cbi8vICAgaGFuZGxlRHJvcDo6ID8odmlldzogRWRpdG9yVmlldywgZXZlbnQ6IGRvbS5FdmVudCwgc2xpY2U6IFNsaWNlLCBtb3ZlZDogYm9vbCkg4oaSIGJvb2xcbi8vICAgQ2FsbGVkIHdoZW4gc29tZXRoaW5nIGlzIGRyb3BwZWQgb24gdGhlIGVkaXRvci4gYG1vdmVkYCB3aWxsIGJlXG4vLyAgIHRydWUgaWYgdGhpcyBkcm9wIG1vdmVzIGZyb20gdGhlIGN1cnJlbnQgc2VsZWN0aW9uICh3aGljaCBzaG91bGRcbi8vICAgdGh1cyBiZSBkZWxldGVkKS5cbi8vXG4vLyAgIGhhbmRsZVNjcm9sbFRvU2VsZWN0aW9uOjogPyh2aWV3OiBFZGl0b3JWaWV3KSDihpIgYm9vbFxuLy8gICBDYWxsZWQgd2hlbiB0aGUgdmlldywgYWZ0ZXIgdXBkYXRpbmcgaXRzIHN0YXRlLCB0cmllcyB0byBzY3JvbGxcbi8vICAgdGhlIHNlbGVjdGlvbiBpbnRvIHZpZXcuIEEgaGFuZGxlciBmdW5jdGlvbiBtYXkgcmV0dXJuIGZhbHNlIHRvXG4vLyAgIGluZGljYXRlIHRoYXQgaXQgZGlkIG5vdCBoYW5kbGUgdGhlIHNjcm9sbGluZyBhbmQgZnVydGhlclxuLy8gICBoYW5kbGVycyBvciB0aGUgZGVmYXVsdCBiZWhhdmlvciBzaG91bGQgYmUgdHJpZWQuXG4vL1xuLy8gICBjcmVhdGVTZWxlY3Rpb25CZXR3ZWVuOjogPyh2aWV3OiBFZGl0b3JWaWV3LCBhbmNob3I6IFJlc29sdmVkUG9zLCBoZWFkOiBSZXNvbHZlZFBvcykg4oaSID9TZWxlY3Rpb25cbi8vICAgQ2FuIGJlIHVzZWQgdG8gb3ZlcnJpZGUgdGhlIHdheSBhIHNlbGVjdGlvbiBpcyBjcmVhdGVkIHdoZW5cbi8vICAgcmVhZGluZyBhIERPTSBzZWxlY3Rpb24gYmV0d2VlbiB0aGUgZ2l2ZW4gYW5jaG9yIGFuZCBoZWFkLlxuLy9cbi8vICAgZG9tUGFyc2VyOjogP0RPTVBhcnNlclxuLy8gICBUaGUgW3BhcnNlcl0oI21vZGVsLkRPTVBhcnNlcikgdG8gdXNlIHdoZW4gcmVhZGluZyBlZGl0b3IgY2hhbmdlc1xuLy8gICBmcm9tIHRoZSBET00uIERlZmF1bHRzIHRvIGNhbGxpbmdcbi8vICAgW2BET01QYXJzZXIuZnJvbVNjaGVtYWBdKCNtb2RlbC5ET01QYXJzZXJeZnJvbVNjaGVtYSkgb24gdGhlXG4vLyAgIGVkaXRvcidzIHNjaGVtYS5cbi8vXG4vLyAgIHRyYW5zZm9ybVBhc3RlZEhUTUw6OiA/KGh0bWw6IHN0cmluZykg4oaSIHN0cmluZ1xuLy8gICBDYW4gYmUgdXNlZCB0byB0cmFuc2Zvcm0gcGFzdGVkIEhUTUwgdGV4dCwgX2JlZm9yZV8gaXQgaXMgcGFyc2VkLFxuLy8gICBmb3IgZXhhbXBsZSB0byBjbGVhbiBpdCB1cC5cbi8vXG4vLyAgIGNsaXBib2FyZFBhcnNlcjo6ID9ET01QYXJzZXJcbi8vICAgVGhlIFtwYXJzZXJdKCNtb2RlbC5ET01QYXJzZXIpIHRvIHVzZSB3aGVuIHJlYWRpbmcgY29udGVudCBmcm9tXG4vLyAgIHRoZSBjbGlwYm9hcmQuIFdoZW4gbm90IGdpdmVuLCB0aGUgdmFsdWUgb2YgdGhlXG4vLyAgIFtgZG9tUGFyc2VyYF0oI3ZpZXcuRWRpdG9yUHJvcHMuZG9tUGFyc2VyKSBwcm9wIGlzIHVzZWQuXG4vL1xuLy8gICB0cmFuc2Zvcm1QYXN0ZWRUZXh0OjogPyh0ZXh0OiBzdHJpbmcpIOKGkiBzdHJpbmdcbi8vICAgVHJhbnNmb3JtIHBhc3RlZCBwbGFpbiB0ZXh0LlxuLy9cbi8vICAgY2xpcGJvYXJkVGV4dFBhcnNlcjo6ID8odGV4dDogc3RyaW5nLCAkY29udGV4dDogUmVzb2x2ZWRQb3MpIOKGkiBTbGljZVxuLy8gICBBIGZ1bmN0aW9uIHRvIHBhcnNlIHRleHQgZnJvbSB0aGUgY2xpcGJvYXJkIGludG8gYSBkb2N1bWVudFxuLy8gICBzbGljZS4gQ2FsbGVkIGFmdGVyXG4vLyAgIFtgdHJhbnNmb3JtUGFzdGVkVGV4dGBdKCN2aWV3LkVkaXRvclByb3BzLnRyYW5zZm9ybVBhc3RlZFRleHQpLlxuLy8gICBUaGUgZGVmYXVsdCBiZWhhdmlvciBpcyB0byBzcGxpdCB0aGUgdGV4dCBpbnRvIGxpbmVzLCB3cmFwIHRoZW1cbi8vICAgaW4gYDxwPmAgdGFncywgYW5kIGNhbGxcbi8vICAgW2BjbGlwYm9hcmRQYXJzZXJgXSgjdmlldy5FZGl0b3JQcm9wcy5jbGlwYm9hcmRQYXJzZXIpIG9uIGl0LlxuLy9cbi8vICAgdHJhbnNmb3JtUGFzdGVkOjogPyhTbGljZSkg4oaSIFNsaWNlXG4vLyAgIENhbiBiZSB1c2VkIHRvIHRyYW5zZm9ybSBwYXN0ZWQgY29udGVudCBiZWZvcmUgaXQgaXMgYXBwbGllZCB0b1xuLy8gICB0aGUgZG9jdW1lbnQuXG4vL1xuLy8gICBub2RlVmlld3M6OiA/T2JqZWN0PChub2RlOiBOb2RlLCB2aWV3OiBFZGl0b3JWaWV3LCBnZXRQb3M6ICgpIOKGkiBudW1iZXIsIGRlY29yYXRpb25zOiBbRGVjb3JhdGlvbl0pIOKGkiBOb2RlVmlldz5cbi8vICAgQWxsb3dzIHlvdSB0byBwYXNzIGN1c3RvbSByZW5kZXJpbmcgYW5kIGJlaGF2aW9yIGxvZ2ljIGZvciBub2Rlc1xuLy8gICBhbmQgbWFya3MuIFNob3VsZCBtYXAgbm9kZSBhbmQgbWFyayBuYW1lcyB0byBjb25zdHJ1Y3RvclxuLy8gICBmdW5jdGlvbnMgdGhhdCBwcm9kdWNlIGEgW2BOb2RlVmlld2BdKCN2aWV3Lk5vZGVWaWV3KSBvYmplY3Rcbi8vICAgaW1wbGVtZW50aW5nIHRoZSBub2RlJ3MgZGlzcGxheSBiZWhhdmlvci4gYGdldFBvc2AgaXMgYSBmdW5jdGlvblxuLy8gICB0aGF0IGNhbiBiZSBjYWxsZWQgdG8gZ2V0IHRoZSBub2RlJ3MgY3VycmVudCBwb3NpdGlvbiwgd2hpY2ggY2FuXG4vLyAgIGJlIHVzZWZ1bCB3aGVuIGNyZWF0aW5nIHRyYW5zYWN0aW9ucyB0byB1cGRhdGUgaXQuXG4vL1xuLy8gICBgZGVjb3JhdGlvbnNgIGlzIGFuIGFycmF5IG9mIG5vZGUgb3IgaW5saW5lIGRlY29yYXRpb25zIHRoYXQgYXJlXG4vLyAgIGFjdGl2ZSBhcm91bmQgdGhlIG5vZGUuIFRoZXkgYXJlIGF1dG9tYXRpY2FsbHkgZHJhd24gaW4gdGhlXG4vLyAgIG5vcm1hbCB3YXksIGFuZCB5b3Ugd2lsbCB1c3VhbGx5IGp1c3Qgd2FudCB0byBpZ25vcmUgdGhpcywgYnV0XG4vLyAgIHRoZXkgY2FuIGFsc28gYmUgdXNlZCBhcyBhIHdheSB0byBwcm92aWRlIGNvbnRleHQgaW5mb3JtYXRpb24gdG9cbi8vICAgdGhlIG5vZGUgdmlldyB3aXRob3V0IGFkZGluZyBpdCB0byB0aGUgZG9jdW1lbnQgaXRzZWxmLlxuLy9cbi8vICAgY2xpcGJvYXJkU2VyaWFsaXplcjo6ID9ET01TZXJpYWxpemVyXG4vLyAgIFRoZSBET00gc2VyaWFsaXplciB0byB1c2Ugd2hlbiBwdXR0aW5nIGNvbnRlbnQgb250byB0aGVcbi8vICAgY2xpcGJvYXJkLiBJZiBub3QgZ2l2ZW4sIHRoZSByZXN1bHQgb2Zcbi8vICAgW2BET01TZXJpYWxpemVyLmZyb21TY2hlbWFgXSgjbW9kZWwuRE9NU2VyaWFsaXplcl5mcm9tU2NoZW1hKVxuLy8gICB3aWxsIGJlIHVzZWQuXG4vL1xuLy8gICBjbGlwYm9hcmRUZXh0U2VyaWFsaXplcjo6ID8oU2xpY2UpIOKGkiBzdHJpbmdcbi8vICAgQSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHRvIGdldCB0aGUgdGV4dCBmb3IgdGhlIGN1cnJlbnRcbi8vICAgc2VsZWN0aW9uIHdoZW4gY29weWluZyB0ZXh0IHRvIHRoZSBjbGlwYm9hcmQuIEJ5IGRlZmF1bHQsIHRoZVxuLy8gICBlZGl0b3Igd2lsbCB1c2UgW2B0ZXh0QmV0d2VlbmBdKCNtb2RlbC5Ob2RlLnRleHRCZXR3ZWVuKSBvbiB0aGVcbi8vICAgc2VsZWN0ZWQgcmFuZ2UuXG4vL1xuLy8gICBkZWNvcmF0aW9uczo6ID8oc3RhdGU6IEVkaXRvclN0YXRlKSDihpIgP0RlY29yYXRpb25TZXRcbi8vICAgQSBzZXQgb2YgW2RvY3VtZW50IGRlY29yYXRpb25zXSgjdmlldy5EZWNvcmF0aW9uKSB0byBzaG93IGluIHRoZVxuLy8gICB2aWV3LlxuLy9cbi8vICAgZWRpdGFibGU6OiA/KHN0YXRlOiBFZGl0b3JTdGF0ZSkg4oaSIGJvb2xcbi8vICAgV2hlbiB0aGlzIHJldHVybnMgZmFsc2UsIHRoZSBjb250ZW50IG9mIHRoZSB2aWV3IGlzIG5vdCBkaXJlY3RseVxuLy8gICBlZGl0YWJsZS5cbi8vXG4vLyAgIGF0dHJpYnV0ZXM6OiA/dW5pb248T2JqZWN0PHN0cmluZz4sIChFZGl0b3JTdGF0ZSkg4oaSID9PYmplY3Q8c3RyaW5nPj5cbi8vICAgQ29udHJvbCB0aGUgRE9NIGF0dHJpYnV0ZXMgb2YgdGhlIGVkaXRhYmxlIGVsZW1lbnQuIE1heSBiZSBlaXRoZXJcbi8vICAgYW4gb2JqZWN0IG9yIGEgZnVuY3Rpb24gZ29pbmcgZnJvbSBhbiBlZGl0b3Igc3RhdGUgdG8gYW4gb2JqZWN0LlxuLy8gICBCeSBkZWZhdWx0LCB0aGUgZWxlbWVudCB3aWxsIGdldCBhIGNsYXNzIGBcIlByb3NlTWlycm9yXCJgLCBhbmRcbi8vICAgd2lsbCBoYXZlIGl0cyBgY29udGVudEVkaXRhYmxlYCBhdHRyaWJ1dGUgZGV0ZXJtaW5lZCBieSB0aGVcbi8vICAgW2BlZGl0YWJsZWAgcHJvcF0oI3ZpZXcuRWRpdG9yUHJvcHMuZWRpdGFibGUpLiBBZGRpdGlvbmFsIGNsYXNzZXNcbi8vICAgcHJvdmlkZWQgaGVyZSB3aWxsIGJlIGFkZGVkIHRvIHRoZSBjbGFzcy4gRm9yIG90aGVyIGF0dHJpYnV0ZXMsXG4vLyAgIHRoZSB2YWx1ZSBwcm92aWRlZCBmaXJzdCAoYXMgaW5cbi8vICAgW2Bzb21lUHJvcGBdKCN2aWV3LkVkaXRvclZpZXcuc29tZVByb3ApKSB3aWxsIGJlIHVzZWQuXG4vL1xuLy8gICBzY3JvbGxUaHJlc2hvbGQ6OiA/bnVtYmVyXG4vLyAgIERldGVybWluZXMgdGhlIGRpc3RhbmNlIChpbiBwaXhlbHMpIGJldHdlZW4gdGhlIGN1cnNvciBhbmQgdGhlXG4vLyAgIGVuZCBvZiB0aGUgdmlzaWJsZSB2aWV3cG9ydCBhdCB3aGljaCBwb2ludCwgd2hlbiBzY3JvbGxpbmcgdGhlXG4vLyAgIGN1cnNvciBpbnRvIHZpZXcsIHNjcm9sbGluZyB0YWtlcyBwbGFjZS4gRGVmYXVsdHMgdG8gMC5cbi8vXG4vLyAgIHNjcm9sbE1hcmdpbjo6ID9udW1iZXJcbi8vICAgRGV0ZXJtaW5lcyB0aGUgZXh0cmEgc3BhY2UgKGluIHBpeGVscykgdGhhdCBpcyBsZWZ0IGFib3ZlIG9yXG4vLyAgIGJlbG93IHRoZSBjdXJzb3Igd2hlbiBpdCBpcyBzY3JvbGxlZCBpbnRvIHZpZXcuIERlZmF1bHRzIHRvIDUuXG5cbi8vIERpcmVjdEVkaXRvclByb3BzOjogaW50ZXJmYWNlIGV4dGVuZHMgRWRpdG9yUHJvcHNcbi8vXG4vLyBUaGUgcHJvcHMgb2JqZWN0IGdpdmVuIGRpcmVjdGx5IHRvIHRoZSBlZGl0b3IgdmlldyBzdXBwb3J0cyB0d29cbi8vIGZpZWxkcyB0aGF0IGNhbid0IGJlIHVzZWQgaW4gcGx1Z2luczpcbi8vXG4vLyAgIHN0YXRlOjogRWRpdG9yU3RhdGVcbi8vICAgVGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIGVkaXRvci5cbi8vXG4vLyAgIGRpc3BhdGNoVHJhbnNhY3Rpb246OiA/KHRyOiBUcmFuc2FjdGlvbilcbi8vICAgVGhlIGNhbGxiYWNrIG92ZXIgd2hpY2ggdG8gc2VuZCB0cmFuc2FjdGlvbnMgKHN0YXRlIHVwZGF0ZXMpXG4vLyAgIHByb2R1Y2VkIGJ5IHRoZSB2aWV3LiBJZiB5b3Ugc3BlY2lmeSB0aGlzLCB5b3UgcHJvYmFibHkgd2FudCB0b1xuLy8gICBtYWtlIHN1cmUgdGhpcyBlbmRzIHVwIGNhbGxpbmcgdGhlIHZpZXcnc1xuLy8gICBbYHVwZGF0ZVN0YXRlYF0oI3ZpZXcuRWRpdG9yVmlldy51cGRhdGVTdGF0ZSkgbWV0aG9kIHdpdGggYSBuZXdcbi8vICAgc3RhdGUgdGhhdCBoYXMgdGhlIHRyYW5zYWN0aW9uXG4vLyAgIFthcHBsaWVkXSgjc3RhdGUuRWRpdG9yU3RhdGUuYXBwbHkpLlxuXG5leHBvcnRzLkVkaXRvclZpZXcgPSBFZGl0b3JWaWV3O1xuZXhwb3J0cy5EZWNvcmF0aW9uID0gRGVjb3JhdGlvbjtcbmV4cG9ydHMuRGVjb3JhdGlvblNldCA9IERlY29yYXRpb25TZXQ7XG5leHBvcnRzLl9fc2VyaWFsaXplRm9yQ2xpcGJvYXJkID0gc2VyaWFsaXplRm9yQ2xpcGJvYXJkO1xuZXhwb3J0cy5fX3BhcnNlRnJvbUNsaXBib2FyZCA9IHBhcnNlRnJvbUNsaXBib2FyZDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG52YXIgcHJvc2VtaXJyb3JNb2RlbCA9IHJlcXVpcmUoJ3Byb3NlbWlycm9yLW1vZGVsJyk7XG5cbi8vIDo6IE9iamVjdFxuLy8gW1NwZWNzXSgjbW9kZWwuTm9kZVNwZWMpIGZvciB0aGUgbm9kZXMgZGVmaW5lZCBpbiB0aGlzIHNjaGVtYS5cbnZhciBub2RlcyA9IHtcbiAgLy8gOjogTm9kZVNwZWMgVGhlIHRvcCBsZXZlbCBkb2N1bWVudCBub2RlLlxuICBkb2M6IHtcbiAgICBjb250ZW50OiBcImJsb2NrK1wiXG4gIH0sXG5cbiAgLy8gOjogTm9kZVNwZWMgQSBwbGFpbiBwYXJhZ3JhcGggdGV4dGJsb2NrLiBSZXByZXNlbnRlZCBpbiB0aGUgRE9NXG4gIC8vIGFzIGEgYDxwPmAgZWxlbWVudC5cbiAgcGFyYWdyYXBoOiB7XG4gICAgY29udGVudDogXCJpbmxpbmUqXCIsXG4gICAgZ3JvdXA6IFwiYmxvY2tcIixcbiAgICBwYXJzZURPTTogW3t0YWc6IFwicFwifV0sXG4gICAgdG9ET006IGZ1bmN0aW9uIHRvRE9NKCkgeyByZXR1cm4gW1wicFwiLCAwXSB9XG4gIH0sXG5cbiAgLy8gOjogTm9kZVNwZWMgQSBibG9ja3F1b3RlIChgPGJsb2NrcXVvdGU+YCkgd3JhcHBpbmcgb25lIG9yIG1vcmUgYmxvY2tzLlxuICBibG9ja3F1b3RlOiB7XG4gICAgY29udGVudDogXCJibG9jaytcIixcbiAgICBncm91cDogXCJibG9ja1wiLFxuICAgIGRlZmluaW5nOiB0cnVlLFxuICAgIHBhcnNlRE9NOiBbe3RhZzogXCJibG9ja3F1b3RlXCJ9XSxcbiAgICB0b0RPTTogZnVuY3Rpb24gdG9ET00oKSB7IHJldHVybiBbXCJibG9ja3F1b3RlXCIsIDBdIH1cbiAgfSxcblxuICAvLyA6OiBOb2RlU3BlYyBBIGhvcml6b250YWwgcnVsZSAoYDxocj5gKS5cbiAgaG9yaXpvbnRhbF9ydWxlOiB7XG4gICAgZ3JvdXA6IFwiYmxvY2tcIixcbiAgICBwYXJzZURPTTogW3t0YWc6IFwiaHJcIn1dLFxuICAgIHRvRE9NOiBmdW5jdGlvbiB0b0RPTSgpIHsgcmV0dXJuIFtcImhyXCJdIH1cbiAgfSxcblxuICAvLyA6OiBOb2RlU3BlYyBBIGhlYWRpbmcgdGV4dGJsb2NrLCB3aXRoIGEgYGxldmVsYCBhdHRyaWJ1dGUgdGhhdFxuICAvLyBzaG91bGQgaG9sZCB0aGUgbnVtYmVyIDEgdG8gNi4gUGFyc2VkIGFuZCBzZXJpYWxpemVkIGFzIGA8aDE+YCB0b1xuICAvLyBgPGg2PmAgZWxlbWVudHMuXG4gIGhlYWRpbmc6IHtcbiAgICBhdHRyczoge2xldmVsOiB7ZGVmYXVsdDogMX19LFxuICAgIGNvbnRlbnQ6IFwiaW5saW5lKlwiLFxuICAgIGdyb3VwOiBcImJsb2NrXCIsXG4gICAgZGVmaW5pbmc6IHRydWUsXG4gICAgcGFyc2VET006IFt7dGFnOiBcImgxXCIsIGF0dHJzOiB7bGV2ZWw6IDF9fSxcbiAgICAgICAgICAgICAgIHt0YWc6IFwiaDJcIiwgYXR0cnM6IHtsZXZlbDogMn19LFxuICAgICAgICAgICAgICAge3RhZzogXCJoM1wiLCBhdHRyczoge2xldmVsOiAzfX0sXG4gICAgICAgICAgICAgICB7dGFnOiBcImg0XCIsIGF0dHJzOiB7bGV2ZWw6IDR9fSxcbiAgICAgICAgICAgICAgIHt0YWc6IFwiaDVcIiwgYXR0cnM6IHtsZXZlbDogNX19LFxuICAgICAgICAgICAgICAge3RhZzogXCJoNlwiLCBhdHRyczoge2xldmVsOiA2fX1dLFxuICAgIHRvRE9NOiBmdW5jdGlvbiB0b0RPTShub2RlKSB7IHJldHVybiBbXCJoXCIgKyBub2RlLmF0dHJzLmxldmVsLCAwXSB9XG4gIH0sXG5cbiAgLy8gOjogTm9kZVNwZWMgQSBjb2RlIGxpc3RpbmcuIERpc2FsbG93cyBtYXJrcyBvciBub24tdGV4dCBpbmxpbmVcbiAgLy8gbm9kZXMgYnkgZGVmYXVsdC4gUmVwcmVzZW50ZWQgYXMgYSBgPHByZT5gIGVsZW1lbnQgd2l0aCBhXG4gIC8vIGA8Y29kZT5gIGVsZW1lbnQgaW5zaWRlIG9mIGl0LlxuICBjb2RlX2Jsb2NrOiB7XG4gICAgY29udGVudDogXCJ0ZXh0KlwiLFxuICAgIG1hcmtzOiBcIlwiLFxuICAgIGdyb3VwOiBcImJsb2NrXCIsXG4gICAgY29kZTogdHJ1ZSxcbiAgICBkZWZpbmluZzogdHJ1ZSxcbiAgICBwYXJzZURPTTogW3t0YWc6IFwicHJlXCIsIHByZXNlcnZlV2hpdGVzcGFjZTogXCJmdWxsXCJ9XSxcbiAgICB0b0RPTTogZnVuY3Rpb24gdG9ET00oKSB7IHJldHVybiBbXCJwcmVcIiwgW1wiY29kZVwiLCAwXV0gfVxuICB9LFxuXG4gIC8vIDo6IE5vZGVTcGVjIFRoZSB0ZXh0IG5vZGUuXG4gIHRleHQ6IHtcbiAgICBncm91cDogXCJpbmxpbmVcIlxuICB9LFxuXG4gIC8vIDo6IE5vZGVTcGVjIEFuIGlubGluZSBpbWFnZSAoYDxpbWc+YCkgbm9kZS4gU3VwcG9ydHMgYHNyY2AsXG4gIC8vIGBhbHRgLCBhbmQgYGhyZWZgIGF0dHJpYnV0ZXMuIFRoZSBsYXR0ZXIgdHdvIGRlZmF1bHQgdG8gdGhlIGVtcHR5XG4gIC8vIHN0cmluZy5cbiAgaW1hZ2U6IHtcbiAgICBpbmxpbmU6IHRydWUsXG4gICAgYXR0cnM6IHtcbiAgICAgIHNyYzoge30sXG4gICAgICBhbHQ6IHtkZWZhdWx0OiBudWxsfSxcbiAgICAgIHRpdGxlOiB7ZGVmYXVsdDogbnVsbH1cbiAgICB9LFxuICAgIGdyb3VwOiBcImlubGluZVwiLFxuICAgIGRyYWdnYWJsZTogdHJ1ZSxcbiAgICBwYXJzZURPTTogW3t0YWc6IFwiaW1nW3NyY11cIiwgZ2V0QXR0cnM6IGZ1bmN0aW9uIGdldEF0dHJzKGRvbSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3JjOiBkb20uZ2V0QXR0cmlidXRlKFwic3JjXCIpLFxuICAgICAgICB0aXRsZTogZG9tLmdldEF0dHJpYnV0ZShcInRpdGxlXCIpLFxuICAgICAgICBhbHQ6IGRvbS5nZXRBdHRyaWJ1dGUoXCJhbHRcIilcbiAgICAgIH1cbiAgICB9fV0sXG4gICAgdG9ET006IGZ1bmN0aW9uIHRvRE9NKG5vZGUpIHsgcmV0dXJuIFtcImltZ1wiLCBub2RlLmF0dHJzXSB9XG4gIH0sXG5cbiAgLy8gOjogTm9kZVNwZWMgQSBoYXJkIGxpbmUgYnJlYWssIHJlcHJlc2VudGVkIGluIHRoZSBET00gYXMgYDxicj5gLlxuICBoYXJkX2JyZWFrOiB7XG4gICAgaW5saW5lOiB0cnVlLFxuICAgIGdyb3VwOiBcImlubGluZVwiLFxuICAgIHNlbGVjdGFibGU6IGZhbHNlLFxuICAgIHBhcnNlRE9NOiBbe3RhZzogXCJiclwifV0sXG4gICAgdG9ET006IGZ1bmN0aW9uIHRvRE9NKCkgeyByZXR1cm4gW1wiYnJcIl0gfVxuICB9XG59O1xuXG4vLyA6OiBPYmplY3QgW1NwZWNzXSgjbW9kZWwuTWFya1NwZWMpIGZvciB0aGUgbWFya3MgaW4gdGhlIHNjaGVtYS5cbnZhciBtYXJrcyA9IHtcbiAgLy8gOjogTWFya1NwZWMgQSBsaW5rLiBIYXMgYGhyZWZgIGFuZCBgdGl0bGVgIGF0dHJpYnV0ZXMuIGB0aXRsZWBcbiAgLy8gZGVmYXVsdHMgdG8gdGhlIGVtcHR5IHN0cmluZy4gUmVuZGVyZWQgYW5kIHBhcnNlZCBhcyBhbiBgPGE+YFxuICAvLyBlbGVtZW50LlxuICBsaW5rOiB7XG4gICAgYXR0cnM6IHtcbiAgICAgIGhyZWY6IHt9LFxuICAgICAgdGl0bGU6IHtkZWZhdWx0OiBudWxsfVxuICAgIH0sXG4gICAgaW5jbHVzaXZlOiBmYWxzZSxcbiAgICBwYXJzZURPTTogW3t0YWc6IFwiYVtocmVmXVwiLCBnZXRBdHRyczogZnVuY3Rpb24gZ2V0QXR0cnMoZG9tKSB7XG4gICAgICByZXR1cm4ge2hyZWY6IGRvbS5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpLCB0aXRsZTogZG9tLmdldEF0dHJpYnV0ZShcInRpdGxlXCIpfVxuICAgIH19XSxcbiAgICB0b0RPTTogZnVuY3Rpb24gdG9ET00obm9kZSkgeyByZXR1cm4gW1wiYVwiLCBub2RlLmF0dHJzXSB9XG4gIH0sXG5cbiAgLy8gOjogTWFya1NwZWMgQW4gZW1waGFzaXMgbWFyay4gUmVuZGVyZWQgYXMgYW4gYDxlbT5gIGVsZW1lbnQuXG4gIC8vIEhhcyBwYXJzZSBydWxlcyB0aGF0IGFsc28gbWF0Y2ggYDxpPmAgYW5kIGBmb250LXN0eWxlOiBpdGFsaWNgLlxuICBlbToge1xuICAgIHBhcnNlRE9NOiBbe3RhZzogXCJpXCJ9LCB7dGFnOiBcImVtXCJ9LCB7c3R5bGU6IFwiZm9udC1zdHlsZT1pdGFsaWNcIn1dLFxuICAgIHRvRE9NOiBmdW5jdGlvbiB0b0RPTSgpIHsgcmV0dXJuIFtcImVtXCJdIH1cbiAgfSxcblxuICAvLyA6OiBNYXJrU3BlYyBBIHN0cm9uZyBtYXJrLiBSZW5kZXJlZCBhcyBgPHN0cm9uZz5gLCBwYXJzZSBydWxlc1xuICAvLyBhbHNvIG1hdGNoIGA8Yj5gIGFuZCBgZm9udC13ZWlnaHQ6IGJvbGRgLlxuICBzdHJvbmc6IHtcbiAgICBwYXJzZURPTTogW3t0YWc6IFwic3Ryb25nXCJ9LFxuICAgICAgICAgICAgICAgLy8gVGhpcyB3b3JrcyBhcm91bmQgYSBHb29nbGUgRG9jcyBtaXNiZWhhdmlvciB3aGVyZVxuICAgICAgICAgICAgICAgLy8gcGFzdGVkIGNvbnRlbnQgd2lsbCBiZSBpbmV4cGxpY2FibHkgd3JhcHBlZCBpbiBgPGI+YFxuICAgICAgICAgICAgICAgLy8gdGFncyB3aXRoIGEgZm9udC13ZWlnaHQgbm9ybWFsLlxuICAgICAgICAgICAgICAge3RhZzogXCJiXCIsIGdldEF0dHJzOiBmdW5jdGlvbiAobm9kZSkgeyByZXR1cm4gbm9kZS5zdHlsZS5mb250V2VpZ2h0ICE9IFwibm9ybWFsXCIgJiYgbnVsbDsgfX0sXG4gICAgICAgICAgICAgICB7c3R5bGU6IFwiZm9udC13ZWlnaHRcIiwgZ2V0QXR0cnM6IGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gL14oYm9sZChlcik/fFs1LTldXFxkezIsfSkkLy50ZXN0KHZhbHVlKSAmJiBudWxsOyB9fV0sXG4gICAgdG9ET006IGZ1bmN0aW9uIHRvRE9NKCkgeyByZXR1cm4gW1wic3Ryb25nXCJdIH1cbiAgfSxcblxuICAvLyA6OiBNYXJrU3BlYyBDb2RlIGZvbnQgbWFyay4gUmVwcmVzZW50ZWQgYXMgYSBgPGNvZGU+YCBlbGVtZW50LlxuICBjb2RlOiB7XG4gICAgcGFyc2VET006IFt7dGFnOiBcImNvZGVcIn1dLFxuICAgIHRvRE9NOiBmdW5jdGlvbiB0b0RPTSgpIHsgcmV0dXJuIFtcImNvZGVcIl0gfVxuICB9XG59O1xuXG4vLyA6OiBTY2hlbWFcbi8vIFRoaXMgc2NoZW1hIHJvdWdseSBjb3JyZXNwb25kcyB0byB0aGUgZG9jdW1lbnQgc2NoZW1hIHVzZWQgYnlcbi8vIFtDb21tb25NYXJrXShodHRwOi8vY29tbW9ubWFyay5vcmcvKSwgbWludXMgdGhlIGxpc3QgZWxlbWVudHMsXG4vLyB3aGljaCBhcmUgZGVmaW5lZCBpbiB0aGUgW2Bwcm9zZW1pcnJvci1zY2hlbWEtbGlzdGBdKCNzY2hlbWEtbGlzdClcbi8vIG1vZHVsZS5cbi8vXG4vLyBUbyByZXVzZSBlbGVtZW50cyBmcm9tIHRoaXMgc2NoZW1hLCBleHRlbmQgb3IgcmVhZCBmcm9tIGl0c1xuLy8gYHNwZWMubm9kZXNgIGFuZCBgc3BlYy5tYXJrc2AgW3Byb3BlcnRpZXNdKCNtb2RlbC5TY2hlbWEuc3BlYykuXG52YXIgc2NoZW1hID0gbmV3IHByb3NlbWlycm9yTW9kZWwuU2NoZW1hKHtub2Rlczogbm9kZXMsIG1hcmtzOiBtYXJrc30pO1xuXG5leHBvcnRzLm5vZGVzID0gbm9kZXM7XG5leHBvcnRzLm1hcmtzID0gbWFya3M7XG5leHBvcnRzLnNjaGVtYSA9IHNjaGVtYTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjaGVtYS1iYXNpYy5qcy5tYXBcbiIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcblxudmFyIHByb3NlbWlycm9yVHJhbnNmb3JtID0gcmVxdWlyZSgncHJvc2VtaXJyb3ItdHJhbnNmb3JtJyk7XG52YXIgcHJvc2VtaXJyb3JNb2RlbCA9IHJlcXVpcmUoJ3Byb3NlbWlycm9yLW1vZGVsJyk7XG5cbnZhciBvbERPTSA9IFtcIm9sXCIsIDBdO1xudmFyIHVsRE9NID0gW1widWxcIiwgMF07XG52YXIgbGlET00gPSBbXCJsaVwiLCAwXTtcblxuLy8gOjogTm9kZVNwZWNcbi8vIEFuIG9yZGVyZWQgbGlzdCBbbm9kZSBzcGVjXSgjbW9kZWwuTm9kZVNwZWMpLiBIYXMgYSBzaW5nbGVcbi8vIGF0dHJpYnV0ZSwgYG9yZGVyYCwgd2hpY2ggZGV0ZXJtaW5lcyB0aGUgbnVtYmVyIGF0IHdoaWNoIHRoZSBsaXN0XG4vLyBzdGFydHMgY291bnRpbmcsIGFuZCBkZWZhdWx0cyB0byAxLiBSZXByZXNlbnRlZCBhcyBhbiBgPG9sPmBcbi8vIGVsZW1lbnQuXG52YXIgb3JkZXJlZExpc3QgPSB7XG4gIGF0dHJzOiB7b3JkZXI6IHtkZWZhdWx0OiAxfX0sXG4gIHBhcnNlRE9NOiBbe3RhZzogXCJvbFwiLCBnZXRBdHRyczogZnVuY3Rpb24gZ2V0QXR0cnMoZG9tKSB7XG4gICAgcmV0dXJuIHtvcmRlcjogZG9tLmhhc0F0dHJpYnV0ZShcInN0YXJ0XCIpID8gK2RvbS5nZXRBdHRyaWJ1dGUoXCJzdGFydFwiKSA6IDF9XG4gIH19XSxcbiAgdG9ET006IGZ1bmN0aW9uIHRvRE9NKG5vZGUpIHtcbiAgICByZXR1cm4gbm9kZS5hdHRycy5vcmRlciA9PSAxID8gb2xET00gOiBbXCJvbFwiLCB7c3RhcnQ6IG5vZGUuYXR0cnMub3JkZXJ9LCAwXVxuICB9XG59O1xuXG4vLyA6OiBOb2RlU3BlY1xuLy8gQSBidWxsZXQgbGlzdCBub2RlIHNwZWMsIHJlcHJlc2VudGVkIGluIHRoZSBET00gYXMgYDx1bD5gLlxudmFyIGJ1bGxldExpc3QgPSB7XG4gIHBhcnNlRE9NOiBbe3RhZzogXCJ1bFwifV0sXG4gIHRvRE9NOiBmdW5jdGlvbiB0b0RPTSgpIHsgcmV0dXJuIHVsRE9NIH1cbn07XG5cbi8vIDo6IE5vZGVTcGVjXG4vLyBBIGxpc3QgaXRlbSAoYDxsaT5gKSBzcGVjLlxudmFyIGxpc3RJdGVtID0ge1xuICBwYXJzZURPTTogW3t0YWc6IFwibGlcIn1dLFxuICB0b0RPTTogZnVuY3Rpb24gdG9ET00oKSB7IHJldHVybiBsaURPTSB9LFxuICBkZWZpbmluZzogdHJ1ZVxufTtcblxuZnVuY3Rpb24gYWRkKG9iaiwgcHJvcHMpIHtcbiAgdmFyIGNvcHkgPSB7fTtcbiAgZm9yICh2YXIgcHJvcCBpbiBvYmopIHsgY29weVtwcm9wXSA9IG9ialtwcm9wXTsgfVxuICBmb3IgKHZhciBwcm9wJDEgaW4gcHJvcHMpIHsgY29weVtwcm9wJDFdID0gcHJvcHNbcHJvcCQxXTsgfVxuICByZXR1cm4gY29weVxufVxuXG4vLyA6OiAoT3JkZXJlZE1hcDxOb2RlU3BlYz4sIHN0cmluZywgP3N0cmluZykg4oaSIE9yZGVyZWRNYXA8Tm9kZVNwZWM+XG4vLyBDb252ZW5pZW5jZSBmdW5jdGlvbiBmb3IgYWRkaW5nIGxpc3QtcmVsYXRlZCBub2RlIHR5cGVzIHRvIGEgbWFwXG4vLyBzcGVjaWZ5aW5nIHRoZSBub2RlcyBmb3IgYSBzY2hlbWEuIEFkZHNcbi8vIFtgb3JkZXJlZExpc3RgXSgjc2NoZW1hLWxpc3Qub3JkZXJlZExpc3QpIGFzIGBcIm9yZGVyZWRfbGlzdFwiYCxcbi8vIFtgYnVsbGV0TGlzdGBdKCNzY2hlbWEtbGlzdC5idWxsZXRMaXN0KSBhcyBgXCJidWxsZXRfbGlzdFwiYCwgYW5kXG4vLyBbYGxpc3RJdGVtYF0oI3NjaGVtYS1saXN0Lmxpc3RJdGVtKSBhcyBgXCJsaXN0X2l0ZW1cImAuXG4vL1xuLy8gYGl0ZW1Db250ZW50YCBkZXRlcm1pbmVzIHRoZSBjb250ZW50IGV4cHJlc3Npb24gZm9yIHRoZSBsaXN0IGl0ZW1zLlxuLy8gSWYgeW91IHdhbnQgdGhlIGNvbW1hbmRzIGRlZmluZWQgaW4gdGhpcyBtb2R1bGUgdG8gYXBwbHkgdG8geW91clxuLy8gbGlzdCBzdHJ1Y3R1cmUsIGl0IHNob3VsZCBoYXZlIGEgc2hhcGUgbGlrZSBgXCJwYXJhZ3JhcGggYmxvY2sqXCJgIG9yXG4vLyBgXCJwYXJhZ3JhcGggKG9yZGVyZWRfbGlzdCB8IGJ1bGxldF9saXN0KSpcImAuIGBsaXN0R3JvdXBgIGNhbiBiZVxuLy8gZ2l2ZW4gdG8gYXNzaWduIGEgZ3JvdXAgbmFtZSB0byB0aGUgbGlzdCBub2RlIHR5cGVzLCBmb3IgZXhhbXBsZVxuLy8gYFwiYmxvY2tcImAuXG5mdW5jdGlvbiBhZGRMaXN0Tm9kZXMobm9kZXMsIGl0ZW1Db250ZW50LCBsaXN0R3JvdXApIHtcbiAgcmV0dXJuIG5vZGVzLmFwcGVuZCh7XG4gICAgb3JkZXJlZF9saXN0OiBhZGQob3JkZXJlZExpc3QsIHtjb250ZW50OiBcImxpc3RfaXRlbStcIiwgZ3JvdXA6IGxpc3RHcm91cH0pLFxuICAgIGJ1bGxldF9saXN0OiBhZGQoYnVsbGV0TGlzdCwge2NvbnRlbnQ6IFwibGlzdF9pdGVtK1wiLCBncm91cDogbGlzdEdyb3VwfSksXG4gICAgbGlzdF9pdGVtOiBhZGQobGlzdEl0ZW0sIHtjb250ZW50OiBpdGVtQ29udGVudH0pXG4gIH0pXG59XG5cbi8vIDo6IChOb2RlVHlwZSwgP09iamVjdCkg4oaSIChzdGF0ZTogRWRpdG9yU3RhdGUsIGRpc3BhdGNoOiA/KHRyOiBUcmFuc2FjdGlvbikpIOKGkiBib29sXG4vLyBSZXR1cm5zIGEgY29tbWFuZCBmdW5jdGlvbiB0aGF0IHdyYXBzIHRoZSBzZWxlY3Rpb24gaW4gYSBsaXN0IHdpdGhcbi8vIHRoZSBnaXZlbiB0eXBlIGFuIGF0dHJpYnV0ZXMuIElmIGBkaXNwYXRjaGAgaXMgbnVsbCwgb25seSByZXR1cm4gYVxuLy8gdmFsdWUgdG8gaW5kaWNhdGUgd2hldGhlciB0aGlzIGlzIHBvc3NpYmxlLCBidXQgZG9uJ3QgYWN0dWFsbHlcbi8vIHBlcmZvcm0gdGhlIGNoYW5nZS5cbmZ1bmN0aW9uIHdyYXBJbkxpc3QobGlzdFR5cGUsIGF0dHJzKSB7XG4gIHJldHVybiBmdW5jdGlvbihzdGF0ZSwgZGlzcGF0Y2gpIHtcbiAgICB2YXIgcmVmID0gc3RhdGUuc2VsZWN0aW9uO1xuICAgIHZhciAkZnJvbSA9IHJlZi4kZnJvbTtcbiAgICB2YXIgJHRvID0gcmVmLiR0bztcbiAgICB2YXIgcmFuZ2UgPSAkZnJvbS5ibG9ja1JhbmdlKCR0byksIGRvSm9pbiA9IGZhbHNlLCBvdXRlclJhbmdlID0gcmFuZ2U7XG4gICAgaWYgKCFyYW5nZSkgeyByZXR1cm4gZmFsc2UgfVxuICAgIC8vIFRoaXMgaXMgYXQgdGhlIHRvcCBvZiBhbiBleGlzdGluZyBsaXN0IGl0ZW1cbiAgICBpZiAocmFuZ2UuZGVwdGggPj0gMiAmJiAkZnJvbS5ub2RlKHJhbmdlLmRlcHRoIC0gMSkudHlwZS5jb21wYXRpYmxlQ29udGVudChsaXN0VHlwZSkgJiYgcmFuZ2Uuc3RhcnRJbmRleCA9PSAwKSB7XG4gICAgICAvLyBEb24ndCBkbyBhbnl0aGluZyBpZiB0aGlzIGlzIHRoZSB0b3Agb2YgdGhlIGxpc3RcbiAgICAgIGlmICgkZnJvbS5pbmRleChyYW5nZS5kZXB0aCAtIDEpID09IDApIHsgcmV0dXJuIGZhbHNlIH1cbiAgICAgIHZhciAkaW5zZXJ0ID0gc3RhdGUuZG9jLnJlc29sdmUocmFuZ2Uuc3RhcnQgLSAyKTtcbiAgICAgIG91dGVyUmFuZ2UgPSBuZXcgcHJvc2VtaXJyb3JNb2RlbC5Ob2RlUmFuZ2UoJGluc2VydCwgJGluc2VydCwgcmFuZ2UuZGVwdGgpO1xuICAgICAgaWYgKHJhbmdlLmVuZEluZGV4IDwgcmFuZ2UucGFyZW50LmNoaWxkQ291bnQpXG4gICAgICAgIHsgcmFuZ2UgPSBuZXcgcHJvc2VtaXJyb3JNb2RlbC5Ob2RlUmFuZ2UoJGZyb20sIHN0YXRlLmRvYy5yZXNvbHZlKCR0by5lbmQocmFuZ2UuZGVwdGgpKSwgcmFuZ2UuZGVwdGgpOyB9XG4gICAgICBkb0pvaW4gPSB0cnVlO1xuICAgIH1cbiAgICB2YXIgd3JhcCA9IHByb3NlbWlycm9yVHJhbnNmb3JtLmZpbmRXcmFwcGluZyhvdXRlclJhbmdlLCBsaXN0VHlwZSwgYXR0cnMsIHJhbmdlKTtcbiAgICBpZiAoIXdyYXApIHsgcmV0dXJuIGZhbHNlIH1cbiAgICBpZiAoZGlzcGF0Y2gpIHsgZGlzcGF0Y2goZG9XcmFwSW5MaXN0KHN0YXRlLnRyLCByYW5nZSwgd3JhcCwgZG9Kb2luLCBsaXN0VHlwZSkuc2Nyb2xsSW50b1ZpZXcoKSk7IH1cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG59XG5cbmZ1bmN0aW9uIGRvV3JhcEluTGlzdCh0ciwgcmFuZ2UsIHdyYXBwZXJzLCBqb2luQmVmb3JlLCBsaXN0VHlwZSkge1xuICB2YXIgY29udGVudCA9IHByb3NlbWlycm9yTW9kZWwuRnJhZ21lbnQuZW1wdHk7XG4gIGZvciAodmFyIGkgPSB3cmFwcGVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcbiAgICB7IGNvbnRlbnQgPSBwcm9zZW1pcnJvck1vZGVsLkZyYWdtZW50LmZyb20od3JhcHBlcnNbaV0udHlwZS5jcmVhdGUod3JhcHBlcnNbaV0uYXR0cnMsIGNvbnRlbnQpKTsgfVxuXG4gIHRyLnN0ZXAobmV3IHByb3NlbWlycm9yVHJhbnNmb3JtLlJlcGxhY2VBcm91bmRTdGVwKHJhbmdlLnN0YXJ0IC0gKGpvaW5CZWZvcmUgPyAyIDogMCksIHJhbmdlLmVuZCwgcmFuZ2Uuc3RhcnQsIHJhbmdlLmVuZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IHByb3NlbWlycm9yTW9kZWwuU2xpY2UoY29udGVudCwgMCwgMCksIHdyYXBwZXJzLmxlbmd0aCwgdHJ1ZSkpO1xuXG4gIHZhciBmb3VuZCA9IDA7XG4gIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IHdyYXBwZXJzLmxlbmd0aDsgaSQxKyspIHsgaWYgKHdyYXBwZXJzW2kkMV0udHlwZSA9PSBsaXN0VHlwZSkgeyBmb3VuZCA9IGkkMSArIDE7IH0gfVxuICB2YXIgc3BsaXREZXB0aCA9IHdyYXBwZXJzLmxlbmd0aCAtIGZvdW5kO1xuXG4gIHZhciBzcGxpdFBvcyA9IHJhbmdlLnN0YXJ0ICsgd3JhcHBlcnMubGVuZ3RoIC0gKGpvaW5CZWZvcmUgPyAyIDogMCksIHBhcmVudCA9IHJhbmdlLnBhcmVudDtcbiAgZm9yICh2YXIgaSQyID0gcmFuZ2Uuc3RhcnRJbmRleCwgZSA9IHJhbmdlLmVuZEluZGV4LCBmaXJzdCA9IHRydWU7IGkkMiA8IGU7IGkkMisrLCBmaXJzdCA9IGZhbHNlKSB7XG4gICAgaWYgKCFmaXJzdCAmJiBwcm9zZW1pcnJvclRyYW5zZm9ybS5jYW5TcGxpdCh0ci5kb2MsIHNwbGl0UG9zLCBzcGxpdERlcHRoKSkge1xuICAgICAgdHIuc3BsaXQoc3BsaXRQb3MsIHNwbGl0RGVwdGgpO1xuICAgICAgc3BsaXRQb3MgKz0gMiAqIHNwbGl0RGVwdGg7XG4gICAgfVxuICAgIHNwbGl0UG9zICs9IHBhcmVudC5jaGlsZChpJDIpLm5vZGVTaXplO1xuICB9XG4gIHJldHVybiB0clxufVxuXG4vLyA6OiAoTm9kZVR5cGUpIOKGkiAoc3RhdGU6IEVkaXRvclN0YXRlLCBkaXNwYXRjaDogPyh0cjogVHJhbnNhY3Rpb24pKSDihpIgYm9vbFxuLy8gQnVpbGQgYSBjb21tYW5kIHRoYXQgc3BsaXRzIGEgbm9uLWVtcHR5IHRleHRibG9jayBhdCB0aGUgdG9wIGxldmVsXG4vLyBvZiBhIGxpc3QgaXRlbSBieSBhbHNvIHNwbGl0dGluZyB0aGF0IGxpc3QgaXRlbS5cbmZ1bmN0aW9uIHNwbGl0TGlzdEl0ZW0oaXRlbVR5cGUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHN0YXRlLCBkaXNwYXRjaCkge1xuICAgIHZhciByZWYgPSBzdGF0ZS5zZWxlY3Rpb247XG4gICAgdmFyICRmcm9tID0gcmVmLiRmcm9tO1xuICAgIHZhciAkdG8gPSByZWYuJHRvO1xuICAgIHZhciBub2RlID0gcmVmLm5vZGU7XG4gICAgaWYgKChub2RlICYmIG5vZGUuaXNCbG9jaykgfHwgJGZyb20uZGVwdGggPCAyIHx8ICEkZnJvbS5zYW1lUGFyZW50KCR0bykpIHsgcmV0dXJuIGZhbHNlIH1cbiAgICB2YXIgZ3JhbmRQYXJlbnQgPSAkZnJvbS5ub2RlKC0xKTtcbiAgICBpZiAoZ3JhbmRQYXJlbnQudHlwZSAhPSBpdGVtVHlwZSkgeyByZXR1cm4gZmFsc2UgfVxuICAgIGlmICgkZnJvbS5wYXJlbnQuY29udGVudC5zaXplID09IDApIHtcbiAgICAgIC8vIEluIGFuIGVtcHR5IGJsb2NrLiBJZiB0aGlzIGlzIGEgbmVzdGVkIGxpc3QsIHRoZSB3cmFwcGluZ1xuICAgICAgLy8gbGlzdCBpdGVtIHNob3VsZCBiZSBzcGxpdC4gT3RoZXJ3aXNlLCBiYWlsIG91dCBhbmQgbGV0IG5leHRcbiAgICAgIC8vIGNvbW1hbmQgaGFuZGxlIGxpZnRpbmcuXG4gICAgICBpZiAoJGZyb20uZGVwdGggPT0gMiB8fCAkZnJvbS5ub2RlKC0zKS50eXBlICE9IGl0ZW1UeXBlIHx8XG4gICAgICAgICAgJGZyb20uaW5kZXgoLTIpICE9ICRmcm9tLm5vZGUoLTIpLmNoaWxkQ291bnQgLSAxKSB7IHJldHVybiBmYWxzZSB9XG4gICAgICBpZiAoZGlzcGF0Y2gpIHtcbiAgICAgICAgdmFyIHdyYXAgPSBwcm9zZW1pcnJvck1vZGVsLkZyYWdtZW50LmVtcHR5LCBrZWVwSXRlbSA9ICRmcm9tLmluZGV4KC0xKSA+IDA7XG4gICAgICAgIC8vIEJ1aWxkIGEgZnJhZ21lbnQgY29udGFpbmluZyBlbXB0eSB2ZXJzaW9ucyBvZiB0aGUgc3RydWN0dXJlXG4gICAgICAgIC8vIGZyb20gdGhlIG91dGVyIGxpc3QgaXRlbSB0byB0aGUgcGFyZW50IG5vZGUgb2YgdGhlIGN1cnNvclxuICAgICAgICBmb3IgKHZhciBkID0gJGZyb20uZGVwdGggLSAoa2VlcEl0ZW0gPyAxIDogMik7IGQgPj0gJGZyb20uZGVwdGggLSAzOyBkLS0pXG4gICAgICAgICAgeyB3cmFwID0gcHJvc2VtaXJyb3JNb2RlbC5GcmFnbWVudC5mcm9tKCRmcm9tLm5vZGUoZCkuY29weSh3cmFwKSk7IH1cbiAgICAgICAgLy8gQWRkIGEgc2Vjb25kIGxpc3QgaXRlbSB3aXRoIGFuIGVtcHR5IGRlZmF1bHQgc3RhcnQgbm9kZVxuICAgICAgICB3cmFwID0gd3JhcC5hcHBlbmQocHJvc2VtaXJyb3JNb2RlbC5GcmFnbWVudC5mcm9tKGl0ZW1UeXBlLmNyZWF0ZUFuZEZpbGwoKSkpO1xuICAgICAgICB2YXIgdHIkMSA9IHN0YXRlLnRyLnJlcGxhY2UoJGZyb20uYmVmb3JlKGtlZXBJdGVtID8gbnVsbCA6IC0xKSwgJGZyb20uYWZ0ZXIoLTMpLCBuZXcgcHJvc2VtaXJyb3JNb2RlbC5TbGljZSh3cmFwLCBrZWVwSXRlbSA/IDMgOiAyLCAyKSk7XG4gICAgICAgIHRyJDEuc2V0U2VsZWN0aW9uKHN0YXRlLnNlbGVjdGlvbi5jb25zdHJ1Y3Rvci5uZWFyKHRyJDEuZG9jLnJlc29sdmUoJGZyb20ucG9zICsgKGtlZXBJdGVtID8gMyA6IDIpKSkpO1xuICAgICAgICBkaXNwYXRjaCh0ciQxLnNjcm9sbEludG9WaWV3KCkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gICAgdmFyIG5leHRUeXBlID0gJHRvLnBvcyA9PSAkZnJvbS5lbmQoKSA/IGdyYW5kUGFyZW50LmRlZmF1bHRDb250ZW50VHlwZSgwKSA6IG51bGw7XG4gICAgdmFyIHRyID0gc3RhdGUudHIuZGVsZXRlKCRmcm9tLnBvcywgJHRvLnBvcyk7XG4gICAgdmFyIHR5cGVzID0gbmV4dFR5cGUgJiYgW251bGwsIHt0eXBlOiBuZXh0VHlwZX1dO1xuICAgIGlmICghcHJvc2VtaXJyb3JUcmFuc2Zvcm0uY2FuU3BsaXQodHIuZG9jLCAkZnJvbS5wb3MsIDIsIHR5cGVzKSkgeyByZXR1cm4gZmFsc2UgfVxuICAgIGlmIChkaXNwYXRjaCkgeyBkaXNwYXRjaCh0ci5zcGxpdCgkZnJvbS5wb3MsIDIsIHR5cGVzKS5zY3JvbGxJbnRvVmlldygpKTsgfVxuICAgIHJldHVybiB0cnVlXG4gIH1cbn1cblxuLy8gOjogKE5vZGVUeXBlKSDihpIgKHN0YXRlOiBFZGl0b3JTdGF0ZSwgZGlzcGF0Y2g6ID8odHI6IFRyYW5zYWN0aW9uKSkg4oaSIGJvb2xcbi8vIENyZWF0ZSBhIGNvbW1hbmQgdG8gbGlmdCB0aGUgbGlzdCBpdGVtIGFyb3VuZCB0aGUgc2VsZWN0aW9uIHVwIGludG9cbi8vIGEgd3JhcHBpbmcgbGlzdC5cbmZ1bmN0aW9uIGxpZnRMaXN0SXRlbShpdGVtVHlwZSkge1xuICByZXR1cm4gZnVuY3Rpb24oc3RhdGUsIGRpc3BhdGNoKSB7XG4gICAgdmFyIHJlZiA9IHN0YXRlLnNlbGVjdGlvbjtcbiAgICB2YXIgJGZyb20gPSByZWYuJGZyb207XG4gICAgdmFyICR0byA9IHJlZi4kdG87XG4gICAgdmFyIHJhbmdlID0gJGZyb20uYmxvY2tSYW5nZSgkdG8sIGZ1bmN0aW9uIChub2RlKSB7IHJldHVybiBub2RlLmNoaWxkQ291bnQgJiYgbm9kZS5maXJzdENoaWxkLnR5cGUgPT0gaXRlbVR5cGU7IH0pO1xuICAgIGlmICghcmFuZ2UpIHsgcmV0dXJuIGZhbHNlIH1cbiAgICBpZiAoIWRpc3BhdGNoKSB7IHJldHVybiB0cnVlIH1cbiAgICBpZiAoJGZyb20ubm9kZShyYW5nZS5kZXB0aCAtIDEpLnR5cGUgPT0gaXRlbVR5cGUpIC8vIEluc2lkZSBhIHBhcmVudCBsaXN0XG4gICAgICB7IHJldHVybiBsaWZ0VG9PdXRlckxpc3Qoc3RhdGUsIGRpc3BhdGNoLCBpdGVtVHlwZSwgcmFuZ2UpIH1cbiAgICBlbHNlIC8vIE91dGVyIGxpc3Qgbm9kZVxuICAgICAgeyByZXR1cm4gbGlmdE91dE9mTGlzdChzdGF0ZSwgZGlzcGF0Y2gsIHJhbmdlKSB9XG4gIH1cbn1cblxuZnVuY3Rpb24gbGlmdFRvT3V0ZXJMaXN0KHN0YXRlLCBkaXNwYXRjaCwgaXRlbVR5cGUsIHJhbmdlKSB7XG4gIHZhciB0ciA9IHN0YXRlLnRyLCBlbmQgPSByYW5nZS5lbmQsIGVuZE9mTGlzdCA9IHJhbmdlLiR0by5lbmQocmFuZ2UuZGVwdGgpO1xuICBpZiAoZW5kIDwgZW5kT2ZMaXN0KSB7XG4gICAgLy8gVGhlcmUgYXJlIHNpYmxpbmdzIGFmdGVyIHRoZSBsaWZ0ZWQgaXRlbXMsIHdoaWNoIG11c3QgYmVjb21lXG4gICAgLy8gY2hpbGRyZW4gb2YgdGhlIGxhc3QgaXRlbVxuICAgIHRyLnN0ZXAobmV3IHByb3NlbWlycm9yVHJhbnNmb3JtLlJlcGxhY2VBcm91bmRTdGVwKGVuZCAtIDEsIGVuZE9mTGlzdCwgZW5kLCBlbmRPZkxpc3QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IHByb3NlbWlycm9yTW9kZWwuU2xpY2UocHJvc2VtaXJyb3JNb2RlbC5GcmFnbWVudC5mcm9tKGl0ZW1UeXBlLmNyZWF0ZShudWxsLCByYW5nZS5wYXJlbnQuY29weSgpKSksIDEsIDApLCAxLCB0cnVlKSk7XG4gICAgcmFuZ2UgPSBuZXcgcHJvc2VtaXJyb3JNb2RlbC5Ob2RlUmFuZ2UodHIuZG9jLnJlc29sdmUocmFuZ2UuJGZyb20ucG9zKSwgdHIuZG9jLnJlc29sdmUoZW5kT2ZMaXN0KSwgcmFuZ2UuZGVwdGgpO1xuICB9XG4gIGRpc3BhdGNoKHRyLmxpZnQocmFuZ2UsIHByb3NlbWlycm9yVHJhbnNmb3JtLmxpZnRUYXJnZXQocmFuZ2UpKS5zY3JvbGxJbnRvVmlldygpKTtcbiAgcmV0dXJuIHRydWVcbn1cblxuZnVuY3Rpb24gbGlmdE91dE9mTGlzdChzdGF0ZSwgZGlzcGF0Y2gsIHJhbmdlKSB7XG4gIHZhciB0ciA9IHN0YXRlLnRyLCBsaXN0ID0gcmFuZ2UucGFyZW50O1xuICAvLyBNZXJnZSB0aGUgbGlzdCBpdGVtcyBpbnRvIGEgc2luZ2xlIGJpZyBpdGVtXG4gIGZvciAodmFyIHBvcyA9IHJhbmdlLmVuZCwgaSA9IHJhbmdlLmVuZEluZGV4IC0gMSwgZSA9IHJhbmdlLnN0YXJ0SW5kZXg7IGkgPiBlOyBpLS0pIHtcbiAgICBwb3MgLT0gbGlzdC5jaGlsZChpKS5ub2RlU2l6ZTtcbiAgICB0ci5kZWxldGUocG9zIC0gMSwgcG9zICsgMSk7XG4gIH1cbiAgdmFyICRzdGFydCA9IHRyLmRvYy5yZXNvbHZlKHJhbmdlLnN0YXJ0KSwgaXRlbSA9ICRzdGFydC5ub2RlQWZ0ZXI7XG4gIHZhciBhdFN0YXJ0ID0gcmFuZ2Uuc3RhcnRJbmRleCA9PSAwLCBhdEVuZCA9IHJhbmdlLmVuZEluZGV4ID09IGxpc3QuY2hpbGRDb3VudDtcbiAgdmFyIHBhcmVudCA9ICRzdGFydC5ub2RlKC0xKSwgaW5kZXhCZWZvcmUgPSAkc3RhcnQuaW5kZXgoLTEpO1xuICBpZiAoIXBhcmVudC5jYW5SZXBsYWNlKGluZGV4QmVmb3JlICsgKGF0U3RhcnQgPyAwIDogMSksIGluZGV4QmVmb3JlICsgMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmNvbnRlbnQuYXBwZW5kKGF0RW5kID8gcHJvc2VtaXJyb3JNb2RlbC5GcmFnbWVudC5lbXB0eSA6IHByb3NlbWlycm9yTW9kZWwuRnJhZ21lbnQuZnJvbShsaXN0KSkpKVxuICAgIHsgcmV0dXJuIGZhbHNlIH1cbiAgdmFyIHN0YXJ0ID0gJHN0YXJ0LnBvcywgZW5kID0gc3RhcnQgKyBpdGVtLm5vZGVTaXplO1xuICAvLyBTdHJpcCBvZmYgdGhlIHN1cnJvdW5kaW5nIGxpc3QuIEF0IHRoZSBzaWRlcyB3aGVyZSB3ZSdyZSBub3QgYXRcbiAgLy8gdGhlIGVuZCBvZiB0aGUgbGlzdCwgdGhlIGV4aXN0aW5nIGxpc3QgaXMgY2xvc2VkLiBBdCBzaWRlcyB3aGVyZVxuICAvLyB0aGlzIGlzIHRoZSBlbmQsIGl0IGlzIG92ZXJ3cml0dGVuIHRvIGl0cyBlbmQuXG4gIHRyLnN0ZXAobmV3IHByb3NlbWlycm9yVHJhbnNmb3JtLlJlcGxhY2VBcm91bmRTdGVwKHN0YXJ0IC0gKGF0U3RhcnQgPyAxIDogMCksIGVuZCArIChhdEVuZCA/IDEgOiAwKSwgc3RhcnQgKyAxLCBlbmQgLSAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgcHJvc2VtaXJyb3JNb2RlbC5TbGljZSgoYXRTdGFydCA/IHByb3NlbWlycm9yTW9kZWwuRnJhZ21lbnQuZW1wdHkgOiBwcm9zZW1pcnJvck1vZGVsLkZyYWdtZW50LmZyb20obGlzdC5jb3B5KHByb3NlbWlycm9yTW9kZWwuRnJhZ21lbnQuZW1wdHkpKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoYXRFbmQgPyBwcm9zZW1pcnJvck1vZGVsLkZyYWdtZW50LmVtcHR5IDogcHJvc2VtaXJyb3JNb2RlbC5GcmFnbWVudC5mcm9tKGxpc3QuY29weShwcm9zZW1pcnJvck1vZGVsLkZyYWdtZW50LmVtcHR5KSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXRTdGFydCA/IDAgOiAxLCBhdEVuZCA/IDAgOiAxKSwgYXRTdGFydCA/IDAgOiAxKSk7XG4gIGRpc3BhdGNoKHRyLnNjcm9sbEludG9WaWV3KCkpO1xuICByZXR1cm4gdHJ1ZVxufVxuXG4vLyA6OiAoTm9kZVR5cGUpIOKGkiAoc3RhdGU6IEVkaXRvclN0YXRlLCBkaXNwYXRjaDogPyh0cjogVHJhbnNhY3Rpb24pKSDihpIgYm9vbFxuLy8gQ3JlYXRlIGEgY29tbWFuZCB0byBzaW5rIHRoZSBsaXN0IGl0ZW0gYXJvdW5kIHRoZSBzZWxlY3Rpb24gZG93blxuLy8gaW50byBhbiBpbm5lciBsaXN0LlxuZnVuY3Rpb24gc2lua0xpc3RJdGVtKGl0ZW1UeXBlKSB7XG4gIHJldHVybiBmdW5jdGlvbihzdGF0ZSwgZGlzcGF0Y2gpIHtcbiAgICB2YXIgcmVmID0gc3RhdGUuc2VsZWN0aW9uO1xuICAgIHZhciAkZnJvbSA9IHJlZi4kZnJvbTtcbiAgICB2YXIgJHRvID0gcmVmLiR0bztcbiAgICB2YXIgcmFuZ2UgPSAkZnJvbS5ibG9ja1JhbmdlKCR0bywgZnVuY3Rpb24gKG5vZGUpIHsgcmV0dXJuIG5vZGUuY2hpbGRDb3VudCAmJiBub2RlLmZpcnN0Q2hpbGQudHlwZSA9PSBpdGVtVHlwZTsgfSk7XG4gICAgaWYgKCFyYW5nZSkgeyByZXR1cm4gZmFsc2UgfVxuICAgIHZhciBzdGFydEluZGV4ID0gcmFuZ2Uuc3RhcnRJbmRleDtcbiAgICBpZiAoc3RhcnRJbmRleCA9PSAwKSB7IHJldHVybiBmYWxzZSB9XG4gICAgdmFyIHBhcmVudCA9IHJhbmdlLnBhcmVudCwgbm9kZUJlZm9yZSA9IHBhcmVudC5jaGlsZChzdGFydEluZGV4IC0gMSk7XG4gICAgaWYgKG5vZGVCZWZvcmUudHlwZSAhPSBpdGVtVHlwZSkgeyByZXR1cm4gZmFsc2UgfVxuXG4gICAgaWYgKGRpc3BhdGNoKSB7XG4gICAgICB2YXIgbmVzdGVkQmVmb3JlID0gbm9kZUJlZm9yZS5sYXN0Q2hpbGQgJiYgbm9kZUJlZm9yZS5sYXN0Q2hpbGQudHlwZSA9PSBwYXJlbnQudHlwZTtcbiAgICAgIHZhciBpbm5lciA9IHByb3NlbWlycm9yTW9kZWwuRnJhZ21lbnQuZnJvbShuZXN0ZWRCZWZvcmUgPyBpdGVtVHlwZS5jcmVhdGUoKSA6IG51bGwpO1xuICAgICAgdmFyIHNsaWNlID0gbmV3IHByb3NlbWlycm9yTW9kZWwuU2xpY2UocHJvc2VtaXJyb3JNb2RlbC5GcmFnbWVudC5mcm9tKGl0ZW1UeXBlLmNyZWF0ZShudWxsLCBwcm9zZW1pcnJvck1vZGVsLkZyYWdtZW50LmZyb20ocGFyZW50LmNvcHkoaW5uZXIpKSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5lc3RlZEJlZm9yZSA/IDMgOiAxLCAwKTtcbiAgICAgIHZhciBiZWZvcmUgPSByYW5nZS5zdGFydCwgYWZ0ZXIgPSByYW5nZS5lbmQ7XG4gICAgICBkaXNwYXRjaChzdGF0ZS50ci5zdGVwKG5ldyBwcm9zZW1pcnJvclRyYW5zZm9ybS5SZXBsYWNlQXJvdW5kU3RlcChiZWZvcmUgLSAobmVzdGVkQmVmb3JlID8gMyA6IDEpLCBhZnRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlZm9yZSwgYWZ0ZXIsIHNsaWNlLCAxLCB0cnVlKSlcbiAgICAgICAgICAgICAgIC5zY3JvbGxJbnRvVmlldygpKTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWVcbiAgfVxufVxuXG5leHBvcnRzLm9yZGVyZWRMaXN0ID0gb3JkZXJlZExpc3Q7XG5leHBvcnRzLmJ1bGxldExpc3QgPSBidWxsZXRMaXN0O1xuZXhwb3J0cy5saXN0SXRlbSA9IGxpc3RJdGVtO1xuZXhwb3J0cy5hZGRMaXN0Tm9kZXMgPSBhZGRMaXN0Tm9kZXM7XG5leHBvcnRzLndyYXBJbkxpc3QgPSB3cmFwSW5MaXN0O1xuZXhwb3J0cy5zcGxpdExpc3RJdGVtID0gc3BsaXRMaXN0SXRlbTtcbmV4cG9ydHMubGlmdExpc3RJdGVtID0gbGlmdExpc3RJdGVtO1xuZXhwb3J0cy5zaW5rTGlzdEl0ZW0gPSBzaW5rTGlzdEl0ZW07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlbWEtbGlzdC5qcy5tYXBcbiIsInZhciBiYXNlID0ge1xuICA4OiBcIkJhY2tzcGFjZVwiLFxuICA5OiBcIlRhYlwiLFxuICAxMDogXCJFbnRlclwiLFxuICAxMjogXCJOdW1Mb2NrXCIsXG4gIDEzOiBcIkVudGVyXCIsXG4gIDE2OiBcIlNoaWZ0XCIsXG4gIDE3OiBcIkNvbnRyb2xcIixcbiAgMTg6IFwiQWx0XCIsXG4gIDIwOiBcIkNhcHNMb2NrXCIsXG4gIDI3OiBcIkVzY2FwZVwiLFxuICAzMjogXCIgXCIsXG4gIDMzOiBcIlBhZ2VVcFwiLFxuICAzNDogXCJQYWdlRG93blwiLFxuICAzNTogXCJFbmRcIixcbiAgMzY6IFwiSG9tZVwiLFxuICAzNzogXCJBcnJvd0xlZnRcIixcbiAgMzg6IFwiQXJyb3dVcFwiLFxuICAzOTogXCJBcnJvd1JpZ2h0XCIsXG4gIDQwOiBcIkFycm93RG93blwiLFxuICA0NDogXCJQcmludFNjcmVlblwiLFxuICA0NTogXCJJbnNlcnRcIixcbiAgNDY6IFwiRGVsZXRlXCIsXG4gIDU5OiBcIjtcIixcbiAgNjE6IFwiPVwiLFxuICA5MTogXCJNZXRhXCIsXG4gIDkyOiBcIk1ldGFcIixcbiAgMTA2OiBcIipcIixcbiAgMTA3OiBcIitcIixcbiAgMTA4OiBcIixcIixcbiAgMTA5OiBcIi1cIixcbiAgMTEwOiBcIi5cIixcbiAgMTExOiBcIi9cIixcbiAgMTQ0OiBcIk51bUxvY2tcIixcbiAgMTQ1OiBcIlNjcm9sbExvY2tcIixcbiAgMTYwOiBcIlNoaWZ0XCIsXG4gIDE2MTogXCJTaGlmdFwiLFxuICAxNjI6IFwiQ29udHJvbFwiLFxuICAxNjM6IFwiQ29udHJvbFwiLFxuICAxNjQ6IFwiQWx0XCIsXG4gIDE2NTogXCJBbHRcIixcbiAgMTczOiBcIi1cIixcbiAgMTg2OiBcIjtcIixcbiAgMTg3OiBcIj1cIixcbiAgMTg4OiBcIixcIixcbiAgMTg5OiBcIi1cIixcbiAgMTkwOiBcIi5cIixcbiAgMTkxOiBcIi9cIixcbiAgMTkyOiBcImBcIixcbiAgMjE5OiBcIltcIixcbiAgMjIwOiBcIlxcXFxcIixcbiAgMjIxOiBcIl1cIixcbiAgMjIyOiBcIidcIixcbiAgMjI5OiBcInFcIlxufVxudmFyIHNoaWZ0ID0ge1xuICA0ODogXCIpXCIsXG4gIDQ5OiBcIiFcIixcbiAgNTA6IFwiQFwiLFxuICA1MTogXCIjXCIsXG4gIDUyOiBcIiRcIixcbiAgNTM6IFwiJVwiLFxuICA1NDogXCJeXCIsXG4gIDU1OiBcIiZcIixcbiAgNTY6IFwiKlwiLFxuICA1NzogXCIoXCIsXG4gIDU5OiBcIjtcIixcbiAgNjE6IFwiK1wiLFxuICAxNzM6IFwiX1wiLFxuICAxODY6IFwiOlwiLFxuICAxODc6IFwiK1wiLFxuICAxODg6IFwiPFwiLFxuICAxODk6IFwiX1wiLFxuICAxOTA6IFwiPlwiLFxuICAxOTE6IFwiP1wiLFxuICAxOTI6IFwiflwiLFxuICAyMTk6IFwie1wiLFxuICAyMjA6IFwifFwiLFxuICAyMjE6IFwifVwiLFxuICAyMjI6IFwiXFxcIlwiLFxuICAyMjk6IFwiUVwiXG59XG5cbnZhciBjaHJvbWUgPSB0eXBlb2YgbmF2aWdhdG9yICE9IFwidW5kZWZpbmVkXCIgJiYgL0Nocm9tZVxcLyhcXGQrKS8uZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50KVxudmFyIHNhZmFyaSA9IHR5cGVvZiBuYXZpZ2F0b3IgIT0gXCJ1bmRlZmluZWRcIiAmJiAvQXBwbGUgQ29tcHV0ZXIvLnRlc3QobmF2aWdhdG9yLnZlbmRvcilcbnZhciBnZWNrbyA9IHR5cGVvZiBuYXZpZ2F0b3IgIT0gXCJ1bmRlZmluZWRcIiAmJiAvR2Vja29cXC9cXGQrLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpXG52YXIgbWFjID0gdHlwZW9mIG5hdmlnYXRvciAhPSBcInVuZGVmaW5lZFwiICYmIC9NYWMvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKVxudmFyIGJyb2tlbk1vZGlmaWVyTmFtZXMgPSBjaHJvbWUgJiYgKG1hYyB8fCArY2hyb21lWzFdIDwgNTcpIHx8IGdlY2tvICYmIG1hY1xuXG4vLyBGaWxsIGluIHRoZSBkaWdpdCBrZXlzXG5mb3IgKHZhciBpID0gMDsgaSA8IDEwOyBpKyspIGJhc2VbNDggKyBpXSA9IGJhc2VbOTYgKyBpXSA9IFN0cmluZyhpKVxuXG4vLyBUaGUgZnVuY3Rpb24ga2V5c1xuZm9yICh2YXIgaSA9IDE7IGkgPD0gMjQ7IGkrKykgYmFzZVtpICsgMTExXSA9IFwiRlwiICsgaVxuXG4vLyBBbmQgdGhlIGFscGhhYmV0aWMga2V5c1xuZm9yICh2YXIgaSA9IDY1OyBpIDw9IDkwOyBpKyspIHtcbiAgYmFzZVtpXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoaSArIDMyKVxuICBzaGlmdFtpXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoaSlcbn1cblxuLy8gRm9yIGVhY2ggY29kZSB0aGF0IGRvZXNuJ3QgaGF2ZSBhIHNoaWZ0LWVxdWl2YWxlbnQsIGNvcHkgdGhlIGJhc2UgbmFtZVxuZm9yICh2YXIgY29kZSBpbiBiYXNlKSBpZiAoIXNoaWZ0Lmhhc093blByb3BlcnR5KGNvZGUpKSBzaGlmdFtjb2RlXSA9IGJhc2VbY29kZV1cblxuZnVuY3Rpb24ga2V5TmFtZShldmVudCkge1xuICAvLyBEb24ndCB0cnVzdCBldmVudC5rZXkgaW4gQ2hyb21lIHdoZW4gdGhlcmUgYXJlIG1vZGlmaWVycyB1bnRpbFxuICAvLyB0aGV5IGZpeCBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD02MzM4MzhcbiAgdmFyIGlnbm9yZUtleSA9IGJyb2tlbk1vZGlmaWVyTmFtZXMgJiYgKGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQuYWx0S2V5IHx8IGV2ZW50Lm1ldGFLZXkpIHx8XG4gICAgc2FmYXJpICYmIGV2ZW50LnNoaWZ0S2V5ICYmIGV2ZW50LmtleSAmJiBldmVudC5rZXkubGVuZ3RoID09IDFcbiAgdmFyIG5hbWUgPSAoIWlnbm9yZUtleSAmJiBldmVudC5rZXkpIHx8XG4gICAgKGV2ZW50LnNoaWZ0S2V5ID8gc2hpZnQgOiBiYXNlKVtldmVudC5rZXlDb2RlXSB8fFxuICAgIGV2ZW50LmtleSB8fCBcIlVuaWRlbnRpZmllZFwiXG4gIC8vIEVkZ2Ugc29tZXRpbWVzIHByb2R1Y2VzIHdyb25nIG5hbWVzIChJc3N1ZSAjMylcbiAgaWYgKG5hbWUgPT0gXCJFc2NcIikgbmFtZSA9IFwiRXNjYXBlXCJcbiAgaWYgKG5hbWUgPT0gXCJEZWxcIikgbmFtZSA9IFwiRGVsZXRlXCJcbiAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubWljcm9zb2Z0LmNvbS9lbi11cy9taWNyb3NvZnQtZWRnZS9wbGF0Zm9ybS9pc3N1ZXMvODg2MDU3MS9cbiAgaWYgKG5hbWUgPT0gXCJMZWZ0XCIpIG5hbWUgPSBcIkFycm93TGVmdFwiXG4gIGlmIChuYW1lID09IFwiVXBcIikgbmFtZSA9IFwiQXJyb3dVcFwiXG4gIGlmIChuYW1lID09IFwiUmlnaHRcIikgbmFtZSA9IFwiQXJyb3dSaWdodFwiXG4gIGlmIChuYW1lID09IFwiRG93blwiKSBuYW1lID0gXCJBcnJvd0Rvd25cIlxuICByZXR1cm4gbmFtZVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGtleU5hbWVcbmtleU5hbWUuYmFzZSA9IGJhc2VcbmtleU5hbWUuc2hpZnQgPSBzaGlmdFxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcERlZmF1bHQgKGV4KSB7IHJldHVybiAoZXggJiYgKHR5cGVvZiBleCA9PT0gJ29iamVjdCcpICYmICdkZWZhdWx0JyBpbiBleCkgPyBleFsnZGVmYXVsdCddIDogZXg7IH1cblxudmFyIGtleU5hbWUgPSBfaW50ZXJvcERlZmF1bHQocmVxdWlyZSgndzNjLWtleW5hbWUnKSk7XG52YXIgcHJvc2VtaXJyb3JTdGF0ZSA9IHJlcXVpcmUoJ3Byb3NlbWlycm9yLXN0YXRlJyk7XG5cbi8vIGRlY2xhcmUgZ2xvYmFsOiBuYXZpZ2F0b3JcblxudmFyIG1hYyA9IHR5cGVvZiBuYXZpZ2F0b3IgIT0gXCJ1bmRlZmluZWRcIiA/IC9NYWMvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKSA6IGZhbHNlO1xuXG5mdW5jdGlvbiBub3JtYWxpemVLZXlOYW1lKG5hbWUpIHtcbiAgdmFyIHBhcnRzID0gbmFtZS5zcGxpdCgvLSg/ISQpLyksIHJlc3VsdCA9IHBhcnRzW3BhcnRzLmxlbmd0aCAtIDFdO1xuICBpZiAocmVzdWx0ID09IFwiU3BhY2VcIikgeyByZXN1bHQgPSBcIiBcIjsgfVxuICB2YXIgYWx0LCBjdHJsLCBzaGlmdCwgbWV0YTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICB2YXIgbW9kID0gcGFydHNbaV07XG4gICAgaWYgKC9eKGNtZHxtZXRhfG0pJC9pLnRlc3QobW9kKSkgeyBtZXRhID0gdHJ1ZTsgfVxuICAgIGVsc2UgaWYgKC9eYShsdCk/JC9pLnRlc3QobW9kKSkgeyBhbHQgPSB0cnVlOyB9XG4gICAgZWxzZSBpZiAoL14oY3xjdHJsfGNvbnRyb2wpJC9pLnRlc3QobW9kKSkgeyBjdHJsID0gdHJ1ZTsgfVxuICAgIGVsc2UgaWYgKC9ecyhoaWZ0KT8kL2kudGVzdChtb2QpKSB7IHNoaWZ0ID0gdHJ1ZTsgfVxuICAgIGVsc2UgaWYgKC9ebW9kJC9pLnRlc3QobW9kKSkgeyBpZiAobWFjKSB7IG1ldGEgPSB0cnVlOyB9IGVsc2UgeyBjdHJsID0gdHJ1ZTsgfSB9XG4gICAgZWxzZSB7IHRocm93IG5ldyBFcnJvcihcIlVucmVjb2duaXplZCBtb2RpZmllciBuYW1lOiBcIiArIG1vZCkgfVxuICB9XG4gIGlmIChhbHQpIHsgcmVzdWx0ID0gXCJBbHQtXCIgKyByZXN1bHQ7IH1cbiAgaWYgKGN0cmwpIHsgcmVzdWx0ID0gXCJDdHJsLVwiICsgcmVzdWx0OyB9XG4gIGlmIChtZXRhKSB7IHJlc3VsdCA9IFwiTWV0YS1cIiArIHJlc3VsdDsgfVxuICBpZiAoc2hpZnQpIHsgcmVzdWx0ID0gXCJTaGlmdC1cIiArIHJlc3VsdDsgfVxuICByZXR1cm4gcmVzdWx0XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZShtYXApIHtcbiAgdmFyIGNvcHkgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICBmb3IgKHZhciBwcm9wIGluIG1hcCkgeyBjb3B5W25vcm1hbGl6ZUtleU5hbWUocHJvcCldID0gbWFwW3Byb3BdOyB9XG4gIHJldHVybiBjb3B5XG59XG5cbmZ1bmN0aW9uIG1vZGlmaWVycyhuYW1lLCBldmVudCwgc2hpZnQpIHtcbiAgaWYgKGV2ZW50LmFsdEtleSkgeyBuYW1lID0gXCJBbHQtXCIgKyBuYW1lOyB9XG4gIGlmIChldmVudC5jdHJsS2V5KSB7IG5hbWUgPSBcIkN0cmwtXCIgKyBuYW1lOyB9XG4gIGlmIChldmVudC5tZXRhS2V5KSB7IG5hbWUgPSBcIk1ldGEtXCIgKyBuYW1lOyB9XG4gIGlmIChzaGlmdCAhPT0gZmFsc2UgJiYgZXZlbnQuc2hpZnRLZXkpIHsgbmFtZSA9IFwiU2hpZnQtXCIgKyBuYW1lOyB9XG4gIHJldHVybiBuYW1lXG59XG5cbi8vIDo6IChPYmplY3QpIOKGkiBQbHVnaW5cbi8vIENyZWF0ZSBhIGtleW1hcCBwbHVnaW4gZm9yIHRoZSBnaXZlbiBzZXQgb2YgYmluZGluZ3MuXG4vL1xuLy8gQmluZGluZ3Mgc2hvdWxkIG1hcCBrZXkgbmFtZXMgdG8gW2NvbW1hbmRdKCNjb21tYW5kcyktc3R5bGVcbi8vIGZ1bmN0aW9ucywgd2hpY2ggd2lsbCBiZSBjYWxsZWQgd2l0aCBgKEVkaXRvclN0YXRlLCBkaXNwYXRjaCxcbi8vIEVkaXRvclZpZXcpYCBhcmd1bWVudHMsIGFuZCBzaG91bGQgcmV0dXJuIHRydWUgd2hlbiB0aGV5J3ZlIGhhbmRsZWRcbi8vIHRoZSBrZXkuIE5vdGUgdGhhdCB0aGUgdmlldyBhcmd1bWVudCBpc24ndCBwYXJ0IG9mIHRoZSBjb21tYW5kXG4vLyBwcm90b2NvbCwgYnV0IGNhbiBiZSB1c2VkIGFzIGFuIGVzY2FwZSBoYXRjaCBpZiBhIGJpbmRpbmcgbmVlZHMgdG9cbi8vIGRpcmVjdGx5IGludGVyYWN0IHdpdGggdGhlIFVJLlxuLy9cbi8vIEtleSBuYW1lcyBtYXkgYmUgc3RyaW5ncyBsaWtlIGBcIlNoaWZ0LUN0cmwtRW50ZXJcImDigJRhIGtleVxuLy8gaWRlbnRpZmllciBwcmVmaXhlZCB3aXRoIHplcm8gb3IgbW9yZSBtb2RpZmllcnMuIEtleSBpZGVudGlmaWVyc1xuLy8gYXJlIGJhc2VkIG9uIHRoZSBzdHJpbmdzIHRoYXQgY2FuIGFwcGVhciBpblxuLy8gW2BLZXlFdmVudC5rZXlgXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvS2V5Ym9hcmRFdmVudC9rZXkpLlxuLy8gVXNlIGxvd2VyY2FzZSBsZXR0ZXJzIHRvIHJlZmVyIHRvIGxldHRlciBrZXlzIChvciB1cHBlcmNhc2UgbGV0dGVyc1xuLy8gaWYgeW91IHdhbnQgc2hpZnQgdG8gYmUgaGVsZCkuIFlvdSBtYXkgdXNlIGBcIlNwYWNlXCJgIGFzIGFuIGFsaWFzXG4vLyBmb3IgdGhlIGBcIiBcImAgbmFtZS5cbi8vXG4vLyBNb2RpZmllcnMgY2FuIGJlIGdpdmVuIGluIGFueSBvcmRlci4gYFNoaWZ0LWAgKG9yIGBzLWApLCBgQWx0LWAgKG9yXG4vLyBgYS1gKSwgYEN0cmwtYCAob3IgYGMtYCBvciBgQ29udHJvbC1gKSBhbmQgYENtZC1gIChvciBgbS1gIG9yXG4vLyBgTWV0YS1gKSBhcmUgcmVjb2duaXplZC4gRm9yIGNoYXJhY3RlcnMgdGhhdCBhcmUgY3JlYXRlZCBieSBob2xkaW5nXG4vLyBzaGlmdCwgdGhlIGBTaGlmdC1gIHByZWZpeCBpcyBpbXBsaWVkLCBhbmQgc2hvdWxkIG5vdCBiZSBhZGRlZFxuLy8gZXhwbGljaXRseS5cbi8vXG4vLyBZb3UgY2FuIHVzZSBgTW9kLWAgYXMgYSBzaG9ydGhhbmQgZm9yIGBDbWQtYCBvbiBNYWMgYW5kIGBDdHJsLWAgb25cbi8vIG90aGVyIHBsYXRmb3Jtcy5cbi8vXG4vLyBZb3UgY2FuIGFkZCBtdWx0aXBsZSBrZXltYXAgcGx1Z2lucyB0byBhbiBlZGl0b3IuIFRoZSBvcmRlciBpblxuLy8gd2hpY2ggdGhleSBhcHBlYXIgZGV0ZXJtaW5lcyB0aGVpciBwcmVjZWRlbmNlICh0aGUgb25lcyBlYXJseSBpblxuLy8gdGhlIGFycmF5IGdldCB0byBkaXNwYXRjaCBmaXJzdCkuXG5mdW5jdGlvbiBrZXltYXAoYmluZGluZ3MpIHtcbiAgcmV0dXJuIG5ldyBwcm9zZW1pcnJvclN0YXRlLlBsdWdpbih7cHJvcHM6IHtoYW5kbGVLZXlEb3duOiBrZXlkb3duSGFuZGxlcihiaW5kaW5ncyl9fSlcbn1cblxuLy8gOjogKE9iamVjdCkg4oaSICh2aWV3OiBFZGl0b3JWaWV3LCBldmVudDogZG9tLkV2ZW50KSDihpIgYm9vbFxuLy8gR2l2ZW4gYSBzZXQgb2YgYmluZGluZ3MgKHVzaW5nIHRoZSBzYW1lIGZvcm1hdCBhc1xuLy8gW2BrZXltYXBgXSgja2V5bWFwLmtleW1hcCksIHJldHVybiBhIFtrZXlkb3duXG4vLyBoYW5kbGVyXSgjdmlldy5FZGl0b3JQcm9wcy5oYW5kbGVLZXlEb3duKSBoYW5kbGVzIHRoZW0uXG5mdW5jdGlvbiBrZXlkb3duSGFuZGxlcihiaW5kaW5ncykge1xuICB2YXIgbWFwID0gbm9ybWFsaXplKGJpbmRpbmdzKTtcbiAgcmV0dXJuIGZ1bmN0aW9uKHZpZXcsIGV2ZW50KSB7XG4gICAgdmFyIG5hbWUgPSBrZXlOYW1lKGV2ZW50KSwgaXNDaGFyID0gbmFtZS5sZW5ndGggPT0gMSAmJiBuYW1lICE9IFwiIFwiLCBiYXNlTmFtZTtcbiAgICB2YXIgZGlyZWN0ID0gbWFwW21vZGlmaWVycyhuYW1lLCBldmVudCwgIWlzQ2hhcildO1xuICAgIGlmIChkaXJlY3QgJiYgZGlyZWN0KHZpZXcuc3RhdGUsIHZpZXcuZGlzcGF0Y2gsIHZpZXcpKSB7IHJldHVybiB0cnVlIH1cbiAgICBpZiAoaXNDaGFyICYmIChldmVudC5zaGlmdEtleSB8fCBldmVudC5hbHRLZXkgfHwgZXZlbnQubWV0YUtleSkgJiZcbiAgICAgICAgKGJhc2VOYW1lID0ga2V5TmFtZS5iYXNlW2V2ZW50LmtleUNvZGVdKSAmJiBiYXNlTmFtZSAhPSBuYW1lKSB7XG4gICAgICB2YXIgZnJvbUNvZGUgPSBtYXBbbW9kaWZpZXJzKGJhc2VOYW1lLCBldmVudCwgdHJ1ZSldO1xuICAgICAgaWYgKGZyb21Db2RlICYmIGZyb21Db2RlKHZpZXcuc3RhdGUsIHZpZXcuZGlzcGF0Y2gsIHZpZXcpKSB7IHJldHVybiB0cnVlIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cblxuZXhwb3J0cy5rZXltYXAgPSBrZXltYXA7XG5leHBvcnRzLmtleWRvd25IYW5kbGVyID0ga2V5ZG93bkhhbmRsZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1rZXltYXAuanMubWFwXG4iLCJ2YXIgR09PRF9MRUFGX1NJWkUgPSAyMDBcblxuLy8gOjogY2xhc3M8VD4gQSByb3BlIHNlcXVlbmNlIGlzIGEgcGVyc2lzdGVudCBzZXF1ZW5jZSBkYXRhIHN0cnVjdHVyZVxuLy8gdGhhdCBzdXBwb3J0cyBhcHBlbmRpbmcsIHByZXBlbmRpbmcsIGFuZCBzbGljaW5nIHdpdGhvdXQgZG9pbmcgYVxuLy8gZnVsbCBjb3B5LiBJdCBpcyByZXByZXNlbnRlZCBhcyBhIG1vc3RseS1iYWxhbmNlZCB0cmVlLlxudmFyIFJvcGVTZXF1ZW5jZSA9IGZ1bmN0aW9uIFJvcGVTZXF1ZW5jZSAoKSB7fTtcblxuUm9wZVNlcXVlbmNlLnByb3RvdHlwZS5hcHBlbmQgPSBmdW5jdGlvbiBhcHBlbmQgKG90aGVyKSB7XG4gIGlmICghb3RoZXIubGVuZ3RoKSB7IHJldHVybiB0aGlzIH1cbiAgb3RoZXIgPSBSb3BlU2VxdWVuY2UuZnJvbShvdGhlcilcblxuICByZXR1cm4gKCF0aGlzLmxlbmd0aCAmJiBvdGhlcikgfHxcbiAgICAob3RoZXIubGVuZ3RoIDwgR09PRF9MRUFGX1NJWkUgJiYgdGhpcy5sZWFmQXBwZW5kKG90aGVyKSkgfHxcbiAgICAodGhpcy5sZW5ndGggPCBHT09EX0xFQUZfU0laRSAmJiBvdGhlci5sZWFmUHJlcGVuZCh0aGlzKSkgfHxcbiAgICB0aGlzLmFwcGVuZElubmVyKG90aGVyKVxufTtcblxuLy8gOjogKHVuaW9uPFtUXSwgUm9wZVNlcXVlbmNlPFQ+Pikg4oaSIFJvcGVTZXF1ZW5jZTxUPlxuLy8gUHJlcGVuZCBhbiBhcnJheSBvciBvdGhlciByb3BlIHRvIHRoaXMgb25lLCByZXR1cm5pbmcgYSBuZXcgcm9wZS5cblJvcGVTZXF1ZW5jZS5wcm90b3R5cGUucHJlcGVuZCA9IGZ1bmN0aW9uIHByZXBlbmQgKG90aGVyKSB7XG4gIGlmICghb3RoZXIubGVuZ3RoKSB7IHJldHVybiB0aGlzIH1cbiAgcmV0dXJuIFJvcGVTZXF1ZW5jZS5mcm9tKG90aGVyKS5hcHBlbmQodGhpcylcbn07XG5cblJvcGVTZXF1ZW5jZS5wcm90b3R5cGUuYXBwZW5kSW5uZXIgPSBmdW5jdGlvbiBhcHBlbmRJbm5lciAob3RoZXIpIHtcbiAgcmV0dXJuIG5ldyBBcHBlbmQodGhpcywgb3RoZXIpXG59O1xuXG4vLyA6OiAoP251bWJlciwgP251bWJlcikg4oaSIFJvcGVTZXF1ZW5jZTxUPlxuLy8gQ3JlYXRlIGEgcm9wZSByZXBlc2VudGluZyBhIHN1Yi1zZXF1ZW5jZSBvZiB0aGlzIHJvcGUuXG5Sb3BlU2VxdWVuY2UucHJvdG90eXBlLnNsaWNlID0gZnVuY3Rpb24gc2xpY2UgKGZyb20sIHRvKSB7XG4gICAgaWYgKCBmcm9tID09PSB2b2lkIDAgKSBmcm9tID0gMDtcbiAgICBpZiAoIHRvID09PSB2b2lkIDAgKSB0byA9IHRoaXMubGVuZ3RoO1xuXG4gIGlmIChmcm9tID49IHRvKSB7IHJldHVybiBSb3BlU2VxdWVuY2UuZW1wdHkgfVxuICByZXR1cm4gdGhpcy5zbGljZUlubmVyKE1hdGgubWF4KDAsIGZyb20pLCBNYXRoLm1pbih0aGlzLmxlbmd0aCwgdG8pKVxufTtcblxuLy8gOjogKG51bWJlcikg4oaSIFRcbi8vIFJldHJpZXZlIHRoZSBlbGVtZW50IGF0IHRoZSBnaXZlbiBwb3NpdGlvbiBmcm9tIHRoaXMgcm9wZS5cblJvcGVTZXF1ZW5jZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gZ2V0IChpKSB7XG4gIGlmIChpIDwgMCB8fCBpID49IHRoaXMubGVuZ3RoKSB7IHJldHVybiB1bmRlZmluZWQgfVxuICByZXR1cm4gdGhpcy5nZXRJbm5lcihpKVxufTtcblxuLy8gOjogKChlbGVtZW50OiBULCBpbmRleDogbnVtYmVyKSDihpIgP2Jvb2wsID9udW1iZXIsID9udW1iZXIpXG4vLyBDYWxsIHRoZSBnaXZlbiBmdW5jdGlvbiBmb3IgZWFjaCBlbGVtZW50IGJldHdlZW4gdGhlIGdpdmVuXG4vLyBpbmRpY2VzLiBUaGlzIHRlbmRzIHRvIGJlIG1vcmUgZWZmaWNpZW50IHRoYW4gbG9vcGluZyBvdmVyIHRoZVxuLy8gaW5kaWNlcyBhbmQgY2FsbGluZyBgZ2V0YCwgYmVjYXVzZSBpdCBkb2Vzbid0IGhhdmUgdG8gZGVzY2VuZCB0aGVcbi8vIHRyZWUgZm9yIGV2ZXJ5IGVsZW1lbnQuXG5Sb3BlU2VxdWVuY2UucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiBmb3JFYWNoIChmLCBmcm9tLCB0bykge1xuICAgIGlmICggZnJvbSA9PT0gdm9pZCAwICkgZnJvbSA9IDA7XG4gICAgaWYgKCB0byA9PT0gdm9pZCAwICkgdG8gPSB0aGlzLmxlbmd0aDtcblxuICBpZiAoZnJvbSA8PSB0bylcbiAgICB7IHRoaXMuZm9yRWFjaElubmVyKGYsIGZyb20sIHRvLCAwKSB9XG4gIGVsc2VcbiAgICB7IHRoaXMuZm9yRWFjaEludmVydGVkSW5uZXIoZiwgZnJvbSwgdG8sIDApIH1cbn07XG5cbi8vIDo6ICgoZWxlbWVudDogVCwgaW5kZXg6IG51bWJlcikg4oaSIFUsID9udW1iZXIsID9udW1iZXIpIOKGkiBbVV1cbi8vIE1hcCB0aGUgZ2l2ZW4gZnVuY3Rpb25zIG92ZXIgdGhlIGVsZW1lbnRzIG9mIHRoZSByb3BlLCBwcm9kdWNpbmdcbi8vIGEgZmxhdCBhcnJheS5cblJvcGVTZXF1ZW5jZS5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gbWFwIChmLCBmcm9tLCB0bykge1xuICAgIGlmICggZnJvbSA9PT0gdm9pZCAwICkgZnJvbSA9IDA7XG4gICAgaWYgKCB0byA9PT0gdm9pZCAwICkgdG8gPSB0aGlzLmxlbmd0aDtcblxuICB2YXIgcmVzdWx0ID0gW11cbiAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uIChlbHQsIGkpIHsgcmV0dXJuIHJlc3VsdC5wdXNoKGYoZWx0LCBpKSk7IH0sIGZyb20sIHRvKVxuICByZXR1cm4gcmVzdWx0XG59O1xuXG4vLyA6OiAoP3VuaW9uPFtUXSwgUm9wZVNlcXVlbmNlPFQ+Pikg4oaSIFJvcGVTZXF1ZW5jZTxUPlxuLy8gQ3JlYXRlIGEgcm9wZSByZXByZXNlbnRpbmcgdGhlIGdpdmVuIGFycmF5LCBvciByZXR1cm4gdGhlIHJvcGVcbi8vIGl0c2VsZiBpZiBhIHJvcGUgd2FzIGdpdmVuLlxuUm9wZVNlcXVlbmNlLmZyb20gPSBmdW5jdGlvbiBmcm9tICh2YWx1ZXMpIHtcbiAgaWYgKHZhbHVlcyBpbnN0YW5jZW9mIFJvcGVTZXF1ZW5jZSkgeyByZXR1cm4gdmFsdWVzIH1cbiAgcmV0dXJuIHZhbHVlcyAmJiB2YWx1ZXMubGVuZ3RoID8gbmV3IExlYWYodmFsdWVzKSA6IFJvcGVTZXF1ZW5jZS5lbXB0eVxufTtcblxudmFyIExlYWYgPSAoZnVuY3Rpb24gKFJvcGVTZXF1ZW5jZSkge1xuICBmdW5jdGlvbiBMZWFmKHZhbHVlcykge1xuICAgIFJvcGVTZXF1ZW5jZS5jYWxsKHRoaXMpXG4gICAgdGhpcy52YWx1ZXMgPSB2YWx1ZXNcbiAgfVxuXG4gIGlmICggUm9wZVNlcXVlbmNlICkgTGVhZi5fX3Byb3RvX18gPSBSb3BlU2VxdWVuY2U7XG4gIExlYWYucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggUm9wZVNlcXVlbmNlICYmIFJvcGVTZXF1ZW5jZS5wcm90b3R5cGUgKTtcbiAgTGVhZi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBMZWFmO1xuXG4gIHZhciBwcm90b3R5cGVBY2Nlc3NvcnMgPSB7IGxlbmd0aDoge30sZGVwdGg6IHt9IH07XG5cbiAgTGVhZi5wcm90b3R5cGUuZmxhdHRlbiA9IGZ1bmN0aW9uIGZsYXR0ZW4gKCkge1xuICAgIHJldHVybiB0aGlzLnZhbHVlc1xuICB9O1xuXG4gIExlYWYucHJvdG90eXBlLnNsaWNlSW5uZXIgPSBmdW5jdGlvbiBzbGljZUlubmVyIChmcm9tLCB0bykge1xuICAgIGlmIChmcm9tID09IDAgJiYgdG8gPT0gdGhpcy5sZW5ndGgpIHsgcmV0dXJuIHRoaXMgfVxuICAgIHJldHVybiBuZXcgTGVhZih0aGlzLnZhbHVlcy5zbGljZShmcm9tLCB0bykpXG4gIH07XG5cbiAgTGVhZi5wcm90b3R5cGUuZ2V0SW5uZXIgPSBmdW5jdGlvbiBnZXRJbm5lciAoaSkge1xuICAgIHJldHVybiB0aGlzLnZhbHVlc1tpXVxuICB9O1xuXG4gIExlYWYucHJvdG90eXBlLmZvckVhY2hJbm5lciA9IGZ1bmN0aW9uIGZvckVhY2hJbm5lciAoZiwgZnJvbSwgdG8sIHN0YXJ0KSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICBmb3IgKHZhciBpID0gZnJvbTsgaSA8IHRvOyBpKyspXG4gICAgICB7IGlmIChmKHRoaXMkMS52YWx1ZXNbaV0sIHN0YXJ0ICsgaSkgPT09IGZhbHNlKSB7IHJldHVybiBmYWxzZSB9IH1cbiAgfTtcblxuICBMZWFmLnByb3RvdHlwZS5mb3JFYWNoSW52ZXJ0ZWRJbm5lciA9IGZ1bmN0aW9uIGZvckVhY2hJbnZlcnRlZElubmVyIChmLCBmcm9tLCB0bywgc3RhcnQpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIGZvciAodmFyIGkgPSBmcm9tIC0gMTsgaSA+PSB0bzsgaS0tKVxuICAgICAgeyBpZiAoZih0aGlzJDEudmFsdWVzW2ldLCBzdGFydCArIGkpID09PSBmYWxzZSkgeyByZXR1cm4gZmFsc2UgfSB9XG4gIH07XG5cbiAgTGVhZi5wcm90b3R5cGUubGVhZkFwcGVuZCA9IGZ1bmN0aW9uIGxlYWZBcHBlbmQgKG90aGVyKSB7XG4gICAgaWYgKHRoaXMubGVuZ3RoICsgb3RoZXIubGVuZ3RoIDw9IEdPT0RfTEVBRl9TSVpFKVxuICAgICAgeyByZXR1cm4gbmV3IExlYWYodGhpcy52YWx1ZXMuY29uY2F0KG90aGVyLmZsYXR0ZW4oKSkpIH1cbiAgfTtcblxuICBMZWFmLnByb3RvdHlwZS5sZWFmUHJlcGVuZCA9IGZ1bmN0aW9uIGxlYWZQcmVwZW5kIChvdGhlcikge1xuICAgIGlmICh0aGlzLmxlbmd0aCArIG90aGVyLmxlbmd0aCA8PSBHT09EX0xFQUZfU0laRSlcbiAgICAgIHsgcmV0dXJuIG5ldyBMZWFmKG90aGVyLmZsYXR0ZW4oKS5jb25jYXQodGhpcy52YWx1ZXMpKSB9XG4gIH07XG5cbiAgcHJvdG90eXBlQWNjZXNzb3JzLmxlbmd0aC5nZXQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLnZhbHVlcy5sZW5ndGggfTtcblxuICBwcm90b3R5cGVBY2Nlc3NvcnMuZGVwdGguZ2V0ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gMCB9O1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBMZWFmLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzICk7XG5cbiAgcmV0dXJuIExlYWY7XG59KFJvcGVTZXF1ZW5jZSkpO1xuXG4vLyA6OiBSb3BlU2VxdWVuY2Vcbi8vIFRoZSBlbXB0eSByb3BlIHNlcXVlbmNlLlxuUm9wZVNlcXVlbmNlLmVtcHR5ID0gbmV3IExlYWYoW10pXG5cbnZhciBBcHBlbmQgPSAoZnVuY3Rpb24gKFJvcGVTZXF1ZW5jZSkge1xuICBmdW5jdGlvbiBBcHBlbmQobGVmdCwgcmlnaHQpIHtcbiAgICBSb3BlU2VxdWVuY2UuY2FsbCh0aGlzKVxuICAgIHRoaXMubGVmdCA9IGxlZnRcbiAgICB0aGlzLnJpZ2h0ID0gcmlnaHRcbiAgICB0aGlzLmxlbmd0aCA9IGxlZnQubGVuZ3RoICsgcmlnaHQubGVuZ3RoXG4gICAgdGhpcy5kZXB0aCA9IE1hdGgubWF4KGxlZnQuZGVwdGgsIHJpZ2h0LmRlcHRoKSArIDFcbiAgfVxuXG4gIGlmICggUm9wZVNlcXVlbmNlICkgQXBwZW5kLl9fcHJvdG9fXyA9IFJvcGVTZXF1ZW5jZTtcbiAgQXBwZW5kLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFJvcGVTZXF1ZW5jZSAmJiBSb3BlU2VxdWVuY2UucHJvdG90eXBlICk7XG4gIEFwcGVuZC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBBcHBlbmQ7XG5cbiAgQXBwZW5kLnByb3RvdHlwZS5mbGF0dGVuID0gZnVuY3Rpb24gZmxhdHRlbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubGVmdC5mbGF0dGVuKCkuY29uY2F0KHRoaXMucmlnaHQuZmxhdHRlbigpKVxuICB9O1xuXG4gIEFwcGVuZC5wcm90b3R5cGUuZ2V0SW5uZXIgPSBmdW5jdGlvbiBnZXRJbm5lciAoaSkge1xuICAgIHJldHVybiBpIDwgdGhpcy5sZWZ0Lmxlbmd0aCA/IHRoaXMubGVmdC5nZXQoaSkgOiB0aGlzLnJpZ2h0LmdldChpIC0gdGhpcy5sZWZ0Lmxlbmd0aClcbiAgfTtcblxuICBBcHBlbmQucHJvdG90eXBlLmZvckVhY2hJbm5lciA9IGZ1bmN0aW9uIGZvckVhY2hJbm5lciAoZiwgZnJvbSwgdG8sIHN0YXJ0KSB7XG4gICAgdmFyIGxlZnRMZW4gPSB0aGlzLmxlZnQubGVuZ3RoXG4gICAgaWYgKGZyb20gPCBsZWZ0TGVuICYmXG4gICAgICAgIHRoaXMubGVmdC5mb3JFYWNoSW5uZXIoZiwgZnJvbSwgTWF0aC5taW4odG8sIGxlZnRMZW4pLCBzdGFydCkgPT09IGZhbHNlKVxuICAgICAgeyByZXR1cm4gZmFsc2UgfVxuICAgIGlmICh0byA+IGxlZnRMZW4gJiZcbiAgICAgICAgdGhpcy5yaWdodC5mb3JFYWNoSW5uZXIoZiwgTWF0aC5tYXgoZnJvbSAtIGxlZnRMZW4sIDApLCBNYXRoLm1pbih0aGlzLmxlbmd0aCwgdG8pIC0gbGVmdExlbiwgc3RhcnQgKyBsZWZ0TGVuKSA9PT0gZmFsc2UpXG4gICAgICB7IHJldHVybiBmYWxzZSB9XG4gIH07XG5cbiAgQXBwZW5kLnByb3RvdHlwZS5mb3JFYWNoSW52ZXJ0ZWRJbm5lciA9IGZ1bmN0aW9uIGZvckVhY2hJbnZlcnRlZElubmVyIChmLCBmcm9tLCB0bywgc3RhcnQpIHtcbiAgICB2YXIgbGVmdExlbiA9IHRoaXMubGVmdC5sZW5ndGhcbiAgICBpZiAoZnJvbSA+IGxlZnRMZW4gJiZcbiAgICAgICAgdGhpcy5yaWdodC5mb3JFYWNoSW52ZXJ0ZWRJbm5lcihmLCBmcm9tIC0gbGVmdExlbiwgTWF0aC5tYXgodG8sIGxlZnRMZW4pIC0gbGVmdExlbiwgc3RhcnQgKyBsZWZ0TGVuKSA9PT0gZmFsc2UpXG4gICAgICB7IHJldHVybiBmYWxzZSB9XG4gICAgaWYgKHRvIDwgbGVmdExlbiAmJlxuICAgICAgICB0aGlzLmxlZnQuZm9yRWFjaEludmVydGVkSW5uZXIoZiwgTWF0aC5taW4oZnJvbSwgbGVmdExlbiksIHRvLCBzdGFydCkgPT09IGZhbHNlKVxuICAgICAgeyByZXR1cm4gZmFsc2UgfVxuICB9O1xuXG4gIEFwcGVuZC5wcm90b3R5cGUuc2xpY2VJbm5lciA9IGZ1bmN0aW9uIHNsaWNlSW5uZXIgKGZyb20sIHRvKSB7XG4gICAgaWYgKGZyb20gPT0gMCAmJiB0byA9PSB0aGlzLmxlbmd0aCkgeyByZXR1cm4gdGhpcyB9XG4gICAgdmFyIGxlZnRMZW4gPSB0aGlzLmxlZnQubGVuZ3RoXG4gICAgaWYgKHRvIDw9IGxlZnRMZW4pIHsgcmV0dXJuIHRoaXMubGVmdC5zbGljZShmcm9tLCB0bykgfVxuICAgIGlmIChmcm9tID49IGxlZnRMZW4pIHsgcmV0dXJuIHRoaXMucmlnaHQuc2xpY2UoZnJvbSAtIGxlZnRMZW4sIHRvIC0gbGVmdExlbikgfVxuICAgIHJldHVybiB0aGlzLmxlZnQuc2xpY2UoZnJvbSwgbGVmdExlbikuYXBwZW5kKHRoaXMucmlnaHQuc2xpY2UoMCwgdG8gLSBsZWZ0TGVuKSlcbiAgfTtcblxuICBBcHBlbmQucHJvdG90eXBlLmxlYWZBcHBlbmQgPSBmdW5jdGlvbiBsZWFmQXBwZW5kIChvdGhlcikge1xuICAgIHZhciBpbm5lciA9IHRoaXMucmlnaHQubGVhZkFwcGVuZChvdGhlcilcbiAgICBpZiAoaW5uZXIpIHsgcmV0dXJuIG5ldyBBcHBlbmQodGhpcy5sZWZ0LCBpbm5lcikgfVxuICB9O1xuXG4gIEFwcGVuZC5wcm90b3R5cGUubGVhZlByZXBlbmQgPSBmdW5jdGlvbiBsZWFmUHJlcGVuZCAob3RoZXIpIHtcbiAgICB2YXIgaW5uZXIgPSB0aGlzLmxlZnQubGVhZlByZXBlbmQob3RoZXIpXG4gICAgaWYgKGlubmVyKSB7IHJldHVybiBuZXcgQXBwZW5kKGlubmVyLCB0aGlzLnJpZ2h0KSB9XG4gIH07XG5cbiAgQXBwZW5kLnByb3RvdHlwZS5hcHBlbmRJbm5lciA9IGZ1bmN0aW9uIGFwcGVuZElubmVyIChvdGhlcikge1xuICAgIGlmICh0aGlzLmxlZnQuZGVwdGggPj0gTWF0aC5tYXgodGhpcy5yaWdodC5kZXB0aCwgb3RoZXIuZGVwdGgpICsgMSlcbiAgICAgIHsgcmV0dXJuIG5ldyBBcHBlbmQodGhpcy5sZWZ0LCBuZXcgQXBwZW5kKHRoaXMucmlnaHQsIG90aGVyKSkgfVxuICAgIHJldHVybiBuZXcgQXBwZW5kKHRoaXMsIG90aGVyKVxuICB9O1xuXG4gIHJldHVybiBBcHBlbmQ7XG59KFJvcGVTZXF1ZW5jZSkpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJvcGVTZXF1ZW5jZVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcERlZmF1bHQgKGV4KSB7IHJldHVybiAoZXggJiYgKHR5cGVvZiBleCA9PT0gJ29iamVjdCcpICYmICdkZWZhdWx0JyBpbiBleCkgPyBleFsnZGVmYXVsdCddIDogZXg7IH1cblxudmFyIFJvcGVTZXF1ZW5jZSA9IF9pbnRlcm9wRGVmYXVsdChyZXF1aXJlKCdyb3BlLXNlcXVlbmNlJykpO1xudmFyIHByb3NlbWlycm9yVHJhbnNmb3JtID0gcmVxdWlyZSgncHJvc2VtaXJyb3ItdHJhbnNmb3JtJyk7XG52YXIgcHJvc2VtaXJyb3JTdGF0ZSA9IHJlcXVpcmUoJ3Byb3NlbWlycm9yLXN0YXRlJyk7XG5cbi8vIFByb3NlTWlycm9yJ3MgaGlzdG9yeSBpc24ndCBzaW1wbHkgYSB3YXkgdG8gcm9sbCBiYWNrIHRvIGEgcHJldmlvdXNcbi8vIHN0YXRlLCBiZWNhdXNlIFByb3NlTWlycm9yIHN1cHBvcnRzIGFwcGx5aW5nIGNoYW5nZXMgd2l0aG91dCBhZGRpbmdcbi8vIHRoZW0gdG8gdGhlIGhpc3RvcnkgKGZvciBleGFtcGxlIGR1cmluZyBjb2xsYWJvcmF0aW9uKS5cbi8vXG4vLyBUbyB0aGlzIGVuZCwgZWFjaCAnQnJhbmNoJyAob25lIGZvciB0aGUgdW5kbyBoaXN0b3J5IGFuZCBvbmUgZm9yXG4vLyB0aGUgcmVkbyBoaXN0b3J5KSBrZWVwcyBhbiBhcnJheSBvZiAnSXRlbXMnLCB3aGljaCBjYW4gb3B0aW9uYWxseVxuLy8gaG9sZCBhIHN0ZXAgKGFuIGFjdHVhbCB1bmRvYWJsZSBjaGFuZ2UpLCBhbmQgYWx3YXlzIGhvbGQgYSBwb3NpdGlvblxuLy8gbWFwICh3aGljaCBpcyBuZWVkZWQgdG8gbW92ZSBjaGFuZ2VzIGJlbG93IHRoZW0gdG8gYXBwbHkgdG8gdGhlXG4vLyBjdXJyZW50IGRvY3VtZW50KS5cbi8vXG4vLyBBbiBpdGVtIHRoYXQgaGFzIGJvdGggYSBzdGVwIGFuZCBhIHNlbGVjdGlvbiBib29rbWFyayBpcyB0aGUgc3RhcnRcbi8vIG9mIGFuICdldmVudCcg4oCUIGEgZ3JvdXAgb2YgY2hhbmdlcyB0aGF0IHdpbGwgYmUgdW5kb25lIG9yIHJlZG9uZSBhdFxuLy8gb25jZS4gKEl0IHN0b3JlcyBvbmx5IHRoZSBib29rbWFyaywgc2luY2UgdGhhdCB3YXkgd2UgZG9uJ3QgaGF2ZSB0b1xuLy8gcHJvdmlkZSBhIGRvY3VtZW50IHVudGlsIHRoZSBzZWxlY3Rpb24gaXMgYWN0dWFsbHkgYXBwbGllZCwgd2hpY2hcbi8vIGlzIHVzZWZ1bCB3aGVuIGNvbXByZXNzaW5nLilcblxuLy8gVXNlZCB0byBzY2hlZHVsZSBoaXN0b3J5IGNvbXByZXNzaW9uXG52YXIgbWF4X2VtcHR5X2l0ZW1zID0gNTAwO1xuXG52YXIgQnJhbmNoID0gZnVuY3Rpb24gQnJhbmNoKGl0ZW1zLCBldmVudENvdW50KSB7XG4gIHRoaXMuaXRlbXMgPSBpdGVtcztcbiAgdGhpcy5ldmVudENvdW50ID0gZXZlbnRDb3VudDtcbn07XG5cbi8vIDogKE5vZGUsIGJvb2wsID9JdGVtKSDihpIgP3t0cmFuc2Zvcm06IFRyYW5zZm9ybSwgc2VsZWN0aW9uOiBPYmplY3R9XG4vLyBQb3AgdGhlIGxhdGVzdCBldmVudCBvZmYgdGhlIGJyYW5jaCdzIGhpc3RvcnkgYW5kIGFwcGx5IGl0XG4vLyB0byBhIGRvY3VtZW50IHRyYW5zZm9ybS5cbkJyYW5jaC5wcm90b3R5cGUucG9wRXZlbnQgPSBmdW5jdGlvbiBwb3BFdmVudCAoc3RhdGUsIHByZXNlcnZlSXRlbXMpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICBpZiAodGhpcy5ldmVudENvdW50ID09IDApIHsgcmV0dXJuIG51bGwgfVxuXG4gIHZhciBlbmQgPSB0aGlzLml0ZW1zLmxlbmd0aDtcbiAgZm9yICg7OyBlbmQtLSkge1xuICAgIHZhciBuZXh0ID0gdGhpcyQxLml0ZW1zLmdldChlbmQgLSAxKTtcbiAgICBpZiAobmV4dC5zZWxlY3Rpb24pIHsgLS1lbmQ7IGJyZWFrIH1cbiAgfVxuXG4gIHZhciByZW1hcCwgbWFwRnJvbTtcbiAgaWYgKHByZXNlcnZlSXRlbXMpIHtcbiAgICByZW1hcCA9IHRoaXMucmVtYXBwaW5nKGVuZCwgdGhpcy5pdGVtcy5sZW5ndGgpO1xuICAgIG1hcEZyb20gPSByZW1hcC5tYXBzLmxlbmd0aDtcbiAgfVxuICB2YXIgdHJhbnNmb3JtID0gc3RhdGUudHI7XG4gIHZhciBzZWxlY3Rpb24sIHJlbWFpbmluZztcbiAgdmFyIGFkZEFmdGVyID0gW10sIGFkZEJlZm9yZSA9IFtdO1xuXG4gIHRoaXMuaXRlbXMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaSkge1xuICAgIGlmICghaXRlbS5zdGVwKSB7XG4gICAgICBpZiAoIXJlbWFwKSB7XG4gICAgICAgIHJlbWFwID0gdGhpcyQxLnJlbWFwcGluZyhlbmQsIGkgKyAxKTtcbiAgICAgICAgbWFwRnJvbSA9IHJlbWFwLm1hcHMubGVuZ3RoO1xuICAgICAgfVxuICAgICAgbWFwRnJvbS0tO1xuICAgICAgYWRkQmVmb3JlLnB1c2goaXRlbSk7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBpZiAocmVtYXApIHtcbiAgICAgIGFkZEJlZm9yZS5wdXNoKG5ldyBJdGVtKGl0ZW0ubWFwKSk7XG4gICAgICB2YXIgc3RlcCA9IGl0ZW0uc3RlcC5tYXAocmVtYXAuc2xpY2UobWFwRnJvbSkpLCBtYXA7XG5cbiAgICAgIGlmIChzdGVwICYmIHRyYW5zZm9ybS5tYXliZVN0ZXAoc3RlcCkuZG9jKSB7XG4gICAgICAgIG1hcCA9IHRyYW5zZm9ybS5tYXBwaW5nLm1hcHNbdHJhbnNmb3JtLm1hcHBpbmcubWFwcy5sZW5ndGggLSAxXTtcbiAgICAgICAgYWRkQWZ0ZXIucHVzaChuZXcgSXRlbShtYXAsIG51bGwsIG51bGwsIGFkZEFmdGVyLmxlbmd0aCArIGFkZEJlZm9yZS5sZW5ndGgpKTtcbiAgICAgIH1cbiAgICAgIG1hcEZyb20tLTtcbiAgICAgIGlmIChtYXApIHsgcmVtYXAuYXBwZW5kTWFwKG1hcCwgbWFwRnJvbSk7IH1cbiAgICB9IGVsc2Uge1xuICAgICAgdHJhbnNmb3JtLm1heWJlU3RlcChpdGVtLnN0ZXApO1xuICAgIH1cblxuICAgIGlmIChpdGVtLnNlbGVjdGlvbikge1xuICAgICAgc2VsZWN0aW9uID0gcmVtYXAgPyBpdGVtLnNlbGVjdGlvbi5tYXAocmVtYXAuc2xpY2UobWFwRnJvbSkpIDogaXRlbS5zZWxlY3Rpb247XG4gICAgICByZW1haW5pbmcgPSBuZXcgQnJhbmNoKHRoaXMkMS5pdGVtcy5zbGljZSgwLCBlbmQpLmFwcGVuZChhZGRCZWZvcmUucmV2ZXJzZSgpLmNvbmNhdChhZGRBZnRlcikpLCB0aGlzJDEuZXZlbnRDb3VudCAtIDEpO1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICB9LCB0aGlzLml0ZW1zLmxlbmd0aCwgMCk7XG5cbiAgcmV0dXJuIHtyZW1haW5pbmc6IHJlbWFpbmluZywgdHJhbnNmb3JtOiB0cmFuc2Zvcm0sIHNlbGVjdGlvbjogc2VsZWN0aW9ufVxufTtcblxuLy8gOiAoVHJhbnNmb3JtLCBTZWxlY3Rpb24sIE9iamVjdClcbi8vIENyZWF0ZSBhIG5ldyBicmFuY2ggd2l0aCB0aGUgZ2l2ZW4gdHJhbnNmb3JtIGFkZGVkLlxuQnJhbmNoLnByb3RvdHlwZS5hZGRUcmFuc2Zvcm0gPSBmdW5jdGlvbiBhZGRUcmFuc2Zvcm0gKHRyYW5zZm9ybSwgc2VsZWN0aW9uLCBoaXN0T3B0aW9ucywgcHJlc2VydmVJdGVtcykge1xuICB2YXIgbmV3SXRlbXMgPSBbXSwgZXZlbnRDb3VudCA9IHRoaXMuZXZlbnRDb3VudDtcbiAgdmFyIG9sZEl0ZW1zID0gdGhpcy5pdGVtcywgbGFzdEl0ZW0gPSAhcHJlc2VydmVJdGVtcyAmJiBvbGRJdGVtcy5sZW5ndGggPyBvbGRJdGVtcy5nZXQob2xkSXRlbXMubGVuZ3RoIC0gMSkgOiBudWxsO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdHJhbnNmb3JtLnN0ZXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHN0ZXAgPSB0cmFuc2Zvcm0uc3RlcHNbaV0uaW52ZXJ0KHRyYW5zZm9ybS5kb2NzW2ldKTtcbiAgICB2YXIgaXRlbSA9IG5ldyBJdGVtKHRyYW5zZm9ybS5tYXBwaW5nLm1hcHNbaV0sIHN0ZXAsIHNlbGVjdGlvbiksIG1lcmdlZCA9ICh2b2lkIDApO1xuICAgIGlmIChtZXJnZWQgPSBsYXN0SXRlbSAmJiBsYXN0SXRlbS5tZXJnZShpdGVtKSkge1xuICAgICAgaXRlbSA9IG1lcmdlZDtcbiAgICAgIGlmIChpKSB7IG5ld0l0ZW1zLnBvcCgpOyB9XG4gICAgICBlbHNlIHsgb2xkSXRlbXMgPSBvbGRJdGVtcy5zbGljZSgwLCBvbGRJdGVtcy5sZW5ndGggLSAxKTsgfVxuICAgIH1cbiAgICBuZXdJdGVtcy5wdXNoKGl0ZW0pO1xuICAgIGlmIChzZWxlY3Rpb24pIHtcbiAgICAgIGV2ZW50Q291bnQrKztcbiAgICAgIHNlbGVjdGlvbiA9IG51bGw7XG4gICAgfVxuICAgIGlmICghcHJlc2VydmVJdGVtcykgeyBsYXN0SXRlbSA9IGl0ZW07IH1cbiAgfVxuICB2YXIgb3ZlcmZsb3cgPSBldmVudENvdW50IC0gaGlzdE9wdGlvbnMuZGVwdGg7XG4gIGlmIChvdmVyZmxvdyA+IERFUFRIX09WRVJGTE9XKSB7XG4gICAgb2xkSXRlbXMgPSBjdXRPZmZFdmVudHMob2xkSXRlbXMsIG92ZXJmbG93KTtcbiAgICBldmVudENvdW50IC09IG92ZXJmbG93O1xuICB9XG4gIHJldHVybiBuZXcgQnJhbmNoKG9sZEl0ZW1zLmFwcGVuZChuZXdJdGVtcyksIGV2ZW50Q291bnQpXG59O1xuXG5CcmFuY2gucHJvdG90eXBlLnJlbWFwcGluZyA9IGZ1bmN0aW9uIHJlbWFwcGluZyAoZnJvbSwgdG8pIHtcbiAgdmFyIG1hcHMgPSBbXSwgbWlycm9ycyA9IFtdO1xuICB0aGlzLml0ZW1zLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGkpIHtcbiAgICBpZiAoaXRlbS5taXJyb3JPZmZzZXQgIT0gbnVsbCkge1xuICAgICAgdmFyIG1pcnJvclBvcyA9IGkgLSBpdGVtLm1pcnJvck9mZnNldDtcbiAgICAgIGlmIChtaXJyb3JQb3MgPj0gZnJvbSkgeyBtaXJyb3JzLnB1c2gobWFwcy5sZW5ndGggLSBpdGVtLm1pcnJvck9mZnNldCwgbWFwcy5sZW5ndGgpOyB9XG4gICAgfVxuICAgIG1hcHMucHVzaChpdGVtLm1hcCk7XG4gIH0sIGZyb20sIHRvKTtcbiAgcmV0dXJuIG5ldyBwcm9zZW1pcnJvclRyYW5zZm9ybS5NYXBwaW5nKG1hcHMsIG1pcnJvcnMpXG59O1xuXG5CcmFuY2gucHJvdG90eXBlLmFkZE1hcHMgPSBmdW5jdGlvbiBhZGRNYXBzIChhcnJheSkge1xuICBpZiAodGhpcy5ldmVudENvdW50ID09IDApIHsgcmV0dXJuIHRoaXMgfVxuICByZXR1cm4gbmV3IEJyYW5jaCh0aGlzLml0ZW1zLmFwcGVuZChhcnJheS5tYXAoZnVuY3Rpb24gKG1hcCkgeyByZXR1cm4gbmV3IEl0ZW0obWFwKTsgfSkpLCB0aGlzLmV2ZW50Q291bnQpXG59O1xuXG4vLyA6IChbU3RlcE1hcF0sIFRyYW5zZm9ybSwgW251bWJlcl0pXG4vLyBXaGVuIHRoZSBjb2xsYWIgbW9kdWxlIHJlY2VpdmVzIHJlbW90ZSBjaGFuZ2VzLCB0aGUgaGlzdG9yeSBoYXNcbi8vIHRvIGtub3cgYWJvdXQgdGhvc2UsIHNvIHRoYXQgaXQgY2FuIGFkanVzdCB0aGUgc3RlcHMgdGhhdCB3ZXJlXG4vLyByZWJhc2VkIG9uIHRvcCBvZiB0aGUgcmVtb3RlIGNoYW5nZXMsIGFuZCBpbmNsdWRlIHRoZSBwb3NpdGlvblxuLy8gbWFwcyBmb3IgdGhlIHJlbW90ZSBjaGFuZ2VzIGluIGl0cyBhcnJheSBvZiBpdGVtcy5cbkJyYW5jaC5wcm90b3R5cGUucmViYXNlZCA9IGZ1bmN0aW9uIHJlYmFzZWQgKHJlYmFzZWRUcmFuc2Zvcm0sIHJlYmFzZWRDb3VudCkge1xuICBpZiAoIXRoaXMuZXZlbnRDb3VudCkgeyByZXR1cm4gdGhpcyB9XG5cbiAgdmFyIHJlYmFzZWRJdGVtcyA9IFtdLCBzdGFydCA9IE1hdGgubWF4KDAsIHRoaXMuaXRlbXMubGVuZ3RoIC0gcmViYXNlZENvdW50KTtcblxuICB2YXIgbWFwcGluZyA9IHJlYmFzZWRUcmFuc2Zvcm0ubWFwcGluZztcbiAgdmFyIG5ld1VudGlsID0gcmViYXNlZFRyYW5zZm9ybS5zdGVwcy5sZW5ndGg7XG4gIHZhciBldmVudENvdW50ID0gdGhpcy5ldmVudENvdW50O1xuICB0aGlzLml0ZW1zLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsgaWYgKGl0ZW0uc2VsZWN0aW9uKSB7IGV2ZW50Q291bnQtLTsgfSB9LCB0aGlzLml0ZW1zLmxlbmd0aCAtIHJlYmFzZWRDb3VudCk7XG5cbiAgdmFyIGlSZWJhc2VkID0gcmViYXNlZENvdW50O1xuICB0aGlzLml0ZW1zLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICB2YXIgcG9zID0gbWFwcGluZy5nZXRNaXJyb3IoLS1pUmViYXNlZCk7XG4gICAgaWYgKHBvcyA9PSBudWxsKSB7IHJldHVybiB9XG4gICAgbmV3VW50aWwgPSBNYXRoLm1pbihuZXdVbnRpbCwgcG9zKTtcbiAgICB2YXIgbWFwID0gbWFwcGluZy5tYXBzW3Bvc107XG4gICAgaWYgKGl0ZW0uc3RlcCkge1xuICAgICAgdmFyIHN0ZXAgPSByZWJhc2VkVHJhbnNmb3JtLnN0ZXBzW3Bvc10uaW52ZXJ0KHJlYmFzZWRUcmFuc2Zvcm0uZG9jc1twb3NdKTtcbiAgICAgIHZhciBzZWxlY3Rpb24gPSBpdGVtLnNlbGVjdGlvbiAmJiBpdGVtLnNlbGVjdGlvbi5tYXAobWFwcGluZy5zbGljZShpUmViYXNlZCwgcG9zKSk7XG4gICAgICBpZiAoc2VsZWN0aW9uKSB7IGV2ZW50Q291bnQrKzsgfVxuICAgICAgcmViYXNlZEl0ZW1zLnB1c2gobmV3IEl0ZW0obWFwLCBzdGVwLCBzZWxlY3Rpb24pKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmViYXNlZEl0ZW1zLnB1c2gobmV3IEl0ZW0obWFwKSk7XG4gICAgfVxuICB9LCBzdGFydCk7XG5cbiAgdmFyIG5ld01hcHMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IHJlYmFzZWRDb3VudDsgaSA8IG5ld1VudGlsOyBpKyspXG4gICAgeyBuZXdNYXBzLnB1c2gobmV3IEl0ZW0obWFwcGluZy5tYXBzW2ldKSk7IH1cbiAgdmFyIGl0ZW1zID0gdGhpcy5pdGVtcy5zbGljZSgwLCBzdGFydCkuYXBwZW5kKG5ld01hcHMpLmFwcGVuZChyZWJhc2VkSXRlbXMpO1xuICB2YXIgYnJhbmNoID0gbmV3IEJyYW5jaChpdGVtcywgZXZlbnRDb3VudCk7XG5cbiAgaWYgKGJyYW5jaC5lbXB0eUl0ZW1Db3VudCgpID4gbWF4X2VtcHR5X2l0ZW1zKVxuICAgIHsgYnJhbmNoID0gYnJhbmNoLmNvbXByZXNzKHRoaXMuaXRlbXMubGVuZ3RoIC0gcmViYXNlZEl0ZW1zLmxlbmd0aCk7IH1cbiAgcmV0dXJuIGJyYW5jaFxufTtcblxuQnJhbmNoLnByb3RvdHlwZS5lbXB0eUl0ZW1Db3VudCA9IGZ1bmN0aW9uIGVtcHR5SXRlbUNvdW50ICgpIHtcbiAgdmFyIGNvdW50ID0gMDtcbiAgdGhpcy5pdGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7IGlmICghaXRlbS5zdGVwKSB7IGNvdW50Kys7IH0gfSk7XG4gIHJldHVybiBjb3VudFxufTtcblxuLy8gQ29tcHJlc3NpbmcgYSBicmFuY2ggbWVhbnMgcmV3cml0aW5nIGl0IHRvIHB1c2ggdGhlIGFpciAobWFwLW9ubHlcbi8vIGl0ZW1zKSBvdXQuIER1cmluZyBjb2xsYWJvcmF0aW9uLCB0aGVzZSBuYXR1cmFsbHkgYWNjdW11bGF0ZVxuLy8gYmVjYXVzZSBlYWNoIHJlbW90ZSBjaGFuZ2UgYWRkcyBvbmUuIFRoZSBgdXB0b2AgYXJndW1lbnQgaXMgdXNlZFxuLy8gdG8gZW5zdXJlIHRoYXQgb25seSB0aGUgaXRlbXMgYmVsb3cgYSBnaXZlbiBsZXZlbCBhcmUgY29tcHJlc3NlZCxcbi8vIGJlY2F1c2UgYHJlYmFzZWRgIHJlbGllcyBvbiBhIGNsZWFuLCB1bnRvdWNoZWQgc2V0IG9mIGl0ZW1zIGluXG4vLyBvcmRlciB0byBhc3NvY2lhdGUgb2xkIGl0ZW1zIHdpdGggcmViYXNlZCBzdGVwcy5cbkJyYW5jaC5wcm90b3R5cGUuY29tcHJlc3MgPSBmdW5jdGlvbiBjb21wcmVzcyAodXB0bykge1xuICAgIGlmICggdXB0byA9PT0gdm9pZCAwICkgdXB0byA9IHRoaXMuaXRlbXMubGVuZ3RoO1xuXG4gIHZhciByZW1hcCA9IHRoaXMucmVtYXBwaW5nKDAsIHVwdG8pLCBtYXBGcm9tID0gcmVtYXAubWFwcy5sZW5ndGg7XG4gIHZhciBpdGVtcyA9IFtdLCBldmVudHMgPSAwO1xuICB0aGlzLml0ZW1zLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGkpIHtcbiAgICBpZiAoaSA+PSB1cHRvKSB7XG4gICAgICBpdGVtcy5wdXNoKGl0ZW0pO1xuICAgICAgaWYgKGl0ZW0uc2VsZWN0aW9uKSB7IGV2ZW50cysrOyB9XG4gICAgfSBlbHNlIGlmIChpdGVtLnN0ZXApIHtcbiAgICAgIHZhciBzdGVwID0gaXRlbS5zdGVwLm1hcChyZW1hcC5zbGljZShtYXBGcm9tKSksIG1hcCA9IHN0ZXAgJiYgc3RlcC5nZXRNYXAoKTtcbiAgICAgIG1hcEZyb20tLTtcbiAgICAgIGlmIChtYXApIHsgcmVtYXAuYXBwZW5kTWFwKG1hcCwgbWFwRnJvbSk7IH1cbiAgICAgIGlmIChzdGVwKSB7XG4gICAgICAgIHZhciBzZWxlY3Rpb24gPSBpdGVtLnNlbGVjdGlvbiAmJiBpdGVtLnNlbGVjdGlvbi5tYXAocmVtYXAuc2xpY2UobWFwRnJvbSkpO1xuICAgICAgICBpZiAoc2VsZWN0aW9uKSB7IGV2ZW50cysrOyB9XG4gICAgICAgIHZhciBuZXdJdGVtID0gbmV3IEl0ZW0obWFwLmludmVydCgpLCBzdGVwLCBzZWxlY3Rpb24pLCBtZXJnZWQsIGxhc3QgPSBpdGVtcy5sZW5ndGggLSAxO1xuICAgICAgICBpZiAobWVyZ2VkID0gaXRlbXMubGVuZ3RoICYmIGl0ZW1zW2xhc3RdLm1lcmdlKG5ld0l0ZW0pKVxuICAgICAgICAgIHsgaXRlbXNbbGFzdF0gPSBtZXJnZWQ7IH1cbiAgICAgICAgZWxzZVxuICAgICAgICAgIHsgaXRlbXMucHVzaChuZXdJdGVtKTsgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaXRlbS5tYXApIHtcbiAgICAgIG1hcEZyb20tLTtcbiAgICB9XG4gIH0sIHRoaXMuaXRlbXMubGVuZ3RoLCAwKTtcbiAgcmV0dXJuIG5ldyBCcmFuY2goUm9wZVNlcXVlbmNlLmZyb20oaXRlbXMucmV2ZXJzZSgpKSwgZXZlbnRzKVxufTtcblxuQnJhbmNoLmVtcHR5ID0gbmV3IEJyYW5jaChSb3BlU2VxdWVuY2UuZW1wdHksIDApO1xuXG5mdW5jdGlvbiBjdXRPZmZFdmVudHMoaXRlbXMsIG4pIHtcbiAgdmFyIGN1dFBvaW50O1xuICBpdGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpKSB7XG4gICAgaWYgKGl0ZW0uc2VsZWN0aW9uICYmIChuLS0gPT0gMCkpIHtcbiAgICAgIGN1dFBvaW50ID0gaTtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgfSk7XG4gIHJldHVybiBpdGVtcy5zbGljZShjdXRQb2ludClcbn1cblxudmFyIEl0ZW0gPSBmdW5jdGlvbiBJdGVtKG1hcCwgc3RlcCwgc2VsZWN0aW9uLCBtaXJyb3JPZmZzZXQpIHtcbiAgdGhpcy5tYXAgPSBtYXA7XG4gIHRoaXMuc3RlcCA9IHN0ZXA7XG4gIHRoaXMuc2VsZWN0aW9uID0gc2VsZWN0aW9uO1xuICB0aGlzLm1pcnJvck9mZnNldCA9IG1pcnJvck9mZnNldDtcbn07XG5cbkl0ZW0ucHJvdG90eXBlLm1lcmdlID0gZnVuY3Rpb24gbWVyZ2UgKG90aGVyKSB7XG4gIGlmICh0aGlzLnN0ZXAgJiYgb3RoZXIuc3RlcCAmJiAhb3RoZXIuc2VsZWN0aW9uKSB7XG4gICAgdmFyIHN0ZXAgPSBvdGhlci5zdGVwLm1lcmdlKHRoaXMuc3RlcCk7XG4gICAgaWYgKHN0ZXApIHsgcmV0dXJuIG5ldyBJdGVtKHN0ZXAuZ2V0TWFwKCkuaW52ZXJ0KCksIHN0ZXAsIHRoaXMuc2VsZWN0aW9uKSB9XG4gIH1cbn07XG5cbi8vIFRoZSB2YWx1ZSBvZiB0aGUgc3RhdGUgZmllbGQgdGhhdCB0cmFja3MgdW5kby9yZWRvIGhpc3RvcnkgZm9yIHRoYXRcbi8vIHN0YXRlLiBXaWxsIGJlIHN0b3JlZCBpbiB0aGUgcGx1Z2luIHN0YXRlIHdoZW4gdGhlIGhpc3RvcnkgcGx1Z2luXG4vLyBpcyBhY3RpdmUuXG52YXIgSGlzdG9yeVN0YXRlID0gZnVuY3Rpb24gSGlzdG9yeVN0YXRlKGRvbmUsIHVuZG9uZSwgcHJldk1hcCwgcHJldlRpbWUpIHtcbiAgdGhpcy5kb25lID0gZG9uZTtcbiAgdGhpcy51bmRvbmUgPSB1bmRvbmU7XG4gIHRoaXMucHJldk1hcCA9IHByZXZNYXA7XG4gIHRoaXMucHJldlRpbWUgPSBwcmV2VGltZTtcbn07XG5cbnZhciBERVBUSF9PVkVSRkxPVyA9IDIwO1xuXG4vLyA6IChFZGl0b3JTdGF0ZSwgRWRpdG9yU3RhdGUsIFNlbGVjdGlvbiwgT2JqZWN0KVxuLy8gUmVjb3JkIGEgdHJhbnNmb3JtYXRpb24gaW4gdW5kbyBoaXN0b3J5LlxuZnVuY3Rpb24gYXBwbHlUcmFuc2FjdGlvbihoaXN0b3J5LCBzdGF0ZSwgdHIsIG9wdGlvbnMpIHtcbiAgdmFyIG5ld1N0YXRlID0gdHIuZ2V0TWV0YShoaXN0b3J5S2V5KSwgcmViYXNlZDtcbiAgaWYgKG5ld1N0YXRlKSB7IHJldHVybiBuZXdTdGF0ZSB9XG5cbiAgaWYgKHRyLmdldE1ldGEoY2xvc2VIaXN0b3J5S2V5KSkgeyBoaXN0b3J5ID0gbmV3IEhpc3RvcnlTdGF0ZShoaXN0b3J5LmRvbmUsIGhpc3RvcnkudW5kb25lLCBudWxsLCAwKTsgfVxuXG4gIHZhciBhcHBlbmRlZCA9IHRyLmdldE1ldGEoXCJhcHBlbmRlZFRyYW5zYWN0aW9uXCIpO1xuICBpZiAodHIuc3RlcHMubGVuZ3RoID09IDApIHtcbiAgICByZXR1cm4gaGlzdG9yeVxuICB9IGVsc2UgaWYgKChhcHBlbmRlZCB8fCB0cikuZ2V0TWV0YShcImFkZFRvSGlzdG9yeVwiKSAhPT0gZmFsc2UpIHtcbiAgICAvLyBHcm91cCB0cmFuc2Zvcm1zIHRoYXQgb2NjdXIgaW4gcXVpY2sgc3VjY2Vzc2lvbiBpbnRvIG9uZSBldmVudC5cbiAgICB2YXIgbmV3R3JvdXAgPSBoaXN0b3J5LnByZXZUaW1lIDwgKHRyLnRpbWUgfHwgMCkgLSBvcHRpb25zLm5ld0dyb3VwRGVsYXkgfHxcbiAgICAgICAgIWFwcGVuZGVkICYmICFpc0FkamFjZW50VG9MYXN0U3RlcCh0ciwgaGlzdG9yeS5wcmV2TWFwLCBoaXN0b3J5LmRvbmUpO1xuICAgIHJldHVybiBuZXcgSGlzdG9yeVN0YXRlKGhpc3RvcnkuZG9uZS5hZGRUcmFuc2Zvcm0odHIsIG5ld0dyb3VwID8gc3RhdGUuc2VsZWN0aW9uLmdldEJvb2ttYXJrKCkgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucywgbXVzdFByZXNlcnZlSXRlbXMoc3RhdGUpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBCcmFuY2guZW1wdHksIHRyLm1hcHBpbmcubWFwc1t0ci5zdGVwcy5sZW5ndGggLSAxXSwgdHIudGltZSlcbiAgfSBlbHNlIGlmIChyZWJhc2VkID0gdHIuZ2V0TWV0YShcInJlYmFzZWRcIikpIHtcbiAgICAvLyBVc2VkIGJ5IHRoZSBjb2xsYWIgbW9kdWxlIHRvIHRlbGwgdGhlIGhpc3RvcnkgdGhhdCBzb21lIG9mIGl0c1xuICAgIC8vIGNvbnRlbnQgaGFzIGJlZW4gcmViYXNlZC5cbiAgICByZXR1cm4gbmV3IEhpc3RvcnlTdGF0ZShoaXN0b3J5LmRvbmUucmViYXNlZCh0ciwgcmViYXNlZCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlzdG9yeS51bmRvbmUucmViYXNlZCh0ciwgcmViYXNlZCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlzdG9yeS5wcmV2TWFwICYmIHRyLm1hcHBpbmcubWFwc1t0ci5zdGVwcy5sZW5ndGggLSAxXSwgaGlzdG9yeS5wcmV2VGltZSlcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbmV3IEhpc3RvcnlTdGF0ZShoaXN0b3J5LmRvbmUuYWRkTWFwcyh0ci5tYXBwaW5nLm1hcHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpc3RvcnkudW5kb25lLmFkZE1hcHModHIubWFwcGluZy5tYXBzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaXN0b3J5LnByZXZNYXAsIGhpc3RvcnkucHJldlRpbWUpXG4gIH1cbn1cblxuZnVuY3Rpb24gaXNBZGphY2VudFRvTGFzdFN0ZXAodHJhbnNmb3JtLCBwcmV2TWFwLCBkb25lKSB7XG4gIGlmICghcHJldk1hcCkgeyByZXR1cm4gZmFsc2UgfVxuICB2YXIgZmlyc3RNYXAgPSB0cmFuc2Zvcm0ubWFwcGluZy5tYXBzWzBdLCBhZGphY2VudCA9IGZhbHNlO1xuICBpZiAoIWZpcnN0TWFwKSB7IHJldHVybiB0cnVlIH1cbiAgZmlyc3RNYXAuZm9yRWFjaChmdW5jdGlvbiAoc3RhcnQsIGVuZCkge1xuICAgIGRvbmUuaXRlbXMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgaWYgKGl0ZW0uc3RlcCkge1xuICAgICAgICBwcmV2TWFwLmZvckVhY2goZnVuY3Rpb24gKF9zdGFydCwgX2VuZCwgclN0YXJ0LCByRW5kKSB7XG4gICAgICAgICAgaWYgKHN0YXJ0IDw9IHJFbmQgJiYgZW5kID49IHJTdGFydCkgeyBhZGphY2VudCA9IHRydWU7IH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RhcnQgPSBpdGVtLm1hcC5pbnZlcnQoKS5tYXAoc3RhcnQsIC0xKTtcbiAgICAgICAgZW5kID0gaXRlbS5tYXAuaW52ZXJ0KCkubWFwKGVuZCwgMSk7XG4gICAgICB9XG4gICAgfSwgZG9uZS5pdGVtcy5sZW5ndGgsIDApO1xuICB9KTtcbiAgcmV0dXJuIGFkamFjZW50XG59XG5cbi8vIDogKEhpc3RvcnlTdGF0ZSwgRWRpdG9yU3RhdGUsICh0cjogVHJhbnNhY3Rpb24pLCBib29sKVxuLy8gQXBwbHkgdGhlIGxhdGVzdCBldmVudCBmcm9tIG9uZSBicmFuY2ggdG8gdGhlIGRvY3VtZW50IGFuZCBvcHRpb25hbGx5XG4vLyBzaGlmdCB0aGUgZXZlbnQgb250byB0aGUgb3RoZXIgYnJhbmNoLiBSZXR1cm5zIHRydWUgd2hlbiBhbiBldmVudCBjb3VsZFxuLy8gYmUgc2hpZnRlZC5cbmZ1bmN0aW9uIGhpc3RUcmFuc2FjdGlvbihoaXN0b3J5LCBzdGF0ZSwgZGlzcGF0Y2gsIHJlZG8pIHtcbiAgdmFyIHByZXNlcnZlSXRlbXMgPSBtdXN0UHJlc2VydmVJdGVtcyhzdGF0ZSksIGhpc3RPcHRpb25zID0gaGlzdG9yeUtleS5nZXQoc3RhdGUpLnNwZWMuY29uZmlnO1xuICB2YXIgcG9wID0gKHJlZG8gPyBoaXN0b3J5LnVuZG9uZSA6IGhpc3RvcnkuZG9uZSkucG9wRXZlbnQoc3RhdGUsIHByZXNlcnZlSXRlbXMpO1xuICBpZiAoIXBvcCkgeyByZXR1cm4gfVxuXG4gIHZhciBzZWxlY3Rpb24gPSBwb3Auc2VsZWN0aW9uLnJlc29sdmUocG9wLnRyYW5zZm9ybS5kb2MpO1xuICB2YXIgYWRkZWQgPSAocmVkbyA/IGhpc3RvcnkuZG9uZSA6IGhpc3RvcnkudW5kb25lKS5hZGRUcmFuc2Zvcm0ocG9wLnRyYW5zZm9ybSwgc3RhdGUuc2VsZWN0aW9uLmdldEJvb2ttYXJrKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaXN0T3B0aW9ucywgcHJlc2VydmVJdGVtcyk7XG5cbiAgdmFyIG5ld0hpc3QgPSBuZXcgSGlzdG9yeVN0YXRlKHJlZG8gPyBhZGRlZCA6IHBvcC5yZW1haW5pbmcsIHJlZG8gPyBwb3AucmVtYWluaW5nIDogYWRkZWQsIG51bGwsIDApO1xuICBkaXNwYXRjaChwb3AudHJhbnNmb3JtLnNldFNlbGVjdGlvbihzZWxlY3Rpb24pLnNldE1ldGEoaGlzdG9yeUtleSwgbmV3SGlzdCkuc2Nyb2xsSW50b1ZpZXcoKSk7XG59XG5cbnZhciBjYWNoZWRQcmVzZXJ2ZUl0ZW1zID0gZmFsc2U7XG52YXIgY2FjaGVkUHJlc2VydmVJdGVtc1BsdWdpbnMgPSBudWxsO1xuLy8gQ2hlY2sgd2hldGhlciBhbnkgcGx1Z2luIGluIHRoZSBnaXZlbiBzdGF0ZSBoYXMgYVxuLy8gYGhpc3RvcnlQcmVzZXJ2ZUl0ZW1zYCBwcm9wZXJ0eSBpbiBpdHMgc3BlYywgaW4gd2hpY2ggY2FzZSB3ZSBtdXN0XG4vLyBwcmVzZXJ2ZSBzdGVwcyBleGFjdGx5IGFzIHRoZXkgY2FtZSBpbiwgc28gdGhhdCB0aGV5IGNhbiBiZVxuLy8gcmViYXNlZC5cbmZ1bmN0aW9uIG11c3RQcmVzZXJ2ZUl0ZW1zKHN0YXRlKSB7XG4gIHZhciBwbHVnaW5zID0gc3RhdGUucGx1Z2lucztcbiAgaWYgKGNhY2hlZFByZXNlcnZlSXRlbXNQbHVnaW5zICE9IHBsdWdpbnMpIHtcbiAgICBjYWNoZWRQcmVzZXJ2ZUl0ZW1zID0gZmFsc2U7XG4gICAgY2FjaGVkUHJlc2VydmVJdGVtc1BsdWdpbnMgPSBwbHVnaW5zO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGx1Z2lucy5sZW5ndGg7IGkrKykgeyBpZiAocGx1Z2luc1tpXS5zcGVjLmhpc3RvcnlQcmVzZXJ2ZUl0ZW1zKSB7XG4gICAgICBjYWNoZWRQcmVzZXJ2ZUl0ZW1zID0gdHJ1ZTtcbiAgICAgIGJyZWFrXG4gICAgfSB9XG4gIH1cbiAgcmV0dXJuIGNhY2hlZFByZXNlcnZlSXRlbXNcbn1cblxuLy8gOjogKFRyYW5zYWN0aW9uKSDihpIgVHJhbnNhY3Rpb25cbi8vIFNldCBhIGZsYWcgb24gdGhlIGdpdmVuIHRyYW5zYWN0aW9uIHRoYXQgd2lsbCBwcmV2ZW50IGZ1cnRoZXIgc3RlcHNcbi8vIGZyb20gYmVpbmcgYXBwZW5kZWQgdG8gYW4gZXhpc3RpbmcgaGlzdG9yeSBldmVudCAoc28gdGhhdCB0aGV5XG4vLyByZXF1aXJlIGEgc2VwYXJhdGUgdW5kbyBjb21tYW5kIHRvIHVuZG8pLlxuZnVuY3Rpb24gY2xvc2VIaXN0b3J5KHRyKSB7XG4gIHJldHVybiB0ci5zZXRNZXRhKGNsb3NlSGlzdG9yeUtleSwgdHJ1ZSlcbn1cblxudmFyIGhpc3RvcnlLZXkgPSBuZXcgcHJvc2VtaXJyb3JTdGF0ZS5QbHVnaW5LZXkoXCJoaXN0b3J5XCIpO1xudmFyIGNsb3NlSGlzdG9yeUtleSA9IG5ldyBwcm9zZW1pcnJvclN0YXRlLlBsdWdpbktleShcImNsb3NlSGlzdG9yeVwiKTtcblxuLy8gOjogKD9PYmplY3QpIOKGkiBQbHVnaW5cbi8vIFJldHVybnMgYSBwbHVnaW4gdGhhdCBlbmFibGVzIHRoZSB1bmRvIGhpc3RvcnkgZm9yIGFuIGVkaXRvci4gVGhlXG4vLyBwbHVnaW4gd2lsbCB0cmFjayB1bmRvIGFuZCByZWRvIHN0YWNrcywgd2hpY2ggY2FuIGJlIHVzZWQgd2l0aCB0aGVcbi8vIFtgdW5kb2BdKCNoaXN0b3J5LnVuZG8pIGFuZCBbYHJlZG9gXSgjaGlzdG9yeS5yZWRvKSBjb21tYW5kcy5cbi8vXG4vLyBZb3UgY2FuIHNldCBhbiBgXCJhZGRUb0hpc3RvcnlcImAgW21ldGFkYXRhXG4vLyBwcm9wZXJ0eV0oI3N0YXRlLlRyYW5zYWN0aW9uLnNldE1ldGEpIG9mIGBmYWxzZWAgb24gYSB0cmFuc2FjdGlvblxuLy8gdG8gcHJldmVudCBpdCBmcm9tIGJlaW5nIHJvbGxlZCBiYWNrIGJ5IHVuZG8uXG4vL1xuLy8gICBjb25maWc6Oi1cbi8vICAgU3VwcG9ydHMgdGhlIGZvbGxvd2luZyBjb25maWd1cmF0aW9uIG9wdGlvbnM6XG4vL1xuLy8gICAgIGRlcHRoOjogP251bWJlclxuLy8gICAgIFRoZSBhbW91bnQgb2YgaGlzdG9yeSBldmVudHMgdGhhdCBhcmUgY29sbGVjdGVkIGJlZm9yZSB0aGVcbi8vICAgICBvbGRlc3QgZXZlbnRzIGFyZSBkaXNjYXJkZWQuIERlZmF1bHRzIHRvIDEwMC5cbi8vXG4vLyAgICAgbmV3R3JvdXBEZWxheTo6ID9udW1iZXJcbi8vICAgICBUaGUgZGVsYXkgYmV0d2VlbiBjaGFuZ2VzIGFmdGVyIHdoaWNoIGEgbmV3IGdyb3VwIHNob3VsZCBiZVxuLy8gICAgIHN0YXJ0ZWQuIERlZmF1bHRzIHRvIDUwMCAobWlsbGlzZWNvbmRzKS4gTm90ZSB0aGF0IHdoZW4gY2hhbmdlc1xuLy8gICAgIGFyZW4ndCBhZGphY2VudCwgYSBuZXcgZ3JvdXAgaXMgYWx3YXlzIHN0YXJ0ZWQuXG5mdW5jdGlvbiBoaXN0b3J5KGNvbmZpZykge1xuICBjb25maWcgPSB7ZGVwdGg6IGNvbmZpZyAmJiBjb25maWcuZGVwdGggfHwgMTAwLFxuICAgICAgICAgICAgbmV3R3JvdXBEZWxheTogY29uZmlnICYmIGNvbmZpZy5uZXdHcm91cERlbGF5IHx8IDUwMH07XG4gIHJldHVybiBuZXcgcHJvc2VtaXJyb3JTdGF0ZS5QbHVnaW4oe1xuICAgIGtleTogaGlzdG9yeUtleSxcblxuICAgIHN0YXRlOiB7XG4gICAgICBpbml0OiBmdW5jdGlvbiBpbml0KCkge1xuICAgICAgICByZXR1cm4gbmV3IEhpc3RvcnlTdGF0ZShCcmFuY2guZW1wdHksIEJyYW5jaC5lbXB0eSwgbnVsbCwgMClcbiAgICAgIH0sXG4gICAgICBhcHBseTogZnVuY3Rpb24gYXBwbHkodHIsIGhpc3QsIHN0YXRlKSB7XG4gICAgICAgIHJldHVybiBhcHBseVRyYW5zYWN0aW9uKGhpc3QsIHN0YXRlLCB0ciwgY29uZmlnKVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBjb25maWc6IGNvbmZpZ1xuICB9KVxufVxuXG4vLyA6OiAoRWRpdG9yU3RhdGUsID8odHI6IFRyYW5zYWN0aW9uKSkg4oaSIGJvb2xcbi8vIEEgY29tbWFuZCBmdW5jdGlvbiB0aGF0IHVuZG9lcyB0aGUgbGFzdCBjaGFuZ2UsIGlmIGFueS5cbmZ1bmN0aW9uIHVuZG8oc3RhdGUsIGRpc3BhdGNoKSB7XG4gIHZhciBoaXN0ID0gaGlzdG9yeUtleS5nZXRTdGF0ZShzdGF0ZSk7XG4gIGlmICghaGlzdCB8fCBoaXN0LmRvbmUuZXZlbnRDb3VudCA9PSAwKSB7IHJldHVybiBmYWxzZSB9XG4gIGlmIChkaXNwYXRjaCkgeyBoaXN0VHJhbnNhY3Rpb24oaGlzdCwgc3RhdGUsIGRpc3BhdGNoLCBmYWxzZSk7IH1cbiAgcmV0dXJuIHRydWVcbn1cblxuLy8gOjogKEVkaXRvclN0YXRlLCA/KHRyOiBUcmFuc2FjdGlvbikpIOKGkiBib29sXG4vLyBBIGNvbW1hbmQgZnVuY3Rpb24gdGhhdCByZWRvZXMgdGhlIGxhc3QgdW5kb25lIGNoYW5nZSwgaWYgYW55LlxuZnVuY3Rpb24gcmVkbyhzdGF0ZSwgZGlzcGF0Y2gpIHtcbiAgdmFyIGhpc3QgPSBoaXN0b3J5S2V5LmdldFN0YXRlKHN0YXRlKTtcbiAgaWYgKCFoaXN0IHx8IGhpc3QudW5kb25lLmV2ZW50Q291bnQgPT0gMCkgeyByZXR1cm4gZmFsc2UgfVxuICBpZiAoZGlzcGF0Y2gpIHsgaGlzdFRyYW5zYWN0aW9uKGhpc3QsIHN0YXRlLCBkaXNwYXRjaCwgdHJ1ZSk7IH1cbiAgcmV0dXJuIHRydWVcbn1cblxuLy8gOjogKEVkaXRvclN0YXRlKSDihpIgbnVtYmVyXG4vLyBUaGUgYW1vdW50IG9mIHVuZG9hYmxlIGV2ZW50cyBhdmFpbGFibGUgaW4gYSBnaXZlbiBzdGF0ZS5cbmZ1bmN0aW9uIHVuZG9EZXB0aChzdGF0ZSkge1xuICB2YXIgaGlzdCA9IGhpc3RvcnlLZXkuZ2V0U3RhdGUoc3RhdGUpO1xuICByZXR1cm4gaGlzdCA/IGhpc3QuZG9uZS5ldmVudENvdW50IDogMFxufVxuXG4vLyA6OiAoRWRpdG9yU3RhdGUpIOKGkiBudW1iZXJcbi8vIFRoZSBhbW91bnQgb2YgcmVkb2FibGUgZXZlbnRzIGF2YWlsYWJsZSBpbiBhIGdpdmVuIGVkaXRvciBzdGF0ZS5cbmZ1bmN0aW9uIHJlZG9EZXB0aChzdGF0ZSkge1xuICB2YXIgaGlzdCA9IGhpc3RvcnlLZXkuZ2V0U3RhdGUoc3RhdGUpO1xuICByZXR1cm4gaGlzdCA/IGhpc3QudW5kb25lLmV2ZW50Q291bnQgOiAwXG59XG5cbmV4cG9ydHMuSGlzdG9yeVN0YXRlID0gSGlzdG9yeVN0YXRlO1xuZXhwb3J0cy5jbG9zZUhpc3RvcnkgPSBjbG9zZUhpc3Rvcnk7XG5leHBvcnRzLmhpc3RvcnkgPSBoaXN0b3J5O1xuZXhwb3J0cy51bmRvID0gdW5kbztcbmV4cG9ydHMucmVkbyA9IHJlZG87XG5leHBvcnRzLnVuZG9EZXB0aCA9IHVuZG9EZXB0aDtcbmV4cG9ydHMucmVkb0RlcHRoID0gcmVkb0RlcHRoO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aGlzdG9yeS5qcy5tYXBcbiIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcblxudmFyIHByb3NlbWlycm9yVHJhbnNmb3JtID0gcmVxdWlyZSgncHJvc2VtaXJyb3ItdHJhbnNmb3JtJyk7XG52YXIgcHJvc2VtaXJyb3JNb2RlbCA9IHJlcXVpcmUoJ3Byb3NlbWlycm9yLW1vZGVsJyk7XG52YXIgcHJvc2VtaXJyb3JTdGF0ZSA9IHJlcXVpcmUoJ3Byb3NlbWlycm9yLXN0YXRlJyk7XG5cbi8vIDo6IChFZGl0b3JTdGF0ZSwgPyh0cjogVHJhbnNhY3Rpb24pKSDihpIgYm9vbFxuLy8gRGVsZXRlIHRoZSBzZWxlY3Rpb24sIGlmIHRoZXJlIGlzIG9uZS5cbmZ1bmN0aW9uIGRlbGV0ZVNlbGVjdGlvbihzdGF0ZSwgZGlzcGF0Y2gpIHtcbiAgaWYgKHN0YXRlLnNlbGVjdGlvbi5lbXB0eSkgeyByZXR1cm4gZmFsc2UgfVxuICBpZiAoZGlzcGF0Y2gpIHsgZGlzcGF0Y2goc3RhdGUudHIuZGVsZXRlU2VsZWN0aW9uKCkuc2Nyb2xsSW50b1ZpZXcoKSk7IH1cbiAgcmV0dXJuIHRydWVcbn1cblxuLy8gOjogKEVkaXRvclN0YXRlLCA/KHRyOiBUcmFuc2FjdGlvbiksID9FZGl0b3JWaWV3KSDihpIgYm9vbFxuLy8gSWYgdGhlIHNlbGVjdGlvbiBpcyBlbXB0eSBhbmQgYXQgdGhlIHN0YXJ0IG9mIGEgdGV4dGJsb2NrLCB0cnkgdG9cbi8vIHJlZHVjZSB0aGUgZGlzdGFuY2UgYmV0d2VlbiB0aGF0IGJsb2NrIGFuZCB0aGUgb25lIGJlZm9yZSBpdOKAlGlmXG4vLyB0aGVyZSdzIGEgYmxvY2sgZGlyZWN0bHkgYmVmb3JlIGl0IHRoYXQgY2FuIGJlIGpvaW5lZCwgam9pbiB0aGVtLlxuLy8gSWYgbm90LCB0cnkgdG8gbW92ZSB0aGUgc2VsZWN0ZWQgYmxvY2sgY2xvc2VyIHRvIHRoZSBuZXh0IG9uZSBpblxuLy8gdGhlIGRvY3VtZW50IHN0cnVjdHVyZSBieSBsaWZ0aW5nIGl0IG91dCBvZiBpdHMgcGFyZW50IG9yIG1vdmluZyBpdFxuLy8gaW50byBhIHBhcmVudCBvZiB0aGUgcHJldmlvdXMgYmxvY2suIFdpbGwgdXNlIHRoZSB2aWV3IGZvciBhY2N1cmF0ZVxuLy8gKGJpZGktYXdhcmUpIHN0YXJ0LW9mLXRleHRibG9jayBkZXRlY3Rpb24gaWYgZ2l2ZW4uXG5mdW5jdGlvbiBqb2luQmFja3dhcmQoc3RhdGUsIGRpc3BhdGNoLCB2aWV3KSB7XG4gIHZhciByZWYgPSBzdGF0ZS5zZWxlY3Rpb247XG4gIHZhciAkY3Vyc29yID0gcmVmLiRjdXJzb3I7XG4gIGlmICghJGN1cnNvciB8fCAodmlldyA/ICF2aWV3LmVuZE9mVGV4dGJsb2NrKFwiYmFja3dhcmRcIiwgc3RhdGUpXG4gICAgICAgICAgICAgICAgICAgICAgICA6ICRjdXJzb3IucGFyZW50T2Zmc2V0ID4gMCkpXG4gICAgeyByZXR1cm4gZmFsc2UgfVxuXG4gIHZhciAkY3V0ID0gZmluZEN1dEJlZm9yZSgkY3Vyc29yKTtcblxuICAvLyBJZiB0aGVyZSBpcyBubyBub2RlIGJlZm9yZSB0aGlzLCB0cnkgdG8gbGlmdFxuICBpZiAoISRjdXQpIHtcbiAgICB2YXIgcmFuZ2UgPSAkY3Vyc29yLmJsb2NrUmFuZ2UoKSwgdGFyZ2V0ID0gcmFuZ2UgJiYgcHJvc2VtaXJyb3JUcmFuc2Zvcm0ubGlmdFRhcmdldChyYW5nZSk7XG4gICAgaWYgKHRhcmdldCA9PSBudWxsKSB7IHJldHVybiBmYWxzZSB9XG4gICAgaWYgKGRpc3BhdGNoKSB7IGRpc3BhdGNoKHN0YXRlLnRyLmxpZnQocmFuZ2UsIHRhcmdldCkuc2Nyb2xsSW50b1ZpZXcoKSk7IH1cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgdmFyIGJlZm9yZSA9ICRjdXQubm9kZUJlZm9yZTtcbiAgLy8gQXBwbHkgdGhlIGpvaW5pbmcgYWxnb3JpdGhtXG4gIGlmICghYmVmb3JlLnR5cGUuc3BlYy5pc29sYXRpbmcgJiYgZGVsZXRlQmFycmllcihzdGF0ZSwgJGN1dCwgZGlzcGF0Y2gpKVxuICAgIHsgcmV0dXJuIHRydWUgfVxuXG4gIC8vIElmIHRoZSBub2RlIGJlbG93IGhhcyBubyBjb250ZW50IGFuZCB0aGUgbm9kZSBhYm92ZSBpc1xuICAvLyBzZWxlY3RhYmxlLCBkZWxldGUgdGhlIG5vZGUgYmVsb3cgYW5kIHNlbGVjdCB0aGUgb25lIGFib3ZlLlxuICBpZiAoJGN1cnNvci5wYXJlbnQuY29udGVudC5zaXplID09IDAgJiZcbiAgICAgICh0ZXh0YmxvY2tBdChiZWZvcmUsIFwiZW5kXCIpIHx8IHByb3NlbWlycm9yU3RhdGUuTm9kZVNlbGVjdGlvbi5pc1NlbGVjdGFibGUoYmVmb3JlKSkpIHtcbiAgICBpZiAoZGlzcGF0Y2gpIHtcbiAgICAgIHZhciB0ciA9IHN0YXRlLnRyLmRlbGV0ZVJhbmdlKCRjdXJzb3IuYmVmb3JlKCksICRjdXJzb3IuYWZ0ZXIoKSk7XG4gICAgICB0ci5zZXRTZWxlY3Rpb24odGV4dGJsb2NrQXQoYmVmb3JlLCBcImVuZFwiKSA/IHByb3NlbWlycm9yU3RhdGUuU2VsZWN0aW9uLmZpbmRGcm9tKHRyLmRvYy5yZXNvbHZlKHRyLm1hcHBpbmcubWFwKCRjdXQucG9zLCAtMSkpLCAtMSlcbiAgICAgICAgICAgICAgICAgICAgICA6IHByb3NlbWlycm9yU3RhdGUuTm9kZVNlbGVjdGlvbi5jcmVhdGUodHIuZG9jLCAkY3V0LnBvcyAtIGJlZm9yZS5ub2RlU2l6ZSkpO1xuICAgICAgZGlzcGF0Y2godHIuc2Nyb2xsSW50b1ZpZXcoKSk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICAvLyBJZiB0aGUgbm9kZSBiZWZvcmUgaXMgYW4gYXRvbSwgZGVsZXRlIGl0XG4gIGlmIChiZWZvcmUuaXNBdG9tICYmICRjdXQuZGVwdGggPT0gJGN1cnNvci5kZXB0aCAtIDEpIHtcbiAgICBpZiAoZGlzcGF0Y2gpIHsgZGlzcGF0Y2goc3RhdGUudHIuZGVsZXRlKCRjdXQucG9zIC0gYmVmb3JlLm5vZGVTaXplLCAkY3V0LnBvcykuc2Nyb2xsSW50b1ZpZXcoKSk7IH1cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlXG59XG5cbmZ1bmN0aW9uIHRleHRibG9ja0F0KG5vZGUsIHNpZGUpIHtcbiAgZm9yICg7IG5vZGU7IG5vZGUgPSAoc2lkZSA9PSBcInN0YXJ0XCIgPyBub2RlLmZpcnN0Q2hpbGQgOiBub2RlLmxhc3RDaGlsZCkpXG4gICAgeyBpZiAobm9kZS5pc1RleHRibG9jaykgeyByZXR1cm4gdHJ1ZSB9IH1cbiAgcmV0dXJuIGZhbHNlXG59XG5cbi8vIDo6IChFZGl0b3JTdGF0ZSwgPyh0cjogVHJhbnNhY3Rpb24pLCA/RWRpdG9yVmlldykg4oaSIGJvb2xcbi8vIFdoZW4gdGhlIHNlbGVjdGlvbiBpcyBlbXB0eSBhbmQgYXQgdGhlIHN0YXJ0IG9mIGEgdGV4dGJsb2NrLCBzZWxlY3Rcbi8vIHRoZSBub2RlIGJlZm9yZSB0aGF0IHRleHRibG9jaywgaWYgcG9zc2libGUuIFRoaXMgaXMgaW50ZW5kZWQgdG8gYmVcbi8vIGJvdW5kIHRvIGtleXMgbGlrZSBiYWNrc3BhY2UsIGFmdGVyXG4vLyBbYGpvaW5CYWNrd2FyZGBdKCNjb21tYW5kcy5qb2luQmFja3dhcmQpIG9yIG90aGVyIGRlbGV0aW5nXG4vLyBjb21tYW5kcywgYXMgYSBmYWxsLWJhY2sgYmVoYXZpb3Igd2hlbiB0aGUgc2NoZW1hIGRvZXNuJ3QgYWxsb3dcbi8vIGRlbGV0aW9uIGF0IHRoZSBzZWxlY3RlZCBwb2ludC5cbmZ1bmN0aW9uIHNlbGVjdE5vZGVCYWNrd2FyZChzdGF0ZSwgZGlzcGF0Y2gsIHZpZXcpIHtcbiAgdmFyIHJlZiA9IHN0YXRlLnNlbGVjdGlvbjtcbiAgdmFyICRjdXJzb3IgPSByZWYuJGN1cnNvcjtcbiAgaWYgKCEkY3Vyc29yIHx8ICh2aWV3ID8gIXZpZXcuZW5kT2ZUZXh0YmxvY2soXCJiYWNrd2FyZFwiLCBzdGF0ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogJGN1cnNvci5wYXJlbnRPZmZzZXQgPiAwKSlcbiAgICB7IHJldHVybiBmYWxzZSB9XG5cbiAgdmFyICRjdXQgPSBmaW5kQ3V0QmVmb3JlKCRjdXJzb3IpLCBub2RlID0gJGN1dCAmJiAkY3V0Lm5vZGVCZWZvcmU7XG4gIGlmICghbm9kZSB8fCAhcHJvc2VtaXJyb3JTdGF0ZS5Ob2RlU2VsZWN0aW9uLmlzU2VsZWN0YWJsZShub2RlKSkgeyByZXR1cm4gZmFsc2UgfVxuICBpZiAoZGlzcGF0Y2gpXG4gICAgeyBkaXNwYXRjaChzdGF0ZS50ci5zZXRTZWxlY3Rpb24ocHJvc2VtaXJyb3JTdGF0ZS5Ob2RlU2VsZWN0aW9uLmNyZWF0ZShzdGF0ZS5kb2MsICRjdXQucG9zIC0gbm9kZS5ub2RlU2l6ZSkpLnNjcm9sbEludG9WaWV3KCkpOyB9XG4gIHJldHVybiB0cnVlXG59XG5cbmZ1bmN0aW9uIGZpbmRDdXRCZWZvcmUoJHBvcykge1xuICBpZiAoISRwb3MucGFyZW50LnR5cGUuc3BlYy5pc29sYXRpbmcpIHsgZm9yICh2YXIgaSA9ICRwb3MuZGVwdGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIGlmICgkcG9zLmluZGV4KGkpID4gMCkgeyByZXR1cm4gJHBvcy5kb2MucmVzb2x2ZSgkcG9zLmJlZm9yZShpICsgMSkpIH1cbiAgICBpZiAoJHBvcy5ub2RlKGkpLnR5cGUuc3BlYy5pc29sYXRpbmcpIHsgYnJlYWsgfVxuICB9IH1cbiAgcmV0dXJuIG51bGxcbn1cblxuLy8gOjogKEVkaXRvclN0YXRlLCA/KHRyOiBUcmFuc2FjdGlvbiksID9FZGl0b3JWaWV3KSDihpIgYm9vbFxuLy8gSWYgdGhlIHNlbGVjdGlvbiBpcyBlbXB0eSBhbmQgdGhlIGN1cnNvciBpcyBhdCB0aGUgZW5kIG9mIGFcbi8vIHRleHRibG9jaywgdHJ5IHRvIHJlZHVjZSBvciByZW1vdmUgdGhlIGJvdW5kYXJ5IGJldHdlZW4gdGhhdCBibG9ja1xuLy8gYW5kIHRoZSBvbmUgYWZ0ZXIgaXQsIGVpdGhlciBieSBqb2luaW5nIHRoZW0gb3IgYnkgbW92aW5nIHRoZSBvdGhlclxuLy8gYmxvY2sgY2xvc2VyIHRvIHRoaXMgb25lIGluIHRoZSB0cmVlIHN0cnVjdHVyZS4gV2lsbCB1c2UgdGhlIHZpZXdcbi8vIGZvciBhY2N1cmF0ZSBzdGFydC1vZi10ZXh0YmxvY2sgZGV0ZWN0aW9uIGlmIGdpdmVuLlxuZnVuY3Rpb24gam9pbkZvcndhcmQoc3RhdGUsIGRpc3BhdGNoLCB2aWV3KSB7XG4gIHZhciByZWYgPSBzdGF0ZS5zZWxlY3Rpb247XG4gIHZhciAkY3Vyc29yID0gcmVmLiRjdXJzb3I7XG4gIGlmICghJGN1cnNvciB8fCAodmlldyA/ICF2aWV3LmVuZE9mVGV4dGJsb2NrKFwiZm9yd2FyZFwiLCBzdGF0ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogJGN1cnNvci5wYXJlbnRPZmZzZXQgPCAkY3Vyc29yLnBhcmVudC5jb250ZW50LnNpemUpKVxuICAgIHsgcmV0dXJuIGZhbHNlIH1cblxuICB2YXIgJGN1dCA9IGZpbmRDdXRBZnRlcigkY3Vyc29yKTtcblxuICAvLyBJZiB0aGVyZSBpcyBubyBub2RlIGFmdGVyIHRoaXMsIHRoZXJlJ3Mgbm90aGluZyB0byBkb1xuICBpZiAoISRjdXQpIHsgcmV0dXJuIGZhbHNlIH1cblxuICB2YXIgYWZ0ZXIgPSAkY3V0Lm5vZGVBZnRlcjtcbiAgLy8gVHJ5IHRoZSBqb2luaW5nIGFsZ29yaXRobVxuICBpZiAoZGVsZXRlQmFycmllcihzdGF0ZSwgJGN1dCwgZGlzcGF0Y2gpKSB7IHJldHVybiB0cnVlIH1cblxuICAvLyBJZiB0aGUgbm9kZSBhYm92ZSBoYXMgbm8gY29udGVudCBhbmQgdGhlIG5vZGUgYmVsb3cgaXNcbiAgLy8gc2VsZWN0YWJsZSwgZGVsZXRlIHRoZSBub2RlIGFib3ZlIGFuZCBzZWxlY3QgdGhlIG9uZSBiZWxvdy5cbiAgaWYgKCRjdXJzb3IucGFyZW50LmNvbnRlbnQuc2l6ZSA9PSAwICYmXG4gICAgICAodGV4dGJsb2NrQXQoYWZ0ZXIsIFwic3RhcnRcIikgfHwgcHJvc2VtaXJyb3JTdGF0ZS5Ob2RlU2VsZWN0aW9uLmlzU2VsZWN0YWJsZShhZnRlcikpKSB7XG4gICAgaWYgKGRpc3BhdGNoKSB7XG4gICAgICB2YXIgdHIgPSBzdGF0ZS50ci5kZWxldGVSYW5nZSgkY3Vyc29yLmJlZm9yZSgpLCAkY3Vyc29yLmFmdGVyKCkpO1xuICAgICAgdHIuc2V0U2VsZWN0aW9uKHRleHRibG9ja0F0KGFmdGVyLCBcInN0YXJ0XCIpID8gcHJvc2VtaXJyb3JTdGF0ZS5TZWxlY3Rpb24uZmluZEZyb20odHIuZG9jLnJlc29sdmUodHIubWFwcGluZy5tYXAoJGN1dC5wb3MpKSwgMSlcbiAgICAgICAgICAgICAgICAgICAgICA6IHByb3NlbWlycm9yU3RhdGUuTm9kZVNlbGVjdGlvbi5jcmVhdGUodHIuZG9jLCB0ci5tYXBwaW5nLm1hcCgkY3V0LnBvcykpKTtcbiAgICAgIGRpc3BhdGNoKHRyLnNjcm9sbEludG9WaWV3KCkpO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgLy8gSWYgdGhlIG5leHQgbm9kZSBpcyBhbiBhdG9tLCBkZWxldGUgaXRcbiAgaWYgKGFmdGVyLmlzQXRvbSAmJiAkY3V0LmRlcHRoID09ICRjdXJzb3IuZGVwdGggLSAxKSB7XG4gICAgaWYgKGRpc3BhdGNoKSB7IGRpc3BhdGNoKHN0YXRlLnRyLmRlbGV0ZSgkY3V0LnBvcywgJGN1dC5wb3MgKyBhZnRlci5ub2RlU2l6ZSkuc2Nyb2xsSW50b1ZpZXcoKSk7IH1cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlXG59XG5cbi8vIDo6IChFZGl0b3JTdGF0ZSwgPyh0cjogVHJhbnNhY3Rpb24pLCA/RWRpdG9yVmlldykg4oaSIGJvb2xcbi8vIFdoZW4gdGhlIHNlbGVjdGlvbiBpcyBlbXB0eSBhbmQgYXQgdGhlIGVuZCBvZiBhIHRleHRibG9jaywgc2VsZWN0XG4vLyB0aGUgbm9kZSBjb21pbmcgYWZ0ZXIgdGhhdCB0ZXh0YmxvY2ssIGlmIHBvc3NpYmxlLiBUaGlzIGlzIGludGVuZGVkXG4vLyB0byBiZSBib3VuZCB0byBrZXlzIGxpa2UgZGVsZXRlLCBhZnRlclxuLy8gW2Bqb2luRm9yd2FyZGBdKCNjb21tYW5kcy5qb2luRm9yd2FyZCkgYW5kIHNpbWlsYXIgZGVsZXRpbmdcbi8vIGNvbW1hbmRzLCB0byBwcm92aWRlIGEgZmFsbC1iYWNrIGJlaGF2aW9yIHdoZW4gdGhlIHNjaGVtYSBkb2Vzbid0XG4vLyBhbGxvdyBkZWxldGlvbiBhdCB0aGUgc2VsZWN0ZWQgcG9pbnQuXG5mdW5jdGlvbiBzZWxlY3ROb2RlRm9yd2FyZChzdGF0ZSwgZGlzcGF0Y2gsIHZpZXcpIHtcbiAgdmFyIHJlZiA9IHN0YXRlLnNlbGVjdGlvbjtcbiAgdmFyICRjdXJzb3IgPSByZWYuJGN1cnNvcjtcbiAgaWYgKCEkY3Vyc29yIHx8ICh2aWV3ID8gIXZpZXcuZW5kT2ZUZXh0YmxvY2soXCJmb3J3YXJkXCIsIHN0YXRlKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiAkY3Vyc29yLnBhcmVudE9mZnNldCA8ICRjdXJzb3IucGFyZW50LmNvbnRlbnQuc2l6ZSkpXG4gICAgeyByZXR1cm4gZmFsc2UgfVxuXG4gIHZhciAkY3V0ID0gZmluZEN1dEFmdGVyKCRjdXJzb3IpLCBub2RlID0gJGN1dCAmJiAkY3V0Lm5vZGVBZnRlcjtcbiAgaWYgKCFub2RlIHx8ICFwcm9zZW1pcnJvclN0YXRlLk5vZGVTZWxlY3Rpb24uaXNTZWxlY3RhYmxlKG5vZGUpKSB7IHJldHVybiBmYWxzZSB9XG4gIGlmIChkaXNwYXRjaClcbiAgICB7IGRpc3BhdGNoKHN0YXRlLnRyLnNldFNlbGVjdGlvbihwcm9zZW1pcnJvclN0YXRlLk5vZGVTZWxlY3Rpb24uY3JlYXRlKHN0YXRlLmRvYywgJGN1dC5wb3MpKS5zY3JvbGxJbnRvVmlldygpKTsgfVxuICByZXR1cm4gdHJ1ZVxufVxuXG5mdW5jdGlvbiBmaW5kQ3V0QWZ0ZXIoJHBvcykge1xuICBpZiAoISRwb3MucGFyZW50LnR5cGUuc3BlYy5pc29sYXRpbmcpIHsgZm9yICh2YXIgaSA9ICRwb3MuZGVwdGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIHZhciBwYXJlbnQgPSAkcG9zLm5vZGUoaSk7XG4gICAgaWYgKCRwb3MuaW5kZXgoaSkgKyAxIDwgcGFyZW50LmNoaWxkQ291bnQpIHsgcmV0dXJuICRwb3MuZG9jLnJlc29sdmUoJHBvcy5hZnRlcihpICsgMSkpIH1cbiAgICBpZiAocGFyZW50LnR5cGUuc3BlYy5pc29sYXRpbmcpIHsgYnJlYWsgfVxuICB9IH1cbiAgcmV0dXJuIG51bGxcbn1cblxuLy8gOjogKEVkaXRvclN0YXRlLCA/KHRyOiBUcmFuc2FjdGlvbikpIOKGkiBib29sXG4vLyBKb2luIHRoZSBzZWxlY3RlZCBibG9jayBvciwgaWYgdGhlcmUgaXMgYSB0ZXh0IHNlbGVjdGlvbiwgdGhlXG4vLyBjbG9zZXN0IGFuY2VzdG9yIGJsb2NrIG9mIHRoZSBzZWxlY3Rpb24gdGhhdCBjYW4gYmUgam9pbmVkLCB3aXRoXG4vLyB0aGUgc2libGluZyBhYm92ZSBpdC5cbmZ1bmN0aW9uIGpvaW5VcChzdGF0ZSwgZGlzcGF0Y2gpIHtcbiAgdmFyIHNlbCA9IHN0YXRlLnNlbGVjdGlvbiwgbm9kZVNlbCA9IHNlbCBpbnN0YW5jZW9mIHByb3NlbWlycm9yU3RhdGUuTm9kZVNlbGVjdGlvbiwgcG9pbnQ7XG4gIGlmIChub2RlU2VsKSB7XG4gICAgaWYgKHNlbC5ub2RlLmlzVGV4dGJsb2NrIHx8ICFwcm9zZW1pcnJvclRyYW5zZm9ybS5jYW5Kb2luKHN0YXRlLmRvYywgc2VsLmZyb20pKSB7IHJldHVybiBmYWxzZSB9XG4gICAgcG9pbnQgPSBzZWwuZnJvbTtcbiAgfSBlbHNlIHtcbiAgICBwb2ludCA9IHByb3NlbWlycm9yVHJhbnNmb3JtLmpvaW5Qb2ludChzdGF0ZS5kb2MsIHNlbC5mcm9tLCAtMSk7XG4gICAgaWYgKHBvaW50ID09IG51bGwpIHsgcmV0dXJuIGZhbHNlIH1cbiAgfVxuICBpZiAoZGlzcGF0Y2gpIHtcbiAgICB2YXIgdHIgPSBzdGF0ZS50ci5qb2luKHBvaW50KTtcbiAgICBpZiAobm9kZVNlbCkgeyB0ci5zZXRTZWxlY3Rpb24ocHJvc2VtaXJyb3JTdGF0ZS5Ob2RlU2VsZWN0aW9uLmNyZWF0ZSh0ci5kb2MsIHBvaW50IC0gc3RhdGUuZG9jLnJlc29sdmUocG9pbnQpLm5vZGVCZWZvcmUubm9kZVNpemUpKTsgfVxuICAgIGRpc3BhdGNoKHRyLnNjcm9sbEludG9WaWV3KCkpO1xuICB9XG4gIHJldHVybiB0cnVlXG59XG5cbi8vIDo6IChFZGl0b3JTdGF0ZSwgPyh0cjogVHJhbnNhY3Rpb24pKSDihpIgYm9vbFxuLy8gSm9pbiB0aGUgc2VsZWN0ZWQgYmxvY2ssIG9yIHRoZSBjbG9zZXN0IGFuY2VzdG9yIG9mIHRoZSBzZWxlY3Rpb25cbi8vIHRoYXQgY2FuIGJlIGpvaW5lZCwgd2l0aCB0aGUgc2libGluZyBhZnRlciBpdC5cbmZ1bmN0aW9uIGpvaW5Eb3duKHN0YXRlLCBkaXNwYXRjaCkge1xuICB2YXIgc2VsID0gc3RhdGUuc2VsZWN0aW9uLCBwb2ludDtcbiAgaWYgKHNlbCBpbnN0YW5jZW9mIHByb3NlbWlycm9yU3RhdGUuTm9kZVNlbGVjdGlvbikge1xuICAgIGlmIChzZWwubm9kZS5pc1RleHRibG9jayB8fCAhcHJvc2VtaXJyb3JUcmFuc2Zvcm0uY2FuSm9pbihzdGF0ZS5kb2MsIHNlbC50bykpIHsgcmV0dXJuIGZhbHNlIH1cbiAgICBwb2ludCA9IHNlbC50bztcbiAgfSBlbHNlIHtcbiAgICBwb2ludCA9IHByb3NlbWlycm9yVHJhbnNmb3JtLmpvaW5Qb2ludChzdGF0ZS5kb2MsIHNlbC50bywgMSk7XG4gICAgaWYgKHBvaW50ID09IG51bGwpIHsgcmV0dXJuIGZhbHNlIH1cbiAgfVxuICBpZiAoZGlzcGF0Y2gpXG4gICAgeyBkaXNwYXRjaChzdGF0ZS50ci5qb2luKHBvaW50KS5zY3JvbGxJbnRvVmlldygpKTsgfVxuICByZXR1cm4gdHJ1ZVxufVxuXG4vLyA6OiAoRWRpdG9yU3RhdGUsID8odHI6IFRyYW5zYWN0aW9uKSkg4oaSIGJvb2xcbi8vIExpZnQgdGhlIHNlbGVjdGVkIGJsb2NrLCBvciB0aGUgY2xvc2VzdCBhbmNlc3RvciBibG9jayBvZiB0aGVcbi8vIHNlbGVjdGlvbiB0aGF0IGNhbiBiZSBsaWZ0ZWQsIG91dCBvZiBpdHMgcGFyZW50IG5vZGUuXG5mdW5jdGlvbiBsaWZ0KHN0YXRlLCBkaXNwYXRjaCkge1xuICB2YXIgcmVmID0gc3RhdGUuc2VsZWN0aW9uO1xuICB2YXIgJGZyb20gPSByZWYuJGZyb207XG4gIHZhciAkdG8gPSByZWYuJHRvO1xuICB2YXIgcmFuZ2UgPSAkZnJvbS5ibG9ja1JhbmdlKCR0byksIHRhcmdldCA9IHJhbmdlICYmIHByb3NlbWlycm9yVHJhbnNmb3JtLmxpZnRUYXJnZXQocmFuZ2UpO1xuICBpZiAodGFyZ2V0ID09IG51bGwpIHsgcmV0dXJuIGZhbHNlIH1cbiAgaWYgKGRpc3BhdGNoKSB7IGRpc3BhdGNoKHN0YXRlLnRyLmxpZnQocmFuZ2UsIHRhcmdldCkuc2Nyb2xsSW50b1ZpZXcoKSk7IH1cbiAgcmV0dXJuIHRydWVcbn1cblxuLy8gOjogKEVkaXRvclN0YXRlLCA/KHRyOiBUcmFuc2FjdGlvbikpIOKGkiBib29sXG4vLyBJZiB0aGUgc2VsZWN0aW9uIGlzIGluIGEgbm9kZSB3aG9zZSB0eXBlIGhhcyBhIHRydXRoeVxuLy8gW2Bjb2RlYF0oI21vZGVsLk5vZGVTcGVjLmNvZGUpIHByb3BlcnR5IGluIGl0cyBzcGVjLCByZXBsYWNlIHRoZVxuLy8gc2VsZWN0aW9uIHdpdGggYSBuZXdsaW5lIGNoYXJhY3Rlci5cbmZ1bmN0aW9uIG5ld2xpbmVJbkNvZGUoc3RhdGUsIGRpc3BhdGNoKSB7XG4gIHZhciByZWYgPSBzdGF0ZS5zZWxlY3Rpb247XG4gIHZhciAkaGVhZCA9IHJlZi4kaGVhZDtcbiAgdmFyICRhbmNob3IgPSByZWYuJGFuY2hvcjtcbiAgaWYgKCEkaGVhZC5wYXJlbnQudHlwZS5zcGVjLmNvZGUgfHwgISRoZWFkLnNhbWVQYXJlbnQoJGFuY2hvcikpIHsgcmV0dXJuIGZhbHNlIH1cbiAgaWYgKGRpc3BhdGNoKSB7IGRpc3BhdGNoKHN0YXRlLnRyLmluc2VydFRleHQoXCJcXG5cIikuc2Nyb2xsSW50b1ZpZXcoKSk7IH1cbiAgcmV0dXJuIHRydWVcbn1cblxuLy8gOjogKEVkaXRvclN0YXRlLCA/KHRyOiBUcmFuc2FjdGlvbikpIOKGkiBib29sXG4vLyBXaGVuIHRoZSBzZWxlY3Rpb24gaXMgaW4gYSBub2RlIHdpdGggYSB0cnV0aHlcbi8vIFtgY29kZWBdKCNtb2RlbC5Ob2RlU3BlYy5jb2RlKSBwcm9wZXJ0eSBpbiBpdHMgc3BlYywgY3JlYXRlIGFcbi8vIGRlZmF1bHQgYmxvY2sgYWZ0ZXIgdGhlIGNvZGUgYmxvY2ssIGFuZCBtb3ZlIHRoZSBjdXJzb3IgdGhlcmUuXG5mdW5jdGlvbiBleGl0Q29kZShzdGF0ZSwgZGlzcGF0Y2gpIHtcbiAgdmFyIHJlZiA9IHN0YXRlLnNlbGVjdGlvbjtcbiAgdmFyICRoZWFkID0gcmVmLiRoZWFkO1xuICB2YXIgJGFuY2hvciA9IHJlZi4kYW5jaG9yO1xuICBpZiAoISRoZWFkLnBhcmVudC50eXBlLnNwZWMuY29kZSB8fCAhJGhlYWQuc2FtZVBhcmVudCgkYW5jaG9yKSkgeyByZXR1cm4gZmFsc2UgfVxuICB2YXIgYWJvdmUgPSAkaGVhZC5ub2RlKC0xKSwgYWZ0ZXIgPSAkaGVhZC5pbmRleEFmdGVyKC0xKSwgdHlwZSA9IGFib3ZlLmNvbnRlbnRNYXRjaEF0KGFmdGVyKS5kZWZhdWx0VHlwZTtcbiAgaWYgKCFhYm92ZS5jYW5SZXBsYWNlV2l0aChhZnRlciwgYWZ0ZXIsIHR5cGUpKSB7IHJldHVybiBmYWxzZSB9XG4gIGlmIChkaXNwYXRjaCkge1xuICAgIHZhciBwb3MgPSAkaGVhZC5hZnRlcigpLCB0ciA9IHN0YXRlLnRyLnJlcGxhY2VXaXRoKHBvcywgcG9zLCB0eXBlLmNyZWF0ZUFuZEZpbGwoKSk7XG4gICAgdHIuc2V0U2VsZWN0aW9uKHByb3NlbWlycm9yU3RhdGUuU2VsZWN0aW9uLm5lYXIodHIuZG9jLnJlc29sdmUocG9zKSwgMSkpO1xuICAgIGRpc3BhdGNoKHRyLnNjcm9sbEludG9WaWV3KCkpO1xuICB9XG4gIHJldHVybiB0cnVlXG59XG5cbi8vIDo6IChFZGl0b3JTdGF0ZSwgPyh0cjogVHJhbnNhY3Rpb24pKSDihpIgYm9vbFxuLy8gSWYgYSBibG9jayBub2RlIGlzIHNlbGVjdGVkLCBjcmVhdGUgYW4gZW1wdHkgcGFyYWdyYXBoIGJlZm9yZSAoaWZcbi8vIGl0IGlzIGl0cyBwYXJlbnQncyBmaXJzdCBjaGlsZCkgb3IgYWZ0ZXIgaXQuXG5mdW5jdGlvbiBjcmVhdGVQYXJhZ3JhcGhOZWFyKHN0YXRlLCBkaXNwYXRjaCkge1xuICB2YXIgcmVmID0gc3RhdGUuc2VsZWN0aW9uO1xuICB2YXIgJGZyb20gPSByZWYuJGZyb207XG4gIHZhciAkdG8gPSByZWYuJHRvO1xuICBpZiAoJGZyb20ucGFyZW50LmlubGluZUNvbnRlbnQgfHwgJHRvLnBhcmVudC5pbmxpbmVDb250ZW50KSB7IHJldHVybiBmYWxzZSB9XG4gIHZhciB0eXBlID0gJGZyb20ucGFyZW50LmNvbnRlbnRNYXRjaEF0KCR0by5pbmRleEFmdGVyKCkpLmRlZmF1bHRUeXBlO1xuICBpZiAoIXR5cGUgfHwgIXR5cGUuaXNUZXh0YmxvY2spIHsgcmV0dXJuIGZhbHNlIH1cbiAgaWYgKGRpc3BhdGNoKSB7XG4gICAgdmFyIHNpZGUgPSAoISRmcm9tLnBhcmVudE9mZnNldCAmJiAkdG8uaW5kZXgoKSA8ICR0by5wYXJlbnQuY2hpbGRDb3VudCA/ICRmcm9tIDogJHRvKS5wb3M7XG4gICAgdmFyIHRyID0gc3RhdGUudHIuaW5zZXJ0KHNpZGUsIHR5cGUuY3JlYXRlQW5kRmlsbCgpKTtcbiAgICB0ci5zZXRTZWxlY3Rpb24ocHJvc2VtaXJyb3JTdGF0ZS5UZXh0U2VsZWN0aW9uLmNyZWF0ZSh0ci5kb2MsIHNpZGUgKyAxKSk7XG4gICAgZGlzcGF0Y2godHIuc2Nyb2xsSW50b1ZpZXcoKSk7XG4gIH1cbiAgcmV0dXJuIHRydWVcbn1cblxuLy8gOjogKEVkaXRvclN0YXRlLCA/KHRyOiBUcmFuc2FjdGlvbikpIOKGkiBib29sXG4vLyBJZiB0aGUgY3Vyc29yIGlzIGluIGFuIGVtcHR5IHRleHRibG9jayB0aGF0IGNhbiBiZSBsaWZ0ZWQsIGxpZnQgdGhlXG4vLyBibG9jay5cbmZ1bmN0aW9uIGxpZnRFbXB0eUJsb2NrKHN0YXRlLCBkaXNwYXRjaCkge1xuICB2YXIgcmVmID0gc3RhdGUuc2VsZWN0aW9uO1xuICB2YXIgJGN1cnNvciA9IHJlZi4kY3Vyc29yO1xuICBpZiAoISRjdXJzb3IgfHwgJGN1cnNvci5wYXJlbnQuY29udGVudC5zaXplKSB7IHJldHVybiBmYWxzZSB9XG4gIGlmICgkY3Vyc29yLmRlcHRoID4gMSAmJiAkY3Vyc29yLmFmdGVyKCkgIT0gJGN1cnNvci5lbmQoLTEpKSB7XG4gICAgdmFyIGJlZm9yZSA9ICRjdXJzb3IuYmVmb3JlKCk7XG4gICAgaWYgKHByb3NlbWlycm9yVHJhbnNmb3JtLmNhblNwbGl0KHN0YXRlLmRvYywgYmVmb3JlKSkge1xuICAgICAgaWYgKGRpc3BhdGNoKSB7IGRpc3BhdGNoKHN0YXRlLnRyLnNwbGl0KGJlZm9yZSkuc2Nyb2xsSW50b1ZpZXcoKSk7IH1cbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICB9XG4gIHZhciByYW5nZSA9ICRjdXJzb3IuYmxvY2tSYW5nZSgpLCB0YXJnZXQgPSByYW5nZSAmJiBwcm9zZW1pcnJvclRyYW5zZm9ybS5saWZ0VGFyZ2V0KHJhbmdlKTtcbiAgaWYgKHRhcmdldCA9PSBudWxsKSB7IHJldHVybiBmYWxzZSB9XG4gIGlmIChkaXNwYXRjaCkgeyBkaXNwYXRjaChzdGF0ZS50ci5saWZ0KHJhbmdlLCB0YXJnZXQpLnNjcm9sbEludG9WaWV3KCkpOyB9XG4gIHJldHVybiB0cnVlXG59XG5cbi8vIDo6IChFZGl0b3JTdGF0ZSwgPyh0cjogVHJhbnNhY3Rpb24pKSDihpIgYm9vbFxuLy8gU3BsaXQgdGhlIHBhcmVudCBibG9jayBvZiB0aGUgc2VsZWN0aW9uLiBJZiB0aGUgc2VsZWN0aW9uIGlzIGEgdGV4dFxuLy8gc2VsZWN0aW9uLCBhbHNvIGRlbGV0ZSBpdHMgY29udGVudC5cbmZ1bmN0aW9uIHNwbGl0QmxvY2soc3RhdGUsIGRpc3BhdGNoKSB7XG4gIHZhciByZWYgPSBzdGF0ZS5zZWxlY3Rpb247XG4gIHZhciAkZnJvbSA9IHJlZi4kZnJvbTtcbiAgdmFyICR0byA9IHJlZi4kdG87XG4gIGlmIChzdGF0ZS5zZWxlY3Rpb24gaW5zdGFuY2VvZiBwcm9zZW1pcnJvclN0YXRlLk5vZGVTZWxlY3Rpb24gJiYgc3RhdGUuc2VsZWN0aW9uLm5vZGUuaXNCbG9jaykge1xuICAgIGlmICghJGZyb20ucGFyZW50T2Zmc2V0IHx8ICFwcm9zZW1pcnJvclRyYW5zZm9ybS5jYW5TcGxpdChzdGF0ZS5kb2MsICRmcm9tLnBvcykpIHsgcmV0dXJuIGZhbHNlIH1cbiAgICBpZiAoZGlzcGF0Y2gpIHsgZGlzcGF0Y2goc3RhdGUudHIuc3BsaXQoJGZyb20ucG9zKS5zY3JvbGxJbnRvVmlldygpKTsgfVxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBpZiAoISRmcm9tLnBhcmVudC5pc0Jsb2NrKSB7IHJldHVybiBmYWxzZSB9XG5cbiAgaWYgKGRpc3BhdGNoKSB7XG4gICAgdmFyIGF0RW5kID0gJHRvLnBhcmVudE9mZnNldCA9PSAkdG8ucGFyZW50LmNvbnRlbnQuc2l6ZTtcbiAgICB2YXIgdHIgPSBzdGF0ZS50cjtcbiAgICBpZiAoc3RhdGUuc2VsZWN0aW9uIGluc3RhbmNlb2YgcHJvc2VtaXJyb3JTdGF0ZS5UZXh0U2VsZWN0aW9uKSB7IHRyLmRlbGV0ZVNlbGVjdGlvbigpOyB9XG4gICAgdmFyIGRlZmx0ID0gJGZyb20uZGVwdGggPT0gMCA/IG51bGwgOiAkZnJvbS5ub2RlKC0xKS5jb250ZW50TWF0Y2hBdCgkZnJvbS5pbmRleEFmdGVyKC0xKSkuZGVmYXVsdFR5cGU7XG4gICAgdmFyIHR5cGVzID0gYXRFbmQgJiYgZGVmbHQgPyBbe3R5cGU6IGRlZmx0fV0gOiBudWxsO1xuICAgIHZhciBjYW4gPSBwcm9zZW1pcnJvclRyYW5zZm9ybS5jYW5TcGxpdCh0ci5kb2MsICRmcm9tLnBvcywgMSwgdHlwZXMpO1xuICAgIGlmICghdHlwZXMgJiYgIWNhbiAmJiBwcm9zZW1pcnJvclRyYW5zZm9ybS5jYW5TcGxpdCh0ci5kb2MsIHRyLm1hcHBpbmcubWFwKCRmcm9tLnBvcyksIDEsIGRlZmx0ICYmIFt7dHlwZTogZGVmbHR9XSkpIHtcbiAgICAgIHR5cGVzID0gW3t0eXBlOiBkZWZsdH1dO1xuICAgICAgY2FuID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGNhbikge1xuICAgICAgdHIuc3BsaXQodHIubWFwcGluZy5tYXAoJGZyb20ucG9zKSwgMSwgdHlwZXMpO1xuICAgICAgaWYgKCFhdEVuZCAmJiAhJGZyb20ucGFyZW50T2Zmc2V0ICYmICRmcm9tLnBhcmVudC50eXBlICE9IGRlZmx0ICYmXG4gICAgICAgICAgJGZyb20ubm9kZSgtMSkuY2FuUmVwbGFjZSgkZnJvbS5pbmRleCgtMSksICRmcm9tLmluZGV4QWZ0ZXIoLTEpLCBwcm9zZW1pcnJvck1vZGVsLkZyYWdtZW50LmZyb20oZGVmbHQuY3JlYXRlKCksICRmcm9tLnBhcmVudCkpKVxuICAgICAgICB7IHRyLnNldE5vZGVNYXJrdXAodHIubWFwcGluZy5tYXAoJGZyb20uYmVmb3JlKCkpLCBkZWZsdCk7IH1cbiAgICB9XG4gICAgZGlzcGF0Y2godHIuc2Nyb2xsSW50b1ZpZXcoKSk7XG4gIH1cbiAgcmV0dXJuIHRydWVcbn1cblxuLy8gOjogKEVkaXRvclN0YXRlLCA/KHRyOiBUcmFuc2FjdGlvbikpIOKGkiBib29sXG4vLyBBY3RzIGxpa2UgW2BzcGxpdEJsb2NrYF0oI2NvbW1hbmRzLnNwbGl0QmxvY2spLCBidXQgd2l0aG91dFxuLy8gcmVzZXR0aW5nIHRoZSBzZXQgb2YgYWN0aXZlIG1hcmtzIGF0IHRoZSBjdXJzb3IuXG5mdW5jdGlvbiBzcGxpdEJsb2NrS2VlcE1hcmtzKHN0YXRlLCBkaXNwYXRjaCkge1xuICByZXR1cm4gc3BsaXRCbG9jayhzdGF0ZSwgZGlzcGF0Y2ggJiYgKGZ1bmN0aW9uICh0cikge1xuICAgIHZhciBtYXJrcyA9IHN0YXRlLnN0b3JlZE1hcmtzIHx8IChzdGF0ZS5zZWxlY3Rpb24uJHRvLnBhcmVudE9mZnNldCAmJiBzdGF0ZS5zZWxlY3Rpb24uJGZyb20ubWFya3MoKSk7XG4gICAgaWYgKG1hcmtzKSB7IHRyLmVuc3VyZU1hcmtzKG1hcmtzKTsgfVxuICAgIGRpc3BhdGNoKHRyKTtcbiAgfSkpXG59XG5cbi8vIDo6IChFZGl0b3JTdGF0ZSwgPyh0cjogVHJhbnNhY3Rpb24pKSDihpIgYm9vbFxuLy8gTW92ZSB0aGUgc2VsZWN0aW9uIHRvIHRoZSBub2RlIHdyYXBwaW5nIHRoZSBjdXJyZW50IHNlbGVjdGlvbiwgaWZcbi8vIGFueS4gKFdpbGwgbm90IHNlbGVjdCB0aGUgZG9jdW1lbnQgbm9kZS4pXG5mdW5jdGlvbiBzZWxlY3RQYXJlbnROb2RlKHN0YXRlLCBkaXNwYXRjaCkge1xuICB2YXIgcmVmID0gc3RhdGUuc2VsZWN0aW9uO1xuICB2YXIgJGZyb20gPSByZWYuJGZyb207XG4gIHZhciB0byA9IHJlZi50bztcbiAgdmFyIHBvcztcbiAgdmFyIHNhbWUgPSAkZnJvbS5zaGFyZWREZXB0aCh0byk7XG4gIGlmIChzYW1lID09IDApIHsgcmV0dXJuIGZhbHNlIH1cbiAgcG9zID0gJGZyb20uYmVmb3JlKHNhbWUpO1xuICBpZiAoZGlzcGF0Y2gpIHsgZGlzcGF0Y2goc3RhdGUudHIuc2V0U2VsZWN0aW9uKHByb3NlbWlycm9yU3RhdGUuTm9kZVNlbGVjdGlvbi5jcmVhdGUoc3RhdGUuZG9jLCBwb3MpKSk7IH1cbiAgcmV0dXJuIHRydWVcbn1cblxuLy8gOjogKEVkaXRvclN0YXRlLCA/KHRyOiBUcmFuc2FjdGlvbikpIOKGkiBib29sXG4vLyBTZWxlY3QgdGhlIHdob2xlIGRvY3VtZW50LlxuZnVuY3Rpb24gc2VsZWN0QWxsKHN0YXRlLCBkaXNwYXRjaCkge1xuICBpZiAoZGlzcGF0Y2gpIHsgZGlzcGF0Y2goc3RhdGUudHIuc2V0U2VsZWN0aW9uKG5ldyBwcm9zZW1pcnJvclN0YXRlLkFsbFNlbGVjdGlvbihzdGF0ZS5kb2MpKSk7IH1cbiAgcmV0dXJuIHRydWVcbn1cblxuZnVuY3Rpb24gam9pbk1heWJlQ2xlYXIoc3RhdGUsICRwb3MsIGRpc3BhdGNoKSB7XG4gIHZhciBiZWZvcmUgPSAkcG9zLm5vZGVCZWZvcmUsIGFmdGVyID0gJHBvcy5ub2RlQWZ0ZXIsIGluZGV4ID0gJHBvcy5pbmRleCgpO1xuICBpZiAoIWJlZm9yZSB8fCAhYWZ0ZXIgfHwgIWJlZm9yZS50eXBlLmNvbXBhdGlibGVDb250ZW50KGFmdGVyLnR5cGUpKSB7IHJldHVybiBmYWxzZSB9XG4gIGlmICghYmVmb3JlLmNvbnRlbnQuc2l6ZSAmJiAkcG9zLnBhcmVudC5jYW5SZXBsYWNlKGluZGV4IC0gMSwgaW5kZXgpKSB7XG4gICAgaWYgKGRpc3BhdGNoKSB7IGRpc3BhdGNoKHN0YXRlLnRyLmRlbGV0ZSgkcG9zLnBvcyAtIGJlZm9yZS5ub2RlU2l6ZSwgJHBvcy5wb3MpLnNjcm9sbEludG9WaWV3KCkpOyB9XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuICBpZiAoISRwb3MucGFyZW50LmNhblJlcGxhY2UoaW5kZXgsIGluZGV4ICsgMSkgfHwgIShhZnRlci5pc1RleHRibG9jayB8fCBwcm9zZW1pcnJvclRyYW5zZm9ybS5jYW5Kb2luKHN0YXRlLmRvYywgJHBvcy5wb3MpKSlcbiAgICB7IHJldHVybiBmYWxzZSB9XG4gIGlmIChkaXNwYXRjaClcbiAgICB7IGRpc3BhdGNoKHN0YXRlLnRyXG4gICAgICAgICAgICAgLmNsZWFySW5jb21wYXRpYmxlKCRwb3MucG9zLCBiZWZvcmUudHlwZSwgYmVmb3JlLmNvbnRlbnRNYXRjaEF0KGJlZm9yZS5jaGlsZENvdW50KSlcbiAgICAgICAgICAgICAuam9pbigkcG9zLnBvcylcbiAgICAgICAgICAgICAuc2Nyb2xsSW50b1ZpZXcoKSk7IH1cbiAgcmV0dXJuIHRydWVcbn1cblxuZnVuY3Rpb24gZGVsZXRlQmFycmllcihzdGF0ZSwgJGN1dCwgZGlzcGF0Y2gpIHtcbiAgdmFyIGJlZm9yZSA9ICRjdXQubm9kZUJlZm9yZSwgYWZ0ZXIgPSAkY3V0Lm5vZGVBZnRlciwgY29ubiwgbWF0Y2g7XG4gIGlmIChiZWZvcmUudHlwZS5zcGVjLmlzb2xhdGluZyB8fCBhZnRlci50eXBlLnNwZWMuaXNvbGF0aW5nKSB7IHJldHVybiBmYWxzZSB9XG4gIGlmIChqb2luTWF5YmVDbGVhcihzdGF0ZSwgJGN1dCwgZGlzcGF0Y2gpKSB7IHJldHVybiB0cnVlIH1cblxuICBpZiAoJGN1dC5wYXJlbnQuY2FuUmVwbGFjZSgkY3V0LmluZGV4KCksICRjdXQuaW5kZXgoKSArIDEpICYmXG4gICAgICAoY29ubiA9IChtYXRjaCA9IGJlZm9yZS5jb250ZW50TWF0Y2hBdChiZWZvcmUuY2hpbGRDb3VudCkpLmZpbmRXcmFwcGluZyhhZnRlci50eXBlKSkgJiZcbiAgICAgIG1hdGNoLm1hdGNoVHlwZShjb25uWzBdIHx8IGFmdGVyLnR5cGUpLnZhbGlkRW5kKSB7XG4gICAgaWYgKGRpc3BhdGNoKSB7XG4gICAgICB2YXIgZW5kID0gJGN1dC5wb3MgKyBhZnRlci5ub2RlU2l6ZSwgd3JhcCA9IHByb3NlbWlycm9yTW9kZWwuRnJhZ21lbnQuZW1wdHk7XG4gICAgICBmb3IgKHZhciBpID0gY29ubi5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcbiAgICAgICAgeyB3cmFwID0gcHJvc2VtaXJyb3JNb2RlbC5GcmFnbWVudC5mcm9tKGNvbm5baV0uY3JlYXRlKG51bGwsIHdyYXApKTsgfVxuICAgICAgd3JhcCA9IHByb3NlbWlycm9yTW9kZWwuRnJhZ21lbnQuZnJvbShiZWZvcmUuY29weSh3cmFwKSk7XG4gICAgICB2YXIgdHIgPSBzdGF0ZS50ci5zdGVwKG5ldyBwcm9zZW1pcnJvclRyYW5zZm9ybS5SZXBsYWNlQXJvdW5kU3RlcCgkY3V0LnBvcyAtIDEsIGVuZCwgJGN1dC5wb3MsIGVuZCwgbmV3IHByb3NlbWlycm9yTW9kZWwuU2xpY2Uod3JhcCwgMSwgMCksIGNvbm4ubGVuZ3RoLCB0cnVlKSk7XG4gICAgICB2YXIgam9pbkF0ID0gZW5kICsgMiAqIGNvbm4ubGVuZ3RoO1xuICAgICAgaWYgKHByb3NlbWlycm9yVHJhbnNmb3JtLmNhbkpvaW4odHIuZG9jLCBqb2luQXQpKSB7IHRyLmpvaW4oam9pbkF0KTsgfVxuICAgICAgZGlzcGF0Y2godHIuc2Nyb2xsSW50b1ZpZXcoKSk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICB2YXIgc2VsQWZ0ZXIgPSBwcm9zZW1pcnJvclN0YXRlLlNlbGVjdGlvbi5maW5kRnJvbSgkY3V0LCAxKTtcbiAgdmFyIHJhbmdlID0gc2VsQWZ0ZXIgJiYgc2VsQWZ0ZXIuJGZyb20uYmxvY2tSYW5nZShzZWxBZnRlci4kdG8pLCB0YXJnZXQgPSByYW5nZSAmJiBwcm9zZW1pcnJvclRyYW5zZm9ybS5saWZ0VGFyZ2V0KHJhbmdlKTtcbiAgaWYgKHRhcmdldCAhPSBudWxsICYmIHRhcmdldCA+PSAkY3V0LmRlcHRoKSB7XG4gICAgaWYgKGRpc3BhdGNoKSB7IGRpc3BhdGNoKHN0YXRlLnRyLmxpZnQocmFuZ2UsIHRhcmdldCkuc2Nyb2xsSW50b1ZpZXcoKSk7IH1cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlXG59XG5cbi8vIFBhcmFtZXRlcml6ZWQgY29tbWFuZHNcblxuLy8gOjogKE5vZGVUeXBlLCA/T2JqZWN0KSDihpIgKHN0YXRlOiBFZGl0b3JTdGF0ZSwgZGlzcGF0Y2g6ID8odHI6IFRyYW5zYWN0aW9uKSkg4oaSIGJvb2xcbi8vIFdyYXAgdGhlIHNlbGVjdGlvbiBpbiBhIG5vZGUgb2YgdGhlIGdpdmVuIHR5cGUgd2l0aCB0aGUgZ2l2ZW5cbi8vIGF0dHJpYnV0ZXMuXG5mdW5jdGlvbiB3cmFwSW4obm9kZVR5cGUsIGF0dHJzKSB7XG4gIHJldHVybiBmdW5jdGlvbihzdGF0ZSwgZGlzcGF0Y2gpIHtcbiAgICB2YXIgcmVmID0gc3RhdGUuc2VsZWN0aW9uO1xuICAgIHZhciAkZnJvbSA9IHJlZi4kZnJvbTtcbiAgICB2YXIgJHRvID0gcmVmLiR0bztcbiAgICB2YXIgcmFuZ2UgPSAkZnJvbS5ibG9ja1JhbmdlKCR0byksIHdyYXBwaW5nID0gcmFuZ2UgJiYgcHJvc2VtaXJyb3JUcmFuc2Zvcm0uZmluZFdyYXBwaW5nKHJhbmdlLCBub2RlVHlwZSwgYXR0cnMpO1xuICAgIGlmICghd3JhcHBpbmcpIHsgcmV0dXJuIGZhbHNlIH1cbiAgICBpZiAoZGlzcGF0Y2gpIHsgZGlzcGF0Y2goc3RhdGUudHIud3JhcChyYW5nZSwgd3JhcHBpbmcpLnNjcm9sbEludG9WaWV3KCkpOyB9XG4gICAgcmV0dXJuIHRydWVcbiAgfVxufVxuXG4vLyA6OiAoTm9kZVR5cGUsID9PYmplY3QpIOKGkiAoc3RhdGU6IEVkaXRvclN0YXRlLCBkaXNwYXRjaDogPyh0cjogVHJhbnNhY3Rpb24pKSDihpIgYm9vbFxuLy8gUmV0dXJucyBhIGNvbW1hbmQgdGhhdCB0cmllcyB0byBzZXQgdGhlIHNlbGVjdGVkIHRleHRibG9ja3MgdG8gdGhlXG4vLyBnaXZlbiBub2RlIHR5cGUgd2l0aCB0aGUgZ2l2ZW4gYXR0cmlidXRlcy5cbmZ1bmN0aW9uIHNldEJsb2NrVHlwZShub2RlVHlwZSwgYXR0cnMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHN0YXRlLCBkaXNwYXRjaCkge1xuICAgIHZhciByZWYgPSBzdGF0ZS5zZWxlY3Rpb247XG4gICAgdmFyIGZyb20gPSByZWYuZnJvbTtcbiAgICB2YXIgdG8gPSByZWYudG87XG4gICAgdmFyIGFwcGxpY2FibGUgPSBmYWxzZTtcbiAgICBzdGF0ZS5kb2Mubm9kZXNCZXR3ZWVuKGZyb20sIHRvLCBmdW5jdGlvbiAobm9kZSwgcG9zKSB7XG4gICAgICBpZiAoYXBwbGljYWJsZSkgeyByZXR1cm4gZmFsc2UgfVxuICAgICAgaWYgKCFub2RlLmlzVGV4dGJsb2NrIHx8IG5vZGUuaGFzTWFya3VwKG5vZGVUeXBlLCBhdHRycykpIHsgcmV0dXJuIH1cbiAgICAgIGlmIChub2RlLnR5cGUgPT0gbm9kZVR5cGUpIHtcbiAgICAgICAgYXBwbGljYWJsZSA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgJHBvcyA9IHN0YXRlLmRvYy5yZXNvbHZlKHBvcyksIGluZGV4ID0gJHBvcy5pbmRleCgpO1xuICAgICAgICBhcHBsaWNhYmxlID0gJHBvcy5wYXJlbnQuY2FuUmVwbGFjZVdpdGgoaW5kZXgsIGluZGV4ICsgMSwgbm9kZVR5cGUpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICghYXBwbGljYWJsZSkgeyByZXR1cm4gZmFsc2UgfVxuICAgIGlmIChkaXNwYXRjaCkgeyBkaXNwYXRjaChzdGF0ZS50ci5zZXRCbG9ja1R5cGUoZnJvbSwgdG8sIG5vZGVUeXBlLCBhdHRycykuc2Nyb2xsSW50b1ZpZXcoKSk7IH1cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG59XG5cbmZ1bmN0aW9uIG1hcmtBcHBsaWVzKGRvYywgcmFuZ2VzLCB0eXBlKSB7XG4gIHZhciBsb29wID0gZnVuY3Rpb24gKCBpICkge1xuICAgIHZhciByZWYgPSByYW5nZXNbaV07XG4gICAgdmFyICRmcm9tID0gcmVmLiRmcm9tO1xuICAgIHZhciAkdG8gPSByZWYuJHRvO1xuICAgIHZhciBjYW4gPSAkZnJvbS5kZXB0aCA9PSAwID8gZG9jLnR5cGUuYWxsb3dzTWFya1R5cGUodHlwZSkgOiBmYWxzZTtcbiAgICBkb2Mubm9kZXNCZXR3ZWVuKCRmcm9tLnBvcywgJHRvLnBvcywgZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgIGlmIChjYW4pIHsgcmV0dXJuIGZhbHNlIH1cbiAgICAgIGNhbiA9IG5vZGUuaW5saW5lQ29udGVudCAmJiBub2RlLnR5cGUuYWxsb3dzTWFya1R5cGUodHlwZSk7XG4gICAgfSk7XG4gICAgaWYgKGNhbikgeyByZXR1cm4geyB2OiB0cnVlIH0gfVxuICB9O1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcmFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHJldHVybmVkID0gbG9vcCggaSApO1xuXG4gICAgaWYgKCByZXR1cm5lZCApIHJldHVybiByZXR1cm5lZC52O1xuICB9XG4gIHJldHVybiBmYWxzZVxufVxuXG4vLyA6OiAoTWFya1R5cGUsID9PYmplY3QpIOKGkiAoc3RhdGU6IEVkaXRvclN0YXRlLCBkaXNwYXRjaDogPyh0cjogVHJhbnNhY3Rpb24pKSDihpIgYm9vbFxuLy8gQ3JlYXRlIGEgY29tbWFuZCBmdW5jdGlvbiB0aGF0IHRvZ2dsZXMgdGhlIGdpdmVuIG1hcmsgd2l0aCB0aGVcbi8vIGdpdmVuIGF0dHJpYnV0ZXMuIFdpbGwgcmV0dXJuIGBmYWxzZWAgd2hlbiB0aGUgY3VycmVudCBzZWxlY3Rpb25cbi8vIGRvZXNuJ3Qgc3VwcG9ydCB0aGF0IG1hcmsuIFRoaXMgd2lsbCByZW1vdmUgdGhlIG1hcmsgaWYgYW55IG1hcmtzXG4vLyBvZiB0aGF0IHR5cGUgZXhpc3QgaW4gdGhlIHNlbGVjdGlvbiwgb3IgYWRkIGl0IG90aGVyd2lzZS4gSWYgdGhlXG4vLyBzZWxlY3Rpb24gaXMgZW1wdHksIHRoaXMgYXBwbGllcyB0byB0aGUgW3N0b3JlZFxuLy8gbWFya3NdKCNzdGF0ZS5FZGl0b3JTdGF0ZS5zdG9yZWRNYXJrcykgaW5zdGVhZCBvZiBhIHJhbmdlIG9mIHRoZVxuLy8gZG9jdW1lbnQuXG5mdW5jdGlvbiB0b2dnbGVNYXJrKG1hcmtUeXBlLCBhdHRycykge1xuICByZXR1cm4gZnVuY3Rpb24oc3RhdGUsIGRpc3BhdGNoKSB7XG4gICAgdmFyIHJlZiA9IHN0YXRlLnNlbGVjdGlvbjtcbiAgICB2YXIgZW1wdHkgPSByZWYuZW1wdHk7XG4gICAgdmFyICRjdXJzb3IgPSByZWYuJGN1cnNvcjtcbiAgICB2YXIgcmFuZ2VzID0gcmVmLnJhbmdlcztcbiAgICBpZiAoKGVtcHR5ICYmICEkY3Vyc29yKSB8fCAhbWFya0FwcGxpZXMoc3RhdGUuZG9jLCByYW5nZXMsIG1hcmtUeXBlKSkgeyByZXR1cm4gZmFsc2UgfVxuICAgIGlmIChkaXNwYXRjaCkge1xuICAgICAgaWYgKCRjdXJzb3IpIHtcbiAgICAgICAgaWYgKG1hcmtUeXBlLmlzSW5TZXQoc3RhdGUuc3RvcmVkTWFya3MgfHwgJGN1cnNvci5tYXJrcygpKSlcbiAgICAgICAgICB7IGRpc3BhdGNoKHN0YXRlLnRyLnJlbW92ZVN0b3JlZE1hcmsobWFya1R5cGUpKTsgfVxuICAgICAgICBlbHNlXG4gICAgICAgICAgeyBkaXNwYXRjaChzdGF0ZS50ci5hZGRTdG9yZWRNYXJrKG1hcmtUeXBlLmNyZWF0ZShhdHRycykpKTsgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGhhcyA9IGZhbHNlLCB0ciA9IHN0YXRlLnRyO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgIWhhcyAmJiBpIDwgcmFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIHJlZiQxID0gcmFuZ2VzW2ldO1xuICAgICAgICAgIHZhciAkZnJvbSA9IHJlZiQxLiRmcm9tO1xuICAgICAgICAgIHZhciAkdG8gPSByZWYkMS4kdG87XG4gICAgICAgICAgaGFzID0gc3RhdGUuZG9jLnJhbmdlSGFzTWFyaygkZnJvbS5wb3MsICR0by5wb3MsIG1hcmtUeXBlKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCByYW5nZXMubGVuZ3RoOyBpJDErKykge1xuICAgICAgICAgIHZhciByZWYkMiA9IHJhbmdlc1tpJDFdO1xuICAgICAgICAgIHZhciAkZnJvbSQxID0gcmVmJDIuJGZyb207XG4gICAgICAgICAgdmFyICR0byQxID0gcmVmJDIuJHRvO1xuICAgICAgICAgIGlmIChoYXMpIHsgdHIucmVtb3ZlTWFyaygkZnJvbSQxLnBvcywgJHRvJDEucG9zLCBtYXJrVHlwZSk7IH1cbiAgICAgICAgICBlbHNlIHsgdHIuYWRkTWFyaygkZnJvbSQxLnBvcywgJHRvJDEucG9zLCBtYXJrVHlwZS5jcmVhdGUoYXR0cnMpKTsgfVxuICAgICAgICB9XG4gICAgICAgIGRpc3BhdGNoKHRyLnNjcm9sbEludG9WaWV3KCkpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG59XG5cbmZ1bmN0aW9uIHdyYXBEaXNwYXRjaEZvckpvaW4oZGlzcGF0Y2gsIGlzSm9pbmFibGUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICh0cikge1xuICAgIGlmICghdHIuaXNHZW5lcmljKSB7IHJldHVybiBkaXNwYXRjaCh0cikgfVxuXG4gICAgdmFyIHJhbmdlcyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHIubWFwcGluZy5tYXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgbWFwID0gdHIubWFwcGluZy5tYXBzW2ldO1xuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCByYW5nZXMubGVuZ3RoOyBqKyspXG4gICAgICAgIHsgcmFuZ2VzW2pdID0gbWFwLm1hcChyYW5nZXNbal0pOyB9XG4gICAgICBtYXAuZm9yRWFjaChmdW5jdGlvbiAoX3MsIF9lLCBmcm9tLCB0bykgeyByZXR1cm4gcmFuZ2VzLnB1c2goZnJvbSwgdG8pOyB9KTtcbiAgICB9XG5cbiAgICAvLyBGaWd1cmUgb3V0IHdoaWNoIGpvaW5hYmxlIHBvaW50cyBleGlzdCBpbnNpZGUgdGhvc2UgcmFuZ2VzLFxuICAgIC8vIGJ5IGNoZWNraW5nIGFsbCBub2RlIGJvdW5kYXJpZXMgaW4gdGhlaXIgcGFyZW50IG5vZGVzLlxuICAgIHZhciBqb2luYWJsZSA9IFtdO1xuICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IHJhbmdlcy5sZW5ndGg7IGkkMSArPSAyKSB7XG4gICAgICB2YXIgZnJvbSA9IHJhbmdlc1tpJDFdLCB0byA9IHJhbmdlc1tpJDEgKyAxXTtcbiAgICAgIHZhciAkZnJvbSA9IHRyLmRvYy5yZXNvbHZlKGZyb20pLCBkZXB0aCA9ICRmcm9tLnNoYXJlZERlcHRoKHRvKSwgcGFyZW50ID0gJGZyb20ubm9kZShkZXB0aCk7XG4gICAgICBmb3IgKHZhciBpbmRleCA9ICRmcm9tLmluZGV4QWZ0ZXIoZGVwdGgpLCBwb3MgPSAkZnJvbS5hZnRlcihkZXB0aCArIDEpOyBwb3MgPD0gdG87ICsraW5kZXgpIHtcbiAgICAgICAgdmFyIGFmdGVyID0gcGFyZW50Lm1heWJlQ2hpbGQoaW5kZXgpO1xuICAgICAgICBpZiAoIWFmdGVyKSB7IGJyZWFrIH1cbiAgICAgICAgaWYgKGluZGV4ICYmIGpvaW5hYmxlLmluZGV4T2YocG9zKSA9PSAtMSkge1xuICAgICAgICAgIHZhciBiZWZvcmUgPSBwYXJlbnQuY2hpbGQoaW5kZXggLSAxKTtcbiAgICAgICAgICBpZiAoYmVmb3JlLnR5cGUgPT0gYWZ0ZXIudHlwZSAmJiBpc0pvaW5hYmxlKGJlZm9yZSwgYWZ0ZXIpKVxuICAgICAgICAgICAgeyBqb2luYWJsZS5wdXNoKHBvcyk7IH1cbiAgICAgICAgfVxuICAgICAgICBwb3MgKz0gYWZ0ZXIubm9kZVNpemU7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIEpvaW4gdGhlIGpvaW5hYmxlIHBvaW50c1xuICAgIGpvaW5hYmxlLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEgLSBiOyB9KTtcbiAgICBmb3IgKHZhciBpJDIgPSBqb2luYWJsZS5sZW5ndGggLSAxOyBpJDIgPj0gMDsgaSQyLS0pIHtcbiAgICAgIGlmIChwcm9zZW1pcnJvclRyYW5zZm9ybS5jYW5Kb2luKHRyLmRvYywgam9pbmFibGVbaSQyXSkpIHsgdHIuam9pbihqb2luYWJsZVtpJDJdKTsgfVxuICAgIH1cbiAgICBkaXNwYXRjaCh0cik7XG4gIH1cbn1cblxuLy8gOjogKChzdGF0ZTogRWRpdG9yU3RhdGUsID8odHI6IFRyYW5zYWN0aW9uKSkg4oaSIGJvb2wsIHVuaW9uPChiZWZvcmU6IE5vZGUsIGFmdGVyOiBOb2RlKSDihpIgYm9vbCwgW3N0cmluZ10+KSDihpIgKHN0YXRlOiBFZGl0b3JTdGF0ZSwgPyh0cjogVHJhbnNhY3Rpb24pKSDihpIgYm9vbFxuLy8gV3JhcCBhIGNvbW1hbmQgc28gdGhhdCwgd2hlbiBpdCBwcm9kdWNlcyBhIHRyYW5zZm9ybSB0aGF0IGNhdXNlc1xuLy8gdHdvIGpvaW5hYmxlIG5vZGVzIHRvIGVuZCB1cCBuZXh0IHRvIGVhY2ggb3RoZXIsIHRob3NlIGFyZSBqb2luZWQuXG4vLyBOb2RlcyBhcmUgY29uc2lkZXJlZCBqb2luYWJsZSB3aGVuIHRoZXkgYXJlIG9mIHRoZSBzYW1lIHR5cGUgYW5kXG4vLyB3aGVuIHRoZSBgaXNKb2luYWJsZWAgcHJlZGljYXRlIHJldHVybnMgdHJ1ZSBmb3IgdGhlbSBvciwgaWYgYW5cbi8vIGFycmF5IG9mIHN0cmluZ3Mgd2FzIHBhc3NlZCwgaWYgdGhlaXIgbm9kZSB0eXBlIG5hbWUgaXMgaW4gdGhhdFxuLy8gYXJyYXkuXG5mdW5jdGlvbiBhdXRvSm9pbihjb21tYW5kLCBpc0pvaW5hYmxlKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGlzSm9pbmFibGUpKSB7XG4gICAgdmFyIHR5cGVzID0gaXNKb2luYWJsZTtcbiAgICBpc0pvaW5hYmxlID0gZnVuY3Rpb24gKG5vZGUpIHsgcmV0dXJuIHR5cGVzLmluZGV4T2Yobm9kZS50eXBlLm5hbWUpID4gLTE7IH07XG4gIH1cbiAgcmV0dXJuIGZ1bmN0aW9uIChzdGF0ZSwgZGlzcGF0Y2gpIHsgcmV0dXJuIGNvbW1hbmQoc3RhdGUsIGRpc3BhdGNoICYmIHdyYXBEaXNwYXRjaEZvckpvaW4oZGlzcGF0Y2gsIGlzSm9pbmFibGUpKTsgfVxufVxuXG4vLyA6OiAoLi4uWyhFZGl0b3JTdGF0ZSwgPyh0cjogVHJhbnNhY3Rpb24pLCA/RWRpdG9yVmlldykg4oaSIGJvb2xdKSDihpIgKEVkaXRvclN0YXRlLCA/KHRyOiBUcmFuc2FjdGlvbiksID9FZGl0b3JWaWV3KSDihpIgYm9vbFxuLy8gQ29tYmluZSBhIG51bWJlciBvZiBjb21tYW5kIGZ1bmN0aW9ucyBpbnRvIGEgc2luZ2xlIGZ1bmN0aW9uICh3aGljaFxuLy8gY2FsbHMgdGhlbSBvbmUgYnkgb25lIHVudGlsIG9uZSByZXR1cm5zIHRydWUpLlxuZnVuY3Rpb24gY2hhaW5Db21tYW5kcygpIHtcbiAgdmFyIGNvbW1hbmRzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gIHdoaWxlICggbGVuLS0gKSBjb21tYW5kc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gIHJldHVybiBmdW5jdGlvbihzdGF0ZSwgZGlzcGF0Y2gsIHZpZXcpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbW1hbmRzLmxlbmd0aDsgaSsrKVxuICAgICAgeyBpZiAoY29tbWFuZHNbaV0oc3RhdGUsIGRpc3BhdGNoLCB2aWV3KSkgeyByZXR1cm4gdHJ1ZSB9IH1cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxufVxuXG52YXIgYmFja3NwYWNlID0gY2hhaW5Db21tYW5kcyhkZWxldGVTZWxlY3Rpb24sIGpvaW5CYWNrd2FyZCwgc2VsZWN0Tm9kZUJhY2t3YXJkKTtcbnZhciBkZWwgPSBjaGFpbkNvbW1hbmRzKGRlbGV0ZVNlbGVjdGlvbiwgam9pbkZvcndhcmQsIHNlbGVjdE5vZGVGb3J3YXJkKTtcblxuLy8gOjogT2JqZWN0XG4vLyBBIGJhc2ljIGtleW1hcCBjb250YWluaW5nIGJpbmRpbmdzIG5vdCBzcGVjaWZpYyB0byBhbnkgc2NoZW1hLlxuLy8gQmluZHMgdGhlIGZvbGxvd2luZyBrZXlzICh3aGVuIG11bHRpcGxlIGNvbW1hbmRzIGFyZSBsaXN0ZWQsIHRoZXlcbi8vIGFyZSBjaGFpbmVkIHdpdGggW2BjaGFpbkNvbW1hbmRzYF0oI2NvbW1hbmRzLmNoYWluQ29tbWFuZHMpKTpcbi8vXG4vLyAqICoqRW50ZXIqKiB0byBgbmV3bGluZUluQ29kZWAsIGBjcmVhdGVQYXJhZ3JhcGhOZWFyYCwgYGxpZnRFbXB0eUJsb2NrYCwgYHNwbGl0QmxvY2tgXG4vLyAqICoqTW9kLUVudGVyKiogdG8gYGV4aXRDb2RlYFxuLy8gKiAqKkJhY2tzcGFjZSoqIGFuZCAqKk1vZC1CYWNrc3BhY2UqKiB0byBgZGVsZXRlU2VsZWN0aW9uYCwgYGpvaW5CYWNrd2FyZGAsIGBzZWxlY3ROb2RlQmFja3dhcmRgXG4vLyAqICoqRGVsZXRlKiogYW5kICoqTW9kLURlbGV0ZSoqIHRvIGBkZWxldGVTZWxlY3Rpb25gLCBgam9pbkZvcndhcmRgLCBgc2VsZWN0Tm9kZUZvcndhcmRgXG4vLyAqICoqTW9kLURlbGV0ZSoqIHRvIGBkZWxldGVTZWxlY3Rpb25gLCBgam9pbkZvcndhcmRgLCBgc2VsZWN0Tm9kZUZvcndhcmRgXG4vLyAqICoqTW9kLWEqKiB0byBgc2VsZWN0QWxsYFxudmFyIHBjQmFzZUtleW1hcCA9IHtcbiAgXCJFbnRlclwiOiBjaGFpbkNvbW1hbmRzKG5ld2xpbmVJbkNvZGUsIGNyZWF0ZVBhcmFncmFwaE5lYXIsIGxpZnRFbXB0eUJsb2NrLCBzcGxpdEJsb2NrKSxcbiAgXCJNb2QtRW50ZXJcIjogZXhpdENvZGUsXG4gIFwiQmFja3NwYWNlXCI6IGJhY2tzcGFjZSxcbiAgXCJNb2QtQmFja3NwYWNlXCI6IGJhY2tzcGFjZSxcbiAgXCJEZWxldGVcIjogZGVsLFxuICBcIk1vZC1EZWxldGVcIjogZGVsLFxuICBcIk1vZC1hXCI6IHNlbGVjdEFsbFxufTtcblxuLy8gOjogT2JqZWN0XG4vLyBBIGNvcHkgb2YgYHBjQmFzZUtleW1hcGAgdGhhdCBhbHNvIGJpbmRzICoqQ3RybC1oKiogbGlrZSBCYWNrc3BhY2UsXG4vLyAqKkN0cmwtZCoqIGxpa2UgRGVsZXRlLCAqKkFsdC1CYWNrc3BhY2UqKiBsaWtlIEN0cmwtQmFja3NwYWNlLCBhbmRcbi8vICoqQ3RybC1BbHQtQmFja3NwYWNlKiosICoqQWx0LURlbGV0ZSoqLCBhbmQgKipBbHQtZCoqIGxpa2Vcbi8vIEN0cmwtRGVsZXRlLlxudmFyIG1hY0Jhc2VLZXltYXAgPSB7XG4gIFwiQ3RybC1oXCI6IHBjQmFzZUtleW1hcFtcIkJhY2tzcGFjZVwiXSxcbiAgXCJBbHQtQmFja3NwYWNlXCI6IHBjQmFzZUtleW1hcFtcIk1vZC1CYWNrc3BhY2VcIl0sXG4gIFwiQ3RybC1kXCI6IHBjQmFzZUtleW1hcFtcIkRlbGV0ZVwiXSxcbiAgXCJDdHJsLUFsdC1CYWNrc3BhY2VcIjogcGNCYXNlS2V5bWFwW1wiTW9kLURlbGV0ZVwiXSxcbiAgXCJBbHQtRGVsZXRlXCI6IHBjQmFzZUtleW1hcFtcIk1vZC1EZWxldGVcIl0sXG4gIFwiQWx0LWRcIjogcGNCYXNlS2V5bWFwW1wiTW9kLURlbGV0ZVwiXVxufTtcbmZvciAodmFyIGtleSBpbiBwY0Jhc2VLZXltYXApIHsgbWFjQmFzZUtleW1hcFtrZXldID0gcGNCYXNlS2V5bWFwW2tleV07IH1cblxuLy8gZGVjbGFyZSBnbG9iYWw6IG9zLCBuYXZpZ2F0b3JcbnZhciBtYWMgPSB0eXBlb2YgbmF2aWdhdG9yICE9IFwidW5kZWZpbmVkXCIgPyAvTWFjLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSlcbiAgICAgICAgICA6IHR5cGVvZiBvcyAhPSBcInVuZGVmaW5lZFwiID8gb3MucGxhdGZvcm0oKSA9PSBcImRhcndpblwiIDogZmFsc2U7XG5cbi8vIDo6IE9iamVjdFxuLy8gRGVwZW5kaW5nIG9uIHRoZSBkZXRlY3RlZCBwbGF0Zm9ybSwgdGhpcyB3aWxsIGhvbGRcbi8vIFtgcGNCYXNla2V5bWFwYF0oI2NvbW1hbmRzLnBjQmFzZUtleW1hcCkgb3Jcbi8vIFtgbWFjQmFzZUtleW1hcGBdKCNjb21tYW5kcy5tYWNCYXNlS2V5bWFwKS5cbnZhciBiYXNlS2V5bWFwID0gbWFjID8gbWFjQmFzZUtleW1hcCA6IHBjQmFzZUtleW1hcDtcblxuZXhwb3J0cy5kZWxldGVTZWxlY3Rpb24gPSBkZWxldGVTZWxlY3Rpb247XG5leHBvcnRzLmpvaW5CYWNrd2FyZCA9IGpvaW5CYWNrd2FyZDtcbmV4cG9ydHMuc2VsZWN0Tm9kZUJhY2t3YXJkID0gc2VsZWN0Tm9kZUJhY2t3YXJkO1xuZXhwb3J0cy5qb2luRm9yd2FyZCA9IGpvaW5Gb3J3YXJkO1xuZXhwb3J0cy5zZWxlY3ROb2RlRm9yd2FyZCA9IHNlbGVjdE5vZGVGb3J3YXJkO1xuZXhwb3J0cy5qb2luVXAgPSBqb2luVXA7XG5leHBvcnRzLmpvaW5Eb3duID0gam9pbkRvd247XG5leHBvcnRzLmxpZnQgPSBsaWZ0O1xuZXhwb3J0cy5uZXdsaW5lSW5Db2RlID0gbmV3bGluZUluQ29kZTtcbmV4cG9ydHMuZXhpdENvZGUgPSBleGl0Q29kZTtcbmV4cG9ydHMuY3JlYXRlUGFyYWdyYXBoTmVhciA9IGNyZWF0ZVBhcmFncmFwaE5lYXI7XG5leHBvcnRzLmxpZnRFbXB0eUJsb2NrID0gbGlmdEVtcHR5QmxvY2s7XG5leHBvcnRzLnNwbGl0QmxvY2sgPSBzcGxpdEJsb2NrO1xuZXhwb3J0cy5zcGxpdEJsb2NrS2VlcE1hcmtzID0gc3BsaXRCbG9ja0tlZXBNYXJrcztcbmV4cG9ydHMuc2VsZWN0UGFyZW50Tm9kZSA9IHNlbGVjdFBhcmVudE5vZGU7XG5leHBvcnRzLnNlbGVjdEFsbCA9IHNlbGVjdEFsbDtcbmV4cG9ydHMud3JhcEluID0gd3JhcEluO1xuZXhwb3J0cy5zZXRCbG9ja1R5cGUgPSBzZXRCbG9ja1R5cGU7XG5leHBvcnRzLnRvZ2dsZU1hcmsgPSB0b2dnbGVNYXJrO1xuZXhwb3J0cy5hdXRvSm9pbiA9IGF1dG9Kb2luO1xuZXhwb3J0cy5jaGFpbkNvbW1hbmRzID0gY2hhaW5Db21tYW5kcztcbmV4cG9ydHMucGNCYXNlS2V5bWFwID0gcGNCYXNlS2V5bWFwO1xuZXhwb3J0cy5tYWNCYXNlS2V5bWFwID0gbWFjQmFzZUtleW1hcDtcbmV4cG9ydHMuYmFzZUtleW1hcCA9IGJhc2VLZXltYXA7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21tYW5kcy5qcy5tYXBcbiIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcblxudmFyIHByb3NlbWlycm9yU3RhdGUgPSByZXF1aXJlKCdwcm9zZW1pcnJvci1zdGF0ZScpO1xudmFyIHByb3NlbWlycm9yVmlldyA9IHJlcXVpcmUoJ3Byb3NlbWlycm9yLXZpZXcnKTtcblxudmFyIGdlY2tvID0gdHlwZW9mIG5hdmlnYXRvciAhPSBcInVuZGVmaW5lZFwiICYmIC9nZWNrb1xcL1xcZC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG52YXIgbGludXggPSB0eXBlb2YgbmF2aWdhdG9yICE9IFwidW5kZWZpbmVkXCIgJiYgL2xpbnV4L2kudGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pO1xuXG5mdW5jdGlvbiBkcm9wQ3Vyc29yKG9wdGlvbnMpIHtcbiAgZnVuY3Rpb24gZGlzcGF0Y2godmlldywgZGF0YSkge1xuICAgIHZpZXcuZGlzcGF0Y2godmlldy5zdGF0ZS50ci5zZXRNZXRhKHBsdWdpbiwgZGF0YSkpO1xuICB9XG5cbiAgdmFyIHRpbWVvdXQgPSBudWxsO1xuICBmdW5jdGlvbiBzY2hlZHVsZVJlbW92YWwodmlldykge1xuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICB0aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAocGx1Z2luLmdldFN0YXRlKHZpZXcuc3RhdGUpKSB7IGRpc3BhdGNoKHZpZXcsIHt0eXBlOiBcInJlbW92ZVwifSk7IH1cbiAgICB9LCAxMDAwKTtcbiAgfVxuXG4gIHZhciBwbHVnaW4gPSBuZXcgcHJvc2VtaXJyb3JTdGF0ZS5QbHVnaW4oe1xuICAgIHN0YXRlOiB7XG4gICAgICBpbml0OiBmdW5jdGlvbiBpbml0KCkgeyByZXR1cm4gbnVsbCB9LFxuICAgICAgYXBwbHk6IGZ1bmN0aW9uIGFwcGx5KHRyLCBwcmV2LCBzdGF0ZSkge1xuICAgICAgICAvLyBGaXJlZm94IG9uIExpbnV4IGdldHMgcmVhbGx5IGNvbmZ1c2VkIGFuIGJyZWFrcyBkcmFnZ2luZyB3aGVuIHdlXG4gICAgICAgIC8vIG1lc3Mgd2l0aCB0aGUgbm9kZXMgYXJvdW5kIHRoZSB0YXJnZXQgbm9kZSBkdXJpbmcgYSBkcmFnLiBTb1xuICAgICAgICAvLyBkaXNhYmxlIHRoaXMgcGx1Z2luIHRoZXJlLiBTZWUgaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTMyMzE3MFxuICAgICAgICBpZiAoZ2Vja28gJiYgbGludXgpIHsgcmV0dXJuIG51bGwgfVxuICAgICAgICB2YXIgY29tbWFuZCA9IHRyLmdldE1ldGEocGx1Z2luKTtcbiAgICAgICAgaWYgKCFjb21tYW5kKSB7IHJldHVybiBwcmV2IH1cbiAgICAgICAgaWYgKGNvbW1hbmQudHlwZSA9PSBcInNldFwiKSB7IHJldHVybiBwbHVnaW5TdGF0ZUZvcihzdGF0ZSwgY29tbWFuZC5wb3MsIG9wdGlvbnMpIH1cbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgIH1cbiAgICB9LFxuICAgIHByb3BzOiB7XG4gICAgICBoYW5kbGVET01FdmVudHM6IHtcbiAgICAgICAgZHJhZ292ZXI6IGZ1bmN0aW9uIGRyYWdvdmVyKHZpZXcsIGV2ZW50KSB7XG4gICAgICAgICAgdmFyIGFjdGl2ZSA9IHBsdWdpbi5nZXRTdGF0ZSh2aWV3LnN0YXRlKTtcbiAgICAgICAgICB2YXIgcG9zID0gdmlldy5wb3NBdENvb3Jkcyh7bGVmdDogZXZlbnQuY2xpZW50WCwgdG9wOiBldmVudC5jbGllbnRZfSk7XG4gICAgICAgICAgaWYgKHBvcykge1xuICAgICAgICAgICAgdmFyIHRhcmdldCA9IHBvcy5wb3M7XG4gICAgICAgICAgICBpZiAodmlldy5kcmFnZ2luZylcbiAgICAgICAgICAgICAgeyB0YXJnZXQgPSBkcm9wUG9zKHZpZXcuZHJhZ2dpbmcuc2xpY2UsIHZpZXcuc3RhdGUuZG9jLnJlc29sdmUodGFyZ2V0KSk7IH1cbiAgICAgICAgICAgIGlmICghYWN0aXZlIHx8IGFjdGl2ZS5wb3MgIT0gdGFyZ2V0KVxuICAgICAgICAgICAgICB7IGRpc3BhdGNoKHZpZXcsIHt0eXBlOiBcInNldFwiLCBwb3M6IHRhcmdldH0pOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHNjaGVkdWxlUmVtb3ZhbCh2aWV3KTtcbiAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfSxcblxuICAgICAgICBkcmFnZW5kOiBmdW5jdGlvbiBkcmFnZW5kKHZpZXcpIHtcbiAgICAgICAgICBpZiAocGx1Z2luLmdldFN0YXRlKHZpZXcuc3RhdGUpKSB7IGRpc3BhdGNoKHZpZXcsIHt0eXBlOiBcInJlbW92ZVwifSk7IH1cbiAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfSxcblxuICAgICAgICBkcm9wOiBmdW5jdGlvbiBkcm9wKHZpZXcpIHtcbiAgICAgICAgICBpZiAocGx1Z2luLmdldFN0YXRlKHZpZXcuc3RhdGUpKSB7IGRpc3BhdGNoKHZpZXcsIHt0eXBlOiBcInJlbW92ZVwifSk7IH1cbiAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfSxcblxuICAgICAgICBkcmFnbGVhdmU6IGZ1bmN0aW9uIGRyYWdsZWF2ZSh2aWV3LCBldmVudCkge1xuICAgICAgICAgIGlmIChldmVudC50YXJnZXQgPT0gdmlldy5kb20pIHsgZGlzcGF0Y2godmlldywge3R5cGU6IFwicmVtb3ZlXCJ9KTsgfVxuICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgZGVjb3JhdGlvbnM6IGZ1bmN0aW9uIGRlY29yYXRpb25zKHN0YXRlKSB7XG4gICAgICAgIHZhciBhY3RpdmUgPSBwbHVnaW4uZ2V0U3RhdGUoc3RhdGUpO1xuICAgICAgICByZXR1cm4gYWN0aXZlICYmIGFjdGl2ZS5kZWNvXG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHBsdWdpblxufVxuXG5mdW5jdGlvbiBzdHlsZShvcHRpb25zLCBzaWRlKSB7XG4gIHZhciB3aWR0aCA9IChvcHRpb25zICYmIG9wdGlvbnMud2lkdGgpIHx8IDE7XG4gIHZhciBjb2xvciA9IChvcHRpb25zICYmIG9wdGlvbnMuY29sb3IpIHx8IFwiYmxhY2tcIjtcbiAgcmV0dXJuIChcImJvcmRlci1cIiArIHNpZGUgKyBcIjogXCIgKyB3aWR0aCArIFwicHggc29saWQgXCIgKyBjb2xvciArIFwiOyBtYXJnaW4tXCIgKyBzaWRlICsgXCI6IC1cIiArIHdpZHRoICsgXCJweFwiKVxufVxuXG5mdW5jdGlvbiBwbHVnaW5TdGF0ZUZvcihzdGF0ZSwgcG9zLCBvcHRpb25zKSB7XG4gIHZhciAkcG9zID0gc3RhdGUuZG9jLnJlc29sdmUocG9zKSwgZGVjbztcbiAgaWYgKCEkcG9zLnBhcmVudC5pbmxpbmVDb250ZW50KSB7XG4gICAgdmFyIGJlZm9yZSwgYWZ0ZXI7XG4gICAgaWYgKGJlZm9yZSA9ICRwb3Mubm9kZUJlZm9yZSlcbiAgICAgIHsgZGVjbyA9IHByb3NlbWlycm9yVmlldy5EZWNvcmF0aW9uLm5vZGUocG9zIC0gYmVmb3JlLm5vZGVTaXplLCBwb3MsIHtub2RlTmFtZTogXCJkaXZcIiwgc3R5bGU6IHN0eWxlKG9wdGlvbnMsIFwicmlnaHRcIil9KTsgfVxuICAgIGVsc2UgaWYgKGFmdGVyID0gJHBvcy5ub2RlQWZ0ZXIpXG4gICAgICB7IGRlY28gPSBwcm9zZW1pcnJvclZpZXcuRGVjb3JhdGlvbi5ub2RlKHBvcywgcG9zICsgYWZ0ZXIubm9kZVNpemUsIHtub2RlTmFtZTogXCJkaXZcIiwgc3R5bGU6IHN0eWxlKG9wdGlvbnMsIFwibGVmdFwiKX0pOyB9XG4gIH1cbiAgaWYgKCFkZWNvKSB7XG4gICAgdmFyIG5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICBub2RlLnRleHRDb250ZW50ID0gXCJcXHUyMDBiXCI7XG4gICAgbm9kZS5zdHlsZS5jc3NUZXh0ID0gc3R5bGUob3B0aW9ucywgXCJsZWZ0XCIpICsgXCI7IGRpc3BsYXk6IGlubGluZS1ibG9jazsgcG9pbnRlci1ldmVudHM6IG5vbmVcIjtcbiAgICBkZWNvID0gcHJvc2VtaXJyb3JWaWV3LkRlY29yYXRpb24ud2lkZ2V0KHBvcywgbm9kZSk7XG4gIH1cbiAgcmV0dXJuIHtwb3M6IHBvcywgZGVjbzogcHJvc2VtaXJyb3JWaWV3LkRlY29yYXRpb25TZXQuY3JlYXRlKHN0YXRlLmRvYywgW2RlY29dKX1cbn1cblxuZnVuY3Rpb24gZHJvcFBvcyhzbGljZSwgJHBvcykge1xuICBpZiAoIXNsaWNlIHx8ICFzbGljZS5jb250ZW50LnNpemUpIHsgcmV0dXJuICRwb3MucG9zIH1cbiAgdmFyIGNvbnRlbnQgPSBzbGljZS5jb250ZW50O1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHNsaWNlLm9wZW5TdGFydDsgaSsrKSB7IGNvbnRlbnQgPSBjb250ZW50LmZpcnN0Q2hpbGQuY29udGVudDsgfVxuICBmb3IgKHZhciBkID0gJHBvcy5kZXB0aDsgZCA+PSAwOyBkLS0pIHtcbiAgICB2YXIgYmlhcyA9IGQgPT0gJHBvcy5kZXB0aCA/IDAgOiAkcG9zLnBvcyA8PSAoJHBvcy5zdGFydChkICsgMSkgKyAkcG9zLmVuZChkICsgMSkpIC8gMiA/IC0xIDogMTtcbiAgICB2YXIgaW5zZXJ0UG9zID0gJHBvcy5pbmRleChkKSArIChiaWFzID4gMCA/IDEgOiAwKTtcbiAgICBpZiAoJHBvcy5ub2RlKGQpLmNhblJlcGxhY2UoaW5zZXJ0UG9zLCBpbnNlcnRQb3MsIGNvbnRlbnQpKVxuICAgICAgeyByZXR1cm4gYmlhcyA9PSAwID8gJHBvcy5wb3MgOiBiaWFzIDwgMCA/ICRwb3MuYmVmb3JlKGQgKyAxKSA6ICRwb3MuYWZ0ZXIoZCArIDEpIH1cbiAgfVxuICByZXR1cm4gJHBvcy5wb3Ncbn1cblxuZXhwb3J0cy5kcm9wQ3Vyc29yID0gZHJvcEN1cnNvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRyb3BjdXJzb3IuanMubWFwXG4iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG5cbnZhciBwcm9zZW1pcnJvcktleW1hcCA9IHJlcXVpcmUoJ3Byb3NlbWlycm9yLWtleW1hcCcpO1xudmFyIHByb3NlbWlycm9yU3RhdGUgPSByZXF1aXJlKCdwcm9zZW1pcnJvci1zdGF0ZScpO1xudmFyIHByb3NlbWlycm9yVmlldyA9IHJlcXVpcmUoJ3Byb3NlbWlycm9yLXZpZXcnKTtcbnZhciBwcm9zZW1pcnJvck1vZGVsID0gcmVxdWlyZSgncHJvc2VtaXJyb3ItbW9kZWwnKTtcblxuLy8gOjotIEdhcCBjdXJzb3Igc2VsZWN0aW9ucyBhcmUgcmVwcmVzZW50ZWQgdXNpbmcgdGhpcyBjbGFzcy4gSXRzXG4vLyBgJGFuY2hvcmAgYW5kIGAkaGVhZGAgcHJvcGVydGllcyBib3RoIHBvaW50IGF0IHRoZSBjdXJzb3IgcG9zaXRpb24uXG52YXIgR2FwQ3Vyc29yID0gKGZ1bmN0aW9uIChTZWxlY3Rpb24kJDEpIHtcbiAgZnVuY3Rpb24gR2FwQ3Vyc29yKCRwb3MpIHtcbiAgICBTZWxlY3Rpb24kJDEuY2FsbCh0aGlzLCAkcG9zLCAkcG9zKTtcbiAgfVxuXG4gIGlmICggU2VsZWN0aW9uJCQxICkgR2FwQ3Vyc29yLl9fcHJvdG9fXyA9IFNlbGVjdGlvbiQkMTtcbiAgR2FwQ3Vyc29yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFNlbGVjdGlvbiQkMSAmJiBTZWxlY3Rpb24kJDEucHJvdG90eXBlICk7XG4gIEdhcEN1cnNvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBHYXBDdXJzb3I7XG5cbiAgR2FwQ3Vyc29yLnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiBtYXAgKGRvYywgbWFwcGluZykge1xuICAgIHZhciAkcG9zID0gZG9jLnJlc29sdmUobWFwcGluZy5tYXAodGhpcy5oZWFkKSk7XG4gICAgcmV0dXJuIEdhcEN1cnNvci52YWxpZCgkcG9zKSA/IG5ldyBHYXBDdXJzb3IoJHBvcykgOiBTZWxlY3Rpb24kJDEubmVhcigkcG9zKVxuICB9O1xuXG4gIEdhcEN1cnNvci5wcm90b3R5cGUuY29udGVudCA9IGZ1bmN0aW9uIGNvbnRlbnQgKCkgeyByZXR1cm4gcHJvc2VtaXJyb3JNb2RlbC5TbGljZS5lbXB0eSB9O1xuXG4gIEdhcEN1cnNvci5wcm90b3R5cGUuZXEgPSBmdW5jdGlvbiBlcSAob3RoZXIpIHtcbiAgICByZXR1cm4gb3RoZXIgaW5zdGFuY2VvZiBHYXBDdXJzb3IgJiYgb3RoZXIuaGVhZCA9PSB0aGlzLmhlYWRcbiAgfTtcblxuICBHYXBDdXJzb3IucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uIHRvSlNPTiAoKSB7XG4gICAgcmV0dXJuIHt0eXBlOiBcImdhcGN1cnNvclwiLCBwb3M6IHRoaXMuaGVhZH1cbiAgfTtcblxuICBHYXBDdXJzb3IuZnJvbUpTT04gPSBmdW5jdGlvbiBmcm9tSlNPTiAoZG9jLCBqc29uKSB7XG4gICAgaWYgKHR5cGVvZiBqc29uLnBvcyAhPSBcIm51bWJlclwiKSB7IHRocm93IG5ldyBSYW5nZUVycm9yKFwiSW52YWxpZCBpbnB1dCBmb3IgR2FwQ3Vyc29yLmZyb21KU09OXCIpIH1cbiAgICByZXR1cm4gbmV3IEdhcEN1cnNvcihkb2MucmVzb2x2ZShqc29uLnBvcykpXG4gIH07XG5cbiAgR2FwQ3Vyc29yLnByb3RvdHlwZS5nZXRCb29rbWFyayA9IGZ1bmN0aW9uIGdldEJvb2ttYXJrICgpIHsgcmV0dXJuIG5ldyBHYXBCb29rbWFyayh0aGlzLmFuY2hvcikgfTtcblxuICBHYXBDdXJzb3IudmFsaWQgPSBmdW5jdGlvbiB2YWxpZCAoJHBvcykge1xuICAgIHZhciBwYXJlbnQgPSAkcG9zLnBhcmVudDtcbiAgICBpZiAocGFyZW50LmlzVGV4dGJsb2NrIHx8ICFjbG9zZWRCZWZvcmUoJHBvcykgfHwgIWNsb3NlZEFmdGVyKCRwb3MpKSB7IHJldHVybiBmYWxzZSB9XG4gICAgdmFyIG92ZXJyaWRlID0gcGFyZW50LnR5cGUuc3BlYy5hbGxvd0dhcEN1cnNvcjtcbiAgICBpZiAob3ZlcnJpZGUgIT0gbnVsbCkgeyByZXR1cm4gb3ZlcnJpZGUgfVxuICAgIHZhciBkZWZsdCA9IHBhcmVudC5jb250ZW50TWF0Y2hBdCgkcG9zLmluZGV4KCkpLmRlZmF1bHRUeXBlO1xuICAgIHJldHVybiBkZWZsdCAmJiBkZWZsdC5pc1RleHRibG9ja1xuICB9O1xuXG4gIEdhcEN1cnNvci5maW5kRnJvbSA9IGZ1bmN0aW9uIGZpbmRGcm9tICgkcG9zLCBkaXIsIG11c3RNb3ZlKSB7XG4gICAgaWYgKCFtdXN0TW92ZSAmJiBHYXBDdXJzb3IudmFsaWQoJHBvcykpIHsgcmV0dXJuICRwb3MgfVxuXG4gICAgdmFyIHBvcyA9ICRwb3MucG9zLCBuZXh0ID0gbnVsbDtcbiAgICAvLyBTY2FuIHVwIGZyb20gdGhpcyBwb3NpdGlvblxuICAgIGZvciAodmFyIGQgPSAkcG9zLmRlcHRoOzsgZC0tKSB7XG4gICAgICB2YXIgcGFyZW50ID0gJHBvcy5ub2RlKGQpO1xuICAgICAgaWYgKGRpciA+IDAgPyAkcG9zLmluZGV4QWZ0ZXIoZCkgPCBwYXJlbnQuY2hpbGRDb3VudCA6ICRwb3MuaW5kZXgoZCkgPiAwKSB7XG4gICAgICAgIG5leHQgPSBwYXJlbnQubWF5YmVDaGlsZChkaXIgPiAwID8gJHBvcy5pbmRleEFmdGVyKGQpIDogJHBvcy5pbmRleChkKSAtIDEpO1xuICAgICAgICBicmVha1xuICAgICAgfSBlbHNlIGlmIChkID09IDApIHtcbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgIH1cbiAgICAgIHBvcyArPSBkaXI7XG4gICAgICB2YXIgJGN1ciA9ICRwb3MuZG9jLnJlc29sdmUocG9zKTtcbiAgICAgIGlmIChHYXBDdXJzb3IudmFsaWQoJGN1cikpIHsgcmV0dXJuICRjdXIgfVxuICAgIH1cblxuICAgIC8vIEFuZCB0aGVuIGRvd24gaW50byB0aGUgbmV4dCBub2RlXG4gICAgZm9yICg7Oykge1xuICAgICAgbmV4dCA9IGRpciA+IDAgPyBuZXh0LmZpcnN0Q2hpbGQgOiBuZXh0Lmxhc3RDaGlsZDtcbiAgICAgIGlmICghbmV4dCkgeyBicmVhayB9XG4gICAgICBwb3MgKz0gZGlyO1xuICAgICAgdmFyICRjdXIkMSA9ICRwb3MuZG9jLnJlc29sdmUocG9zKTtcbiAgICAgIGlmIChHYXBDdXJzb3IudmFsaWQoJGN1ciQxKSkgeyByZXR1cm4gJGN1ciQxIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbFxuICB9O1xuXG4gIHJldHVybiBHYXBDdXJzb3I7XG59KHByb3NlbWlycm9yU3RhdGUuU2VsZWN0aW9uKSk7XG5cbkdhcEN1cnNvci5wcm90b3R5cGUudmlzaWJsZSA9IGZhbHNlO1xuXG5wcm9zZW1pcnJvclN0YXRlLlNlbGVjdGlvbi5qc29uSUQoXCJnYXBjdXJzb3JcIiwgR2FwQ3Vyc29yKTtcblxudmFyIEdhcEJvb2ttYXJrID0gZnVuY3Rpb24gR2FwQm9va21hcmsocG9zKSB7XG4gIHRoaXMucG9zID0gcG9zO1xufTtcbkdhcEJvb2ttYXJrLnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiBtYXAgKG1hcHBpbmcpIHtcbiAgcmV0dXJuIG5ldyBHYXBCb29rbWFyayhtYXBwaW5nLm1hcCh0aGlzLnBvcykpXG59O1xuR2FwQm9va21hcmsucHJvdG90eXBlLnJlc29sdmUgPSBmdW5jdGlvbiByZXNvbHZlIChkb2MpIHtcbiAgdmFyICRwb3MgPSBkb2MucmVzb2x2ZSh0aGlzLnBvcyk7XG4gIHJldHVybiBHYXBDdXJzb3IudmFsaWQoJHBvcykgPyBuZXcgR2FwQ3Vyc29yKCRwb3MpIDogcHJvc2VtaXJyb3JTdGF0ZS5TZWxlY3Rpb24ubmVhcigkcG9zKVxufTtcblxuZnVuY3Rpb24gY2xvc2VkQmVmb3JlKCRwb3MpIHtcbiAgZm9yICh2YXIgZCA9ICRwb3MuZGVwdGg7IGQgPj0gMDsgZC0tKSB7XG4gICAgdmFyIGluZGV4ID0gJHBvcy5pbmRleChkKTtcbiAgICAvLyBBdCB0aGUgc3RhcnQgb2YgdGhpcyBwYXJlbnQsIGxvb2sgYXQgbmV4dCBvbmVcbiAgICBpZiAoaW5kZXggPT0gMCkgeyBjb250aW51ZSB9XG4gICAgLy8gU2VlIGlmIHRoZSBub2RlIGJlZm9yZSAob3IgaXRzIGZpcnN0IGFuY2VzdG9yKSBpcyBjbG9zZWRcbiAgICBmb3IgKHZhciBiZWZvcmUgPSAkcG9zLm5vZGUoZCkuY2hpbGQoaW5kZXggLSAxKTs7IGJlZm9yZSA9IGJlZm9yZS5sYXN0Q2hpbGQpIHtcbiAgICAgIGlmIChiZWZvcmUuaXNUZXh0YmxvY2spIHsgcmV0dXJuIGZhbHNlIH1cbiAgICAgIGlmIChiZWZvcmUuY2hpbGRDb3VudCA9PSAwIHx8IGJlZm9yZS5pc0F0b20gfHwgYmVmb3JlLnR5cGUuc3BlYy5pc29sYXRpbmcpIHsgcmV0dXJuIHRydWUgfVxuICAgIH1cbiAgfVxuICAvLyBIaXQgc3RhcnQgb2YgZG9jdW1lbnRcbiAgcmV0dXJuIHRydWVcbn1cblxuZnVuY3Rpb24gY2xvc2VkQWZ0ZXIoJHBvcykge1xuICBmb3IgKHZhciBkID0gJHBvcy5kZXB0aDsgZCA+PSAwOyBkLS0pIHtcbiAgICB2YXIgaW5kZXggPSAkcG9zLmluZGV4QWZ0ZXIoZCksIHBhcmVudCA9ICRwb3Mubm9kZShkKTtcbiAgICBpZiAoaW5kZXggPT0gcGFyZW50LmNoaWxkQ291bnQpIHsgY29udGludWUgfVxuICAgIGZvciAodmFyIGFmdGVyID0gcGFyZW50LmNoaWxkKGluZGV4KTs7IGFmdGVyID0gYWZ0ZXIuZmlyc3RDaGlsZCkge1xuICAgICAgaWYgKGFmdGVyLmlzVGV4dGJsb2NrKSB7IHJldHVybiBmYWxzZSB9XG4gICAgICBpZiAoYWZ0ZXIuY2hpbGRDb3VudCA9PSAwIHx8IGFmdGVyLmlzQXRvbSB8fCBhZnRlci50eXBlLnNwZWMuaXNvbGF0aW5nKSB7IHJldHVybiB0cnVlIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWVcbn1cblxuLy8gOjogKCkg4oaSIFBsdWdpblxuLy8gQ3JlYXRlIGEgZ2FwIGN1cnNvciBwbHVnaW4uIFdoZW4gZW5hYmxlZCwgdGhpcyB3aWxsIGNhcHR1cmUgY2xpY2tzXG4vLyBuZWFyIGFuZCBhcnJvdy1rZXktbW90aW9uIHBhc3QgcGxhY2VzIHRoYXQgZG9uJ3QgaGF2ZSBhIG5vcm1hbGx5XG4vLyBzZWxlY3RhYmxlIHBvc2l0aW9uIG5lYXJieSwgYW5kIGNyZWF0ZSBhIGdhcCBjdXJzb3Igc2VsZWN0aW9uIGZvclxuLy8gdGhlbS4gVGhlIGN1cnNvciBpcyBkcmF3biBhcyBhbiBlbGVtZW50IHdpdGggY2xhc3Ncbi8vIGBQcm9zZU1pcnJvci1nYXBjdXJzb3JgLiBZb3UgY2FuIGVpdGhlciBpbmNsdWRlXG4vLyBgc3R5bGUvZ2FwY3Vyc29yLmNzc2AgZnJvbSB0aGUgcGFja2FnZSdzIGRpcmVjdG9yeSBvciBhZGQgeW91ciBvd25cbi8vIHN0eWxlcyB0byBtYWtlIGl0IHZpc2libGUuXG52YXIgZ2FwQ3Vyc29yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgcHJvc2VtaXJyb3JTdGF0ZS5QbHVnaW4oe1xuICAgIHByb3BzOiB7XG4gICAgICBkZWNvcmF0aW9uczogZHJhd0dhcEN1cnNvcixcblxuICAgICAgY3JlYXRlU2VsZWN0aW9uQmV0d2VlbjogZnVuY3Rpb24gY3JlYXRlU2VsZWN0aW9uQmV0d2VlbihfdmlldywgJGFuY2hvciwgJGhlYWQpIHtcbiAgICAgICAgaWYgKCRhbmNob3IucG9zID09ICRoZWFkLnBvcyAmJiBHYXBDdXJzb3IudmFsaWQoJGhlYWQpKSB7IHJldHVybiBuZXcgR2FwQ3Vyc29yKCRoZWFkKSB9XG4gICAgICB9LFxuXG4gICAgICBoYW5kbGVDbGljazogaGFuZGxlQ2xpY2ssXG4gICAgICBoYW5kbGVLZXlEb3duOiBoYW5kbGVLZXlEb3duXG4gICAgfVxuICB9KVxufTtcblxudmFyIGhhbmRsZUtleURvd24gPSBwcm9zZW1pcnJvcktleW1hcC5rZXlkb3duSGFuZGxlcih7XG4gIFwiQXJyb3dMZWZ0XCI6IGFycm93KFwiaG9yaXpcIiwgLTEpLFxuICBcIkFycm93UmlnaHRcIjogYXJyb3coXCJob3JpelwiLCAxKSxcbiAgXCJBcnJvd1VwXCI6IGFycm93KFwidmVydFwiLCAtMSksXG4gIFwiQXJyb3dEb3duXCI6IGFycm93KFwidmVydFwiLCAxKVxufSk7XG5cbmZ1bmN0aW9uIGFycm93KGF4aXMsIGRpcikge1xuICB2YXIgZGlyU3RyID0gYXhpcyA9PSBcInZlcnRcIiA/IChkaXIgPiAwID8gXCJkb3duXCIgOiBcInVwXCIpIDogKGRpciA+IDAgPyBcInJpZ2h0XCIgOiBcImxlZnRcIik7XG4gIHJldHVybiBmdW5jdGlvbihzdGF0ZSwgZGlzcGF0Y2gsIHZpZXcpIHtcbiAgICB2YXIgc2VsID0gc3RhdGUuc2VsZWN0aW9uO1xuICAgIHZhciAkc3RhcnQgPSBkaXIgPiAwID8gc2VsLiR0byA6IHNlbC4kZnJvbSwgbXVzdE1vdmUgPSBzZWwuZW1wdHk7XG4gICAgaWYgKHNlbCBpbnN0YW5jZW9mIHByb3NlbWlycm9yU3RhdGUuVGV4dFNlbGVjdGlvbikge1xuICAgICAgaWYgKCF2aWV3LmVuZE9mVGV4dGJsb2NrKGRpclN0cikpIHsgcmV0dXJuIGZhbHNlIH1cbiAgICAgIG11c3RNb3ZlID0gZmFsc2U7XG4gICAgICAkc3RhcnQgPSBzdGF0ZS5kb2MucmVzb2x2ZShkaXIgPiAwID8gJHN0YXJ0LmFmdGVyKCkgOiAkc3RhcnQuYmVmb3JlKCkpO1xuICAgIH1cbiAgICB2YXIgJGZvdW5kID0gR2FwQ3Vyc29yLmZpbmRGcm9tKCRzdGFydCwgZGlyLCBtdXN0TW92ZSk7XG4gICAgaWYgKCEkZm91bmQpIHsgcmV0dXJuIGZhbHNlIH1cbiAgICBpZiAoZGlzcGF0Y2gpIHsgZGlzcGF0Y2goc3RhdGUudHIuc2V0U2VsZWN0aW9uKG5ldyBHYXBDdXJzb3IoJGZvdW5kKSkpOyB9XG4gICAgcmV0dXJuIHRydWVcbiAgfVxufVxuXG5mdW5jdGlvbiBoYW5kbGVDbGljayh2aWV3LCBwb3MsIGV2ZW50KSB7XG4gIHZhciAkcG9zID0gdmlldy5zdGF0ZS5kb2MucmVzb2x2ZShwb3MpO1xuICBpZiAoIUdhcEN1cnNvci52YWxpZCgkcG9zKSkgeyByZXR1cm4gZmFsc2UgfVxuICB2YXIgcmVmID0gdmlldy5wb3NBdENvb3Jkcyh7bGVmdDogZXZlbnQuY2xpZW50WCwgdG9wOiBldmVudC5jbGllbnRZfSk7XG4gIHZhciBpbnNpZGUgPSByZWYuaW5zaWRlO1xuICBpZiAoaW5zaWRlID4gLTEgJiYgcHJvc2VtaXJyb3JTdGF0ZS5Ob2RlU2VsZWN0aW9uLmlzU2VsZWN0YWJsZSh2aWV3LnN0YXRlLmRvYy5ub2RlQXQoaW5zaWRlKSkpIHsgcmV0dXJuIGZhbHNlIH1cbiAgdmlldy5kaXNwYXRjaCh2aWV3LnN0YXRlLnRyLnNldFNlbGVjdGlvbihuZXcgR2FwQ3Vyc29yKCRwb3MpKSk7XG4gIHJldHVybiB0cnVlXG59XG5cbmZ1bmN0aW9uIGRyYXdHYXBDdXJzb3Ioc3RhdGUpIHtcbiAgaWYgKCEoc3RhdGUuc2VsZWN0aW9uIGluc3RhbmNlb2YgR2FwQ3Vyc29yKSkgeyByZXR1cm4gbnVsbCB9XG4gIHZhciBub2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgbm9kZS5jbGFzc05hbWUgPSBcIlByb3NlTWlycm9yLWdhcGN1cnNvclwiO1xuICByZXR1cm4gcHJvc2VtaXJyb3JWaWV3LkRlY29yYXRpb25TZXQuY3JlYXRlKHN0YXRlLmRvYywgW3Byb3NlbWlycm9yVmlldy5EZWNvcmF0aW9uLndpZGdldChzdGF0ZS5zZWxlY3Rpb24uaGVhZCwgbm9kZSwge2tleTogXCJnYXBjdXJzb3JcIn0pXSlcbn1cblxuZXhwb3J0cy5nYXBDdXJzb3IgPSBnYXBDdXJzb3I7XG5leHBvcnRzLkdhcEN1cnNvciA9IEdhcEN1cnNvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuIiwiLy9Db3B5cmlnaHQgKEMpIDIwMTIgS29yeSBOdW5uXHJcblxyXG4vL1Blcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XHJcblxyXG4vL1RoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxyXG5cclxuLy9USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cclxuXHJcbi8qXHJcblxyXG4gICAgVGhpcyBjb2RlIGlzIG5vdCBmb3JtYXR0ZWQgZm9yIHJlYWRhYmlsaXR5LCBidXQgcmF0aGVyIHJ1bi1zcGVlZCBhbmQgdG8gYXNzaXN0IGNvbXBpbGVycy5cclxuXHJcbiAgICBIb3dldmVyLCB0aGUgY29kZSdzIGludGVudGlvbiBzaG91bGQgYmUgdHJhbnNwYXJlbnQuXHJcblxyXG4gICAgKioqIElFIFNVUFBPUlQgKioqXHJcblxyXG4gICAgSWYgeW91IHJlcXVpcmUgdGhpcyBsaWJyYXJ5IHRvIHdvcmsgaW4gSUU3LCBhZGQgdGhlIGZvbGxvd2luZyBhZnRlciBkZWNsYXJpbmcgY3JlbC5cclxuXHJcbiAgICB2YXIgdGVzdERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxyXG4gICAgICAgIHRlc3RMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XHJcblxyXG4gICAgdGVzdERpdi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2EnKTtcclxuICAgIHRlc3REaXZbJ2NsYXNzTmFtZSddICE9PSAnYScgPyBjcmVsLmF0dHJNYXBbJ2NsYXNzJ10gPSAnY2xhc3NOYW1lJzp1bmRlZmluZWQ7XHJcbiAgICB0ZXN0RGl2LnNldEF0dHJpYnV0ZSgnbmFtZScsJ2EnKTtcclxuICAgIHRlc3REaXZbJ25hbWUnXSAhPT0gJ2EnID8gY3JlbC5hdHRyTWFwWyduYW1lJ10gPSBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZSl7XHJcbiAgICAgICAgZWxlbWVudC5pZCA9IHZhbHVlO1xyXG4gICAgfTp1bmRlZmluZWQ7XHJcblxyXG5cclxuICAgIHRlc3RMYWJlbC5zZXRBdHRyaWJ1dGUoJ2ZvcicsICdhJyk7XHJcbiAgICB0ZXN0TGFiZWxbJ2h0bWxGb3InXSAhPT0gJ2EnID8gY3JlbC5hdHRyTWFwWydmb3InXSA9ICdodG1sRm9yJzp1bmRlZmluZWQ7XHJcblxyXG5cclxuXHJcbiovXHJcblxyXG4oZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHtcclxuICAgIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcclxuICAgIH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XHJcbiAgICAgICAgZGVmaW5lKGZhY3RvcnkpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICByb290LmNyZWwgPSBmYWN0b3J5KCk7XHJcbiAgICB9XHJcbn0odGhpcywgZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGZuID0gJ2Z1bmN0aW9uJyxcclxuICAgICAgICBvYmogPSAnb2JqZWN0JyxcclxuICAgICAgICBub2RlVHlwZSA9ICdub2RlVHlwZScsXHJcbiAgICAgICAgdGV4dENvbnRlbnQgPSAndGV4dENvbnRlbnQnLFxyXG4gICAgICAgIHNldEF0dHJpYnV0ZSA9ICdzZXRBdHRyaWJ1dGUnLFxyXG4gICAgICAgIGF0dHJNYXBTdHJpbmcgPSAnYXR0ck1hcCcsXHJcbiAgICAgICAgaXNOb2RlU3RyaW5nID0gJ2lzTm9kZScsXHJcbiAgICAgICAgaXNFbGVtZW50U3RyaW5nID0gJ2lzRWxlbWVudCcsXHJcbiAgICAgICAgZCA9IHR5cGVvZiBkb2N1bWVudCA9PT0gb2JqID8gZG9jdW1lbnQgOiB7fSxcclxuICAgICAgICBpc1R5cGUgPSBmdW5jdGlvbihhLCB0eXBlKXtcclxuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBhID09PSB0eXBlO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaXNOb2RlID0gdHlwZW9mIE5vZGUgPT09IGZuID8gZnVuY3Rpb24gKG9iamVjdCkge1xyXG4gICAgICAgICAgICByZXR1cm4gb2JqZWN0IGluc3RhbmNlb2YgTm9kZTtcclxuICAgICAgICB9IDpcclxuICAgICAgICAvLyBpbiBJRSA8PSA4IE5vZGUgaXMgYW4gb2JqZWN0LCBvYnZpb3VzbHkuLlxyXG4gICAgICAgIGZ1bmN0aW9uKG9iamVjdCl7XHJcbiAgICAgICAgICAgIHJldHVybiBvYmplY3QgJiZcclxuICAgICAgICAgICAgICAgIGlzVHlwZShvYmplY3QsIG9iaikgJiZcclxuICAgICAgICAgICAgICAgIChub2RlVHlwZSBpbiBvYmplY3QpICYmXHJcbiAgICAgICAgICAgICAgICBpc1R5cGUob2JqZWN0Lm93bmVyRG9jdW1lbnQsb2JqKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGlzRWxlbWVudCA9IGZ1bmN0aW9uIChvYmplY3QpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNyZWxbaXNOb2RlU3RyaW5nXShvYmplY3QpICYmIG9iamVjdFtub2RlVHlwZV0gPT09IDE7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBpc0FycmF5ID0gZnVuY3Rpb24oYSl7XHJcbiAgICAgICAgICAgIHJldHVybiBhIGluc3RhbmNlb2YgQXJyYXk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBhcHBlbmRDaGlsZCA9IGZ1bmN0aW9uKGVsZW1lbnQsIGNoaWxkKSB7XHJcbiAgICAgICAgICAgIGlmIChpc0FycmF5KGNoaWxkKSkge1xyXG4gICAgICAgICAgICAgICAgY2hpbGQubWFwKGZ1bmN0aW9uKHN1YkNoaWxkKXtcclxuICAgICAgICAgICAgICAgICAgICBhcHBlbmRDaGlsZChlbGVtZW50LCBzdWJDaGlsZCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZighY3JlbFtpc05vZGVTdHJpbmddKGNoaWxkKSl7XHJcbiAgICAgICAgICAgICAgICBjaGlsZCA9IGQuY3JlYXRlVGV4dE5vZGUoY2hpbGQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoY2hpbGQpO1xyXG4gICAgICAgIH07XHJcblxyXG5cclxuICAgIGZ1bmN0aW9uIGNyZWwoKXtcclxuICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cywgLy9Ob3RlOiBhc3NpZ25lZCB0byBhIHZhcmlhYmxlIHRvIGFzc2lzdCBjb21waWxlcnMuIFNhdmVzIGFib3V0IDQwIGJ5dGVzIGluIGNsb3N1cmUgY29tcGlsZXIuIEhhcyBuZWdsaWdhYmxlIGVmZmVjdCBvbiBwZXJmb3JtYW5jZS5cclxuICAgICAgICAgICAgZWxlbWVudCA9IGFyZ3NbMF0sXHJcbiAgICAgICAgICAgIGNoaWxkLFxyXG4gICAgICAgICAgICBzZXR0aW5ncyA9IGFyZ3NbMV0sXHJcbiAgICAgICAgICAgIGNoaWxkSW5kZXggPSAyLFxyXG4gICAgICAgICAgICBhcmd1bWVudHNMZW5ndGggPSBhcmdzLmxlbmd0aCxcclxuICAgICAgICAgICAgYXR0cmlidXRlTWFwID0gY3JlbFthdHRyTWFwU3RyaW5nXTtcclxuXHJcbiAgICAgICAgZWxlbWVudCA9IGNyZWxbaXNFbGVtZW50U3RyaW5nXShlbGVtZW50KSA/IGVsZW1lbnQgOiBkLmNyZWF0ZUVsZW1lbnQoZWxlbWVudCk7XHJcbiAgICAgICAgLy8gc2hvcnRjdXRcclxuICAgICAgICBpZihhcmd1bWVudHNMZW5ndGggPT09IDEpe1xyXG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKCFpc1R5cGUoc2V0dGluZ3Msb2JqKSB8fCBjcmVsW2lzTm9kZVN0cmluZ10oc2V0dGluZ3MpIHx8IGlzQXJyYXkoc2V0dGluZ3MpKSB7XHJcbiAgICAgICAgICAgIC0tY2hpbGRJbmRleDtcclxuICAgICAgICAgICAgc2V0dGluZ3MgPSBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gc2hvcnRjdXQgaWYgdGhlcmUgaXMgb25seSBvbmUgY2hpbGQgdGhhdCBpcyBhIHN0cmluZ1xyXG4gICAgICAgIGlmKChhcmd1bWVudHNMZW5ndGggLSBjaGlsZEluZGV4KSA9PT0gMSAmJiBpc1R5cGUoYXJnc1tjaGlsZEluZGV4XSwgJ3N0cmluZycpICYmIGVsZW1lbnRbdGV4dENvbnRlbnRdICE9PSB1bmRlZmluZWQpe1xyXG4gICAgICAgICAgICBlbGVtZW50W3RleHRDb250ZW50XSA9IGFyZ3NbY2hpbGRJbmRleF07XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIGZvcig7IGNoaWxkSW5kZXggPCBhcmd1bWVudHNMZW5ndGg7ICsrY2hpbGRJbmRleCl7XHJcbiAgICAgICAgICAgICAgICBjaGlsZCA9IGFyZ3NbY2hpbGRJbmRleF07XHJcblxyXG4gICAgICAgICAgICAgICAgaWYoY2hpbGQgPT0gbnVsbCl7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGlzQXJyYXkoY2hpbGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgIGZvciAodmFyIGk9MDsgaSA8IGNoaWxkLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kQ2hpbGQoZWxlbWVudCwgY2hpbGRbaV0pO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICBhcHBlbmRDaGlsZChlbGVtZW50LCBjaGlsZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvcih2YXIga2V5IGluIHNldHRpbmdzKXtcclxuICAgICAgICAgICAgaWYoIWF0dHJpYnV0ZU1hcFtrZXldKXtcclxuICAgICAgICAgICAgICAgIGlmKGlzVHlwZShzZXR0aW5nc1trZXldLGZuKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudFtrZXldID0gc2V0dGluZ3Nba2V5XTtcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRbc2V0QXR0cmlidXRlXShrZXksIHNldHRpbmdzW2tleV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIHZhciBhdHRyID0gYXR0cmlidXRlTWFwW2tleV07XHJcbiAgICAgICAgICAgICAgICBpZih0eXBlb2YgYXR0ciA9PT0gZm4pe1xyXG4gICAgICAgICAgICAgICAgICAgIGF0dHIoZWxlbWVudCwgc2V0dGluZ3Nba2V5XSk7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50W3NldEF0dHJpYnV0ZV0oYXR0ciwgc2V0dGluZ3Nba2V5XSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBlbGVtZW50O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFVzZWQgZm9yIG1hcHBpbmcgb25lIGtpbmQgb2YgYXR0cmlidXRlIHRvIHRoZSBzdXBwb3J0ZWQgdmVyc2lvbiBvZiB0aGF0IGluIGJhZCBicm93c2Vycy5cclxuICAgIGNyZWxbYXR0ck1hcFN0cmluZ10gPSB7fTtcclxuXHJcbiAgICBjcmVsW2lzRWxlbWVudFN0cmluZ10gPSBpc0VsZW1lbnQ7XHJcblxyXG4gICAgY3JlbFtpc05vZGVTdHJpbmddID0gaXNOb2RlO1xyXG5cclxuICAgIGlmKHR5cGVvZiBQcm94eSAhPT0gJ3VuZGVmaW5lZCcpe1xyXG4gICAgICAgIGNyZWwucHJveHkgPSBuZXcgUHJveHkoY3JlbCwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKHRhcmdldCwga2V5KXtcclxuICAgICAgICAgICAgICAgICEoa2V5IGluIGNyZWwpICYmIChjcmVsW2tleV0gPSBjcmVsLmJpbmQobnVsbCwga2V5KSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlbFtrZXldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGNyZWw7XHJcbn0pKTtcclxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcERlZmF1bHQgKGV4KSB7IHJldHVybiAoZXggJiYgKHR5cGVvZiBleCA9PT0gJ29iamVjdCcpICYmICdkZWZhdWx0JyBpbiBleCkgPyBleFsnZGVmYXVsdCddIDogZXg7IH1cblxudmFyIGNyZWwgPSBfaW50ZXJvcERlZmF1bHQocmVxdWlyZSgnY3JlbCcpKTtcbnZhciBwcm9zZW1pcnJvckNvbW1hbmRzID0gcmVxdWlyZSgncHJvc2VtaXJyb3ItY29tbWFuZHMnKTtcbnZhciBwcm9zZW1pcnJvckhpc3RvcnkgPSByZXF1aXJlKCdwcm9zZW1pcnJvci1oaXN0b3J5Jyk7XG52YXIgcHJvc2VtaXJyb3JTdGF0ZSA9IHJlcXVpcmUoJ3Byb3NlbWlycm9yLXN0YXRlJyk7XG5cbnZhciBTVkcgPSBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI7XG52YXIgWExJTksgPSBcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIjtcblxudmFyIHByZWZpeCQxID0gXCJQcm9zZU1pcnJvci1pY29uXCI7XG5cbmZ1bmN0aW9uIGhhc2hQYXRoKHBhdGgpIHtcbiAgdmFyIGhhc2ggPSAwO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspXG4gICAgeyBoYXNoID0gKCgoaGFzaCA8PCA1KSAtIGhhc2gpICsgcGF0aC5jaGFyQ29kZUF0KGkpKSB8IDA7IH1cbiAgcmV0dXJuIGhhc2hcbn1cblxuZnVuY3Rpb24gZ2V0SWNvbihpY29uKSB7XG4gIHZhciBub2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgbm9kZS5jbGFzc05hbWUgPSBwcmVmaXgkMTtcbiAgaWYgKGljb24ucGF0aCkge1xuICAgIHZhciBuYW1lID0gXCJwbS1pY29uLVwiICsgaGFzaFBhdGgoaWNvbi5wYXRoKS50b1N0cmluZygxNik7XG4gICAgaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZChuYW1lKSkgeyBidWlsZFNWRyhuYW1lLCBpY29uKTsgfVxuICAgIHZhciBzdmcgPSBub2RlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhTVkcsIFwic3ZnXCIpKTtcbiAgICBzdmcuc3R5bGUud2lkdGggPSAoaWNvbi53aWR0aCAvIGljb24uaGVpZ2h0KSArIFwiZW1cIjtcbiAgICB2YXIgdXNlID0gc3ZnLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhTVkcsIFwidXNlXCIpKTtcbiAgICB1c2Uuc2V0QXR0cmlidXRlTlMoWExJTkssIFwiaHJlZlwiLCAvKFteI10qKS8uZXhlYyhkb2N1bWVudC5sb2NhdGlvbilbMV0gKyBcIiNcIiArIG5hbWUpO1xuICB9IGVsc2UgaWYgKGljb24uZG9tKSB7XG4gICAgbm9kZS5hcHBlbmRDaGlsZChpY29uLmRvbS5jbG9uZU5vZGUodHJ1ZSkpO1xuICB9IGVsc2Uge1xuICAgIG5vZGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIikpLnRleHRDb250ZW50ID0gaWNvbi50ZXh0IHx8ICcnO1xuICAgIGlmIChpY29uLmNzcykgeyBub2RlLmZpcnN0Q2hpbGQuc3R5bGUuY3NzVGV4dCA9IGljb24uY3NzOyB9XG4gIH1cbiAgcmV0dXJuIG5vZGVcbn1cblxuZnVuY3Rpb24gYnVpbGRTVkcobmFtZSwgZGF0YSkge1xuICB2YXIgY29sbGVjdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHByZWZpeCQxICsgXCItY29sbGVjdGlvblwiKTtcbiAgaWYgKCFjb2xsZWN0aW9uKSB7XG4gICAgY29sbGVjdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhTVkcsIFwic3ZnXCIpO1xuICAgIGNvbGxlY3Rpb24uaWQgPSBwcmVmaXgkMSArIFwiLWNvbGxlY3Rpb25cIjtcbiAgICBjb2xsZWN0aW9uLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICBkb2N1bWVudC5ib2R5Lmluc2VydEJlZm9yZShjb2xsZWN0aW9uLCBkb2N1bWVudC5ib2R5LmZpcnN0Q2hpbGQpO1xuICB9XG4gIHZhciBzeW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoU1ZHLCBcInN5bWJvbFwiKTtcbiAgc3ltLmlkID0gbmFtZTtcbiAgc3ltLnNldEF0dHJpYnV0ZShcInZpZXdCb3hcIiwgXCIwIDAgXCIgKyBkYXRhLndpZHRoICsgXCIgXCIgKyBkYXRhLmhlaWdodCk7XG4gIHZhciBwYXRoID0gc3ltLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhTVkcsIFwicGF0aFwiKSk7XG4gIHBhdGguc2V0QXR0cmlidXRlKFwiZFwiLCBkYXRhLnBhdGgpO1xuICBjb2xsZWN0aW9uLmFwcGVuZENoaWxkKHN5bSk7XG59XG5cbnZhciBwcmVmaXggPSBcIlByb3NlTWlycm9yLW1lbnVcIjtcblxuLy8gOjotIEFuIGljb24gb3IgbGFiZWwgdGhhdCwgd2hlbiBjbGlja2VkLCBleGVjdXRlcyBhIGNvbW1hbmQuXG52YXIgTWVudUl0ZW0gPSBmdW5jdGlvbiBNZW51SXRlbShzcGVjKSB7XG4gIC8vIDo6IE1lbnVJdGVtU3BlY1xuICAvLyBUaGUgc3BlYyB1c2VkIHRvIGNyZWF0ZSB0aGUgbWVudSBpdGVtLlxuICB0aGlzLnNwZWMgPSBzcGVjO1xufTtcblxuLy8gOjogKEVkaXRvclZpZXcpIOKGkiB7ZG9tOiBkb20uTm9kZSwgdXBkYXRlOiAoRWRpdG9yU3RhdGUpIOKGkiBib29sfVxuLy8gUmVuZGVycyB0aGUgaWNvbiBhY2NvcmRpbmcgdG8gaXRzIFtkaXNwbGF5XG4vLyBzcGVjXSgjbWVudS5NZW51SXRlbVNwZWMuZGlzcGxheSksIGFuZCBhZGRzIGFuIGV2ZW50IGhhbmRsZXIgd2hpY2hcbi8vIGV4ZWN1dGVzIHRoZSBjb21tYW5kIHdoZW4gdGhlIHJlcHJlc2VudGF0aW9uIGlzIGNsaWNrZWQuXG5NZW51SXRlbS5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyICh2aWV3KSB7XG4gIHZhciBzcGVjID0gdGhpcy5zcGVjO1xuICB2YXIgZG9tID0gc3BlYy5yZW5kZXIgPyBzcGVjLnJlbmRlcih2aWV3KVxuICAgICAgOiBzcGVjLmljb24gPyBnZXRJY29uKHNwZWMuaWNvbilcbiAgICAgIDogc3BlYy5sYWJlbCA/IGNyZWwoXCJkaXZcIiwgbnVsbCwgdHJhbnNsYXRlKHZpZXcsIHNwZWMubGFiZWwpKVxuICAgICAgOiBudWxsO1xuICBpZiAoIWRvbSkgeyB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIk1lbnVJdGVtIHdpdGhvdXQgaWNvbiBvciBsYWJlbCBwcm9wZXJ0eVwiKSB9XG4gIGlmIChzcGVjLnRpdGxlKSB7XG4gICAgdmFyIHRpdGxlID0gKHR5cGVvZiBzcGVjLnRpdGxlID09PSBcImZ1bmN0aW9uXCIgPyBzcGVjLnRpdGxlKHZpZXcuc3RhdGUpIDogc3BlYy50aXRsZSk7XG4gICAgZG9tLnNldEF0dHJpYnV0ZShcInRpdGxlXCIsIHRyYW5zbGF0ZSh2aWV3LCB0aXRsZSkpO1xuICB9XG4gIGlmIChzcGVjLmNsYXNzKSB7IGRvbS5jbGFzc0xpc3QuYWRkKHNwZWMuY2xhc3MpOyB9XG4gIGlmIChzcGVjLmNzcykgeyBkb20uc3R5bGUuY3NzVGV4dCArPSBzcGVjLmNzczsgfVxuXG4gIGRvbS5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHNwZWMucnVuKHZpZXcuc3RhdGUsIHZpZXcuZGlzcGF0Y2gsIHZpZXcsIGUpO1xuICB9KTtcblxuICBmdW5jdGlvbiB1cGRhdGUoc3RhdGUpIHtcbiAgICBpZiAoc3BlYy5zZWxlY3QpIHtcbiAgICAgIHZhciBzZWxlY3RlZCA9IHNwZWMuc2VsZWN0KHN0YXRlKTtcbiAgICAgIGRvbS5zdHlsZS5kaXNwbGF5ID0gc2VsZWN0ZWQgPyBcIlwiIDogXCJub25lXCI7XG4gICAgICBpZiAoIXNlbGVjdGVkKSB7IHJldHVybiBmYWxzZSB9XG4gICAgfVxuICAgIHZhciBlbmFibGVkID0gdHJ1ZTtcbiAgICBpZiAoc3BlYy5lbmFibGUpIHtcbiAgICAgIGVuYWJsZWQgPSBzcGVjLmVuYWJsZShzdGF0ZSkgfHwgZmFsc2U7XG4gICAgICBzZXRDbGFzcyhkb20sIHByZWZpeCArIFwiLWRpc2FibGVkXCIsICFlbmFibGVkKTtcbiAgICB9XG4gICAgaWYgKHNwZWMuYWN0aXZlKSB7XG4gICAgICB2YXIgYWN0aXZlID0gZW5hYmxlZCAmJiBzcGVjLmFjdGl2ZShzdGF0ZSkgfHwgZmFsc2U7XG4gICAgICBzZXRDbGFzcyhkb20sIHByZWZpeCArIFwiLWFjdGl2ZVwiLCBhY3RpdmUpO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgcmV0dXJuIHtkb206IGRvbSwgdXBkYXRlOiB1cGRhdGV9XG59O1xuXG5mdW5jdGlvbiB0cmFuc2xhdGUodmlldywgdGV4dCkge1xuICByZXR1cm4gdmlldy5fcHJvcHMudHJhbnNsYXRlID8gdmlldy5fcHJvcHMudHJhbnNsYXRlKHRleHQpIDogdGV4dFxufVxuXG4vLyBNZW51SXRlbVNwZWM6OiBpbnRlcmZhY2Vcbi8vIFRoZSBjb25maWd1cmF0aW9uIG9iamVjdCBwYXNzZWQgdG8gdGhlIGBNZW51SXRlbWAgY29uc3RydWN0b3IuXG4vL1xuLy8gICBydW46OiAoRWRpdG9yU3RhdGUsIChUcmFuc2FjdGlvbiksIEVkaXRvclZpZXcsIGRvbS5FdmVudClcbi8vICAgVGhlIGZ1bmN0aW9uIHRvIGV4ZWN1dGUgd2hlbiB0aGUgbWVudSBpdGVtIGlzIGFjdGl2YXRlZC5cbi8vXG4vLyAgIHNlbGVjdDo6ID8oRWRpdG9yU3RhdGUpIOKGkiBib29sXG4vLyAgIE9wdGlvbmFsIGZ1bmN0aW9uIHRoYXQgaXMgdXNlZCB0byBkZXRlcm1pbmUgd2hldGhlciB0aGUgaXRlbSBpc1xuLy8gICBhcHByb3ByaWF0ZSBhdCB0aGUgbW9tZW50LiBEZXNlbGVjdGVkIGl0ZW1zIHdpbGwgYmUgaGlkZGVuLlxuLy9cbi8vICAgZW5hYmxlOjogPyhFZGl0b3JTdGF0ZSkg4oaSIGJvb2xcbi8vICAgRnVuY3Rpb24gdGhhdCBpcyB1c2VkIHRvIGRldGVybWluZSBpZiB0aGUgaXRlbSBpcyBlbmFibGVkLiBJZlxuLy8gICBnaXZlbiBhbmQgcmV0dXJuaW5nIGZhbHNlLCB0aGUgaXRlbSB3aWxsIGJlIGdpdmVuIGEgZGlzYWJsZWRcbi8vICAgc3R5bGluZy5cbi8vXG4vLyAgIGFjdGl2ZTo6ID8oRWRpdG9yU3RhdGUpIOKGkiBib29sXG4vLyAgIEEgcHJlZGljYXRlIGZ1bmN0aW9uIHRvIGRldGVybWluZSB3aGV0aGVyIHRoZSBpdGVtIGlzICdhY3RpdmUnIChmb3Jcbi8vICAgZXhhbXBsZSwgdGhlIGl0ZW0gZm9yIHRvZ2dsaW5nIHRoZSBzdHJvbmcgbWFyayBtaWdodCBiZSBhY3RpdmUgdGhlblxuLy8gICB0aGUgY3Vyc29yIGlzIGluIHN0cm9uZyB0ZXh0KS5cbi8vXG4vLyAgIHJlbmRlcjo6ID8oRWRpdG9yVmlldykg4oaSIGRvbS5Ob2RlXG4vLyAgIEEgZnVuY3Rpb24gdGhhdCByZW5kZXJzIHRoZSBpdGVtLiBZb3UgbXVzdCBwcm92aWRlIGVpdGhlciB0aGlzLFxuLy8gICBbYGljb25gXSgjbWVudS5NZW51SXRlbVNwZWMuaWNvbiksIG9yIFtgbGFiZWxgXSgjTWVudUl0ZW1TcGVjLmxhYmVsKS5cbi8vXG4vLyAgIGljb246OiA/T2JqZWN0XG4vLyAgIERlc2NyaWJlcyBhbiBpY29uIHRvIHNob3cgZm9yIHRoaXMgaXRlbS4gVGhlIG9iamVjdCBtYXkgc3BlY2lmeVxuLy8gICBhbiBTVkcgaWNvbiwgaW4gd2hpY2ggY2FzZSBpdHMgYHBhdGhgIHByb3BlcnR5IHNob3VsZCBiZSBhbiBbU1ZHXG4vLyAgIHBhdGhcbi8vICAgc3BlY10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvU1ZHL0F0dHJpYnV0ZS9kKSxcbi8vICAgYW5kIGB3aWR0aGAgYW5kIGBoZWlnaHRgIHNob3VsZCBwcm92aWRlIHRoZSB2aWV3Ym94IGluIHdoaWNoIHRoYXRcbi8vICAgcGF0aCBleGlzdHMuIEFsdGVybmF0aXZlbHksIGl0IG1heSBoYXZlIGEgYHRleHRgIHByb3BlcnR5XG4vLyAgIHNwZWNpZnlpbmcgYSBzdHJpbmcgb2YgdGV4dCB0aGF0IG1ha2VzIHVwIHRoZSBpY29uLCB3aXRoIGFuXG4vLyAgIG9wdGlvbmFsIGBjc3NgIHByb3BlcnR5IGdpdmluZyBhZGRpdGlvbmFsIENTUyBzdHlsaW5nIGZvciB0aGVcbi8vICAgdGV4dC4gX09yXyBpdCBtYXkgY29udGFpbiBgZG9tYCBwcm9wZXJ0eSBjb250YWluaW5nIGEgRE9NIG5vZGUuXG4vL1xuLy8gICBsYWJlbDo6ID9zdHJpbmdcbi8vICAgTWFrZXMgdGhlIGl0ZW0gc2hvdyB1cCBhcyBhIHRleHQgbGFiZWwuIE1vc3RseSB1c2VmdWwgZm9yIGl0ZW1zXG4vLyAgIHdyYXBwZWQgaW4gYSBbZHJvcC1kb3duXSgjbWVudS5Ecm9wZG93bikgb3Igc2ltaWxhciBtZW51LiBUaGUgb2JqZWN0XG4vLyAgIHNob3VsZCBoYXZlIGEgYGxhYmVsYCBwcm9wZXJ0eSBwcm92aWRpbmcgdGhlIHRleHQgdG8gZGlzcGxheS5cbi8vXG4vLyAgIHRpdGxlOjogP3VuaW9uPHN0cmluZywgKEVkaXRvclN0YXRlKSDihpIgc3RyaW5nPlxuLy8gICBEZWZpbmVzIERPTSB0aXRsZSAobW91c2VvdmVyKSB0ZXh0IGZvciB0aGUgaXRlbS5cbi8vXG4vLyAgIGNsYXNzOjogP3N0cmluZ1xuLy8gICBPcHRpb25hbGx5IGFkZHMgYSBDU1MgY2xhc3MgdG8gdGhlIGl0ZW0ncyBET00gcmVwcmVzZW50YXRpb24uXG4vL1xuLy8gICBjc3M6OiA/c3RyaW5nXG4vLyAgIE9wdGlvbmFsbHkgYWRkcyBhIHN0cmluZyBvZiBpbmxpbmUgQ1NTIHRvIHRoZSBpdGVtJ3MgRE9NXG4vLyAgIHJlcHJlc2VudGF0aW9uLlxuLy9cbi8vICAgZXhlY0V2ZW50OjogP3N0cmluZ1xuLy8gICBEZWZpbmVzIHdoaWNoIGV2ZW50IG9uIHRoZSBjb21tYW5kJ3MgRE9NIHJlcHJlc2VudGF0aW9uIHNob3VsZFxuLy8gICB0cmlnZ2VyIHRoZSBleGVjdXRpb24gb2YgdGhlIGNvbW1hbmQuIERlZmF1bHRzIHRvIG1vdXNlZG93bi5cblxudmFyIGxhc3RNZW51RXZlbnQgPSB7dGltZTogMCwgbm9kZTogbnVsbH07XG5mdW5jdGlvbiBtYXJrTWVudUV2ZW50KGUpIHtcbiAgbGFzdE1lbnVFdmVudC50aW1lID0gRGF0ZS5ub3coKTtcbiAgbGFzdE1lbnVFdmVudC5ub2RlID0gZS50YXJnZXQ7XG59XG5mdW5jdGlvbiBpc01lbnVFdmVudCh3cmFwcGVyKSB7XG4gIHJldHVybiBEYXRlLm5vdygpIC0gMTAwIDwgbGFzdE1lbnVFdmVudC50aW1lICYmXG4gICAgbGFzdE1lbnVFdmVudC5ub2RlICYmIHdyYXBwZXIuY29udGFpbnMobGFzdE1lbnVFdmVudC5ub2RlKVxufVxuXG4vLyA6Oi0gQSBkcm9wLWRvd24gbWVudSwgZGlzcGxheWVkIGFzIGEgbGFiZWwgd2l0aCBhIGRvd253YXJkcy1wb2ludGluZ1xuLy8gdHJpYW5nbGUgdG8gdGhlIHJpZ2h0IG9mIGl0LlxudmFyIERyb3Bkb3duID0gZnVuY3Rpb24gRHJvcGRvd24oY29udGVudCwgb3B0aW9ucykge1xuICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB0aGlzLmNvbnRlbnQgPSBBcnJheS5pc0FycmF5KGNvbnRlbnQpID8gY29udGVudCA6IFtjb250ZW50XTtcbn07XG5cbi8vIDo6IChFZGl0b3JWaWV3KSDihpIge2RvbTogZG9tLk5vZGUsIHVwZGF0ZTogKEVkaXRvclN0YXRlKX1cbi8vIFJlbmRlciB0aGUgZHJvcGRvd24gbWVudSBhbmQgc3ViLWl0ZW1zLlxuRHJvcGRvd24ucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlciAodmlldykge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gIHZhciBjb250ZW50ID0gcmVuZGVyRHJvcGRvd25JdGVtcyh0aGlzLmNvbnRlbnQsIHZpZXcpO1xuXG4gIHZhciBsYWJlbCA9IGNyZWwoXCJkaXZcIiwge2NsYXNzOiBwcmVmaXggKyBcIi1kcm9wZG93biBcIiArICh0aGlzLm9wdGlvbnMuY2xhc3MgfHwgXCJcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogdGhpcy5vcHRpb25zLmNzc30sXG4gICAgICAgICAgICAgICAgICAgdHJhbnNsYXRlKHZpZXcsIHRoaXMub3B0aW9ucy5sYWJlbCkpO1xuICBpZiAodGhpcy5vcHRpb25zLnRpdGxlKSB7IGxhYmVsLnNldEF0dHJpYnV0ZShcInRpdGxlXCIsIHRyYW5zbGF0ZSh2aWV3LCB0aGlzLm9wdGlvbnMudGl0bGUpKTsgfVxuICB2YXIgd3JhcCA9IGNyZWwoXCJkaXZcIiwge2NsYXNzOiBwcmVmaXggKyBcIi1kcm9wZG93bi13cmFwXCJ9LCBsYWJlbCk7XG4gIHZhciBvcGVuID0gbnVsbCwgbGlzdGVuaW5nT25DbG9zZSA9IG51bGw7XG4gIHZhciBjbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAob3BlbiAmJiBvcGVuLmNsb3NlKCkpIHtcbiAgICAgIG9wZW4gPSBudWxsO1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgbGlzdGVuaW5nT25DbG9zZSk7XG4gICAgfVxuICB9O1xuICBsYWJlbC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIG1hcmtNZW51RXZlbnQoZSk7XG4gICAgaWYgKG9wZW4pIHtcbiAgICAgIGNsb3NlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9wZW4gPSB0aGlzJDEuZXhwYW5kKHdyYXAsIGNvbnRlbnQuZG9tKTtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIGxpc3RlbmluZ09uQ2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghaXNNZW51RXZlbnQod3JhcCkpIHsgY2xvc2UoKTsgfVxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcblxuICBmdW5jdGlvbiB1cGRhdGUoc3RhdGUpIHtcbiAgICB2YXIgaW5uZXIgPSBjb250ZW50LnVwZGF0ZShzdGF0ZSk7XG4gICAgd3JhcC5zdHlsZS5kaXNwbGF5ID0gaW5uZXIgPyBcIlwiIDogXCJub25lXCI7XG4gICAgcmV0dXJuIGlubmVyXG4gIH1cblxuICByZXR1cm4ge2RvbTogd3JhcCwgdXBkYXRlOiB1cGRhdGV9XG59O1xuXG5Ecm9wZG93bi5wcm90b3R5cGUuZXhwYW5kID0gZnVuY3Rpb24gZXhwYW5kIChkb20sIGl0ZW1zKSB7XG4gIHZhciBtZW51RE9NID0gY3JlbChcImRpdlwiLCB7Y2xhc3M6IHByZWZpeCArIFwiLWRyb3Bkb3duLW1lbnUgXCIgKyAodGhpcy5vcHRpb25zLmNsYXNzIHx8IFwiXCIpfSwgaXRlbXMpO1xuXG4gIHZhciBkb25lID0gZmFsc2U7XG4gIGZ1bmN0aW9uIGNsb3NlKCkge1xuICAgIGlmIChkb25lKSB7IHJldHVybiB9XG4gICAgZG9uZSA9IHRydWU7XG4gICAgZG9tLnJlbW92ZUNoaWxkKG1lbnVET00pO1xuICAgIHJldHVybiB0cnVlXG4gIH1cbiAgZG9tLmFwcGVuZENoaWxkKG1lbnVET00pO1xuICByZXR1cm4ge2Nsb3NlOiBjbG9zZSwgbm9kZTogbWVudURPTX1cbn07XG5cbmZ1bmN0aW9uIHJlbmRlckRyb3Bkb3duSXRlbXMoaXRlbXMsIHZpZXcpIHtcbiAgdmFyIHJlbmRlcmVkID0gW10sIHVwZGF0ZXMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciByZWYgPSBpdGVtc1tpXS5yZW5kZXIodmlldyk7XG4gICAgdmFyIGRvbSA9IHJlZi5kb207XG4gICAgdmFyIHVwZGF0ZSA9IHJlZi51cGRhdGU7XG4gICAgcmVuZGVyZWQucHVzaChjcmVsKFwiZGl2XCIsIHtjbGFzczogcHJlZml4ICsgXCItZHJvcGRvd24taXRlbVwifSwgZG9tKSk7XG4gICAgdXBkYXRlcy5wdXNoKHVwZGF0ZSk7XG4gIH1cbiAgcmV0dXJuIHtkb206IHJlbmRlcmVkLCB1cGRhdGU6IGNvbWJpbmVVcGRhdGVzKHVwZGF0ZXMsIHJlbmRlcmVkKX1cbn1cblxuZnVuY3Rpb24gY29tYmluZVVwZGF0ZXModXBkYXRlcywgbm9kZXMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgIHZhciBzb21ldGhpbmcgPSBmYWxzZTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHVwZGF0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciB1cCA9IHVwZGF0ZXNbaV0oc3RhdGUpO1xuICAgICAgbm9kZXNbaV0uc3R5bGUuZGlzcGxheSA9IHVwID8gXCJcIiA6IFwibm9uZVwiO1xuICAgICAgaWYgKHVwKSB7IHNvbWV0aGluZyA9IHRydWU7IH1cbiAgICB9XG4gICAgcmV0dXJuIHNvbWV0aGluZ1xuICB9XG59XG5cbi8vIDo6LSBSZXByZXNlbnRzIGEgc3VibWVudSB3cmFwcGluZyBhIGdyb3VwIG9mIGVsZW1lbnRzIHRoYXQgc3RhcnRcbi8vIGhpZGRlbiBhbmQgZXhwYW5kIHRvIHRoZSByaWdodCB3aGVuIGhvdmVyZWQgb3ZlciBvciB0YXBwZWQuXG52YXIgRHJvcGRvd25TdWJtZW51ID0gZnVuY3Rpb24gRHJvcGRvd25TdWJtZW51KGNvbnRlbnQsIG9wdGlvbnMpIHtcbiAgdGhpcy5vcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgdGhpcy5jb250ZW50ID0gQXJyYXkuaXNBcnJheShjb250ZW50KSA/IGNvbnRlbnQgOiBbY29udGVudF07XG59O1xuXG4vLyA6OiAoRWRpdG9yVmlldykg4oaSIHtkb206IGRvbS5Ob2RlLCB1cGRhdGU6IChFZGl0b3JTdGF0ZSkg4oaSIGJvb2x9XG4vLyBSZW5kZXJzIHRoZSBzdWJtZW51LlxuRHJvcGRvd25TdWJtZW51LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIgKHZpZXcpIHtcbiAgdmFyIGl0ZW1zID0gcmVuZGVyRHJvcGRvd25JdGVtcyh0aGlzLmNvbnRlbnQsIHZpZXcpO1xuXG4gIHZhciBsYWJlbCA9IGNyZWwoXCJkaXZcIiwge2NsYXNzOiBwcmVmaXggKyBcIi1zdWJtZW51LWxhYmVsXCJ9LCB0cmFuc2xhdGUodmlldywgdGhpcy5vcHRpb25zLmxhYmVsKSk7XG4gIHZhciB3cmFwID0gY3JlbChcImRpdlwiLCB7Y2xhc3M6IHByZWZpeCArIFwiLXN1Ym1lbnUtd3JhcFwifSwgbGFiZWwsXG4gICAgICAgICAgICAgICAgIGNyZWwoXCJkaXZcIiwge2NsYXNzOiBwcmVmaXggKyBcIi1zdWJtZW51XCJ9LCBpdGVtcy5kb20pKTtcbiAgdmFyIGxpc3RlbmluZ09uQ2xvc2UgPSBudWxsO1xuICBsYWJlbC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIG1hcmtNZW51RXZlbnQoZSk7XG4gICAgc2V0Q2xhc3Mod3JhcCwgcHJlZml4ICsgXCItc3VibWVudS13cmFwLWFjdGl2ZVwiKTtcbiAgICBpZiAoIWxpc3RlbmluZ09uQ2xvc2UpXG4gICAgICB7IHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIGxpc3RlbmluZ09uQ2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghaXNNZW51RXZlbnQod3JhcCkpIHtcbiAgICAgICAgICB3cmFwLmNsYXNzTGlzdC5yZW1vdmUocHJlZml4ICsgXCItc3VibWVudS13cmFwLWFjdGl2ZVwiKTtcbiAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBsaXN0ZW5pbmdPbkNsb3NlKTtcbiAgICAgICAgICBsaXN0ZW5pbmdPbkNsb3NlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfSk7IH1cbiAgfSk7XG5cbiAgZnVuY3Rpb24gdXBkYXRlKHN0YXRlKSB7XG4gICAgdmFyIGlubmVyID0gaXRlbXMudXBkYXRlKHN0YXRlKTtcbiAgICB3cmFwLnN0eWxlLmRpc3BsYXkgPSBpbm5lciA/IFwiXCIgOiBcIm5vbmVcIjtcbiAgICByZXR1cm4gaW5uZXJcbiAgfVxuICByZXR1cm4ge2RvbTogd3JhcCwgdXBkYXRlOiB1cGRhdGV9XG59O1xuXG4vLyA6OiAoRWRpdG9yVmlldywgW3VuaW9uPE1lbnVFbGVtZW50LCBbTWVudUVsZW1lbnRdPl0pIOKGkiB7ZG9tOiA/ZG9tLkRvY3VtZW50RnJhZ21lbnQsIHVwZGF0ZTogKEVkaXRvclN0YXRlKSDihpIgYm9vbH1cbi8vIFJlbmRlciB0aGUgZ2l2ZW4sIHBvc3NpYmx5IG5lc3RlZCwgYXJyYXkgb2YgbWVudSBlbGVtZW50cyBpbnRvIGFcbi8vIGRvY3VtZW50IGZyYWdtZW50LCBwbGFjaW5nIHNlcGFyYXRvcnMgYmV0d2VlbiB0aGVtIChhbmQgZW5zdXJpbmcgbm9cbi8vIHN1cGVyZmx1b3VzIHNlcGFyYXRvcnMgYXBwZWFyIHdoZW4gc29tZSBvZiB0aGUgZ3JvdXBzIHR1cm4gb3V0IHRvXG4vLyBiZSBlbXB0eSkuXG5mdW5jdGlvbiByZW5kZXJHcm91cGVkKHZpZXcsIGNvbnRlbnQpIHtcbiAgdmFyIHJlc3VsdCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcbiAgdmFyIHVwZGF0ZXMgPSBbXSwgc2VwYXJhdG9ycyA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbnRlbnQubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbXMgPSBjb250ZW50W2ldLCBsb2NhbFVwZGF0ZXMgPSBbXSwgbG9jYWxOb2RlcyA9IFtdO1xuICAgIGZvciAodmFyIGogPSAwOyBqIDwgaXRlbXMubGVuZ3RoOyBqKyspIHtcbiAgICAgIHZhciByZWYgPSBpdGVtc1tqXS5yZW5kZXIodmlldyk7XG4gICAgICB2YXIgZG9tID0gcmVmLmRvbTtcbiAgICAgIHZhciB1cGRhdGUkMSA9IHJlZi51cGRhdGU7XG4gICAgICB2YXIgc3BhbiA9IGNyZWwoXCJzcGFuXCIsIHtjbGFzczogcHJlZml4ICsgXCJpdGVtXCJ9LCBkb20pO1xuICAgICAgcmVzdWx0LmFwcGVuZENoaWxkKHNwYW4pO1xuICAgICAgbG9jYWxOb2Rlcy5wdXNoKHNwYW4pO1xuICAgICAgbG9jYWxVcGRhdGVzLnB1c2godXBkYXRlJDEpO1xuICAgIH1cbiAgICBpZiAobG9jYWxVcGRhdGVzLmxlbmd0aCkge1xuICAgICAgdXBkYXRlcy5wdXNoKGNvbWJpbmVVcGRhdGVzKGxvY2FsVXBkYXRlcywgbG9jYWxOb2RlcykpO1xuICAgICAgaWYgKGkgPCBjb250ZW50Lmxlbmd0aCAtIDEpXG4gICAgICAgIHsgc2VwYXJhdG9ycy5wdXNoKHJlc3VsdC5hcHBlbmRDaGlsZChzZXBhcmF0b3IoKSkpOyB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlKHN0YXRlKSB7XG4gICAgdmFyIHNvbWV0aGluZyA9IGZhbHNlLCBuZWVkU2VwID0gZmFsc2U7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB1cGRhdGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaGFzQ29udGVudCA9IHVwZGF0ZXNbaV0oc3RhdGUpO1xuICAgICAgaWYgKGkpIHsgc2VwYXJhdG9yc1tpIC0gMV0uc3R5bGUuZGlzcGxheSA9IG5lZWRTZXAgJiYgaGFzQ29udGVudCA/IFwiXCIgOiBcIm5vbmVcIjsgfVxuICAgICAgbmVlZFNlcCA9IGhhc0NvbnRlbnQ7XG4gICAgICBpZiAoaGFzQ29udGVudCkgeyBzb21ldGhpbmcgPSB0cnVlOyB9XG4gICAgfVxuICAgIHJldHVybiBzb21ldGhpbmdcbiAgfVxuICByZXR1cm4ge2RvbTogcmVzdWx0LCB1cGRhdGU6IHVwZGF0ZX1cbn1cblxuZnVuY3Rpb24gc2VwYXJhdG9yKCkge1xuICByZXR1cm4gY3JlbChcInNwYW5cIiwge2NsYXNzOiBwcmVmaXggKyBcInNlcGFyYXRvclwifSlcbn1cblxuLy8gOjogT2JqZWN0XG4vLyBBIHNldCBvZiBiYXNpYyBlZGl0b3ItcmVsYXRlZCBpY29ucy4gQ29udGFpbnMgdGhlIHByb3BlcnRpZXNcbi8vIGBqb2luYCwgYGxpZnRgLCBgc2VsZWN0UGFyZW50Tm9kZWAsIGB1bmRvYCwgYHJlZG9gLCBgc3Ryb25nYCwgYGVtYCxcbi8vIGBjb2RlYCwgYGxpbmtgLCBgYnVsbGV0TGlzdGAsIGBvcmRlcmVkTGlzdGAsIGFuZCBgYmxvY2txdW90ZWAsIGVhY2hcbi8vIGhvbGRpbmcgYW4gb2JqZWN0IHRoYXQgY2FuIGJlIHVzZWQgYXMgdGhlIGBpY29uYCBvcHRpb24gdG9cbi8vIGBNZW51SXRlbWAuXG52YXIgaWNvbnMgPSB7XG4gIGpvaW46IHtcbiAgICB3aWR0aDogODAwLCBoZWlnaHQ6IDkwMCxcbiAgICBwYXRoOiBcIk0wIDc1aDgwMHYxMjVoLTgwMHogTTAgODI1aDgwMHYtMTI1aC04MDB6IE0yNTAgNDAwaDEwMHYtMTAwaDEwMHYxMDBoMTAwdjEwMGgtMTAwdjEwMGgtMTAwdi0xMDBoLTEwMHpcIlxuICB9LFxuICBsaWZ0OiB7XG4gICAgd2lkdGg6IDEwMjQsIGhlaWdodDogMTAyNCxcbiAgICBwYXRoOiBcIk0yMTkgMzEwdjMyOXEwIDctNSAxMnQtMTIgNXEtOCAwLTEzLTVsLTE2NC0xNjRxLTUtNS01LTEzdDUtMTNsMTY0LTE2NHE1LTUgMTMtNSA3IDAgMTIgNXQ1IDEyek0xMDI0IDc0OXYxMDlxMCA3LTUgMTJ0LTEyIDVoLTk4N3EtNyAwLTEyLTV0LTUtMTJ2LTEwOXEwLTcgNS0xMnQxMi01aDk4N3E3IDAgMTIgNXQ1IDEyek0xMDI0IDUzMHYxMDlxMCA3LTUgMTJ0LTEyIDVoLTYyMXEtNyAwLTEyLTV0LTUtMTJ2LTEwOXEwLTcgNS0xMnQxMi01aDYyMXE3IDAgMTIgNXQ1IDEyek0xMDI0IDMxMHYxMDlxMCA3LTUgMTJ0LTEyIDVoLTYyMXEtNyAwLTEyLTV0LTUtMTJ2LTEwOXEwLTcgNS0xMnQxMi01aDYyMXE3IDAgMTIgNXQ1IDEyek0xMDI0IDkxdjEwOXEwIDctNSAxMnQtMTIgNWgtOTg3cS03IDAtMTItNXQtNS0xMnYtMTA5cTAtNyA1LTEydDEyLTVoOTg3cTcgMCAxMiA1dDUgMTJ6XCJcbiAgfSxcbiAgc2VsZWN0UGFyZW50Tm9kZToge3RleHQ6IFwiXFx1MmIxYVwiLCBjc3M6IFwiZm9udC13ZWlnaHQ6IGJvbGRcIn0sXG4gIHVuZG86IHtcbiAgICB3aWR0aDogMTAyNCwgaGVpZ2h0OiAxMDI0LFxuICAgIHBhdGg6IFwiTTc2MSAxMDI0YzExMy0yMDYgMTMyLTUyMC0zMTMtNTA5djI1M2wtMzg0LTM4NCAzODQtMzg0djI0OGM1MzQtMTMgNTk0IDQ3MiAzMTMgNzc1elwiXG4gIH0sXG4gIHJlZG86IHtcbiAgICB3aWR0aDogMTAyNCwgaGVpZ2h0OiAxMDI0LFxuICAgIHBhdGg6IFwiTTU3NiAyNDh2LTI0OGwzODQgMzg0LTM4NCAzODR2LTI1M2MtNDQ2LTEwLTQyNyAzMDMtMzEzIDUwOS0yODAtMzAzLTIyMS03ODkgMzEzLTc3NXpcIlxuICB9LFxuICBzdHJvbmc6IHtcbiAgICB3aWR0aDogODA1LCBoZWlnaHQ6IDEwMjQsXG4gICAgcGF0aDogXCJNMzE3IDg2OXE0MiAxOCA4MCAxOCAyMTQgMCAyMTQtMTkxIDAtNjUtMjMtMTAyLTE1LTI1LTM1LTQydC0zOC0yNi00Ni0xNC00OC02LTU0LTFxLTQxIDAtNTcgNSAwIDMwLTAgOTB0LTAgOTBxMCA0LTAgMzh0LTAgNTUgMiA0NyA2IDM4ek0zMDkgNDQycTI0IDQgNjIgNCA0NiAwIDgxLTd0NjItMjUgNDItNTEgMTQtODFxMC00MC0xNi03MHQtNDUtNDYtNjEtMjQtNzAtOHEtMjggMC03NCA3IDAgMjggMiA4NnQyIDg2cTAgMTUtMCA0NXQtMCA0NXEwIDI2IDAgMzl6TTAgOTUwbDEtNTNxOC0yIDQ4LTl0NjAtMTVxNC02IDctMTV0NC0xOSAzLTE4IDEtMjEgMC0xOXYtMzdxMC01NjEtMTItNTg1LTItNC0xMi04dC0yNS02LTI4LTQtMjctMi0xNy0xbC0yLTQ3cTU2LTEgMTk0LTZ0MjEzLTVxMTMgMCAzOSAwdDM4IDBxNDAgMCA3OCA3dDczIDI0IDYxIDQwIDQyIDU5IDE2IDc4cTAgMjktOSA1NHQtMjIgNDEtMzYgMzItNDEgMjUtNDggMjJxODggMjAgMTQ2IDc2dDU4IDE0MXEwIDU3LTIwIDEwMnQtNTMgNzQtNzggNDgtOTMgMjctMTAwIDhxLTI1IDAtNzUtMXQtNzUtMXEtNjAgMC0xNzUgNnQtMTMyIDZ6XCJcbiAgfSxcbiAgZW06IHtcbiAgICB3aWR0aDogNTg1LCBoZWlnaHQ6IDEwMjQsXG4gICAgcGF0aDogXCJNMCA5NDlsOS00OHEzLTEgNDYtMTJ0NjMtMjFxMTYtMjAgMjMtNTcgMC00IDM1LTE2NXQ2NS0zMTAgMjktMTY5di0xNHEtMTMtNy0zMS0xMHQtMzktNC0zMy0zbDEwLTU4cTE4IDEgNjggM3Q4NSA0IDY4IDFxMjcgMCA1Ni0xdDY5LTQgNTYtM3EtMiAyMi0xMCA1MC0xNyA1LTU4IDE2dC02MiAxOXEtNCAxMC04IDI0dC01IDIyLTQgMjYtMyAyNHEtMTUgODQtNTAgMjM5dC00NCAyMDNxLTEgNS03IDMzdC0xMSA1MS05IDQ3LTMgMzJsMCAxMHE5IDIgMTA1IDE3LTEgMjUtOSA1Ni02IDAtMTggMHQtMTggMHEtMTYgMC00OS01dC00OS01cS03OC0xLTExNy0xLTI5IDAtODEgNXQtNjkgNnpcIlxuICB9LFxuICBjb2RlOiB7XG4gICAgd2lkdGg6IDg5NiwgaGVpZ2h0OiAxMDI0LFxuICAgIHBhdGg6IFwiTTYwOCAxOTJsLTk2IDk2IDIyNCAyMjQtMjI0IDIyNCA5NiA5NiAyODgtMzIwLTI4OC0zMjB6TTI4OCAxOTJsLTI4OCAzMjAgMjg4IDMyMCA5Ni05Ni0yMjQtMjI0IDIyNC0yMjQtOTYtOTZ6XCJcbiAgfSxcbiAgbGluazoge1xuICAgIHdpZHRoOiA5NTEsIGhlaWdodDogMTAyNCxcbiAgICBwYXRoOiBcIk04MzIgNjk0cTAtMjItMTYtMzhsLTExOC0xMThxLTE2LTE2LTM4LTE2LTI0IDAtNDEgMTggMSAxIDEwIDEwdDEyIDEyIDggMTAgNyAxNCAyIDE1cTAgMjItMTYgMzh0LTM4IDE2cS04IDAtMTUtMnQtMTQtNy0xMC04LTEyLTEyLTEwLTEwcS0xOCAxNy0xOCA0MSAwIDIyIDE2IDM4bDExNyAxMThxMTUgMTUgMzggMTUgMjIgMCAzOC0xNGw4NC04M3ExNi0xNiAxNi0zOHpNNDMwIDI5MnEwLTIyLTE2LTM4bC0xMTctMTE4cS0xNi0xNi0zOC0xNi0yMiAwLTM4IDE1bC04NCA4M3EtMTYgMTYtMTYgMzggMCAyMiAxNiAzOGwxMTggMTE4cTE1IDE1IDM4IDE1IDI0IDAgNDEtMTctMS0xLTEwLTEwdC0xMi0xMi04LTEwLTctMTQtMi0xNXEwLTIyIDE2LTM4dDM4LTE2cTggMCAxNSAydDE0IDcgMTAgOCAxMiAxMiAxMCAxMHExOC0xNyAxOC00MXpNOTQxIDY5NHEwIDY4LTQ4IDExNmwtODQgODNxLTQ3IDQ3LTExNiA0Ny02OSAwLTExNi00OGwtMTE3LTExOHEtNDctNDctNDctMTE2IDAtNzAgNTAtMTE5bC01MC01MHEtNDkgNTAtMTE4IDUwLTY4IDAtMTE2LTQ4bC0xMTgtMTE4cS00OC00OC00OC0xMTZ0NDgtMTE2bDg0LTgzcTQ3LTQ3IDExNi00NyA2OSAwIDExNiA0OGwxMTcgMTE4cTQ3IDQ3IDQ3IDExNiAwIDcwLTUwIDExOWw1MCA1MHE0OS01MCAxMTgtNTAgNjggMCAxMTYgNDhsMTE4IDExOHE0OCA0OCA0OCAxMTZ6XCJcbiAgfSxcbiAgYnVsbGV0TGlzdDoge1xuICAgIHdpZHRoOiA3NjgsIGhlaWdodDogODk2LFxuICAgIHBhdGg6IFwiTTAgNTEyaDEyOHYtMTI4aC0xMjh2MTI4ek0wIDI1NmgxMjh2LTEyOGgtMTI4djEyOHpNMCA3NjhoMTI4di0xMjhoLTEyOHYxMjh6TTI1NiA1MTJoNTEydi0xMjhoLTUxMnYxMjh6TTI1NiAyNTZoNTEydi0xMjhoLTUxMnYxMjh6TTI1NiA3NjhoNTEydi0xMjhoLTUxMnYxMjh6XCJcbiAgfSxcbiAgb3JkZXJlZExpc3Q6IHtcbiAgICB3aWR0aDogNzY4LCBoZWlnaHQ6IDg5NixcbiAgICBwYXRoOiBcIk0zMjAgNTEyaDQ0OHYtMTI4aC00NDh2MTI4ek0zMjAgNzY4aDQ0OHYtMTI4aC00NDh2MTI4ek0zMjAgMTI4djEyOGg0NDh2LTEyOGgtNDQ4ek03OSAzODRoNzh2LTI1NmgtMzZsLTg1IDIzdjUwbDQzLTJ2MTg1ek0xODkgNTkwYzAtMzYtMTItNzgtOTYtNzgtMzMgMC02NCA2LTgzIDE2bDEgNjZjMjEtMTAgNDItMTUgNjctMTVzMzIgMTEgMzIgMjhjMCAyNi0zMCA1OC0xMTAgMTEydjUwaDE5MnYtNjdsLTkxIDJjNDktMzAgODctNjYgODctMTEzbDEtMXpcIlxuICB9LFxuICBibG9ja3F1b3RlOiB7XG4gICAgd2lkdGg6IDY0MCwgaGVpZ2h0OiA4OTYsXG4gICAgcGF0aDogXCJNMCA0NDh2MjU2aDI1NnYtMjU2aC0xMjhjMCAwIDAtMTI4IDEyOC0xMjh2LTEyOGMwIDAtMjU2IDAtMjU2IDI1NnpNNjQwIDMyMHYtMTI4YzAgMC0yNTYgMC0yNTYgMjU2djI1NmgyNTZ2LTI1NmgtMTI4YzAgMCAwLTEyOCAxMjgtMTI4elwiXG4gIH1cbn07XG5cbi8vIDo6IE1lbnVJdGVtXG4vLyBNZW51IGl0ZW0gZm9yIHRoZSBgam9pblVwYCBjb21tYW5kLlxudmFyIGpvaW5VcEl0ZW0gPSBuZXcgTWVudUl0ZW0oe1xuICB0aXRsZTogXCJKb2luIHdpdGggYWJvdmUgYmxvY2tcIixcbiAgcnVuOiBwcm9zZW1pcnJvckNvbW1hbmRzLmpvaW5VcCxcbiAgc2VsZWN0OiBmdW5jdGlvbiAoc3RhdGUpIHsgcmV0dXJuIHByb3NlbWlycm9yQ29tbWFuZHMuam9pblVwKHN0YXRlKTsgfSxcbiAgaWNvbjogaWNvbnMuam9pblxufSk7XG5cbi8vIDo6IE1lbnVJdGVtXG4vLyBNZW51IGl0ZW0gZm9yIHRoZSBgbGlmdGAgY29tbWFuZC5cbnZhciBsaWZ0SXRlbSA9IG5ldyBNZW51SXRlbSh7XG4gIHRpdGxlOiBcIkxpZnQgb3V0IG9mIGVuY2xvc2luZyBibG9ja1wiLFxuICBydW46IHByb3NlbWlycm9yQ29tbWFuZHMubGlmdCxcbiAgc2VsZWN0OiBmdW5jdGlvbiAoc3RhdGUpIHsgcmV0dXJuIHByb3NlbWlycm9yQ29tbWFuZHMubGlmdChzdGF0ZSk7IH0sXG4gIGljb246IGljb25zLmxpZnRcbn0pO1xuXG4vLyA6OiBNZW51SXRlbVxuLy8gTWVudSBpdGVtIGZvciB0aGUgYHNlbGVjdFBhcmVudE5vZGVgIGNvbW1hbmQuXG52YXIgc2VsZWN0UGFyZW50Tm9kZUl0ZW0gPSBuZXcgTWVudUl0ZW0oe1xuICB0aXRsZTogXCJTZWxlY3QgcGFyZW50IG5vZGVcIixcbiAgcnVuOiBwcm9zZW1pcnJvckNvbW1hbmRzLnNlbGVjdFBhcmVudE5vZGUsXG4gIHNlbGVjdDogZnVuY3Rpb24gKHN0YXRlKSB7IHJldHVybiBwcm9zZW1pcnJvckNvbW1hbmRzLnNlbGVjdFBhcmVudE5vZGUoc3RhdGUpOyB9LFxuICBpY29uOiBpY29ucy5zZWxlY3RQYXJlbnROb2RlXG59KTtcblxuLy8gOjogTWVudUl0ZW1cbi8vIE1lbnUgaXRlbSBmb3IgdGhlIGB1bmRvYCBjb21tYW5kLlxudmFyIHVuZG9JdGVtID0gbmV3IE1lbnVJdGVtKHtcbiAgdGl0bGU6IFwiVW5kbyBsYXN0IGNoYW5nZVwiLFxuICBydW46IHByb3NlbWlycm9ySGlzdG9yeS51bmRvLFxuICBlbmFibGU6IGZ1bmN0aW9uIChzdGF0ZSkgeyByZXR1cm4gcHJvc2VtaXJyb3JIaXN0b3J5LnVuZG8oc3RhdGUpOyB9LFxuICBpY29uOiBpY29ucy51bmRvXG59KTtcblxuLy8gOjogTWVudUl0ZW1cbi8vIE1lbnUgaXRlbSBmb3IgdGhlIGByZWRvYCBjb21tYW5kLlxudmFyIHJlZG9JdGVtID0gbmV3IE1lbnVJdGVtKHtcbiAgdGl0bGU6IFwiUmVkbyBsYXN0IHVuZG9uZSBjaGFuZ2VcIixcbiAgcnVuOiBwcm9zZW1pcnJvckhpc3RvcnkucmVkbyxcbiAgZW5hYmxlOiBmdW5jdGlvbiAoc3RhdGUpIHsgcmV0dXJuIHByb3NlbWlycm9ySGlzdG9yeS5yZWRvKHN0YXRlKTsgfSxcbiAgaWNvbjogaWNvbnMucmVkb1xufSk7XG5cbi8vIDo6IChOb2RlVHlwZSwgT2JqZWN0KSDihpIgTWVudUl0ZW1cbi8vIEJ1aWxkIGEgbWVudSBpdGVtIGZvciB3cmFwcGluZyB0aGUgc2VsZWN0aW9uIGluIGEgZ2l2ZW4gbm9kZSB0eXBlLlxuLy8gQWRkcyBgcnVuYCBhbmQgYHNlbGVjdGAgcHJvcGVydGllcyB0byB0aGUgb25lcyBwcmVzZW50IGluXG4vLyBgb3B0aW9uc2AuIGBvcHRpb25zLmF0dHJzYCBtYXkgYmUgYW4gb2JqZWN0IG9yIGEgZnVuY3Rpb24sIGFzIGluXG4vLyBgdG9nZ2xlTWFya0l0ZW1gLlxuZnVuY3Rpb24gd3JhcEl0ZW0obm9kZVR5cGUsIG9wdGlvbnMpIHtcbiAgdmFyIHBhc3NlZE9wdGlvbnMgPSB7XG4gICAgcnVuOiBmdW5jdGlvbiBydW4oc3RhdGUsIGRpc3BhdGNoKSB7XG4gICAgICAvLyBGSVhNRSBpZiAob3B0aW9ucy5hdHRycyBpbnN0YW5jZW9mIEZ1bmN0aW9uKSBvcHRpb25zLmF0dHJzKHN0YXRlLCBhdHRycyA9PiB3cmFwSW4obm9kZVR5cGUsIGF0dHJzKShzdGF0ZSkpXG4gICAgICByZXR1cm4gcHJvc2VtaXJyb3JDb21tYW5kcy53cmFwSW4obm9kZVR5cGUsIG9wdGlvbnMuYXR0cnMpKHN0YXRlLCBkaXNwYXRjaClcbiAgICB9LFxuICAgIHNlbGVjdDogZnVuY3Rpb24gc2VsZWN0KHN0YXRlKSB7XG4gICAgICByZXR1cm4gcHJvc2VtaXJyb3JDb21tYW5kcy53cmFwSW4obm9kZVR5cGUsIG9wdGlvbnMuYXR0cnMgaW5zdGFuY2VvZiBGdW5jdGlvbiA/IG51bGwgOiBvcHRpb25zLmF0dHJzKShzdGF0ZSlcbiAgICB9XG4gIH07XG4gIGZvciAodmFyIHByb3AgaW4gb3B0aW9ucykgeyBwYXNzZWRPcHRpb25zW3Byb3BdID0gb3B0aW9uc1twcm9wXTsgfVxuICByZXR1cm4gbmV3IE1lbnVJdGVtKHBhc3NlZE9wdGlvbnMpXG59XG5cbi8vIDo6IChOb2RlVHlwZSwgT2JqZWN0KSDihpIgTWVudUl0ZW1cbi8vIEJ1aWxkIGEgbWVudSBpdGVtIGZvciBjaGFuZ2luZyB0aGUgdHlwZSBvZiB0aGUgdGV4dGJsb2NrIGFyb3VuZCB0aGVcbi8vIHNlbGVjdGlvbiB0byB0aGUgZ2l2ZW4gdHlwZS4gUHJvdmlkZXMgYHJ1bmAsIGBhY3RpdmVgLCBhbmQgYHNlbGVjdGBcbi8vIHByb3BlcnRpZXMuIE90aGVycyBtdXN0IGJlIGdpdmVuIGluIGBvcHRpb25zYC4gYG9wdGlvbnMuYXR0cnNgIG1heVxuLy8gYmUgYW4gb2JqZWN0IHRvIHByb3ZpZGUgdGhlIGF0dHJpYnV0ZXMgZm9yIHRoZSB0ZXh0YmxvY2sgbm9kZS5cbmZ1bmN0aW9uIGJsb2NrVHlwZUl0ZW0obm9kZVR5cGUsIG9wdGlvbnMpIHtcbiAgdmFyIGNvbW1hbmQgPSBwcm9zZW1pcnJvckNvbW1hbmRzLnNldEJsb2NrVHlwZShub2RlVHlwZSwgb3B0aW9ucy5hdHRycyk7XG4gIHZhciBwYXNzZWRPcHRpb25zID0ge1xuICAgIHJ1bjogY29tbWFuZCxcbiAgICBlbmFibGU6IGZ1bmN0aW9uIGVuYWJsZShzdGF0ZSkgeyByZXR1cm4gY29tbWFuZChzdGF0ZSkgfSxcbiAgICBhY3RpdmU6IGZ1bmN0aW9uIGFjdGl2ZShzdGF0ZSkge1xuICAgICAgdmFyIHJlZiA9IHN0YXRlLnNlbGVjdGlvbjtcbiAgICAgIHZhciAkZnJvbSA9IHJlZi4kZnJvbTtcbiAgICAgIHZhciB0byA9IHJlZi50bztcbiAgICAgIHZhciBub2RlID0gcmVmLm5vZGU7XG4gICAgICBpZiAobm9kZSkgeyByZXR1cm4gbm9kZS5oYXNNYXJrdXAobm9kZVR5cGUsIG9wdGlvbnMuYXR0cnMpIH1cbiAgICAgIHJldHVybiB0byA8PSAkZnJvbS5lbmQoKSAmJiAkZnJvbS5wYXJlbnQuaGFzTWFya3VwKG5vZGVUeXBlLCBvcHRpb25zLmF0dHJzKVxuICAgIH1cbiAgfTtcbiAgZm9yICh2YXIgcHJvcCBpbiBvcHRpb25zKSB7IHBhc3NlZE9wdGlvbnNbcHJvcF0gPSBvcHRpb25zW3Byb3BdOyB9XG4gIHJldHVybiBuZXcgTWVudUl0ZW0ocGFzc2VkT3B0aW9ucylcbn1cblxuLy8gV29yayBhcm91bmQgY2xhc3NMaXN0LnRvZ2dsZSBiZWluZyBicm9rZW4gaW4gSUUxMVxuZnVuY3Rpb24gc2V0Q2xhc3MoZG9tLCBjbHMsIG9uKSB7XG4gIGlmIChvbikgeyBkb20uY2xhc3NMaXN0LmFkZChjbHMpOyB9XG4gIGVsc2UgeyBkb20uY2xhc3NMaXN0LnJlbW92ZShjbHMpOyB9XG59XG5cbnZhciBwcmVmaXgkMiA9IFwiUHJvc2VNaXJyb3ItbWVudWJhclwiO1xuXG5mdW5jdGlvbiBpc0lPUygpIHtcbiAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IgPT0gXCJ1bmRlZmluZWRcIikgeyByZXR1cm4gZmFsc2UgfVxuICB2YXIgYWdlbnQgPSBuYXZpZ2F0b3IudXNlckFnZW50O1xuICByZXR1cm4gIS9FZGdlXFwvXFxkLy50ZXN0KGFnZW50KSAmJiAvQXBwbGVXZWJLaXQvLnRlc3QoYWdlbnQpICYmIC9Nb2JpbGVcXC9cXHcrLy50ZXN0KGFnZW50KVxufVxuXG4vLyA6OiAoT2JqZWN0KSDihpIgUGx1Z2luXG4vLyBBIHBsdWdpbiB0aGF0IHdpbGwgcGxhY2UgYSBtZW51IGJhciBhYm92ZSB0aGUgZWRpdG9yLiBOb3RlIHRoYXRcbi8vIHRoaXMgaW52b2x2ZXMgd3JhcHBpbmcgdGhlIGVkaXRvciBpbiBhbiBhZGRpdGlvbmFsIGA8ZGl2PmAuXG4vL1xuLy8gICBvcHRpb25zOjotXG4vLyAgIFN1cHBvcnRzIHRoZSBmb2xsb3dpbmcgb3B0aW9uczpcbi8vXG4vLyAgICAgY29udGVudDo6IFtbTWVudUVsZW1lbnRdXVxuLy8gICAgIFByb3ZpZGVzIHRoZSBjb250ZW50IG9mIHRoZSBtZW51LCBhcyBhIG5lc3RlZCBhcnJheSB0byBiZVxuLy8gICAgIHBhc3NlZCB0byBgcmVuZGVyR3JvdXBlZGAuXG4vL1xuLy8gICAgIGZsb2F0aW5nOjogP2Jvb2xcbi8vICAgICBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIG1lbnUgZmxvYXRzLCBpLmUuIHdoZXRoZXIgaXQgc3RpY2tzIHRvXG4vLyAgICAgdGhlIHRvcCBvZiB0aGUgdmlld3BvcnQgd2hlbiB0aGUgZWRpdG9yIGlzIHBhcnRpYWxseSBzY3JvbGxlZFxuLy8gICAgIG91dCBvZiB2aWV3LlxuZnVuY3Rpb24gbWVudUJhcihvcHRpb25zKSB7XG4gIHJldHVybiBuZXcgcHJvc2VtaXJyb3JTdGF0ZS5QbHVnaW4oe1xuICAgIHZpZXc6IGZ1bmN0aW9uIHZpZXcoZWRpdG9yVmlldykgeyByZXR1cm4gbmV3IE1lbnVCYXJWaWV3KGVkaXRvclZpZXcsIG9wdGlvbnMpIH1cbiAgfSlcbn1cblxudmFyIE1lbnVCYXJWaWV3ID0gZnVuY3Rpb24gTWVudUJhclZpZXcoZWRpdG9yVmlldywgb3B0aW9ucykge1xuICB2YXIgdGhpcyQxID0gdGhpcztcblxuICB0aGlzLmVkaXRvclZpZXcgPSBlZGl0b3JWaWV3O1xuICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuXG4gIHRoaXMud3JhcHBlciA9IGNyZWwoXCJkaXZcIiwge2NsYXNzOiBwcmVmaXgkMiArIFwiLXdyYXBwZXJcIn0pO1xuICB0aGlzLm1lbnUgPSB0aGlzLndyYXBwZXIuYXBwZW5kQ2hpbGQoY3JlbChcImRpdlwiLCB7Y2xhc3M6IHByZWZpeCQyfSkpO1xuICB0aGlzLm1lbnUuY2xhc3NOYW1lID0gcHJlZml4JDI7XG4gIHRoaXMuc3BhY2VyID0gbnVsbDtcblxuICBlZGl0b3JWaWV3LmRvbS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZCh0aGlzLndyYXBwZXIsIGVkaXRvclZpZXcuZG9tKTtcbiAgdGhpcy53cmFwcGVyLmFwcGVuZENoaWxkKGVkaXRvclZpZXcuZG9tKTtcblxuICB0aGlzLm1heEhlaWdodCA9IDA7XG4gIHRoaXMud2lkdGhGb3JNYXhIZWlnaHQgPSAwO1xuICB0aGlzLmZsb2F0aW5nID0gZmFsc2U7XG5cbiAgdmFyIHJlZiA9IHJlbmRlckdyb3VwZWQodGhpcy5lZGl0b3JWaWV3LCB0aGlzLm9wdGlvbnMuY29udGVudCk7XG4gIHZhciBkb20gPSByZWYuZG9tO1xuICB2YXIgdXBkYXRlID0gcmVmLnVwZGF0ZTtcbiAgdGhpcy5jb250ZW50VXBkYXRlID0gdXBkYXRlO1xuICB0aGlzLm1lbnUuYXBwZW5kQ2hpbGQoZG9tKTtcbiAgdGhpcy51cGRhdGUoKTtcblxuICBpZiAob3B0aW9ucy5mbG9hdGluZyAmJiAhaXNJT1MoKSkge1xuICAgIHRoaXMudXBkYXRlRmxvYXQoKTtcbiAgICB2YXIgcG90ZW50aWFsU2Nyb2xsZXJzID0gZ2V0QWxsV3JhcHBpbmcodGhpcy53cmFwcGVyKTtcbiAgICB0aGlzLnNjcm9sbEZ1bmMgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIHJvb3QgPSB0aGlzJDEuZWRpdG9yVmlldy5yb290O1xuICAgICAgaWYgKCEocm9vdC5ib2R5IHx8IHJvb3QpLmNvbnRhaW5zKHRoaXMkMS53cmFwcGVyKSkge1xuICAgICAgICAgIHBvdGVudGlhbFNjcm9sbGVycy5mb3JFYWNoKGZ1bmN0aW9uIChlbCkgeyByZXR1cm4gZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCB0aGlzJDEuc2Nyb2xsRnVuYyk7IH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzJDEudXBkYXRlRmxvYXQoZS50YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0ICYmIGUudGFyZ2V0KTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHBvdGVudGlhbFNjcm9sbGVycy5mb3JFYWNoKGZ1bmN0aW9uIChlbCkgeyByZXR1cm4gZWwuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcyQxLnNjcm9sbEZ1bmMpOyB9KTtcbiAgfVxufTtcblxuTWVudUJhclZpZXcucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSAoKSB7XG4gIHRoaXMuY29udGVudFVwZGF0ZSh0aGlzLmVkaXRvclZpZXcuc3RhdGUpO1xuXG4gIGlmICh0aGlzLmZsb2F0aW5nKSB7XG4gICAgdGhpcy51cGRhdGVTY3JvbGxDdXJzb3IoKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAodGhpcy5tZW51Lm9mZnNldFdpZHRoICE9IHRoaXMud2lkdGhGb3JNYXhIZWlnaHQpIHtcbiAgICAgIHRoaXMud2lkdGhGb3JNYXhIZWlnaHQgPSB0aGlzLm1lbnUub2Zmc2V0V2lkdGg7XG4gICAgICB0aGlzLm1heEhlaWdodCA9IDA7XG4gICAgfVxuICAgIGlmICh0aGlzLm1lbnUub2Zmc2V0SGVpZ2h0ID4gdGhpcy5tYXhIZWlnaHQpIHtcbiAgICAgIHRoaXMubWF4SGVpZ2h0ID0gdGhpcy5tZW51Lm9mZnNldEhlaWdodDtcbiAgICAgIHRoaXMubWVudS5zdHlsZS5taW5IZWlnaHQgPSB0aGlzLm1heEhlaWdodCArIFwicHhcIjtcbiAgICB9XG4gIH1cbn07XG5cbk1lbnVCYXJWaWV3LnByb3RvdHlwZS51cGRhdGVTY3JvbGxDdXJzb3IgPSBmdW5jdGlvbiB1cGRhdGVTY3JvbGxDdXJzb3IgKCkge1xuICB2YXIgc2VsZWN0aW9uID0gdGhpcy5lZGl0b3JWaWV3LnJvb3QuZ2V0U2VsZWN0aW9uKCk7XG4gIGlmICghc2VsZWN0aW9uLmZvY3VzTm9kZSkgeyByZXR1cm4gfVxuICB2YXIgcmVjdHMgPSBzZWxlY3Rpb24uZ2V0UmFuZ2VBdCgwKS5nZXRDbGllbnRSZWN0cygpO1xuICB2YXIgc2VsUmVjdCA9IHJlY3RzW3NlbGVjdGlvbklzSW52ZXJ0ZWQoc2VsZWN0aW9uKSA/IDAgOiByZWN0cy5sZW5ndGggLSAxXTtcbiAgaWYgKCFzZWxSZWN0KSB7IHJldHVybiB9XG4gIHZhciBtZW51UmVjdCA9IHRoaXMubWVudS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgaWYgKHNlbFJlY3QudG9wIDwgbWVudVJlY3QuYm90dG9tICYmIHNlbFJlY3QuYm90dG9tID4gbWVudVJlY3QudG9wKSB7XG4gICAgdmFyIHNjcm9sbGFibGUgPSBmaW5kV3JhcHBpbmdTY3JvbGxhYmxlKHRoaXMud3JhcHBlcik7XG4gICAgaWYgKHNjcm9sbGFibGUpIHsgc2Nyb2xsYWJsZS5zY3JvbGxUb3AgLT0gKG1lbnVSZWN0LmJvdHRvbSAtIHNlbFJlY3QudG9wKTsgfVxuICB9XG59O1xuXG5NZW51QmFyVmlldy5wcm90b3R5cGUudXBkYXRlRmxvYXQgPSBmdW5jdGlvbiB1cGRhdGVGbG9hdCAoc2Nyb2xsQW5jZXN0b3IpIHtcbiAgdmFyIHBhcmVudCA9IHRoaXMud3JhcHBlciwgZWRpdG9yUmVjdCA9IHBhcmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgIHRvcCA9IHNjcm9sbEFuY2VzdG9yID8gTWF0aC5tYXgoMCwgc2Nyb2xsQW5jZXN0b3IuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wKSA6IDA7XG5cbiAgaWYgKHRoaXMuZmxvYXRpbmcpIHtcbiAgICBpZiAoZWRpdG9yUmVjdC50b3AgPj0gdG9wIHx8IGVkaXRvclJlY3QuYm90dG9tIDwgdGhpcy5tZW51Lm9mZnNldEhlaWdodCArIDEwKSB7XG4gICAgICB0aGlzLmZsb2F0aW5nID0gZmFsc2U7XG4gICAgICB0aGlzLm1lbnUuc3R5bGUucG9zaXRpb24gPSB0aGlzLm1lbnUuc3R5bGUubGVmdCA9IHRoaXMubWVudS5zdHlsZS50b3AgPSB0aGlzLm1lbnUuc3R5bGUud2lkdGggPSBcIlwiO1xuICAgICAgdGhpcy5tZW51LnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xuICAgICAgdGhpcy5zcGFjZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLnNwYWNlcik7XG4gICAgICB0aGlzLnNwYWNlciA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBib3JkZXIgPSAocGFyZW50Lm9mZnNldFdpZHRoIC0gcGFyZW50LmNsaWVudFdpZHRoKSAvIDI7XG4gICAgICB0aGlzLm1lbnUuc3R5bGUubGVmdCA9IChlZGl0b3JSZWN0LmxlZnQgKyBib3JkZXIpICsgXCJweFwiO1xuICAgICAgdGhpcy5tZW51LnN0eWxlLmRpc3BsYXkgPSAoZWRpdG9yUmVjdC50b3AgPiB3aW5kb3cuaW5uZXJIZWlnaHQgPyBcIm5vbmVcIiA6IFwiXCIpO1xuICAgICAgaWYgKHNjcm9sbEFuY2VzdG9yKSB7IHRoaXMubWVudS5zdHlsZS50b3AgPSB0b3AgKyBcInB4XCI7IH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGVkaXRvclJlY3QudG9wIDwgdG9wICYmIGVkaXRvclJlY3QuYm90dG9tID49IHRoaXMubWVudS5vZmZzZXRIZWlnaHQgKyAxMCkge1xuICAgICAgdGhpcy5mbG9hdGluZyA9IHRydWU7XG4gICAgICB2YXIgbWVudVJlY3QgPSB0aGlzLm1lbnUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICB0aGlzLm1lbnUuc3R5bGUubGVmdCA9IG1lbnVSZWN0LmxlZnQgKyBcInB4XCI7XG4gICAgICB0aGlzLm1lbnUuc3R5bGUud2lkdGggPSBtZW51UmVjdC53aWR0aCArIFwicHhcIjtcbiAgICAgIGlmIChzY3JvbGxBbmNlc3RvcikgeyB0aGlzLm1lbnUuc3R5bGUudG9wID0gdG9wICsgXCJweFwiOyB9XG4gICAgICB0aGlzLm1lbnUuc3R5bGUucG9zaXRpb24gPSBcImZpeGVkXCI7XG4gICAgICB0aGlzLnNwYWNlciA9IGNyZWwoXCJkaXZcIiwge2NsYXNzOiBwcmVmaXgkMiArIFwiLXNwYWNlclwiLCBzdHlsZTogKFwiaGVpZ2h0OiBcIiArIChtZW51UmVjdC5oZWlnaHQpICsgXCJweFwiKX0pO1xuICAgICAgcGFyZW50Lmluc2VydEJlZm9yZSh0aGlzLnNwYWNlciwgdGhpcy5tZW51KTtcbiAgICB9XG4gIH1cbn07XG5cbk1lbnVCYXJWaWV3LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAoKSB7XG4gIGlmICh0aGlzLndyYXBwZXIucGFyZW50Tm9kZSlcbiAgICB7IHRoaXMud3JhcHBlci5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZCh0aGlzLmVkaXRvclZpZXcuZG9tLCB0aGlzLndyYXBwZXIpOyB9XG59O1xuXG4vLyBOb3QgcHJlY2lzZSwgYnV0IGNsb3NlIGVub3VnaFxuZnVuY3Rpb24gc2VsZWN0aW9uSXNJbnZlcnRlZChzZWxlY3Rpb24pIHtcbiAgaWYgKHNlbGVjdGlvbi5hbmNob3JOb2RlID09IHNlbGVjdGlvbi5mb2N1c05vZGUpIHsgcmV0dXJuIHNlbGVjdGlvbi5hbmNob3JPZmZzZXQgPiBzZWxlY3Rpb24uZm9jdXNPZmZzZXQgfVxuICByZXR1cm4gc2VsZWN0aW9uLmFuY2hvck5vZGUuY29tcGFyZURvY3VtZW50UG9zaXRpb24oc2VsZWN0aW9uLmZvY3VzTm9kZSkgPT0gTm9kZS5ET0NVTUVOVF9QT1NJVElPTl9GT0xMT1dJTkdcbn1cblxuZnVuY3Rpb24gZmluZFdyYXBwaW5nU2Nyb2xsYWJsZShub2RlKSB7XG4gIGZvciAodmFyIGN1ciA9IG5vZGUucGFyZW50Tm9kZTsgY3VyOyBjdXIgPSBjdXIucGFyZW50Tm9kZSlcbiAgICB7IGlmIChjdXIuc2Nyb2xsSGVpZ2h0ID4gY3VyLmNsaWVudEhlaWdodCkgeyByZXR1cm4gY3VyIH0gfVxufVxuXG5mdW5jdGlvbiBnZXRBbGxXcmFwcGluZyhub2RlKSB7XG4gICAgdmFyIHJlcyA9IFt3aW5kb3ddO1xuICAgIGZvciAodmFyIGN1ciA9IG5vZGUucGFyZW50Tm9kZTsgY3VyOyBjdXIgPSBjdXIucGFyZW50Tm9kZSlcbiAgICAgICAgeyByZXMucHVzaChjdXIpOyB9XG4gICAgcmV0dXJuIHJlc1xufVxuXG4vLyAhISBUaGlzIG1vZHVsZSBkZWZpbmVzIGEgbnVtYmVyIG9mIGJ1aWxkaW5nIGJsb2NrcyBmb3IgUHJvc2VNaXJyb3Jcbi8vIG1lbnVzLCBhbG9uZyB3aXRoIGEgW21lbnUgYmFyXSgjbWVudS5tZW51QmFyKSBpbXBsZW1lbnRhdGlvbi5cblxuLy8gTWVudUVsZW1lbnQ6OiBpbnRlcmZhY2Vcbi8vIFRoZSB0eXBlcyBkZWZpbmVkIGluIHRoaXMgbW9kdWxlIGFyZW4ndCB0aGUgb25seSB0aGluZyB5b3UgY2FuXG4vLyBkaXNwbGF5IGluIHlvdXIgbWVudS4gQW55dGhpbmcgdGhhdCBjb25mb3JtcyB0byB0aGlzIGludGVyZmFjZSBjYW5cbi8vIGJlIHB1dCBpbnRvIGEgbWVudSBzdHJ1Y3R1cmUuXG4vL1xuLy8gICByZW5kZXI6OiAocG06IEVkaXRvclZpZXcpIOKGkiB7ZG9tOiBkb20uTm9kZSwgdXBkYXRlOiAoRWRpdG9yU3RhdGUpIOKGkiBib29sfVxuLy8gICBSZW5kZXIgdGhlIGVsZW1lbnQgZm9yIGRpc3BsYXkgaW4gdGhlIG1lbnUuIE11c3QgcmV0dXJuIGEgRE9NXG4vLyAgIGVsZW1lbnQgYW5kIGEgZnVuY3Rpb24gdGhhdCBjYW4gYmUgdXNlZCB0byB1cGRhdGUgdGhlIGVsZW1lbnQgdG9cbi8vICAgYSBuZXcgc3RhdGUuIFRoZSBgdXBkYXRlYCBmdW5jdGlvbiB3aWxsIHJldHVybiBmYWxzZSBpZiB0aGVcbi8vICAgdXBkYXRlIGhpZCB0aGUgZW50aXJlIGVsZW1lbnQuXG5cbmV4cG9ydHMuTWVudUl0ZW0gPSBNZW51SXRlbTtcbmV4cG9ydHMuRHJvcGRvd24gPSBEcm9wZG93bjtcbmV4cG9ydHMuRHJvcGRvd25TdWJtZW51ID0gRHJvcGRvd25TdWJtZW51O1xuZXhwb3J0cy5yZW5kZXJHcm91cGVkID0gcmVuZGVyR3JvdXBlZDtcbmV4cG9ydHMuaWNvbnMgPSBpY29ucztcbmV4cG9ydHMuam9pblVwSXRlbSA9IGpvaW5VcEl0ZW07XG5leHBvcnRzLmxpZnRJdGVtID0gbGlmdEl0ZW07XG5leHBvcnRzLnNlbGVjdFBhcmVudE5vZGVJdGVtID0gc2VsZWN0UGFyZW50Tm9kZUl0ZW07XG5leHBvcnRzLnVuZG9JdGVtID0gdW5kb0l0ZW07XG5leHBvcnRzLnJlZG9JdGVtID0gcmVkb0l0ZW07XG5leHBvcnRzLndyYXBJdGVtID0gd3JhcEl0ZW07XG5leHBvcnRzLmJsb2NrVHlwZUl0ZW0gPSBibG9ja1R5cGVJdGVtO1xuZXhwb3J0cy5tZW51QmFyID0gbWVudUJhcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuIiwiY29uc3QgcHJlZml4ID0gXCJQcm9zZU1pcnJvci1wcm9tcHRcIlxuXG5leHBvcnQgZnVuY3Rpb24gb3BlblByb21wdChvcHRpb25zKSB7XG4gIGxldCB3cmFwcGVyID0gZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKVxuICB3cmFwcGVyLmNsYXNzTmFtZSA9IHByZWZpeFxuXG4gIGxldCBtb3VzZU91dHNpZGUgPSBlID0+IHsgaWYgKCF3cmFwcGVyLmNvbnRhaW5zKGUudGFyZ2V0KSkgY2xvc2UoKSB9XG4gIHNldFRpbWVvdXQoKCkgPT4gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgbW91c2VPdXRzaWRlKSwgNTApXG4gIGxldCBjbG9zZSA9ICgpID0+IHtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBtb3VzZU91dHNpZGUpXG4gICAgaWYgKHdyYXBwZXIucGFyZW50Tm9kZSkgd3JhcHBlci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHdyYXBwZXIpXG4gIH1cblxuICBsZXQgZG9tRmllbGRzID0gW11cbiAgZm9yIChsZXQgbmFtZSBpbiBvcHRpb25zLmZpZWxkcykgZG9tRmllbGRzLnB1c2gob3B0aW9ucy5maWVsZHNbbmFtZV0ucmVuZGVyKCkpXG5cbiAgbGV0IHN1Ym1pdEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIilcbiAgc3VibWl0QnV0dG9uLnR5cGUgPSBcInN1Ym1pdFwiXG4gIHN1Ym1pdEJ1dHRvbi5jbGFzc05hbWUgPSBwcmVmaXggKyBcIi1zdWJtaXRcIlxuICBzdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBcIk9LXCJcbiAgbGV0IGNhbmNlbEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIilcbiAgY2FuY2VsQnV0dG9uLnR5cGUgPSBcImJ1dHRvblwiXG4gIGNhbmNlbEJ1dHRvbi5jbGFzc05hbWUgPSBwcmVmaXggKyBcIi1jYW5jZWxcIlxuICBjYW5jZWxCdXR0b24udGV4dENvbnRlbnQgPSBcIkNhbmNlbFwiXG4gIGNhbmNlbEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2xvc2UpXG5cbiAgbGV0IGZvcm0gPSB3cmFwcGVyLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJmb3JtXCIpKVxuICBpZiAob3B0aW9ucy50aXRsZSkgZm9ybS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDVcIikpLnRleHRDb250ZW50ID0gb3B0aW9ucy50aXRsZVxuICBkb21GaWVsZHMuZm9yRWFjaChmaWVsZCA9PiB7XG4gICAgZm9ybS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKS5hcHBlbmRDaGlsZChmaWVsZClcbiAgfSlcbiAgbGV0IGJ1dHRvbnMgPSBmb3JtLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpXG4gIGJ1dHRvbnMuY2xhc3NOYW1lID0gcHJlZml4ICsgXCItYnV0dG9uc1wiXG4gIGJ1dHRvbnMuYXBwZW5kQ2hpbGQoc3VibWl0QnV0dG9uKVxuICBidXR0b25zLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiIFwiKSlcbiAgYnV0dG9ucy5hcHBlbmRDaGlsZChjYW5jZWxCdXR0b24pXG5cbiAgbGV0IGJveCA9IHdyYXBwZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgd3JhcHBlci5zdHlsZS50b3AgPSAoKHdpbmRvdy5pbm5lckhlaWdodCAtIGJveC5oZWlnaHQpIC8gMikgKyBcInB4XCJcbiAgd3JhcHBlci5zdHlsZS5sZWZ0ID0gKCh3aW5kb3cuaW5uZXJXaWR0aCAtIGJveC53aWR0aCkgLyAyKSArIFwicHhcIlxuXG4gIGxldCBzdWJtaXQgPSAoKSA9PiB7XG4gICAgbGV0IHBhcmFtcyA9IGdldFZhbHVlcyhvcHRpb25zLmZpZWxkcywgZG9tRmllbGRzKVxuICAgIGlmIChwYXJhbXMpIHtcbiAgICAgIGNsb3NlKClcbiAgICAgIG9wdGlvbnMuY2FsbGJhY2socGFyYW1zKVxuICAgIH1cbiAgfVxuXG4gIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBlID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICBzdWJtaXQoKVxuICB9KVxuXG4gIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgZSA9PiB7XG4gICAgaWYgKGUua2V5Q29kZSA9PSAyNykge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICBjbG9zZSgpXG4gICAgfSBlbHNlIGlmIChlLmtleUNvZGUgPT0gMTMgJiYgIShlLmN0cmxLZXkgfHwgZS5tZXRhS2V5IHx8IGUuc2hpZnRLZXkpKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgIHN1Ym1pdCgpXG4gICAgfSBlbHNlIGlmIChlLmtleUNvZGUgPT0gOSkge1xuICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBpZiAoIXdyYXBwZXIuY29udGFpbnMoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkpIGNsb3NlKClcbiAgICAgIH0sIDUwMClcbiAgICB9XG4gIH0pXG5cbiAgbGV0IGlucHV0ID0gZm9ybS5lbGVtZW50c1swXVxuICBpZiAoaW5wdXQpIGlucHV0LmZvY3VzKClcbn1cblxuZnVuY3Rpb24gZ2V0VmFsdWVzKGZpZWxkcywgZG9tRmllbGRzKSB7XG4gIGxldCByZXN1bHQgPSBPYmplY3QuY3JlYXRlKG51bGwpLCBpID0gMFxuICBmb3IgKGxldCBuYW1lIGluIGZpZWxkcykge1xuICAgIGxldCBmaWVsZCA9IGZpZWxkc1tuYW1lXSwgZG9tID0gZG9tRmllbGRzW2krK11cbiAgICBsZXQgdmFsdWUgPSBmaWVsZC5yZWFkKGRvbSksIGJhZCA9IGZpZWxkLnZhbGlkYXRlKHZhbHVlKVxuICAgIGlmIChiYWQpIHtcbiAgICAgIHJlcG9ydEludmFsaWQoZG9tLCBiYWQpXG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgICByZXN1bHRbbmFtZV0gPSBmaWVsZC5jbGVhbih2YWx1ZSlcbiAgfVxuICByZXR1cm4gcmVzdWx0XG59XG5cbmZ1bmN0aW9uIHJlcG9ydEludmFsaWQoZG9tLCBtZXNzYWdlKSB7XG4gIC8vIEZJWE1FIHRoaXMgaXMgYXdmdWwgYW5kIG5lZWRzIGEgbG90IG1vcmUgd29ya1xuICBsZXQgcGFyZW50ID0gZG9tLnBhcmVudE5vZGVcbiAgbGV0IG1zZyA9IHBhcmVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKVxuICBtc2cuc3R5bGUubGVmdCA9IChkb20ub2Zmc2V0TGVmdCArIGRvbS5vZmZzZXRXaWR0aCArIDIpICsgXCJweFwiXG4gIG1zZy5zdHlsZS50b3AgPSAoZG9tLm9mZnNldFRvcCAtIDUpICsgXCJweFwiXG4gIG1zZy5jbGFzc05hbWUgPSBcIlByb3NlTWlycm9yLWludmFsaWRcIlxuICBtc2cudGV4dENvbnRlbnQgPSBtZXNzYWdlXG4gIHNldFRpbWVvdXQoKCkgPT4gcGFyZW50LnJlbW92ZUNoaWxkKG1zZyksIDE1MDApXG59XG5cbi8vIDo6LSBUaGUgdHlwZSBvZiBmaWVsZCB0aGF0IGBGaWVsZFByb21wdGAgZXhwZWN0cyB0byBiZSBwYXNzZWQgdG8gaXQuXG5leHBvcnQgY2xhc3MgRmllbGQge1xuICAvLyA6OiAoT2JqZWN0KVxuICAvLyBDcmVhdGUgYSBmaWVsZCB3aXRoIHRoZSBnaXZlbiBvcHRpb25zLiBPcHRpb25zIHN1cHBvcnQgYnkgYWxsXG4gIC8vIGZpZWxkIHR5cGVzIGFyZTpcbiAgLy9cbiAgLy8gKipgdmFsdWVgKipgOiA/YW55YFxuICAvLyAgIDogVGhlIHN0YXJ0aW5nIHZhbHVlIGZvciB0aGUgZmllbGQuXG4gIC8vXG4gIC8vICoqYGxhYmVsYCoqYDogc3RyaW5nYFxuICAvLyAgIDogVGhlIGxhYmVsIGZvciB0aGUgZmllbGQuXG4gIC8vXG4gIC8vICoqYHJlcXVpcmVkYCoqYDogP2Jvb2xgXG4gIC8vICAgOiBXaGV0aGVyIHRoZSBmaWVsZCBpcyByZXF1aXJlZC5cbiAgLy9cbiAgLy8gKipgdmFsaWRhdGVgKipgOiA/KGFueSkg4oaSID9zdHJpbmdgXG4gIC8vICAgOiBBIGZ1bmN0aW9uIHRvIHZhbGlkYXRlIHRoZSBnaXZlbiB2YWx1ZS4gU2hvdWxkIHJldHVybiBhblxuICAvLyAgICAgZXJyb3IgbWVzc2FnZSBpZiBpdCBpcyBub3QgdmFsaWQuXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHsgdGhpcy5vcHRpb25zID0gb3B0aW9ucyB9XG5cbiAgLy8gcmVuZGVyOjogKHN0YXRlOiBFZGl0b3JTdGF0ZSwgcHJvcHM6IE9iamVjdCkg4oaSIGRvbS5Ob2RlXG4gIC8vIFJlbmRlciB0aGUgZmllbGQgdG8gdGhlIERPTS4gU2hvdWxkIGJlIGltcGxlbWVudGVkIGJ5IGFsbCBzdWJjbGFzc2VzLlxuXG4gIC8vIDo6IChkb20uTm9kZSkg4oaSIGFueVxuICAvLyBSZWFkIHRoZSBmaWVsZCdzIHZhbHVlIGZyb20gaXRzIERPTSBub2RlLlxuICByZWFkKGRvbSkgeyByZXR1cm4gZG9tLnZhbHVlIH1cblxuICAvLyA6OiAoYW55KSDihpIgP3N0cmluZ1xuICAvLyBBIGZpZWxkLXR5cGUtc3BlY2lmaWMgdmFsaWRhdGlvbiBmdW5jdGlvbi5cbiAgdmFsaWRhdGVUeXBlKF92YWx1ZSkge31cblxuICB2YWxpZGF0ZSh2YWx1ZSkge1xuICAgIGlmICghdmFsdWUgJiYgdGhpcy5vcHRpb25zLnJlcXVpcmVkKVxuICAgICAgcmV0dXJuIFwiUmVxdWlyZWQgZmllbGRcIlxuICAgIHJldHVybiB0aGlzLnZhbGlkYXRlVHlwZSh2YWx1ZSkgfHwgKHRoaXMub3B0aW9ucy52YWxpZGF0ZSAmJiB0aGlzLm9wdGlvbnMudmFsaWRhdGUodmFsdWUpKVxuICB9XG5cbiAgY2xlYW4odmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5vcHRpb25zLmNsZWFuID8gdGhpcy5vcHRpb25zLmNsZWFuKHZhbHVlKSA6IHZhbHVlXG4gIH1cbn1cblxuLy8gOjotIEEgZmllbGQgY2xhc3MgZm9yIHNpbmdsZS1saW5lIHRleHQgZmllbGRzLlxuZXhwb3J0IGNsYXNzIFRleHRGaWVsZCBleHRlbmRzIEZpZWxkIHtcbiAgcmVuZGVyKCkge1xuICAgIGxldCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKVxuICAgIGlucHV0LnR5cGUgPSBcInRleHRcIlxuICAgIGlucHV0LnBsYWNlaG9sZGVyID0gdGhpcy5vcHRpb25zLmxhYmVsXG4gICAgaW5wdXQudmFsdWUgPSB0aGlzLm9wdGlvbnMudmFsdWUgfHwgXCJcIlxuICAgIGlucHV0LmF1dG9jb21wbGV0ZSA9IFwib2ZmXCJcbiAgICByZXR1cm4gaW5wdXRcbiAgfVxufVxuXG5cbi8vIDo6LSBBIGZpZWxkIGNsYXNzIGZvciBkcm9wZG93biBmaWVsZHMgYmFzZWQgb24gYSBwbGFpbiBgPHNlbGVjdD5gXG4vLyB0YWcuIEV4cGVjdHMgYW4gb3B0aW9uIGBvcHRpb25zYCwgd2hpY2ggc2hvdWxkIGJlIGFuIGFycmF5IG9mXG4vLyBge3ZhbHVlOiBzdHJpbmcsIGxhYmVsOiBzdHJpbmd9YCBvYmplY3RzLCBvciBhIGZ1bmN0aW9uIHRha2luZyBhXG4vLyBgUHJvc2VNaXJyb3JgIGluc3RhbmNlIGFuZCByZXR1cm5pbmcgc3VjaCBhbiBhcnJheS5cbmV4cG9ydCBjbGFzcyBTZWxlY3RGaWVsZCBleHRlbmRzIEZpZWxkIHtcbiAgcmVuZGVyKCkge1xuICAgIGxldCBzZWxlY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIpXG4gICAgdGhpcy5vcHRpb25zLm9wdGlvbnMuZm9yRWFjaChvID0+IHtcbiAgICAgIGxldCBvcHQgPSBzZWxlY3QuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKSlcbiAgICAgIG9wdC52YWx1ZSA9IG8udmFsdWVcbiAgICAgIG9wdC5zZWxlY3RlZCA9IG8udmFsdWUgPT0gdGhpcy5vcHRpb25zLnZhbHVlXG4gICAgICBvcHQubGFiZWwgPSBvLmxhYmVsXG4gICAgfSlcbiAgICByZXR1cm4gc2VsZWN0XG4gIH1cbn0iLCJpbXBvcnQge3dyYXBJdGVtLCBibG9ja1R5cGVJdGVtLCBEcm9wZG93biwgRHJvcGRvd25TdWJtZW51LCBqb2luVXBJdGVtLCBsaWZ0SXRlbSxcbiAgc2VsZWN0UGFyZW50Tm9kZUl0ZW0sIHVuZG9JdGVtLCByZWRvSXRlbSwgaWNvbnMsIE1lbnVJdGVtfSBmcm9tIFwicHJvc2VtaXJyb3ItbWVudVwiXG5pbXBvcnQge05vZGVTZWxlY3Rpb259IGZyb20gXCJwcm9zZW1pcnJvci1zdGF0ZVwiXG5pbXBvcnQge3RvZ2dsZU1hcmt9IGZyb20gXCJwcm9zZW1pcnJvci1jb21tYW5kc1wiXG5pbXBvcnQge3dyYXBJbkxpc3R9IGZyb20gXCJwcm9zZW1pcnJvci1zY2hlbWEtbGlzdFwiXG5pbXBvcnQge1RleHRGaWVsZCwgb3BlblByb21wdH0gZnJvbSBcIi4vcHJvbXB0XCJcblxuLy8gSGVscGVycyB0byBjcmVhdGUgc3BlY2lmaWMgdHlwZXMgb2YgaXRlbXNcblxuZnVuY3Rpb24gY2FuSW5zZXJ0KHN0YXRlLCBub2RlVHlwZSkge1xuICBsZXQgJGZyb20gPSBzdGF0ZS5zZWxlY3Rpb24uJGZyb21cbiAgZm9yIChsZXQgZCA9ICRmcm9tLmRlcHRoOyBkID49IDA7IGQtLSkge1xuICAgIGxldCBpbmRleCA9ICRmcm9tLmluZGV4KGQpXG4gICAgaWYgKCRmcm9tLm5vZGUoZCkuY2FuUmVwbGFjZVdpdGgoaW5kZXgsIGluZGV4LCBub2RlVHlwZSkpXG4gICAgICByZXR1cm4gdHJ1ZVxuICB9XG4gIHJldHVybiBmYWxzZVxufVxuXG5mdW5jdGlvbiBpbnNlcnRJbWFnZUl0ZW0obm9kZVR5cGUpIHtcbiAgcmV0dXJuIG5ldyBNZW51SXRlbSh7XG4gICAgdGl0bGU6IFwiSW5zZXJ0IGltYWdlXCIsXG4gICAgbGFiZWw6IFwiSW1hZ2VcIixcbiAgICBlbmFibGUoc3RhdGUpIHsgcmV0dXJuIGNhbkluc2VydChzdGF0ZSwgbm9kZVR5cGUpIH0sXG4gICAgcnVuKHN0YXRlLCBfLCB2aWV3KSB7XG4gICAgICBsZXQge2Zyb20sIHRvfSA9IHN0YXRlLnNlbGVjdGlvbiwgYXR0cnMgPSBudWxsXG4gICAgICBpZiAoc3RhdGUuc2VsZWN0aW9uIGluc3RhbmNlb2YgTm9kZVNlbGVjdGlvbiAmJiBzdGF0ZS5zZWxlY3Rpb24ubm9kZS50eXBlID09IG5vZGVUeXBlKVxuICAgICAgICBhdHRycyA9IHN0YXRlLnNlbGVjdGlvbi5ub2RlLmF0dHJzXG4gICAgICBvcGVuUHJvbXB0KHtcbiAgICAgICAgdGl0bGU6IFwiSW5zZXJ0IGltYWdlXCIsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHNyYzogbmV3IFRleHRGaWVsZCh7bGFiZWw6IFwiTG9jYXRpb25cIiwgcmVxdWlyZWQ6IHRydWUsIHZhbHVlOiBhdHRycyAmJiBhdHRycy5zcmN9KSxcbiAgICAgICAgICB0aXRsZTogbmV3IFRleHRGaWVsZCh7bGFiZWw6IFwiVGl0bGVcIiwgdmFsdWU6IGF0dHJzICYmIGF0dHJzLnRpdGxlfSksXG4gICAgICAgICAgYWx0OiBuZXcgVGV4dEZpZWxkKHtsYWJlbDogXCJEZXNjcmlwdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGF0dHJzID8gYXR0cnMuYWx0IDogc3RhdGUuZG9jLnRleHRCZXR3ZWVuKGZyb20sIHRvLCBcIiBcIil9KVxuICAgICAgICB9LFxuICAgICAgICBjYWxsYmFjayhhdHRycykge1xuICAgICAgICAgIHZpZXcuZGlzcGF0Y2godmlldy5zdGF0ZS50ci5yZXBsYWNlU2VsZWN0aW9uV2l0aChub2RlVHlwZS5jcmVhdGVBbmRGaWxsKGF0dHJzKSkpXG4gICAgICAgICAgdmlldy5mb2N1cygpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuICB9KVxufVxuXG5mdW5jdGlvbiBjbWRJdGVtKGNtZCwgb3B0aW9ucykge1xuICBsZXQgcGFzc2VkT3B0aW9ucyA9IHtcbiAgICBsYWJlbDogb3B0aW9ucy50aXRsZSxcbiAgICBydW46IGNtZFxuICB9XG4gIGZvciAobGV0IHByb3AgaW4gb3B0aW9ucykgcGFzc2VkT3B0aW9uc1twcm9wXSA9IG9wdGlvbnNbcHJvcF1cbiAgaWYgKCghb3B0aW9ucy5lbmFibGUgfHwgb3B0aW9ucy5lbmFibGUgPT09IHRydWUpICYmICFvcHRpb25zLnNlbGVjdClcbiAgICBwYXNzZWRPcHRpb25zW29wdGlvbnMuZW5hYmxlID8gXCJlbmFibGVcIiA6IFwic2VsZWN0XCJdID0gc3RhdGUgPT4gY21kKHN0YXRlKVxuXG4gIHJldHVybiBuZXcgTWVudUl0ZW0ocGFzc2VkT3B0aW9ucylcbn1cblxuZnVuY3Rpb24gbWFya0FjdGl2ZShzdGF0ZSwgdHlwZSkge1xuICBsZXQge2Zyb20sICRmcm9tLCB0bywgZW1wdHl9ID0gc3RhdGUuc2VsZWN0aW9uXG4gIGlmIChlbXB0eSkgcmV0dXJuIHR5cGUuaXNJblNldChzdGF0ZS5zdG9yZWRNYXJrcyB8fCAkZnJvbS5tYXJrcygpKVxuICBlbHNlIHJldHVybiBzdGF0ZS5kb2MucmFuZ2VIYXNNYXJrKGZyb20sIHRvLCB0eXBlKVxufVxuXG5mdW5jdGlvbiBtYXJrSXRlbShtYXJrVHlwZSwgb3B0aW9ucykge1xuICBsZXQgcGFzc2VkT3B0aW9ucyA9IHtcbiAgYWN0aXZlKHN0YXRlKSB7IHJldHVybiBtYXJrQWN0aXZlKHN0YXRlLCBtYXJrVHlwZSkgfSxcbiAgZW5hYmxlOiB0cnVlXG4gIH1cbiAgZm9yIChsZXQgcHJvcCBpbiBvcHRpb25zKSBwYXNzZWRPcHRpb25zW3Byb3BdID0gb3B0aW9uc1twcm9wXVxuICByZXR1cm4gY21kSXRlbSh0b2dnbGVNYXJrKG1hcmtUeXBlKSwgcGFzc2VkT3B0aW9ucylcbn1cblxuZnVuY3Rpb24gbGlua0l0ZW0obWFya1R5cGUpIHtcbiAgcmV0dXJuIG5ldyBNZW51SXRlbSh7XG4gICAgdGl0bGU6IFwiQWRkIG9yIHJlbW92ZSBsaW5rXCIsXG4gICAgaWNvbjogaWNvbnMubGluayxcbiAgICBhY3RpdmUoc3RhdGUpIHsgcmV0dXJuIG1hcmtBY3RpdmUoc3RhdGUsIG1hcmtUeXBlKSB9LFxuICAgIGVuYWJsZShzdGF0ZSkgeyByZXR1cm4gIXN0YXRlLnNlbGVjdGlvbi5lbXB0eSB9LFxuICAgIHJ1bihzdGF0ZSwgZGlzcGF0Y2gsIHZpZXcpIHtcbiAgICBpZiAobWFya0FjdGl2ZShzdGF0ZSwgbWFya1R5cGUpKSB7XG4gICAgICB0b2dnbGVNYXJrKG1hcmtUeXBlKShzdGF0ZSwgZGlzcGF0Y2gpXG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgICBvcGVuUHJvbXB0KHtcbiAgICAgIHRpdGxlOiBcIkNyZWF0ZSBhIGxpbmtcIixcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBocmVmOiBuZXcgVGV4dEZpZWxkKHtcbiAgICAgICAgICBsYWJlbDogXCJMaW5rIHRhcmdldFwiLFxuICAgICAgICAgIHJlcXVpcmVkOiB0cnVlXG4gICAgICAgIH0pLFxuICAgICAgICB0aXRsZTogbmV3IFRleHRGaWVsZCh7bGFiZWw6IFwiVGl0bGVcIn0pXG4gICAgICB9LFxuICAgICAgY2FsbGJhY2soYXR0cnMpIHtcbiAgICAgICAgdG9nZ2xlTWFyayhtYXJrVHlwZSwgYXR0cnMpKHZpZXcuc3RhdGUsIHZpZXcuZGlzcGF0Y2gpXG4gICAgICAgIHZpZXcuZm9jdXMoKVxuICAgICAgfVxuICAgIH0pXG4gICAgfVxuICB9KVxufVxuXG5mdW5jdGlvbiB3cmFwTGlzdEl0ZW0obm9kZVR5cGUsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIGNtZEl0ZW0od3JhcEluTGlzdChub2RlVHlwZSwgb3B0aW9ucy5hdHRycyksIG9wdGlvbnMpXG59XG5cbi8vIDo6IChTY2hlbWEpIOKGkiBPYmplY3Rcbi8vIEdpdmVuIGEgc2NoZW1hLCBsb29rIGZvciBkZWZhdWx0IG1hcmsgYW5kIG5vZGUgdHlwZXMgaW4gaXQgYW5kXG4vLyByZXR1cm4gYW4gb2JqZWN0IHdpdGggcmVsZXZhbnQgbWVudSBpdGVtcyByZWxhdGluZyB0byB0aG9zZSBtYXJrczpcbi8vXG4vLyAqKmB0b2dnbGVTdHJvbmdgKipgOiBNZW51SXRlbWBcbi8vICAgOiBBIG1lbnUgaXRlbSB0byB0b2dnbGUgdGhlIFtzdHJvbmcgbWFya10oI3NjaGVtYS1iYXNpYy5TdHJvbmdNYXJrKS5cbi8vXG4vLyAqKmB0b2dnbGVFbWAqKmA6IE1lbnVJdGVtYFxuLy8gICA6IEEgbWVudSBpdGVtIHRvIHRvZ2dsZSB0aGUgW2VtcGhhc2lzIG1hcmtdKCNzY2hlbWEtYmFzaWMuRW1NYXJrKS5cbi8vXG4vLyAqKmB0b2dnbGVDb2RlYCoqYDogTWVudUl0ZW1gXG4vLyAgIDogQSBtZW51IGl0ZW0gdG8gdG9nZ2xlIHRoZSBbY29kZSBmb250IG1hcmtdKCNzY2hlbWEtYmFzaWMuQ29kZU1hcmspLlxuLy9cbi8vICoqYHRvZ2dsZUxpbmtgKipgOiBNZW51SXRlbWBcbi8vICAgOiBBIG1lbnUgaXRlbSB0byB0b2dnbGUgdGhlIFtsaW5rIG1hcmtdKCNzY2hlbWEtYmFzaWMuTGlua01hcmspLlxuLy9cbi8vICoqYGluc2VydEltYWdlYCoqYDogTWVudUl0ZW1gXG4vLyAgIDogQSBtZW51IGl0ZW0gdG8gaW5zZXJ0IGFuIFtpbWFnZV0oI3NjaGVtYS1iYXNpYy5JbWFnZSkuXG4vL1xuLy8gKipgd3JhcEJ1bGxldExpc3RgKipgOiBNZW51SXRlbWBcbi8vICAgOiBBIG1lbnUgaXRlbSB0byB3cmFwIHRoZSBzZWxlY3Rpb24gaW4gYSBbYnVsbGV0IGxpc3RdKCNzY2hlbWEtbGlzdC5CdWxsZXRMaXN0KS5cbi8vXG4vLyAqKmB3cmFwT3JkZXJlZExpc3RgKipgOiBNZW51SXRlbWBcbi8vICAgOiBBIG1lbnUgaXRlbSB0byB3cmFwIHRoZSBzZWxlY3Rpb24gaW4gYW4gW29yZGVyZWQgbGlzdF0oI3NjaGVtYS1saXN0Lk9yZGVyZWRMaXN0KS5cbi8vXG4vLyAqKmB3cmFwQmxvY2tRdW90ZWAqKmA6IE1lbnVJdGVtYFxuLy8gICA6IEEgbWVudSBpdGVtIHRvIHdyYXAgdGhlIHNlbGVjdGlvbiBpbiBhIFtibG9jayBxdW90ZV0oI3NjaGVtYS1iYXNpYy5CbG9ja1F1b3RlKS5cbi8vXG4vLyAqKmBtYWtlUGFyYWdyYXBoYCoqYDogTWVudUl0ZW1gXG4vLyAgIDogQSBtZW51IGl0ZW0gdG8gc2V0IHRoZSBjdXJyZW50IHRleHRibG9jayB0byBiZSBhIG5vcm1hbFxuLy8gICAgIFtwYXJhZ3JhcGhdKCNzY2hlbWEtYmFzaWMuUGFyYWdyYXBoKS5cbi8vXG4vLyAqKmBtYWtlQ29kZUJsb2NrYCoqYDogTWVudUl0ZW1gXG4vLyAgIDogQSBtZW51IGl0ZW0gdG8gc2V0IHRoZSBjdXJyZW50IHRleHRibG9jayB0byBiZSBhXG4vLyAgICAgW2NvZGUgYmxvY2tdKCNzY2hlbWEtYmFzaWMuQ29kZUJsb2NrKS5cbi8vXG4vLyAqKmBtYWtlSGVhZFtOXWAqKmA6IE1lbnVJdGVtYFxuLy8gICA6IFdoZXJlIF9OXyBpcyAxIHRvIDYuIE1lbnUgaXRlbXMgdG8gc2V0IHRoZSBjdXJyZW50IHRleHRibG9jayB0b1xuLy8gICAgIGJlIGEgW2hlYWRpbmddKCNzY2hlbWEtYmFzaWMuSGVhZGluZykgb2YgbGV2ZWwgX05fLlxuLy9cbi8vICoqYGluc2VydEhvcml6b250YWxSdWxlYCoqYDogTWVudUl0ZW1gXG4vLyAgIDogQSBtZW51IGl0ZW0gdG8gaW5zZXJ0IGEgaG9yaXpvbnRhbCBydWxlLlxuLy9cbi8vIFRoZSByZXR1cm4gdmFsdWUgYWxzbyBjb250YWlucyBzb21lIHByZWZhYnJpY2F0ZWQgbWVudSBlbGVtZW50cyBhbmRcbi8vIG1lbnVzLCB0aGF0IHlvdSBjYW4gdXNlIGluc3RlYWQgb2YgY29tcG9zaW5nIHlvdXIgb3duIG1lbnUgZnJvbVxuLy8gc2NyYXRjaDpcbi8vXG4vLyAqKmBpbnNlcnRNZW51YCoqYDogRHJvcGRvd25gXG4vLyAgIDogQSBkcm9wZG93biBjb250YWluaW5nIHRoZSBgaW5zZXJ0SW1hZ2VgIGFuZFxuLy8gICAgIGBpbnNlcnRIb3Jpem9udGFsUnVsZWAgaXRlbXMuXG4vL1xuLy8gKipgdHlwZU1lbnVgKipgOiBEcm9wZG93bmBcbi8vICAgOiBBIGRyb3Bkb3duIGNvbnRhaW5pbmcgdGhlIGl0ZW1zIGZvciBtYWtpbmcgdGhlIGN1cnJlbnRcbi8vICAgICB0ZXh0YmxvY2sgYSBwYXJhZ3JhcGgsIGNvZGUgYmxvY2ssIG9yIGhlYWRpbmcuXG4vL1xuLy8gKipgZnVsbE1lbnVgKipgOiBbW01lbnVFbGVtZW50XV1gXG4vLyAgIDogQW4gYXJyYXkgb2YgYXJyYXlzIG9mIG1lbnUgZWxlbWVudHMgZm9yIHVzZSBhcyB0aGUgZnVsbCBtZW51XG4vLyAgICAgZm9yLCBmb3IgZXhhbXBsZSB0aGUgW21lbnUgYmFyXShodHRwczovL2dpdGh1Yi5jb20vcHJvc2VtaXJyb3IvcHJvc2VtaXJyb3ItbWVudSN1c2VyLWNvbnRlbnQtbWVudWJhcikuXG5leHBvcnQgZnVuY3Rpb24gYnVpbGRNZW51SXRlbXMoc2NoZW1hKSB7XG4gIGxldCByID0ge30sIHR5cGVcbiAgaWYgKHR5cGUgPSBzY2hlbWEubWFya3Muc3Ryb25nKVxuICByLnRvZ2dsZVN0cm9uZyA9IG1hcmtJdGVtKHR5cGUsIHt0aXRsZTogXCJUb2dnbGUgc3Ryb25nIHN0eWxlXCIsIGljb246IGljb25zLnN0cm9uZ30pXG4gIGlmICh0eXBlID0gc2NoZW1hLm1hcmtzLmVtKVxuICByLnRvZ2dsZUVtID0gbWFya0l0ZW0odHlwZSwge3RpdGxlOiBcIlRvZ2dsZSBlbXBoYXNpc1wiLCBpY29uOiBpY29ucy5lbX0pXG4gIGlmICh0eXBlID0gc2NoZW1hLm1hcmtzLmNvZGUpXG4gIHIudG9nZ2xlQ29kZSA9IG1hcmtJdGVtKHR5cGUsIHt0aXRsZTogXCJUb2dnbGUgY29kZSBmb250XCIsIGljb246IGljb25zLmNvZGV9KVxuICBpZiAodHlwZSA9IHNjaGVtYS5tYXJrcy5saW5rKVxuICByLnRvZ2dsZUxpbmsgPSBsaW5rSXRlbSh0eXBlKVxuXG4gIGlmICh0eXBlID0gc2NoZW1hLm5vZGVzLmltYWdlKVxuICByLmluc2VydEltYWdlID0gaW5zZXJ0SW1hZ2VJdGVtKHR5cGUpXG4gIGlmICh0eXBlID0gc2NoZW1hLm5vZGVzLmJ1bGxldF9saXN0KVxuICByLndyYXBCdWxsZXRMaXN0ID0gd3JhcExpc3RJdGVtKHR5cGUsIHtcbiAgdGl0bGU6IFwiV3JhcCBpbiBidWxsZXQgbGlzdFwiLFxuICBpY29uOiBpY29ucy5idWxsZXRMaXN0XG4gIH0pXG4gIGlmICh0eXBlID0gc2NoZW1hLm5vZGVzLm9yZGVyZWRfbGlzdClcbiAgci53cmFwT3JkZXJlZExpc3QgPSB3cmFwTGlzdEl0ZW0odHlwZSwge1xuICB0aXRsZTogXCJXcmFwIGluIG9yZGVyZWQgbGlzdFwiLFxuICBpY29uOiBpY29ucy5vcmRlcmVkTGlzdFxuICB9KVxuICBpZiAodHlwZSA9IHNjaGVtYS5ub2Rlcy5ibG9ja3F1b3RlKVxuICByLndyYXBCbG9ja1F1b3RlID0gd3JhcEl0ZW0odHlwZSwge1xuICB0aXRsZTogXCJXcmFwIGluIGJsb2NrIHF1b3RlXCIsXG4gIGljb246IGljb25zLmJsb2NrcXVvdGVcbiAgfSlcbiAgaWYgKHR5cGUgPSBzY2hlbWEubm9kZXMucGFyYWdyYXBoKVxuICByLm1ha2VQYXJhZ3JhcGggPSBibG9ja1R5cGVJdGVtKHR5cGUsIHtcbiAgdGl0bGU6IFwiQ2hhbmdlIHRvIHBhcmFncmFwaFwiLFxuICBsYWJlbDogXCJQbGFpblwiXG4gIH0pXG4gIGlmICh0eXBlID0gc2NoZW1hLm5vZGVzLmNvZGVfYmxvY2spXG4gIHIubWFrZUNvZGVCbG9jayA9IGJsb2NrVHlwZUl0ZW0odHlwZSwge1xuICB0aXRsZTogXCJDaGFuZ2UgdG8gY29kZSBibG9ja1wiLFxuICBsYWJlbDogXCJDb2RlXCJcbiAgfSlcbiAgaWYgKHR5cGUgPSBzY2hlbWEubm9kZXMuaGVhZGluZylcbiAgZm9yIChsZXQgaSA9IDE7IGkgPD0gMTA7IGkrKylcbiAgcltcIm1ha2VIZWFkXCIgKyBpXSA9IGJsb2NrVHlwZUl0ZW0odHlwZSwge1xuICAgIHRpdGxlOiBcIkNoYW5nZSB0byBoZWFkaW5nIFwiICsgaSxcbiAgICBsYWJlbDogXCJMZXZlbCBcIiArIGksXG4gICAgYXR0cnM6IHtsZXZlbDogaX1cbiAgfSlcbiAgaWYgKHR5cGUgPSBzY2hlbWEubm9kZXMuaG9yaXpvbnRhbF9ydWxlKSB7XG4gICAgbGV0IGhyID0gdHlwZVxuICAgIHIuaW5zZXJ0SG9yaXpvbnRhbFJ1bGUgPSBuZXcgTWVudUl0ZW0oe1xuICAgICAgdGl0bGU6IFwiSW5zZXJ0IGhvcml6b250YWwgcnVsZVwiLFxuICAgICAgbGFiZWw6IFwiSG9yaXpvbnRhbCBydWxlXCIsXG4gICAgICBlbmFibGUoc3RhdGUpIHsgcmV0dXJuIGNhbkluc2VydChzdGF0ZSwgaHIpIH0sXG4gICAgICBydW4oc3RhdGUsIGRpc3BhdGNoKSB7IGRpc3BhdGNoKHN0YXRlLnRyLnJlcGxhY2VTZWxlY3Rpb25XaXRoKGhyLmNyZWF0ZSgpKSkgfVxuICAgIH0pXG4gIH1cbiAgaWYgKHR5cGUgPSBzY2hlbWEubm9kZXMuZG9jdW1lbnQpIHtcbiAgICBsZXQgZG9jdW1lbnQgPSB0eXBlXG4gICAgci5pbnNlcnREb2N1bWVudCA9IG5ldyBNZW51SXRlbSh7XG4gICAgICB0aXRsZTogXCJJbnNlcnQgRG9jdW1lbnRcIixcbiAgICAgIGxhYmVsOiBcIkludGVyYWN0aW9uXCIsXG4gICAgICBlbmFibGUoc3RhdGUpIHsgcmV0dXJuIGNhbkluc2VydChzdGF0ZSwgZG9jdW1lbnQpIH0sXG4gICAgICBydW4oc3RhdGUsIGRpc3BhdGNoKSB7IGRpc3BhdGNoKHN0YXRlLnRyLnJlcGxhY2VTZWxlY3Rpb25XaXRoKGRvY3VtZW50LmNyZWF0ZUFuZEZpbGwoKSkpIH1cbiAgICB9KVxuICB9XG5cbmxldCBjdXQgPSBhcnIgPT4gYXJyLmZpbHRlcih4ID0+IHgpXG5yLmluc2VydE1lbnUgPSBuZXcgRHJvcGRvd24oY3V0KFtyLmluc2VydEltYWdlLCByLmluc2VydEhvcml6b250YWxSdWxlLCByLmluc2VydERvY3VtZW50XSksIHtsYWJlbDogXCJJbnNlcnRcIn0pXG5yLnR5cGVNZW51ID0gbmV3IERyb3Bkb3duKGN1dChbci5tYWtlUGFyYWdyYXBoLCByLm1ha2VDb2RlQmxvY2ssIHIubWFrZUhlYWQxICYmIG5ldyBEcm9wZG93blN1Ym1lbnUoY3V0KFtcbnIubWFrZUhlYWQxLCByLm1ha2VIZWFkMiwgci5tYWtlSGVhZDMsIHIubWFrZUhlYWQ0LCByLm1ha2VIZWFkNSwgci5tYWtlSGVhZDZcbl0pLCB7bGFiZWw6IFwiSGVhZGluZ1wifSldKSwge2xhYmVsOiBcIlR5cGUuLi5cIn0pXG5cbnIuaW5saW5lTWVudSA9IFtjdXQoW3IudG9nZ2xlU3Ryb25nLCByLnRvZ2dsZUVtLCByLnRvZ2dsZUNvZGUsIHIudG9nZ2xlTGlua10pXVxuci5ibG9ja01lbnUgPSBbY3V0KFtyLndyYXBCdWxsZXRMaXN0LCByLndyYXBPcmRlcmVkTGlzdCwgci53cmFwQmxvY2tRdW90ZSwgam9pblVwSXRlbSxcbiAgICAgICAgICAgICAgICAgbGlmdEl0ZW0sIHNlbGVjdFBhcmVudE5vZGVJdGVtXSldXG5yLmZ1bGxNZW51ID0gci5pbmxpbmVNZW51LmNvbmNhdChbW3IuaW5zZXJ0TWVudSwgci50eXBlTWVudV1dLCBbW3VuZG9JdGVtLCByZWRvSXRlbV1dLCByLmJsb2NrTWVudSlcblxucmV0dXJuIHJcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcblxudmFyIHByb3NlbWlycm9yU3RhdGUgPSByZXF1aXJlKCdwcm9zZW1pcnJvci1zdGF0ZScpO1xudmFyIHByb3NlbWlycm9yVHJhbnNmb3JtID0gcmVxdWlyZSgncHJvc2VtaXJyb3ItdHJhbnNmb3JtJyk7XG5cbi8vIDo6LSBJbnB1dCBydWxlcyBhcmUgcmVndWxhciBleHByZXNzaW9ucyBkZXNjcmliaW5nIGEgcGllY2Ugb2YgdGV4dFxuLy8gdGhhdCwgd2hlbiB0eXBlZCwgY2F1c2VzIHNvbWV0aGluZyB0byBoYXBwZW4uIFRoaXMgbWlnaHQgYmVcbi8vIGNoYW5naW5nIHR3byBkYXNoZXMgaW50byBhbiBlbWRhc2gsIHdyYXBwaW5nIGEgcGFyYWdyYXBoIHN0YXJ0aW5nXG4vLyB3aXRoIGBcIj4gXCJgIGludG8gYSBibG9ja3F1b3RlLCBvciBzb21ldGhpbmcgZW50aXJlbHkgZGlmZmVyZW50LlxudmFyIElucHV0UnVsZSA9IGZ1bmN0aW9uIElucHV0UnVsZShtYXRjaCwgaGFuZGxlcikge1xuICB0aGlzLm1hdGNoID0gbWF0Y2g7XG4gIHRoaXMuaGFuZGxlciA9IHR5cGVvZiBoYW5kbGVyID09IFwic3RyaW5nXCIgPyBzdHJpbmdIYW5kbGVyKGhhbmRsZXIpIDogaGFuZGxlcjtcbn07XG5cbmZ1bmN0aW9uIHN0cmluZ0hhbmRsZXIoc3RyaW5nKSB7XG4gIHJldHVybiBmdW5jdGlvbihzdGF0ZSwgbWF0Y2gsIHN0YXJ0LCBlbmQpIHtcbiAgICB2YXIgaW5zZXJ0ID0gc3RyaW5nO1xuICAgIGlmIChtYXRjaFsxXSkge1xuICAgICAgdmFyIG9mZnNldCA9IG1hdGNoWzBdLmxhc3RJbmRleE9mKG1hdGNoWzFdKTtcbiAgICAgIGluc2VydCArPSBtYXRjaFswXS5zbGljZShvZmZzZXQgKyBtYXRjaFsxXS5sZW5ndGgpO1xuICAgICAgc3RhcnQgKz0gb2Zmc2V0O1xuICAgICAgdmFyIGN1dE9mZiA9IHN0YXJ0IC0gZW5kO1xuICAgICAgaWYgKGN1dE9mZiA+IDApIHtcbiAgICAgICAgaW5zZXJ0ID0gbWF0Y2hbMF0uc2xpY2Uob2Zmc2V0IC0gY3V0T2ZmLCBvZmZzZXQpICsgaW5zZXJ0O1xuICAgICAgICBzdGFydCA9IGVuZDtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIG1hcmtzID0gc3RhdGUuZG9jLnJlc29sdmUoc3RhcnQpLm1hcmtzKCk7XG4gICAgcmV0dXJuIHN0YXRlLnRyLnJlcGxhY2VXaXRoKHN0YXJ0LCBlbmQsIHN0YXRlLnNjaGVtYS50ZXh0KGluc2VydCwgbWFya3MpKVxuICB9XG59XG5cbnZhciBNQVhfTUFUQ0ggPSA1MDA7XG5cbi8vIDo6IChjb25maWc6IHtydWxlczogW0lucHV0UnVsZV19KSDihpIgUGx1Z2luXG4vLyBDcmVhdGUgYW4gaW5wdXQgcnVsZXMgcGx1Z2luLiBXaGVuIGVuYWJsZWQsIGl0IHdpbGwgY2F1c2UgdGV4dFxuLy8gaW5wdXQgdGhhdCBtYXRjaGVzIGFueSBvZiB0aGUgZ2l2ZW4gcnVsZXMgdG8gdHJpZ2dlciB0aGUgcnVsZSdzXG4vLyBhY3Rpb24uXG5mdW5jdGlvbiBpbnB1dFJ1bGVzKHJlZikge1xuICB2YXIgcnVsZXMgPSByZWYucnVsZXM7XG5cbiAgcmV0dXJuIG5ldyBwcm9zZW1pcnJvclN0YXRlLlBsdWdpbih7XG4gICAgc3RhdGU6IHtcbiAgICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7IHJldHVybiBudWxsIH0sXG4gICAgICBhcHBseTogZnVuY3Rpb24gYXBwbHkodHIsIHByZXYpIHtcbiAgICAgICAgdmFyIHN0b3JlZCA9IHRyLmdldE1ldGEodGhpcyk7XG4gICAgICAgIGlmIChzdG9yZWQpIHsgcmV0dXJuIHN0b3JlZCB9XG4gICAgICAgIHJldHVybiB0ci5zZWxlY3Rpb25TZXQgfHwgdHIuZG9jQ2hhbmdlZCA/IG51bGwgOiBwcmV2XG4gICAgICB9XG4gICAgfSxcblxuICAgIHByb3BzOiB7XG4gICAgICBoYW5kbGVUZXh0SW5wdXQ6IGZ1bmN0aW9uIGhhbmRsZVRleHRJbnB1dCh2aWV3LCBmcm9tLCB0bywgdGV4dCkge1xuICAgICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgICAgICB2YXIgc3RhdGUgPSB2aWV3LnN0YXRlLCAkZnJvbSA9IHN0YXRlLmRvYy5yZXNvbHZlKGZyb20pO1xuICAgICAgICBpZiAoJGZyb20ucGFyZW50LnR5cGUuc3BlYy5jb2RlKSB7IHJldHVybiBmYWxzZSB9XG4gICAgICAgIHZhciB0ZXh0QmVmb3JlID0gJGZyb20ucGFyZW50LnRleHRCZXR3ZWVuKE1hdGgubWF4KDAsICRmcm9tLnBhcmVudE9mZnNldCAtIE1BWF9NQVRDSCksICRmcm9tLnBhcmVudE9mZnNldCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCwgXCJcXHVmZmZjXCIpICsgdGV4dDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBydWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBtYXRjaCA9IHJ1bGVzW2ldLm1hdGNoLmV4ZWModGV4dEJlZm9yZSk7XG4gICAgICAgICAgdmFyIHRyID0gbWF0Y2ggJiYgcnVsZXNbaV0uaGFuZGxlcihzdGF0ZSwgbWF0Y2gsIGZyb20gLSAobWF0Y2hbMF0ubGVuZ3RoIC0gdGV4dC5sZW5ndGgpLCB0byk7XG4gICAgICAgICAgaWYgKCF0cikgeyBjb250aW51ZSB9XG4gICAgICAgICAgdmlldy5kaXNwYXRjaCh0ci5zZXRNZXRhKHRoaXMkMSwge3RyYW5zZm9ybTogdHIsIGZyb206IGZyb20sIHRvOiB0bywgdGV4dDogdGV4dH0pKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBpc0lucHV0UnVsZXM6IHRydWVcbiAgfSlcbn1cblxuLy8gOjogKEVkaXRvclN0YXRlLCA/KFRyYW5zYWN0aW9uKSkg4oaSIGJvb2xcbi8vIFRoaXMgaXMgYSBjb21tYW5kIHRoYXQgd2lsbCB1bmRvIGFuIGlucHV0IHJ1bGUsIGlmIGFwcGx5aW5nIHN1Y2ggYVxuLy8gcnVsZSB3YXMgdGhlIGxhc3QgdGhpbmcgdGhhdCB0aGUgdXNlciBkaWQuXG5mdW5jdGlvbiB1bmRvSW5wdXRSdWxlKHN0YXRlLCBkaXNwYXRjaCkge1xuICB2YXIgcGx1Z2lucyA9IHN0YXRlLnBsdWdpbnM7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcGx1Z2lucy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBwbHVnaW4gPSBwbHVnaW5zW2ldLCB1bmRvYWJsZSA9ICh2b2lkIDApO1xuICAgIGlmIChwbHVnaW4uc3BlYy5pc0lucHV0UnVsZXMgJiYgKHVuZG9hYmxlID0gcGx1Z2luLmdldFN0YXRlKHN0YXRlKSkpIHtcbiAgICAgIGlmIChkaXNwYXRjaCkge1xuICAgICAgICB2YXIgdHIgPSBzdGF0ZS50ciwgdG9VbmRvID0gdW5kb2FibGUudHJhbnNmb3JtO1xuICAgICAgICBmb3IgKHZhciBqID0gdG9VbmRvLnN0ZXBzLmxlbmd0aCAtIDE7IGogPj0gMDsgai0tKVxuICAgICAgICAgIHsgdHIuc3RlcCh0b1VuZG8uc3RlcHNbal0uaW52ZXJ0KHRvVW5kby5kb2NzW2pdKSk7IH1cbiAgICAgICAgdmFyIG1hcmtzID0gdHIuZG9jLnJlc29sdmUodW5kb2FibGUuZnJvbSkubWFya3MoKTtcbiAgICAgICAgZGlzcGF0Y2godHIucmVwbGFjZVdpdGgodW5kb2FibGUuZnJvbSwgdW5kb2FibGUudG8sIHN0YXRlLnNjaGVtYS50ZXh0KHVuZG9hYmxlLnRleHQsIG1hcmtzKSkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlXG59XG5cbi8vIDo6IElucHV0UnVsZSBDb252ZXJ0cyBkb3VibGUgZGFzaGVzIHRvIGFuIGVtZGFzaC5cbnZhciBlbURhc2ggPSBuZXcgSW5wdXRSdWxlKC8tLSQvLCBcIuKAlFwiKTtcbi8vIDo6IElucHV0UnVsZSBDb252ZXJ0cyB0aHJlZSBkb3RzIHRvIGFuIGVsbGlwc2lzIGNoYXJhY3Rlci5cbnZhciBlbGxpcHNpcyA9IG5ldyBJbnB1dFJ1bGUoL1xcLlxcLlxcLiQvLCBcIuKAplwiKTtcbi8vIDo6IElucHV0UnVsZSDigJxTbWFydOKAnSBvcGVuaW5nIGRvdWJsZSBxdW90ZXMuXG52YXIgb3BlbkRvdWJsZVF1b3RlID0gbmV3IElucHV0UnVsZSgvKD86XnxbXFxzXFx7XFxbXFwoXFw8J1wiXFx1MjAxOFxcdTIwMUNdKShcIikkLywgXCLigJxcIik7XG4vLyA6OiBJbnB1dFJ1bGUg4oCcU21hcnTigJ0gY2xvc2luZyBkb3VibGUgcXVvdGVzLlxudmFyIGNsb3NlRG91YmxlUXVvdGUgPSBuZXcgSW5wdXRSdWxlKC9cIiQvLCBcIuKAnVwiKTtcbi8vIDo6IElucHV0UnVsZSDigJxTbWFydOKAnSBvcGVuaW5nIHNpbmdsZSBxdW90ZXMuXG52YXIgb3BlblNpbmdsZVF1b3RlID0gbmV3IElucHV0UnVsZSgvKD86XnxbXFxzXFx7XFxbXFwoXFw8J1wiXFx1MjAxOFxcdTIwMUNdKSgnKSQvLCBcIuKAmFwiKTtcbi8vIDo6IElucHV0UnVsZSDigJxTbWFydOKAnSBjbG9zaW5nIHNpbmdsZSBxdW90ZXMuXG52YXIgY2xvc2VTaW5nbGVRdW90ZSA9IG5ldyBJbnB1dFJ1bGUoLyckLywgXCLigJlcIik7XG5cbi8vIDo6IFtJbnB1dFJ1bGVdIFNtYXJ0LXF1b3RlIHJlbGF0ZWQgaW5wdXQgcnVsZXMuXG52YXIgc21hcnRRdW90ZXMgPSBbb3BlbkRvdWJsZVF1b3RlLCBjbG9zZURvdWJsZVF1b3RlLCBvcGVuU2luZ2xlUXVvdGUsIGNsb3NlU2luZ2xlUXVvdGVdO1xuXG4vLyA6OiAoUmVnRXhwLCBOb2RlVHlwZSwgP3VuaW9uPE9iamVjdCwgKFtzdHJpbmddKSDihpIgP09iamVjdD4sID8oW3N0cmluZ10sIE5vZGUpIOKGkiBib29sKSDihpIgSW5wdXRSdWxlXG4vLyBCdWlsZCBhbiBpbnB1dCBydWxlIGZvciBhdXRvbWF0aWNhbGx5IHdyYXBwaW5nIGEgdGV4dGJsb2NrIHdoZW4gYVxuLy8gZ2l2ZW4gc3RyaW5nIGlzIHR5cGVkLiBUaGUgYHJlZ2V4cGAgYXJndW1lbnQgaXNcbi8vIGRpcmVjdGx5IHBhc3NlZCB0aHJvdWdoIHRvIHRoZSBgSW5wdXRSdWxlYCBjb25zdHJ1Y3Rvci4gWW91J2xsXG4vLyBwcm9iYWJseSB3YW50IHRoZSByZWdleHAgdG8gc3RhcnQgd2l0aCBgXmAsIHNvIHRoYXQgdGhlIHBhdHRlcm4gY2FuXG4vLyBvbmx5IG9jY3VyIGF0IHRoZSBzdGFydCBvZiBhIHRleHRibG9jay5cbi8vXG4vLyBgbm9kZVR5cGVgIGlzIHRoZSB0eXBlIG9mIG5vZGUgdG8gd3JhcCBpbi4gSWYgaXQgbmVlZHMgYXR0cmlidXRlcyxcbi8vIHlvdSBjYW4gZWl0aGVyIHBhc3MgdGhlbSBkaXJlY3RseSwgb3IgcGFzcyBhIGZ1bmN0aW9uIHRoYXQgd2lsbFxuLy8gY29tcHV0ZSB0aGVtIGZyb20gdGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiBtYXRjaC5cbi8vXG4vLyBCeSBkZWZhdWx0LCBpZiB0aGVyZSdzIGEgbm9kZSB3aXRoIHRoZSBzYW1lIHR5cGUgYWJvdmUgdGhlIG5ld2x5XG4vLyB3cmFwcGVkIG5vZGUsIHRoZSBydWxlIHdpbGwgdHJ5IHRvIFtqb2luXSgjdHJhbnNmb3JtLlRyYW5zZm9ybS5qb2luKSB0aG9zZVxuLy8gdHdvIG5vZGVzLiBZb3UgY2FuIHBhc3MgYSBqb2luIHByZWRpY2F0ZSwgd2hpY2ggdGFrZXMgYSByZWd1bGFyXG4vLyBleHByZXNzaW9uIG1hdGNoIGFuZCB0aGUgbm9kZSBiZWZvcmUgdGhlIHdyYXBwZWQgbm9kZSwgYW5kIGNhblxuLy8gcmV0dXJuIGEgYm9vbGVhbiB0byBpbmRpY2F0ZSB3aGV0aGVyIGEgam9pbiBzaG91bGQgaGFwcGVuLlxuZnVuY3Rpb24gd3JhcHBpbmdJbnB1dFJ1bGUocmVnZXhwLCBub2RlVHlwZSwgZ2V0QXR0cnMsIGpvaW5QcmVkaWNhdGUpIHtcbiAgcmV0dXJuIG5ldyBJbnB1dFJ1bGUocmVnZXhwLCBmdW5jdGlvbiAoc3RhdGUsIG1hdGNoLCBzdGFydCwgZW5kKSB7XG4gICAgdmFyIGF0dHJzID0gZ2V0QXR0cnMgaW5zdGFuY2VvZiBGdW5jdGlvbiA/IGdldEF0dHJzKG1hdGNoKSA6IGdldEF0dHJzO1xuICAgIHZhciB0ciA9IHN0YXRlLnRyLmRlbGV0ZShzdGFydCwgZW5kKTtcbiAgICB2YXIgJHN0YXJ0ID0gdHIuZG9jLnJlc29sdmUoc3RhcnQpLCByYW5nZSA9ICRzdGFydC5ibG9ja1JhbmdlKCksIHdyYXBwaW5nID0gcmFuZ2UgJiYgcHJvc2VtaXJyb3JUcmFuc2Zvcm0uZmluZFdyYXBwaW5nKHJhbmdlLCBub2RlVHlwZSwgYXR0cnMpO1xuICAgIGlmICghd3JhcHBpbmcpIHsgcmV0dXJuIG51bGwgfVxuICAgIHRyLndyYXAocmFuZ2UsIHdyYXBwaW5nKTtcbiAgICB2YXIgYmVmb3JlID0gdHIuZG9jLnJlc29sdmUoc3RhcnQgLSAxKS5ub2RlQmVmb3JlO1xuICAgIGlmIChiZWZvcmUgJiYgYmVmb3JlLnR5cGUgPT0gbm9kZVR5cGUgJiYgcHJvc2VtaXJyb3JUcmFuc2Zvcm0uY2FuSm9pbih0ci5kb2MsIHN0YXJ0IC0gMSkgJiZcbiAgICAgICAgKCFqb2luUHJlZGljYXRlIHx8IGpvaW5QcmVkaWNhdGUobWF0Y2gsIGJlZm9yZSkpKVxuICAgICAgeyB0ci5qb2luKHN0YXJ0IC0gMSk7IH1cbiAgICByZXR1cm4gdHJcbiAgfSlcbn1cblxuLy8gOjogKFJlZ0V4cCwgTm9kZVR5cGUsID91bmlvbjxPYmplY3QsIChbc3RyaW5nXSkg4oaSID9PYmplY3Q+KSDihpIgSW5wdXRSdWxlXG4vLyBCdWlsZCBhbiBpbnB1dCBydWxlIHRoYXQgY2hhbmdlcyB0aGUgdHlwZSBvZiBhIHRleHRibG9jayB3aGVuIHRoZVxuLy8gbWF0Y2hlZCB0ZXh0IGlzIHR5cGVkIGludG8gaXQuIFlvdSdsbCB1c3VhbGx5IHdhbnQgdG8gc3RhcnQgeW91clxuLy8gcmVnZXhwIHdpdGggYF5gIHRvIHRoYXQgaXQgaXMgb25seSBtYXRjaGVkIGF0IHRoZSBzdGFydCBvZiBhXG4vLyB0ZXh0YmxvY2suIFRoZSBvcHRpb25hbCBgZ2V0QXR0cnNgIHBhcmFtZXRlciBjYW4gYmUgdXNlZCB0byBjb21wdXRlXG4vLyB0aGUgbmV3IG5vZGUncyBhdHRyaWJ1dGVzLCBhbmQgd29ya3MgdGhlIHNhbWUgYXMgaW4gdGhlXG4vLyBgd3JhcHBpbmdJbnB1dFJ1bGVgIGZ1bmN0aW9uLlxuZnVuY3Rpb24gdGV4dGJsb2NrVHlwZUlucHV0UnVsZShyZWdleHAsIG5vZGVUeXBlLCBnZXRBdHRycykge1xuICByZXR1cm4gbmV3IElucHV0UnVsZShyZWdleHAsIGZ1bmN0aW9uIChzdGF0ZSwgbWF0Y2gsIHN0YXJ0LCBlbmQpIHtcbiAgICB2YXIgJHN0YXJ0ID0gc3RhdGUuZG9jLnJlc29sdmUoc3RhcnQpO1xuICAgIHZhciBhdHRycyA9IGdldEF0dHJzIGluc3RhbmNlb2YgRnVuY3Rpb24gPyBnZXRBdHRycyhtYXRjaCkgOiBnZXRBdHRycztcbiAgICBpZiAoISRzdGFydC5ub2RlKC0xKS5jYW5SZXBsYWNlV2l0aCgkc3RhcnQuaW5kZXgoLTEpLCAkc3RhcnQuaW5kZXhBZnRlcigtMSksIG5vZGVUeXBlKSkgeyByZXR1cm4gbnVsbCB9XG4gICAgcmV0dXJuIHN0YXRlLnRyXG4gICAgICAuZGVsZXRlKHN0YXJ0LCBlbmQpXG4gICAgICAuc2V0QmxvY2tUeXBlKHN0YXJ0LCBzdGFydCwgbm9kZVR5cGUsIGF0dHJzKVxuICB9KVxufVxuXG5leHBvcnRzLklucHV0UnVsZSA9IElucHV0UnVsZTtcbmV4cG9ydHMuaW5wdXRSdWxlcyA9IGlucHV0UnVsZXM7XG5leHBvcnRzLnVuZG9JbnB1dFJ1bGUgPSB1bmRvSW5wdXRSdWxlO1xuZXhwb3J0cy5lbURhc2ggPSBlbURhc2g7XG5leHBvcnRzLmVsbGlwc2lzID0gZWxsaXBzaXM7XG5leHBvcnRzLm9wZW5Eb3VibGVRdW90ZSA9IG9wZW5Eb3VibGVRdW90ZTtcbmV4cG9ydHMuY2xvc2VEb3VibGVRdW90ZSA9IGNsb3NlRG91YmxlUXVvdGU7XG5leHBvcnRzLm9wZW5TaW5nbGVRdW90ZSA9IG9wZW5TaW5nbGVRdW90ZTtcbmV4cG9ydHMuY2xvc2VTaW5nbGVRdW90ZSA9IGNsb3NlU2luZ2xlUXVvdGU7XG5leHBvcnRzLnNtYXJ0UXVvdGVzID0gc21hcnRRdW90ZXM7XG5leHBvcnRzLndyYXBwaW5nSW5wdXRSdWxlID0gd3JhcHBpbmdJbnB1dFJ1bGU7XG5leHBvcnRzLnRleHRibG9ja1R5cGVJbnB1dFJ1bGUgPSB0ZXh0YmxvY2tUeXBlSW5wdXRSdWxlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG4iLCJcbmltcG9ydCB7d3JhcEluLCBzZXRCbG9ja1R5cGUsIGNoYWluQ29tbWFuZHMsIHRvZ2dsZU1hcmssIGV4aXRDb2RlLFxuICBqb2luVXAsIGpvaW5Eb3duLCBsaWZ0LCBzZWxlY3RQYXJlbnROb2RlfSBmcm9tIFwicHJvc2VtaXJyb3ItY29tbWFuZHNcIlxuaW1wb3J0IHt3cmFwSW5MaXN0LCBzcGxpdExpc3RJdGVtLCBsaWZ0TGlzdEl0ZW0sIHNpbmtMaXN0SXRlbX0gZnJvbSBcInByb3NlbWlycm9yLXNjaGVtYS1saXN0XCJcbmltcG9ydCB7dW5kbywgcmVkb30gZnJvbSBcInByb3NlbWlycm9yLWhpc3RvcnlcIlxuaW1wb3J0IHt1bmRvSW5wdXRSdWxlfSBmcm9tIFwicHJvc2VtaXJyb3ItaW5wdXRydWxlc1wiXG5cbmNvbnN0IG1hYyA9IHR5cGVvZiBuYXZpZ2F0b3IgIT0gXCJ1bmRlZmluZWRcIiA/IC9NYWMvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKSA6IGZhbHNlXG5cbi8vIDo6IChTY2hlbWEsID9PYmplY3QpIOKGkiBPYmplY3Rcbi8vIEluc3BlY3QgdGhlIGdpdmVuIHNjaGVtYSBsb29raW5nIGZvciBtYXJrcyBhbmQgbm9kZXMgZnJvbSB0aGVcbi8vIGJhc2ljIHNjaGVtYSwgYW5kIGlmIGZvdW5kLCBhZGQga2V5IGJpbmRpbmdzIHJlbGF0ZWQgdG8gdGhlbS5cbi8vIFRoaXMgd2lsbCBhZGQ6XG4vL1xuLy8gKiAqKk1vZC1iKiogZm9yIHRvZ2dsaW5nIFtzdHJvbmddKCNzY2hlbWEtYmFzaWMuU3Ryb25nTWFyaylcbi8vICogKipNb2QtaSoqIGZvciB0b2dnbGluZyBbZW1waGFzaXNdKCNzY2hlbWEtYmFzaWMuRW1NYXJrKVxuLy8gKiAqKk1vZC1gKiogZm9yIHRvZ2dsaW5nIFtjb2RlIGZvbnRdKCNzY2hlbWEtYmFzaWMuQ29kZU1hcmspXG4vLyAqICoqQ3RybC1TaGlmdC0wKiogZm9yIG1ha2luZyB0aGUgY3VycmVudCB0ZXh0YmxvY2sgYSBwYXJhZ3JhcGhcbi8vICogKipDdHJsLVNoaWZ0LTEqKiB0byAqKkN0cmwtU2hpZnQtRGlnaXQ2KiogZm9yIG1ha2luZyB0aGUgY3VycmVudFxuLy8gICB0ZXh0YmxvY2sgYSBoZWFkaW5nIG9mIHRoZSBjb3JyZXNwb25kaW5nIGxldmVsXG4vLyAqICoqQ3RybC1TaGlmdC1CYWNrc2xhc2gqKiB0byBtYWtlIHRoZSBjdXJyZW50IHRleHRibG9jayBhIGNvZGUgYmxvY2tcbi8vICogKipDdHJsLVNoaWZ0LTgqKiB0byB3cmFwIHRoZSBzZWxlY3Rpb24gaW4gYW4gb3JkZXJlZCBsaXN0XG4vLyAqICoqQ3RybC1TaGlmdC05KiogdG8gd3JhcCB0aGUgc2VsZWN0aW9uIGluIGEgYnVsbGV0IGxpc3Rcbi8vICogKipDdHJsLT4qKiB0byB3cmFwIHRoZSBzZWxlY3Rpb24gaW4gYSBibG9jayBxdW90ZVxuLy8gKiAqKkVudGVyKiogdG8gc3BsaXQgYSBub24tZW1wdHkgdGV4dGJsb2NrIGluIGEgbGlzdCBpdGVtIHdoaWxlIGF0XG4vLyAgIHRoZSBzYW1lIHRpbWUgc3BsaXR0aW5nIHRoZSBsaXN0IGl0ZW1cbi8vICogKipNb2QtRW50ZXIqKiB0byBpbnNlcnQgYSBoYXJkIGJyZWFrXG4vLyAqICoqTW9kLV8qKiB0byBpbnNlcnQgYSBob3Jpem9udGFsIHJ1bGVcbi8vICogKipCYWNrc3BhY2UqKiB0byB1bmRvIGFuIGlucHV0IHJ1bGVcbi8vICogKipBbHQtQXJyb3dVcCoqIHRvIGBqb2luVXBgXG4vLyAqICoqQWx0LUFycm93RG93bioqIHRvIGBqb2luRG93bmBcbi8vICogKipNb2QtQnJhY2tldExlZnQqKiB0byBgbGlmdGBcbi8vICogKipFc2NhcGUqKiB0byBgc2VsZWN0UGFyZW50Tm9kZWBcbi8vXG4vLyBZb3UgY2FuIHN1cHByZXNzIG9yIG1hcCB0aGVzZSBiaW5kaW5ncyBieSBwYXNzaW5nIGEgYG1hcEtleXNgXG4vLyBhcmd1bWVudCwgd2hpY2ggbWFwcyBrZXkgbmFtZXMgKHNheSBgXCJNb2QtQlwiYCB0byBlaXRoZXIgYGZhbHNlYCwgdG9cbi8vIHJlbW92ZSB0aGUgYmluZGluZywgb3IgYSBuZXcga2V5IG5hbWUgc3RyaW5nLlxuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkS2V5bWFwKHNjaGVtYSwgbWFwS2V5cykge1xubGV0IGtleXMgPSB7fSwgdHlwZVxuZnVuY3Rpb24gYmluZChrZXksIGNtZCkge1xuaWYgKG1hcEtleXMpIHtcbmxldCBtYXBwZWQgPSBtYXBLZXlzW2tleV1cbmlmIChtYXBwZWQgPT09IGZhbHNlKSByZXR1cm5cbmlmIChtYXBwZWQpIGtleSA9IG1hcHBlZFxufVxua2V5c1trZXldID0gY21kXG59XG5cblxuYmluZChcIk1vZC16XCIsIHVuZG8pXG5iaW5kKFwiU2hpZnQtTW9kLXpcIiwgcmVkbylcbmJpbmQoXCJCYWNrc3BhY2VcIiwgdW5kb0lucHV0UnVsZSlcbmlmICghbWFjKSBiaW5kKFwiTW9kLXlcIiwgcmVkbylcblxuYmluZChcIkFsdC1BcnJvd1VwXCIsIGpvaW5VcClcbmJpbmQoXCJBbHQtQXJyb3dEb3duXCIsIGpvaW5Eb3duKVxuYmluZChcIk1vZC1CcmFja2V0TGVmdFwiLCBsaWZ0KVxuYmluZChcIkVzY2FwZVwiLCBzZWxlY3RQYXJlbnROb2RlKVxuXG5pZiAodHlwZSA9IHNjaGVtYS5tYXJrcy5zdHJvbmcpXG5iaW5kKFwiTW9kLWJcIiwgdG9nZ2xlTWFyayh0eXBlKSlcbmlmICh0eXBlID0gc2NoZW1hLm1hcmtzLmVtKVxuYmluZChcIk1vZC1pXCIsIHRvZ2dsZU1hcmsodHlwZSkpXG5pZiAodHlwZSA9IHNjaGVtYS5tYXJrcy5jb2RlKVxuYmluZChcIk1vZC1gXCIsIHRvZ2dsZU1hcmsodHlwZSkpXG5cbmlmICh0eXBlID0gc2NoZW1hLm5vZGVzLmJ1bGxldF9saXN0KVxuYmluZChcIlNoaWZ0LUN0cmwtOFwiLCB3cmFwSW5MaXN0KHR5cGUpKVxuaWYgKHR5cGUgPSBzY2hlbWEubm9kZXMub3JkZXJlZF9saXN0KVxuYmluZChcIlNoaWZ0LUN0cmwtOVwiLCB3cmFwSW5MaXN0KHR5cGUpKVxuaWYgKHR5cGUgPSBzY2hlbWEubm9kZXMuYmxvY2txdW90ZSlcbmJpbmQoXCJDdHJsLT5cIiwgd3JhcEluKHR5cGUpKVxuaWYgKHR5cGUgPSBzY2hlbWEubm9kZXMuaGFyZF9icmVhaykge1xubGV0IGJyID0gdHlwZSwgY21kID0gY2hhaW5Db21tYW5kcyhleGl0Q29kZSwgKHN0YXRlLCBkaXNwYXRjaCkgPT4ge1xuZGlzcGF0Y2goc3RhdGUudHIucmVwbGFjZVNlbGVjdGlvbldpdGgoYnIuY3JlYXRlKCkpLnNjcm9sbEludG9WaWV3KCkpXG5yZXR1cm4gdHJ1ZVxufSlcbmJpbmQoXCJNb2QtRW50ZXJcIiwgY21kKVxuYmluZChcIlNoaWZ0LUVudGVyXCIsIGNtZClcbmlmIChtYWMpIGJpbmQoXCJDdHJsLUVudGVyXCIsIGNtZClcbn1cbmlmICh0eXBlID0gc2NoZW1hLm5vZGVzLmxpc3RfaXRlbSkge1xuYmluZChcIkVudGVyXCIsIHNwbGl0TGlzdEl0ZW0odHlwZSkpXG5iaW5kKFwiTW9kLVtcIiwgbGlmdExpc3RJdGVtKHR5cGUpKVxuYmluZChcIk1vZC1dXCIsIHNpbmtMaXN0SXRlbSh0eXBlKSlcbn1cbmlmICh0eXBlID0gc2NoZW1hLm5vZGVzLnBhcmFncmFwaClcbmJpbmQoXCJTaGlmdC1DdHJsLTBcIiwgc2V0QmxvY2tUeXBlKHR5cGUpKVxuaWYgKHR5cGUgPSBzY2hlbWEubm9kZXMuY29kZV9ibG9jaylcbmJpbmQoXCJTaGlmdC1DdHJsLVxcXFxcIiwgc2V0QmxvY2tUeXBlKHR5cGUpKVxuaWYgKHR5cGUgPSBzY2hlbWEubm9kZXMuaGVhZGluZylcbmZvciAobGV0IGkgPSAxOyBpIDw9IDY7IGkrKykgYmluZChcIlNoaWZ0LUN0cmwtXCIgKyBpLCBzZXRCbG9ja1R5cGUodHlwZSwge2xldmVsOiBpfSkpXG5pZiAodHlwZSA9IHNjaGVtYS5ub2Rlcy5ob3Jpem9udGFsX3J1bGUpIHtcbmxldCBociA9IHR5cGVcbmJpbmQoXCJNb2QtX1wiLCAoc3RhdGUsIGRpc3BhdGNoKSA9PiB7XG5kaXNwYXRjaChzdGF0ZS50ci5yZXBsYWNlU2VsZWN0aW9uV2l0aChoci5jcmVhdGUoKSkuc2Nyb2xsSW50b1ZpZXcoKSlcbnJldHVybiB0cnVlXG59KVxufVxuXG5yZXR1cm4ga2V5c1xufVxuIiwiaW1wb3J0IHtpbnB1dFJ1bGVzLCB3cmFwcGluZ0lucHV0UnVsZSwgdGV4dGJsb2NrVHlwZUlucHV0UnVsZSxcbiAgc21hcnRRdW90ZXMsIGVtRGFzaCwgZWxsaXBzaXN9IGZyb20gXCJwcm9zZW1pcnJvci1pbnB1dHJ1bGVzXCJcblxuLy8gOiAoTm9kZVR5cGUpIOKGkiBJbnB1dFJ1bGVcbi8vIEdpdmVuIGEgYmxvY2txdW90ZSBub2RlIHR5cGUsIHJldHVybnMgYW4gaW5wdXQgcnVsZSB0aGF0IHR1cm5zIGBcIj4gXCJgXG4vLyBhdCB0aGUgc3RhcnQgb2YgYSB0ZXh0YmxvY2sgaW50byBhIGJsb2NrcXVvdGUuXG5leHBvcnQgZnVuY3Rpb24gYmxvY2tRdW90ZVJ1bGUobm9kZVR5cGUpIHtcbnJldHVybiB3cmFwcGluZ0lucHV0UnVsZSgvXlxccyo+XFxzJC8sIG5vZGVUeXBlKVxufVxuXG4vLyA6IChOb2RlVHlwZSkg4oaSIElucHV0UnVsZVxuLy8gR2l2ZW4gYSBsaXN0IG5vZGUgdHlwZSwgcmV0dXJucyBhbiBpbnB1dCBydWxlIHRoYXQgdHVybnMgYSBudW1iZXJcbi8vIGZvbGxvd2VkIGJ5IGEgZG90IGF0IHRoZSBzdGFydCBvZiBhIHRleHRibG9jayBpbnRvIGFuIG9yZGVyZWQgbGlzdC5cbmV4cG9ydCBmdW5jdGlvbiBvcmRlcmVkTGlzdFJ1bGUobm9kZVR5cGUpIHtcbnJldHVybiB3cmFwcGluZ0lucHV0UnVsZSgvXihcXGQrKVxcLlxccyQvLCBub2RlVHlwZSwgbWF0Y2ggPT4gKHtvcmRlcjogK21hdGNoWzFdfSksXG4gICAgICAgICAgICAgICAgICAgICAobWF0Y2gsIG5vZGUpID0+IG5vZGUuY2hpbGRDb3VudCArIG5vZGUuYXR0cnMub3JkZXIgPT0gK21hdGNoWzFdKVxufVxuXG4vLyA6IChOb2RlVHlwZSkg4oaSIElucHV0UnVsZVxuLy8gR2l2ZW4gYSBsaXN0IG5vZGUgdHlwZSwgcmV0dXJucyBhbiBpbnB1dCBydWxlIHRoYXQgdHVybnMgYSBidWxsZXRcbi8vIChkYXNoLCBwbHVzaCwgb3IgYXN0ZXJpc2spIGF0IHRoZSBzdGFydCBvZiBhIHRleHRibG9jayBpbnRvIGFcbi8vIGJ1bGxldCBsaXN0LlxuZXhwb3J0IGZ1bmN0aW9uIGJ1bGxldExpc3RSdWxlKG5vZGVUeXBlKSB7XG5yZXR1cm4gd3JhcHBpbmdJbnB1dFJ1bGUoL15cXHMqKFstKypdKVxccyQvLCBub2RlVHlwZSlcbn1cblxuLy8gOiAoTm9kZVR5cGUpIOKGkiBJbnB1dFJ1bGVcbi8vIEdpdmVuIGEgY29kZSBibG9jayBub2RlIHR5cGUsIHJldHVybnMgYW4gaW5wdXQgcnVsZSB0aGF0IHR1cm5zIGFcbi8vIHRleHRibG9jayBzdGFydGluZyB3aXRoIHRocmVlIGJhY2t0aWNrcyBpbnRvIGEgY29kZSBibG9jay5cbmV4cG9ydCBmdW5jdGlvbiBjb2RlQmxvY2tSdWxlKG5vZGVUeXBlKSB7XG5yZXR1cm4gdGV4dGJsb2NrVHlwZUlucHV0UnVsZSgvXmBgYCQvLCBub2RlVHlwZSlcbn1cblxuLy8gOiAoTm9kZVR5cGUsIG51bWJlcikg4oaSIElucHV0UnVsZVxuLy8gR2l2ZW4gYSBub2RlIHR5cGUgYW5kIGEgbWF4aW11bSBsZXZlbCwgY3JlYXRlcyBhbiBpbnB1dCBydWxlIHRoYXRcbi8vIHR1cm5zIHVwIHRvIHRoYXQgbnVtYmVyIG9mIGAjYCBjaGFyYWN0ZXJzIGZvbGxvd2VkIGJ5IGEgc3BhY2UgYXRcbi8vIHRoZSBzdGFydCBvZiBhIHRleHRibG9jayBpbnRvIGEgaGVhZGluZyB3aG9zZSBsZXZlbCBjb3JyZXNwb25kcyB0b1xuLy8gdGhlIG51bWJlciBvZiBgI2Agc2lnbnMuXG5leHBvcnQgZnVuY3Rpb24gaGVhZGluZ1J1bGUobm9kZVR5cGUsIG1heExldmVsKSB7XG5yZXR1cm4gdGV4dGJsb2NrVHlwZUlucHV0UnVsZShuZXcgUmVnRXhwKFwiXigjezEsXCIgKyBtYXhMZXZlbCArIFwifSlcXFxccyRcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVUeXBlLCBtYXRjaCA9PiAoe2xldmVsOiBtYXRjaFsxXS5sZW5ndGh9KSlcbn1cblxuLy8gOiAoU2NoZW1hKSDihpIgUGx1Z2luXG4vLyBBIHNldCBvZiBpbnB1dCBydWxlcyBmb3IgY3JlYXRpbmcgdGhlIGJhc2ljIGJsb2NrIHF1b3RlcywgbGlzdHMsXG4vLyBjb2RlIGJsb2NrcywgYW5kIGhlYWRpbmcuXG5leHBvcnQgZnVuY3Rpb24gYnVpbGRJbnB1dFJ1bGVzKHNjaGVtYSkge1xubGV0IHJ1bGVzID0gc21hcnRRdW90ZXMuY29uY2F0KGVsbGlwc2lzLCBlbURhc2gpLCB0eXBlXG5pZiAodHlwZSA9IHNjaGVtYS5ub2Rlcy5ibG9ja3F1b3RlKSBydWxlcy5wdXNoKGJsb2NrUXVvdGVSdWxlKHR5cGUpKVxuaWYgKHR5cGUgPSBzY2hlbWEubm9kZXMub3JkZXJlZF9saXN0KSBydWxlcy5wdXNoKG9yZGVyZWRMaXN0UnVsZSh0eXBlKSlcbmlmICh0eXBlID0gc2NoZW1hLm5vZGVzLmJ1bGxldF9saXN0KSBydWxlcy5wdXNoKGJ1bGxldExpc3RSdWxlKHR5cGUpKVxuaWYgKHR5cGUgPSBzY2hlbWEubm9kZXMuY29kZV9ibG9jaykgcnVsZXMucHVzaChjb2RlQmxvY2tSdWxlKHR5cGUpKVxuaWYgKHR5cGUgPSBzY2hlbWEubm9kZXMuaGVhZGluZykgcnVsZXMucHVzaChoZWFkaW5nUnVsZSh0eXBlLCA2KSlcbnJldHVybiBpbnB1dFJ1bGVzKHtydWxlc30pXG59XG4iLCJleHBvcnQgY29uc3QgZG9jdW1lbnQgPSB7XG4gIHBhcnNlRE9NOiBbe3RhZzogXCJkaXZcIn1dLFxuICBjb250ZW50OiBcInBhcmFncmFwaCBlbnRyeUNvbmRpdGlvbnswLDF9IChwYXJhZ3JhcGggfCB0ZXN0IHwgZXhhbSkqIGV4aXRDb25kaXRpb257MCwxfVwiLFxuICBncm91cDogXCJibG9ja1wiLFxuICB0b0RPTSgpIHsgcmV0dXJuIFtcImRpdlwiLCB7Y2xhc3M6ICdzc19kb2N1bWVudCd9LCAwXSB9LFxuICBkZWZpbmluZzogdHJ1ZVxufVxuXG5leHBvcnQgY29uc3QgZW50cnlDb25kaXRpb24gPSB7XG4gIGF0dHJzOiB7XG4gICAgY29uZGl0aW9uczogeyBkZWZhdWx0OiBbXSB9LFxuICB9LFxuICBwYXJzZURPTTogW3t0YWc6IFwiZGl2XCJ9XSxcbiAgdG9ET00oKSB7IHJldHVybiBbXCJkaXZcIiwge2NsYXNzOiAnc3NfZW50cnlfY29uZGl0aW9uJ30sIDBdIH0sXG4gIGRlZmluaW5nOiB0cnVlXG59XG5cbmV4cG9ydCBjb25zdCBleGl0Q29uZGl0aW9uID0ge1xuICBhdHRyczoge1xuICAgIGNvbmRpdGlvbnM6IHsgZGVmYXVsdDogW10gfSxcbiAgfSxcbiAgcGFyc2VET006IFt7dGFnOiBcImRpdlwifV0sXG4gIHRvRE9NKCkgeyByZXR1cm4gW1wiZGl2XCIsIHtjbGFzczogJ3NzX2V4aXRfY29uZGl0aW9uJ30sIDBdIH0sXG4gIGRlZmluaW5nOiB0cnVlXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGREb2N1bWVudE5vZGVzKG5vZGVzLCBpdGVtQ29udGVudCwgbGlzdEdyb3VwKSB7XG4gIHJldHVybiBub2Rlcy5hcHBlbmQoe1xuICAgIGRvY3VtZW50LFxuICAgIGVudHJ5Q29uZGl0aW9uLFxuICAgIGV4aXRDb25kaXRpb24sXG4gIH0pXG59XG4iLCJleHBvcnQgY29uc3QgdGVzdCA9IHtcbiAgYXR0cnM6IHtcbiAgICB0eXBlOiB7IGRlZmF1bHQ6ICcnIH0sXG4gIH0sXG4gIHBhcnNlRE9NOiBbe3RhZzogXCJkaXZcIn1dLFxuICBjb250ZW50OiBcInF1ZXN0aW9uezF9IGFuc3dlcns0fVwiLFxuICBncm91cDogXCJibG9ja1wiLFxuICB0b0RPTSgpIHsgcmV0dXJuIFtcImRpdlwiLCB7Y2xhc3M6ICdzc190ZXN0J30sIDBdIH0sXG59XG5cbmV4cG9ydCBjb25zdCBxdWVzdGlvbiA9IHtcbiAgY29udGVudDogXCJpbmxpbmUqXCIsXG4gIGdyb3VwOiBcImJsb2NrXCIsXG4gIHBhcnNlRE9NOiBbe3RhZzogXCJkaXZcIn1dLFxuICB0b0RPTSgpIHsgcmV0dXJuIFtcImRpdlwiLCB7Y2xhc3M6ICdzc19xdWVzdGlvbid9LCAwXSB9LFxufVxuXG5leHBvcnQgY29uc3QgYW5zd2VyID0ge1xuICBjb250ZW50OiBcImlubGluZSpcIixcbiAgZ3JvdXA6IFwiYmxvY2tcIixcbiAgcGFyc2VET006IFt7dGFnOiBcImRpdlwifV0sXG4gIHRvRE9NKCkgeyByZXR1cm4gW1wiZGl2XCIsIHtjbGFzczogJ3NzX2Fuc3dlcid9LCAwXSB9LFxufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkVGVzdE5vZGVzKG5vZGVzLCBpdGVtQ29udGVudCwgbGlzdEdyb3VwKSB7XG4gIHJldHVybiBub2Rlcy5hcHBlbmQoe1xuICAgIHRlc3QsXG4gICAgcXVlc3Rpb24sXG4gICAgYW5zd2VyLFxuICB9KVxufVxuIiwiZXhwb3J0IGNvbnN0IGV4YW0gPSB7XG4gIHBhcnNlRE9NOiBbe3RhZzogXCJkaXZcIn1dLFxuICBjb250ZW50OiBcInF1ZXN0aW9uezF9IGFuc3dlcnsxfVwiLFxuICBncm91cDogXCJibG9ja1wiLFxuICB0b0RPTSgpIHsgcmV0dXJuIFtcImRpdlwiLCB7Y2xhc3M6ICdzc190ZXN0J30sIDBdIH0sXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRFeGFtTm9kZXMobm9kZXMsIGl0ZW1Db250ZW50LCBsaXN0R3JvdXApIHtcbiAgcmV0dXJuIG5vZGVzLmFwcGVuZCh7XG4gICAgZXhhbSxcbiAgfSlcbn1cbiIsImltcG9ydCB7a2V5bWFwfSBmcm9tIFwicHJvc2VtaXJyb3Ita2V5bWFwXCJcbmltcG9ydCB7aGlzdG9yeX0gZnJvbSBcInByb3NlbWlycm9yLWhpc3RvcnlcIlxuaW1wb3J0IHtiYXNlS2V5bWFwfSBmcm9tIFwicHJvc2VtaXJyb3ItY29tbWFuZHNcIlxuaW1wb3J0IHtQbHVnaW59IGZyb20gXCJwcm9zZW1pcnJvci1zdGF0ZVwiXG5pbXBvcnQge2Ryb3BDdXJzb3J9IGZyb20gXCJwcm9zZW1pcnJvci1kcm9wY3Vyc29yXCJcbmltcG9ydCB7Z2FwQ3Vyc29yfSBmcm9tIFwicHJvc2VtaXJyb3ItZ2FwY3Vyc29yXCJcbmltcG9ydCB7bWVudUJhcn0gZnJvbSBcInByb3NlbWlycm9yLW1lbnVcIlxuXG5pbXBvcnQge2J1aWxkTWVudUl0ZW1zfSBmcm9tIFwiLi9tZW51XCJcbmltcG9ydCB7YnVpbGRLZXltYXB9IGZyb20gXCIuL2tleW1hcFwiXG5pbXBvcnQge2J1aWxkSW5wdXRSdWxlc30gZnJvbSBcIi4vaW5wdXRydWxlc1wiXG5cbmltcG9ydCB7IGFkZERvY3VtZW50Tm9kZXMgfSBmcm9tICcuL3NjaGVtYS9kb2N1bWVudCc7XG5pbXBvcnQgeyBhZGRUZXN0Tm9kZXMgfSBmcm9tICcuL3NjaGVtYS90ZXN0JztcbmltcG9ydCB7IGFkZEV4YW1Ob2RlcyB9IGZyb20gJy4vc2NoZW1hL2V4YW0nO1xuXG5leHBvcnQge1xuICBidWlsZE1lbnVJdGVtcyxcbiAgYnVpbGRLZXltYXAsXG4gIGJ1aWxkSW5wdXRSdWxlcyxcbiAgYWRkRG9jdW1lbnROb2RlcyxcbiAgYWRkVGVzdE5vZGVzLFxuICBhZGRFeGFtTm9kZXMsXG59O1xuXG4vLyAhISBUaGlzIG1vZHVsZSBleHBvcnRzIGhlbHBlciBmdW5jdGlvbnMgZm9yIGRlcml2aW5nIGEgc2V0IG9mIGJhc2ljXG4vLyBtZW51IGl0ZW1zLCBpbnB1dCBydWxlcywgb3Iga2V5IGJpbmRpbmdzIGZyb20gYSBzY2hlbWEuIFRoZXNlXG4vLyB2YWx1ZXMgbmVlZCB0byBrbm93IGFib3V0IHRoZSBzY2hlbWEgZm9yIHR3byByZWFzb25z4oCUdGhleSBuZWVkXG4vLyBhY2Nlc3MgdG8gc3BlY2lmaWMgaW5zdGFuY2VzIG9mIG5vZGUgYW5kIG1hcmsgdHlwZXMsIGFuZCB0aGV5IG5lZWRcbi8vIHRvIGtub3cgd2hpY2ggb2YgdGhlIG5vZGUgYW5kIG1hcmsgdHlwZXMgdGhhdCB0aGV5IGtub3cgYWJvdXQgYXJlXG4vLyBhY3R1YWxseSBwcmVzZW50IGluIHRoZSBzY2hlbWEuXG4vL1xuLy8gVGhlIGBleGFtcGxlU2V0dXBgIHBsdWdpbiB0aWVzIHRoZXNlIHRvZ2V0aGVyIGludG8gYSBwbHVnaW4gdGhhdFxuLy8gd2lsbCBhdXRvbWF0aWNhbGx5IGVuYWJsZSB0aGlzIGJhc2ljIGZ1bmN0aW9uYWxpdHkgaW4gYW4gZWRpdG9yLlxuXG4vLyA6OiAoT2JqZWN0KSDihpIgW1BsdWdpbl1cbi8vIEEgY29udmVuaWVuY2UgcGx1Z2luIHRoYXQgYnVuZGxlcyB0b2dldGhlciBhIHNpbXBsZSBtZW51IHdpdGggYmFzaWNcbi8vIGtleSBiaW5kaW5ncywgaW5wdXQgcnVsZXMsIGFuZCBzdHlsaW5nIGZvciB0aGUgZXhhbXBsZSBzY2hlbWEuXG4vLyBQcm9iYWJseSBvbmx5IHVzZWZ1bCBmb3IgcXVpY2tseSBzZXR0aW5nIHVwIGEgcGFzc2FibGVcbi8vIGVkaXRvcuKAlHlvdSdsbCBuZWVkIG1vcmUgY29udHJvbCBvdmVyIHlvdXIgc2V0dGluZ3MgaW4gbW9zdFxuLy8gcmVhbC13b3JsZCBzaXR1YXRpb25zLlxuLy9cbi8vICAgb3B0aW9uczo6LSBUaGUgZm9sbG93aW5nIG9wdGlvbnMgYXJlIHJlY29nbml6ZWQ6XG4vL1xuLy8gICAgIHNjaGVtYTo6IFNjaGVtYVxuLy8gICAgIFRoZSBzY2hlbWEgdG8gZ2VuZXJhdGUga2V5IGJpbmRpbmdzIGFuZCBtZW51IGl0ZW1zIGZvci5cbi8vXG4vLyAgICAgbWFwS2V5czo6ID9PYmplY3Rcbi8vICAgICBDYW4gYmUgdXNlZCB0byBbYWRqdXN0XSgjZXhhbXBsZS1zZXR1cC5idWlsZEtleW1hcCkgdGhlIGtleSBiaW5kaW5ncyBjcmVhdGVkLlxuLy9cbi8vICAgICBtZW51QmFyOjogP2Jvb2xcbi8vICAgICBTZXQgdG8gZmFsc2UgdG8gZGlzYWJsZSB0aGUgbWVudSBiYXIuXG4vL1xuLy8gICAgIGhpc3Rvcnk6OiA/Ym9vbFxuLy8gICAgIFNldCB0byBmYWxzZSB0byBkaXNhYmxlIHRoZSBoaXN0b3J5IHBsdWdpbi5cbi8vXG4vLyAgICAgZmxvYXRpbmdNZW51OjogP2Jvb2xcbi8vICAgICBTZXQgdG8gZmFsc2UgdG8gbWFrZSB0aGUgbWVudSBiYXIgbm9uLWZsb2F0aW5nLlxuLy9cbi8vICAgICBtZW51Q29udGVudDo6IFtbTWVudUl0ZW1dXVxuLy8gICAgIENhbiBiZSB1c2VkIHRvIG92ZXJyaWRlIHRoZSBtZW51IGNvbnRlbnQuXG5leHBvcnQgZnVuY3Rpb24gZXhhbXBsZVNldHVwKG9wdGlvbnMpIHtcbiAgbGV0IHBsdWdpbnMgPSBbXG4gICAgYnVpbGRJbnB1dFJ1bGVzKG9wdGlvbnMuc2NoZW1hKSxcbiAgICBrZXltYXAoYnVpbGRLZXltYXAob3B0aW9ucy5zY2hlbWEsIG9wdGlvbnMubWFwS2V5cykpLFxuICAgIGtleW1hcChiYXNlS2V5bWFwKSxcbiAgICBkcm9wQ3Vyc29yKCksXG4gICAgZ2FwQ3Vyc29yKClcbiAgXVxuICBpZiAob3B0aW9ucy5tZW51QmFyICE9PSBmYWxzZSlcbiAgICBwbHVnaW5zLnB1c2gobWVudUJhcih7ZmxvYXRpbmc6IG9wdGlvbnMuZmxvYXRpbmdNZW51ICE9PSBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogb3B0aW9ucy5tZW51Q29udGVudCB8fCBidWlsZE1lbnVJdGVtcyhvcHRpb25zLnNjaGVtYSkuZnVsbE1lbnV9KSlcbiAgaWYgKG9wdGlvbnMuaGlzdG9yeSAhPT0gZmFsc2UpXG4gICAgcGx1Z2lucy5wdXNoKGhpc3RvcnkoKSlcblxuICByZXR1cm4gcGx1Z2lucy5jb25jYXQobmV3IFBsdWdpbih7XG4gICAgcHJvcHM6IHtcbiAgICAgIGF0dHJpYnV0ZXM6IHtjbGFzczogXCJQcm9zZU1pcnJvci1leGFtcGxlLXNldHVwLXN0eWxlXCJ9XG4gICAgfVxuICB9KSlcbn1cbiIsImltcG9ydCB7RWRpdG9yU3RhdGV9IGZyb20gXCJwcm9zZW1pcnJvci1zdGF0ZVwiO1xuaW1wb3J0IHtFZGl0b3JWaWV3fSBmcm9tIFwicHJvc2VtaXJyb3Itdmlld1wiO1xuaW1wb3J0IHtTY2hlbWEsIERPTVBhcnNlciwgTm9kZX0gZnJvbSBcInByb3NlbWlycm9yLW1vZGVsXCI7XG5pbXBvcnQge3NjaGVtYX0gZnJvbSBcInByb3NlbWlycm9yLXNjaGVtYS1iYXNpY1wiO1xuaW1wb3J0IHthZGRMaXN0Tm9kZXN9IGZyb20gXCJwcm9zZW1pcnJvci1zY2hlbWEtbGlzdFwiO1xuaW1wb3J0IHthZGREb2N1bWVudE5vZGVzLCBhZGRUZXN0Tm9kZXMsIGFkZEV4YW1Ob2RlcywgZXhhbXBsZVNldHVwfSBmcm9tIFwiLi4vc3JjL2luZGV4XCI7XG5cbmNsYXNzIERvY3VtZW50VmlldyB7XG4gIGNvbnN0cnVjdG9yKG5vZGUpIHtcbiAgICB0aGlzLmRvbSA9IHRoaXMuY29udGVudERPTSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcbiAgICB0aGlzLmRvbS5jbGFzc05hbWUgPSAnc3NfZG9jdW1lbnQnO1xuICAgIHRoaXMuZG9tLnRhYkluZGV4ID0gMDtcbiAgICB0aGlzLmRvbS5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNcIiwgZSA9PiB7XG4gICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NlbGVjdCcpLmxlbmd0aCA9PT0gMikgcmV0dXJuO1xuICAgICAgdmFyIHRvb2xiYXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidG9vbGJhclwiKS5hcHBlbmRDaGlsZCh0b29sYmFyKVxuICAgICAgdmFyIHNlbGVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIik7XG4gICAgICBzZWxlY3Quc3R5bGUgPSBcIm1hcmdpbi1ib3R0b206IDI1cHhcIjtcbiAgICAgIHRvb2xiYXIuYXBwZW5kQ2hpbGQoc2VsZWN0KTtcbiAgICAgIHZhciBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xuICAgICAgb3B0aW9uLnRleHQgPSBcIi0tLS0gU2VsZWN0IC0tLS1cIjtcbiAgICAgIHNlbGVjdC5hZGQob3B0aW9uKTtcbiAgICAgIHZhciBvcHRpb24wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcbiAgICAgIG9wdGlvbjAudGV4dCA9IFwiQWRkIGVudHJ5IGNvbmRpdGlvblwiO1xuICAgICAgb3B0aW9uMC52YWx1ZSA9IFwiZW50cnktY29uZGl0aW9uXCI7XG4gICAgICBzZWxlY3QuYWRkKG9wdGlvbjApO1xuICAgICAgdmFyIG9wdGlvbjIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xuICAgICAgb3B0aW9uMi50ZXh0ID0gXCJBZGQgTGVzc29uXCI7XG4gICAgICBvcHRpb24yLnZhbHVlID0gXCJxdWVzdGlvblwiO1xuICAgICAgc2VsZWN0LmFkZChvcHRpb24yKTtcbiAgICAgIHZhciBvcHRpb240ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcbiAgICAgIG9wdGlvbjQudGV4dCA9IFwiQWRkIE11bHRpcGxlIENob2ljZSBMZXNzb25cIjtcbiAgICAgIG9wdGlvbjQudmFsdWUgPSBcInF1ZXN0aW9uLTJcIjtcbiAgICAgIHNlbGVjdC5hZGQob3B0aW9uNCk7XG4gICAgICB2YXIgb3B0aW9uMyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XG4gICAgICBvcHRpb24zLnRleHQgPSBcIkFkZCBUZXN0XCI7XG4gICAgICBvcHRpb24zLnZhbHVlID0gXCJleGFtXCI7XG4gICAgICBzZWxlY3QuYWRkKG9wdGlvbjMpO1xuICAgICAgdmFyIG9wdGlvbjEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xuICAgICAgb3B0aW9uMS50ZXh0ID0gXCJBZGQgZXhpdCBjb25kaXRpb25cIjtcbiAgICAgIG9wdGlvbjEudmFsdWUgPSBcImV4aXQtY29uZGl0aW9uXCI7XG4gICAgICBzZWxlY3QuYWRkKG9wdGlvbjEpO1xuICAgICAgc2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgKGUpID0+IHtcbiAgICAgICAgdmFyIHZhbCA9IGUudGFyZ2V0Lm9wdGlvbnNbZS50YXJnZXQuc2VsZWN0ZWRJbmRleF0udmFsdWU7XG4gICAgICAgIGlmICh2YWwgPT09ICdlbnRyeS1jb25kaXRpb24nICYmICFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW50ci1jb25kaXRpb24nKSkge1xuICAgICAgICAgIHZhciB0b29sYmFyMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgdG9vbGJhcjIuaWQgPSBcImVudHItY29uZGl0aW9uXCI7XG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0b29sYmFyXCIpLmFwcGVuZENoaWxkKHRvb2xiYXIyKVxuICAgICAgICAgIHRvb2xiYXIyLnN0eWxlID0gXCJtYXJnaW4tYm90dG9tOiAxNXB4XCI7XG5cbiAgICAgICAgICB2YXIgc3BhbjAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgIHRvb2xiYXIyLmFwcGVuZENoaWxkKHNwYW4wKTtcbiAgICAgICAgICB2YXIgY2hlY2tib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgICAgICAgY2hlY2tib3gudHlwZSA9ICdjaGVja2JveCc7XG4gICAgICAgICAgc3BhbjAuYXBwZW5kQ2hpbGQoY2hlY2tib3gpO1xuICAgICAgICAgIHZhciBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgICAgICAgIGxhYmVsLmlubmVySFRNTCA9ICdVc2VyIGlzIGxvZ2dlZGluICEgJztcbiAgICAgICAgICBzcGFuMC5hcHBlbmRDaGlsZChsYWJlbCk7XG5cbiAgICAgICAgICBpZiAoZ2V0TGVzc29ucygpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHZhciBzcGFuMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICB0b29sYmFyMi5hcHBlbmRDaGlsZChzcGFuMSk7XG4gICAgICAgICAgICB2YXIgY2hlY2tib3gxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgICAgICAgICAgY2hlY2tib3gxLnR5cGUgPSAnY2hlY2tib3gnO1xuICAgICAgICAgICAgc3BhbjEuYXBwZW5kQ2hpbGQoY2hlY2tib3gxKTtcbiAgICAgICAgICAgIHZhciBsYWJlbDEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgICAgICAgIGxhYmVsMS5pbm5lckhUTUwgPSAnVXNlciBjb21wbGV0ZWQgbGVzc29uczonO1xuICAgICAgICAgICAgc3BhbjEuYXBwZW5kQ2hpbGQobGFiZWwxKTtcblxuICAgICAgICAgICAgZ2V0TGVzc29ucygpLmZvckVhY2gobCA9PiB7XG4gICAgICAgICAgICAgIHZhciBzcGFuTiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgIHNwYW5OLnN0eWxlID0gXCJtYXJnaW4tbGVmdDogNTBweFwiO1xuICAgICAgICAgICAgICBzcGFuMS5hcHBlbmRDaGlsZChzcGFuTik7XG4gICAgICAgICAgICAgIHZhciBjYmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgICAgICAgICAgIGNiay50eXBlID0gJ2NoZWNrYm94JztcbiAgICAgICAgICAgICAgY2JrLmNsYXNzTmFtZSA9ICdsZXNzb24nO1xuICAgICAgICAgICAgICBjYmsudmFsdWUgPSBsO1xuICAgICAgICAgICAgICBzcGFuTi5hcHBlbmRDaGlsZChjYmspO1xuICAgICAgICAgICAgICB2YXIgbGJsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICAgICAgICAgIGxibC5pbm5lckhUTUwgPSBsO1xuICAgICAgICAgICAgICBzcGFuTi5hcHBlbmRDaGlsZChsYmwpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgICAgICBidXR0b24udHlwZSA9ICdidXR0b24nO1xuICAgICAgICAgIGJ1dHRvbi52YWx1ZSA9ICdBZGQgISc7XG4gICAgICAgICAgYnV0dG9uLnN0eWxlID0gXCJtYXJnaW4tdG9wOiAyMHB4XCI7XG4gICAgICAgICAgdG9vbGJhcjIuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcblxuICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgc3RhdGUsIGRpc3BhdGNoIH0gPSB2aWV3O1xuICAgICAgICAgICAgY29uc3QgY29uZGl0aW9ucyA9IFtdXG4gICAgICAgICAgICBpZiAoY2hlY2tib3guY2hlY2tlZCkge1xuICAgICAgICAgICAgICBjb25kaXRpb25zLnB1c2goe25hbWU6ICd1c2VyX2xvZ2dlZGluJ30pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2hlY2tib3gxICYmIGNoZWNrYm94MS5jaGVja2VkKSB7XG4gICAgICAgICAgICAgIHZhciBsZXNzb25zID0gW107XG4gICAgICAgICAgICAgIGNvbnN0IGxlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2xlc3NvbicpO1xuICAgICAgICAgICAgICBmb3IodmFyIGkgPSAwO2kgPCBsZXMubGVuZ3RoO2krKyl7XG4gICAgICAgICAgICAgICAgdmFyIGVsbSA9IGxlcy5pdGVtKGkpO1xuICAgICAgICAgICAgICAgIGlmIChlbG0uY2hlY2tlZCkge1xuICAgICAgICAgICAgICAgICAgbGVzc29ucy5wdXNoKGVsbS52YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNvbmRpdGlvbnMucHVzaCh7bmFtZTogJ2NvbXBsZXRlZF9sZXNzb25zJywgbGVzc29uczogbGVzc29uc30pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkaXNwYXRjaChzdGF0ZS50ci5pbnNlcnQoXG4gICAgICAgICAgICAgIHN0YXRlLnNlbGVjdGlvbi4kdG8ucG9zLFxuICAgICAgICAgICAgICBzdGF0ZS5zY2hlbWEubm9kZXMuZW50cnlDb25kaXRpb24uY3JlYXRlQW5kRmlsbCh7Y29uZGl0aW9uc30pXG4gICAgICAgICAgICApKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsID09PSAnZXhpdC1jb25kaXRpb24nKSB7XG4gICAgICAgICAgdmFyIHRvb2xiYXIyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0b29sYmFyXCIpLmFwcGVuZENoaWxkKHRvb2xiYXIyKVxuICAgICAgICAgIHZhciByYWRpbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgICAgICByYWRpby50eXBlID0gJ3JhZGlvJztcbiAgICAgICAgICB0b29sYmFyMi5hcHBlbmRDaGlsZChyYWRpbyk7XG4gICAgICAgICAgdmFyIGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICAgICAgbGFiZWwuaW5uZXJIVE1MID0gJ1VzZXIgaGFzIGNvbXBsZXRlZCBsZXNzb25zICEnO1xuICAgICAgICAgIHRvb2xiYXIyLmFwcGVuZENoaWxkKGxhYmVsKTtcbiAgICAgICAgICByYWRpby5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgc3RhdGUsIGRpc3BhdGNoIH0gPSB2aWV3O1xuICAgICAgICAgICAgZGlzcGF0Y2goc3RhdGUudHIuaW5zZXJ0KHN0YXRlLnNlbGVjdGlvbi4kdG8ucG9zLCBzdGF0ZS5zY2hlbWEubm9kZXMuZXhpdENvbmRpdGlvbi5jcmVhdGVBbmRGaWxsKHtjb25kaXRpb25zOlsnbGVzc29uc19jb21wbGV0ZWQnXX0pKSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbCA9PT0gJ3F1ZXN0aW9uJykge1xuICAgICAgICAgIGNvbnN0IHsgc3RhdGUsIGRpc3BhdGNoIH0gPSB2aWV3O1xuICAgICAgICAgIGRpc3BhdGNoKHN0YXRlLnRyLmluc2VydChzdGF0ZS5zZWxlY3Rpb24uJHRvLnBvcywgc3RhdGUuc2NoZW1hLm5vZGVzLnRlc3QuY3JlYXRlQW5kRmlsbCgpKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbCA9PT0gJ3F1ZXN0aW9uLTInKSB7XG4gICAgICAgICAgY29uc3QgeyBzdGF0ZSwgZGlzcGF0Y2ggfSA9IHZpZXc7XG4gICAgICAgICAgZGlzcGF0Y2goc3RhdGUudHIuaW5zZXJ0KHN0YXRlLnNlbGVjdGlvbi4kdG8ucG9zLCBzdGF0ZS5zY2hlbWEubm9kZXMudGVzdC5jcmVhdGVBbmRGaWxsKHt0eXBlOiAnbXVsdGktY2hvaWNlJ30pKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbCA9PT0gJ2V4YW0nKSB7XG4gICAgICAgICAgY29uc3QgeyBzdGF0ZSwgZGlzcGF0Y2ggfSA9IHZpZXc7XG4gICAgICAgICAgZGlzcGF0Y2goc3RhdGUudHIuaW5zZXJ0KHN0YXRlLnNlbGVjdGlvbi4kdG8ucG9zLCBzdGF0ZS5zY2hlbWEubm9kZXMuZXhhbS5jcmVhdGVBbmRGaWxsKCkpKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBzZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcihcImJsdXJcIiwgKGUpID0+IHtcbiAgICAgICAgZS50YXJnZXQudmFsdWUgPSAnJztcbiAgICAgIH0pO1xuICAgIH0pXG4gIH1cbiAgc3RvcEV2ZW50KCkgeyByZXR1cm4gdHJ1ZSB9XG59XG5cbmNsYXNzIEVudHJ5Q29uZGl0aW9uVmlldyB7XG4gIGNvbnN0cnVjdG9yKG5vZGUpIHtcbiAgICB0aGlzLmRvbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcbiAgICB0aGlzLmRvbS5jbGFzc05hbWUgPSAnc3NfZW50cnlfY29uZGl0aW9uJztcbiAgICB2YXIgdGV4dCA9ICcnO1xuICAgIG5vZGUuYXR0cnMuY29uZGl0aW9ucy5mb3JFYWNoKGMgPT4ge1xuICAgICAgaWYgKGMubmFtZSA9PT0gJ3VzZXJfbG9nZ2VkaW4nKSB7XG4gICAgICAgIHRleHQgKz0gJ1VzZXIgc2hvdWxkIGJlIGxvZ2dlZGluLic7XG4gICAgICB9XG4gICAgICBpZiAoYy5uYW1lID09PSAnY29tcGxldGVkX2xlc3NvbnMnKSB7XG4gICAgICAgIGlmICh0ZXh0Lmxlbmd0aCA+IDApXG4gICAgICAgICAgdGV4dCArPSAnXFxuJztcbiAgICAgICAgdGV4dCArPSAnVXNlciBzaG91bGQgaGF2ZSBjb21wbGV0ZWQgbGVzc29uczogJyArIGMubGVzc29ucy5qb2luKCcsJyk7XG4gICAgICB9XG4gICAgfSlcbiAgICB0aGlzLmRvbS5pbm5lclRleHQgPSB0ZXh0O1xuICB9XG4gIHN0b3BFdmVudCgpIHsgcmV0dXJuIHRydWUgfVxufVxuXG5jbGFzcyBFeGl0Q29uZGl0aW9uVmlldyB7XG4gIGNvbnN0cnVjdG9yKG5vZGUpIHtcbiAgICB0aGlzLmRvbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcbiAgICB0aGlzLmRvbS5jbGFzc05hbWUgPSAnc3NfZXhpdF9jb25kaXRpb24nO1xuICAgIHRoaXMuZG9tLmlubmVyVGV4dCA9ICdVc2VyIGhhcyBjb21wbGV0ZWQgbGVzc29ucyc7XG4gIH1cbiAgc3RvcEV2ZW50KCkgeyByZXR1cm4gdHJ1ZSB9XG59XG5cbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0b3JfdmVyc2lvbicpLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgKGUpID0+IHtcbiAgdmFyIHZhbCA9IGUudGFyZ2V0Lm9wdGlvbnNbZS50YXJnZXQuc2VsZWN0ZWRJbmRleF0udmFsdWU7XG4gIGxvY2F0aW9uLnNlYXJjaD1cIj92ZXJzaW9uPVwiICsgdmFsXG59KTtcblxudmFyIHNlbFZlciA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2ggJiYgcGFyc2VJbnQod2luZG93LmxvY2F0aW9uLnNlYXJjaC5zdWJzdHIoOSkpO1xuY29uc3QgZWRpdG9yX3ZlcnNpb25zID0gW107XG5jb25zdCBlZGl0X3ZlciA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdlZGl0b3JfdmVyc2lvbicpO1xuaWYgKGVkaXRfdmVyICYmIGVkaXRfdmVyLmxlbmd0aCA+IDApIHtcbiAgdmFyIHNlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0b3JfdmVyc2lvbicpXG4gIGVkaXRfdmVyLnNwbGl0KCcsJykuZm9yRWFjaCh2YWwgPT4ge1xuICAgIGVkaXRvcl92ZXJzaW9ucy5wdXNoKHBhcnNlSW50KHZhbCkpO1xuICAgIHZhciBvcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xuICAgIG9wdC50ZXh0ID0gdmFsICsgJy4wMCc7XG4gICAgb3B0LnZhbHVlID0gdmFsO1xuICAgIHNlbC5hZGQob3B0KTtcbiAgfSlcbiAgc2VsLnZhbHVlID0gc2VsVmVyO1xufVxuXG5jb25zdCBteVNjaGVtYSA9IG5ldyBTY2hlbWEoe1xuICBub2RlczogYWRkRG9jdW1lbnROb2RlcyhhZGRFeGFtTm9kZXMoYWRkVGVzdE5vZGVzKGFkZExpc3ROb2RlcyhzY2hlbWEuc3BlYy5ub2RlcywgXCJwYXJhZ3JhcGggYmxvY2sqXCIsIFwiYmxvY2tcIikpKSksXG4gIG1hcmtzOiBzY2hlbWEuc3BlYy5tYXJrc1xufSk7XG5cbnZhciBzdDtcbmlmIChlZGl0b3JfdmVyc2lvbnMgJiYgZWRpdG9yX3ZlcnNpb25zLmxlbmd0aCA+IDAgJiYgc2VsVmVyKSB7XG4gIHN0ID0gRWRpdG9yU3RhdGUuY3JlYXRlKHtcbiAgICBkb2M6IE5vZGUuZnJvbUpTT04obXlTY2hlbWEsIEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2VkaXRvcl92ZXJzaW9uXycgKyBzZWxWZXIpKSksIC8vRE9NUGFyc2VyLmZyb21TY2hlbWEobXlTY2hlbWEpLnBhcnNlKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY29udGVudFwiKSksXG4gICAgcGx1Z2luczogZXhhbXBsZVNldHVwKHtzY2hlbWE6IG15U2NoZW1hfSlcbiAgfSlcbn0gZWxzZSB7XG4gIHN0ID0gRWRpdG9yU3RhdGUuY3JlYXRlKHtcbiAgICBkb2M6IERPTVBhcnNlci5mcm9tU2NoZW1hKG15U2NoZW1hKS5wYXJzZShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NvbnRlbnRcIikpLFxuICAgIHBsdWdpbnM6IGV4YW1wbGVTZXR1cCh7c2NoZW1hOiBteVNjaGVtYX0pXG4gIH0pXG59XG5cbmNvbnN0IHZpZXcgPSBuZXcgRWRpdG9yVmlldyhkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2VkaXRvclwiKSwge1xuICBzdGF0ZTogc3QsXG4gIG5vZGVWaWV3czoge1xuICAgIGRvY3VtZW50KG5vZGUpIHsgcmV0dXJuIG5ldyBEb2N1bWVudFZpZXcobm9kZSkgfSxcbiAgICBlbnRyeUNvbmRpdGlvbihub2RlKSB7IHJldHVybiBuZXcgRW50cnlDb25kaXRpb25WaWV3KG5vZGUpIH0sXG4gICAgZXhpdENvbmRpdGlvbihub2RlKSB7IHJldHVybiBuZXcgRXhpdENvbmRpdGlvblZpZXcobm9kZSkgfVxuICB9XG59KTtcblxud2luZG93LnZpZXcgPSB2aWV3O1xuXG5mdW5jdGlvbiBnZXRMZXNzb25zKCkge1xuICBjb25zdCBqc29uID0gdmlldy5zdGF0ZS5kb2MudG9KU09OKCk7XG4gIHZhciBkb2MgPSBqc29uLmNvbnRlbnQuZmlsdGVyKG4gPT4gbi50eXBlID09PSAnZG9jdW1lbnQnKTtcbiAgdmFyIGxlc3NvbnMgPSBbXTtcbiAgICBkb2MgJiYgZG9jLmZvckVhY2goKGQsIGkpID0+IHtcbiAgICAgIGlmIChkLmNvbnRlbnQpXG4gICAgICAgIGxlc3NvbnMgPSBsZXNzb25zLmNvbmNhdChkLmNvbnRlbnQuZmlsdGVyKG4gPT4gbi50eXBlID09PSAndGVzdCcpLm1hcChlID0+ICdMZXNzb24gJyArIChpICsgMSkpKTtcbiAgIH0pO1xuICAgcmV0dXJuIGxlc3NvbnM7XG59XG5cbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdqc29uJykuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gIHZhciBuZXdfVmVyc2lvbiA9IChlZGl0b3JfdmVyc2lvbnNbZWRpdG9yX3ZlcnNpb25zLmxlbmd0aCAtIDFdIHx8IDApICsgMTtcbiAgZWRpdG9yX3ZlcnNpb25zLnB1c2gobmV3X1ZlcnNpb24pO1xuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZWRpdG9yX3ZlcnNpb24nLCBlZGl0b3JfdmVyc2lvbnMuam9pbignLCcpKTtcbiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2VkaXRvcl92ZXJzaW9uXycgKyBuZXdfVmVyc2lvbiwgSlNPTi5zdHJpbmdpZnkodmlldy5zdGF0ZS5kb2MudG9KU09OKCkpKTtcblxuICB2YXIgc2VsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRvcl92ZXJzaW9uJylcbiAgdmFyIG9wdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XG4gIG9wdC50ZXh0ID0gbmV3X1ZlcnNpb24gKyAnLjAwJztcbiAgb3B0LnZhbHVlID0gbmV3X1ZlcnNpb247XG4gIHNlbC5hZGQob3B0KTtcblxuICB2YXIgZGF0YVN0ciA9IFwiZGF0YTp0ZXh0L2pzb247Y2hhcnNldD11dGYtOCxcIiArIGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeSh2aWV3LnN0YXRlLmRvYy50b0pTT04oKSwgbnVsbCwgNCkpO1xuICB2YXIgZGxBbmNob3JFbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rvd25sb2FkQW5jaG9yRWxlbScpO1xuICBkbEFuY2hvckVsZW0uc2V0QXR0cmlidXRlKFwiaHJlZlwiLCAgICAgZGF0YVN0ciAgICAgKTtcbiAgZGxBbmNob3JFbGVtLnNldEF0dHJpYnV0ZShcImRvd25sb2FkXCIsIFwic2NlbmUuanNvblwiKTtcbiAgZGxBbmNob3JFbGVtLmNsaWNrKCk7XG59KTtcblxuZnVuY3Rpb24gb25DaGFuZ2UoZXZlbnQpIHtcbiAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gIHJlYWRlci5vbmxvYWQgPSBvblJlYWRlckxvYWQ7XG4gIHJlYWRlci5yZWFkQXNUZXh0KGV2ZW50LnRhcmdldC5maWxlc1swXSk7XG59XG5cbmZ1bmN0aW9uIG9uUmVhZGVyTG9hZChldmVudCl7XG4gIHZhciBuZXdfVmVyc2lvbiA9IChlZGl0b3JfdmVyc2lvbnNbZWRpdG9yX3ZlcnNpb25zLmxlbmd0aCAtIDFdIHx8IDApICsgMTtcbiAgZWRpdG9yX3ZlcnNpb25zLnB1c2gobmV3X1ZlcnNpb24pO1xuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZWRpdG9yX3ZlcnNpb24nLCBlZGl0b3JfdmVyc2lvbnMuam9pbignLCcpKTtcbiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2VkaXRvcl92ZXJzaW9uXycgKyBuZXdfVmVyc2lvbiwgZXZlbnQudGFyZ2V0LnJlc3VsdCk7XG5cbiAgdmFyIHNlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0b3JfdmVyc2lvbicpXG4gIHZhciBvcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xuICBvcHQudGV4dCA9IG5ld19WZXJzaW9uICsgJy4wMCc7XG4gIG9wdC52YWx1ZSA9IG5ld19WZXJzaW9uO1xuICBzZWwuYWRkKG9wdCk7XG5cbiAgbG9jYXRpb24uc2VhcmNoPVwiP3ZlcnNpb249XCIgKyBuZXdfVmVyc2lvblxufVxuXG5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmlsZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIG9uQ2hhbmdlKTtcbiJdLCJuYW1lcyI6WyJyZXF1aXJlJCQwIiwicHJvc2VtaXJyb3JNb2RlbCIsInByb3NlbWlycm9yVHJhbnNmb3JtIiwicHJvc2VtaXJyb3JTdGF0ZSIsInByb3NlbWlycm9yVmlldyIsInByb3NlbWlycm9yS2V5bWFwIiwidGhpcyIsImNyZWwiLCJwcm9zZW1pcnJvckNvbW1hbmRzIiwicHJvc2VtaXJyb3JIaXN0b3J5IiwiaW5kZXgiLCJNZW51SXRlbSIsIk5vZGVTZWxlY3Rpb24iLCJ0b2dnbGVNYXJrIiwiaWNvbnMiLCJ3cmFwSW5MaXN0Iiwid3JhcEl0ZW0iLCJibG9ja1R5cGVJdGVtIiwiRHJvcGRvd24iLCJEcm9wZG93blN1Ym1lbnUiLCJqb2luVXBJdGVtIiwibGlmdEl0ZW0iLCJzZWxlY3RQYXJlbnROb2RlSXRlbSIsInVuZG9JdGVtIiwicmVkb0l0ZW0iLCJtYWMiLCJ1bmRvIiwicmVkbyIsInVuZG9JbnB1dFJ1bGUiLCJqb2luVXAiLCJqb2luRG93biIsImxpZnQiLCJzZWxlY3RQYXJlbnROb2RlIiwid3JhcEluIiwiY2hhaW5Db21tYW5kcyIsImV4aXRDb2RlIiwic3BsaXRMaXN0SXRlbSIsImxpZnRMaXN0SXRlbSIsInNpbmtMaXN0SXRlbSIsInNldEJsb2NrVHlwZSIsIndyYXBwaW5nSW5wdXRSdWxlIiwidGV4dGJsb2NrVHlwZUlucHV0UnVsZSIsInNtYXJ0UXVvdGVzIiwiZWxsaXBzaXMiLCJlbURhc2giLCJpbnB1dFJ1bGVzIiwiZG9jdW1lbnQiLCJrZXltYXAiLCJiYXNlS2V5bWFwIiwiZHJvcEN1cnNvciIsImdhcEN1cnNvciIsIm1lbnVCYXIiLCJoaXN0b3J5IiwiUGx1Z2luIiwiU2NoZW1hIiwiYWRkTGlzdE5vZGVzIiwic2NoZW1hIiwiRWRpdG9yU3RhdGUiLCJOb2RlIiwiRE9NUGFyc2VyIiwiRWRpdG9yVmlldyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7O0FBRUEsU0FBUyxVQUFVLENBQUMsT0FBTyxFQUFFO0VBQzNCLElBQUksQ0FBQyxPQUFPLEdBQUcsUUFBTztDQUN2Qjs7QUFFRCxVQUFVLENBQUMsU0FBUyxHQUFHO0VBQ3JCLFdBQVcsRUFBRSxVQUFVOztFQUV2QixJQUFJLEVBQUUsU0FBUyxHQUFHLEVBQUU7SUFDbEIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxFQUFFLENBQUMsSUFBSSxDQUFDO01BQzdDLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLEVBQUUsT0FBTyxDQUFDO0lBQ3ZDLE9BQU8sQ0FBQyxDQUFDO0dBQ1Y7Ozs7O0VBS0QsR0FBRyxFQUFFLFNBQVMsR0FBRyxFQUFFO0lBQ2pCLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFDO0lBQzFCLE9BQU8sS0FBSyxJQUFJLENBQUMsQ0FBQyxHQUFHLFNBQVMsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUM7R0FDekQ7Ozs7OztFQU1ELE1BQU0sRUFBRSxTQUFTLEdBQUcsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFO0lBQ25DLElBQUksSUFBSSxHQUFHLE1BQU0sSUFBSSxNQUFNLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLEdBQUcsS0FBSTtJQUMvRCxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssR0FBRTtJQUMxRCxJQUFJLEtBQUssSUFBSSxDQUFDLENBQUMsRUFBRTtNQUNmLE9BQU8sQ0FBQyxJQUFJLENBQUMsTUFBTSxJQUFJLEdBQUcsRUFBRSxLQUFLLEVBQUM7S0FDbkMsTUFBTTtNQUNMLE9BQU8sQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEdBQUcsTUFBSztNQUMxQixJQUFJLE1BQU0sRUFBRSxPQUFPLENBQUMsS0FBSyxDQUFDLEdBQUcsT0FBTTtLQUNwQztJQUNELE9BQU8sSUFBSSxVQUFVLENBQUMsT0FBTyxDQUFDO0dBQy9COzs7O0VBSUQsTUFBTSxFQUFFLFNBQVMsR0FBRyxFQUFFO0lBQ3BCLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFDO0lBQzFCLElBQUksS0FBSyxJQUFJLENBQUMsQ0FBQyxFQUFFLE9BQU8sSUFBSTtJQUM1QixJQUFJLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssR0FBRTtJQUNsQyxPQUFPLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxDQUFDLEVBQUM7SUFDeEIsT0FBTyxJQUFJLFVBQVUsQ0FBQyxPQUFPLENBQUM7R0FDL0I7Ozs7RUFJRCxVQUFVLEVBQUUsU0FBUyxHQUFHLEVBQUUsS0FBSyxFQUFFO0lBQy9CLE9BQU8sSUFBSSxVQUFVLENBQUMsQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUM7R0FDckU7Ozs7RUFJRCxRQUFRLEVBQUUsU0FBUyxHQUFHLEVBQUUsS0FBSyxFQUFFO0lBQzdCLElBQUksT0FBTyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDLEtBQUssR0FBRTtJQUM5QyxPQUFPLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxLQUFLLEVBQUM7SUFDeEIsT0FBTyxJQUFJLFVBQVUsQ0FBQyxPQUFPLENBQUM7R0FDL0I7Ozs7O0VBS0QsU0FBUyxFQUFFLFNBQVMsS0FBSyxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUU7SUFDckMsSUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsRUFBRSxPQUFPLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxLQUFLLEdBQUU7SUFDakUsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUM7SUFDL0IsT0FBTyxDQUFDLE1BQU0sQ0FBQyxLQUFLLElBQUksQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLE1BQU0sR0FBRyxLQUFLLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUM7SUFDbkUsT0FBTyxJQUFJLFVBQVUsQ0FBQyxPQUFPLENBQUM7R0FDL0I7Ozs7O0VBS0QsT0FBTyxFQUFFLFNBQVMsQ0FBQyxFQUFFO0lBQ25CLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sRUFBRSxDQUFDLElBQUksQ0FBQztNQUM3QyxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBQztHQUMxQzs7Ozs7RUFLRCxPQUFPLEVBQUUsU0FBUyxHQUFHLEVBQUU7SUFDckIsR0FBRyxHQUFHLFVBQVUsQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFDO0lBQzFCLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLE9BQU8sSUFBSTtJQUMxQixPQUFPLElBQUksVUFBVSxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUM7R0FDdEU7Ozs7O0VBS0QsTUFBTSxFQUFFLFNBQVMsR0FBRyxFQUFFO0lBQ3BCLEdBQUcsR0FBRyxVQUFVLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBQztJQUMxQixJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxPQUFPLElBQUk7SUFDMUIsT0FBTyxJQUFJLFVBQVUsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0dBQ3RFOzs7OztFQUtELFFBQVEsRUFBRSxTQUFTLEdBQUcsRUFBRTtJQUN0QixJQUFJLE1BQU0sR0FBRyxLQUFJO0lBQ2pCLEdBQUcsR0FBRyxVQUFVLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBQztJQUMxQixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxDQUFDLE9BQU8sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxJQUFJLENBQUM7TUFDNUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBQztJQUN4QyxPQUFPLE1BQU07R0FDZDs7OztFQUlELElBQUksSUFBSSxHQUFHO0lB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QyxJQUFJLEVBQUUsSUFBSSxDQUFDO01BQ3BCLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxHQUFHLElBQUksR0FBRyxDQUFDLENBQUMsRUFBRSxJQUFJLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxFQUFFOztJQUVqRCxJQUFJLE1BQU0sR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsTUFBTSxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxJQUFJLEdBQUcsTUFBTSxDQUFDLFFBQVEsQ0FBQztJQUMzRSxJQUFJLE1BQU0sSUFBSSxNQUFNLEVBQUU7TUFDcEIsSUFBSSxJQUFJLElBQUksQ0FBQyxDQUFDLElBQUksSUFBSSxJQUFJLENBQUM7TUFDM0IsUUFBUTtLQUNUOztJQUVELElBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDLENBQUMsRUFBRSxJQUFJLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxFQUFFOztJQUU3RCxJQUFJLE1BQU0sQ0FBQyxNQUFNLElBQUksTUFBTSxDQUFDLElBQUksSUFBSSxNQUFNLENBQUMsSUFBSSxFQUFFO01BQy9DLElBQUksSUFBSSxHQUFHLENBQUMsRUFBRSxPQUFPLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO01BQ3pFLE9BQU8sSUFBSSxHQUFHLE9BQU8sSUFBSSxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksR0FBRyxDQUFDLENBQUMsSUFBSSxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksR0FBRyxDQUFDLENBQUMsRUFBRTtRQUNqSCxJQUFJLEVBQUUsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsSUFBSSxF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SUFBSSxHQUFHLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxHQUFHLEdBQUcsTUFBTSxHQUFHLEdBQUcsQ0FBQyxRQUFRLENBQUM7SUFDdkQsSUFBSSxHQUFHLElBQUksR0FBRyxFQUFFO01BQ2QsSUFBSSxHQUFHLElBQUksR0FBRyxJQUFJLEtBQUssR0FBRyxDQUFDLEVBQUUsRUFBRSxPQUFPLFFBQVEsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxFQUFFO01BQzVELE9BQU8sUUFBUSxDQUFDLENBQUMsRUFBRSxNQUFNLENBQUM7S0FDM0I7SUFDRCxNQUFNLEdBQUcsR0FBRyxDQUFDO0dBQ2Q7Q0FDRixDQUFDOzs7O0FBSUYsUUFBUSxDQUFDLFNBQVMsQ0FBQyxRQUFRLEdBQUcsU0FBUyxRQUFRLElBQUksRUFBRSxPQUFPLEdBQUcsR0FBRyxJQUFJLENBQUMsYUFBYSxFQUFFLEdBQUcsR0FBRyxFQUFFLENBQUM7O0FBRS9GLFFBQVEsQ0FBQyxTQUFTLENBQUMsYUFBYSxHQUFHLFNBQVMsYUFBYSxJQUFJLEVBQUUsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDOzs7O0FBSWhHLFFBQVEsQ0FBQyxTQUFTLENBQUMsTUFBTSxHQUFHLFNBQVMsTUFBTSxJQUFJO0VBQzdDLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLEVBQUUsRUFBRSxPQUFPLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJO0NBQzFGLENBQUM7Ozs7QUFJRixRQUFRLENBQUMsUUFBUSxHQUFHLFNBQVMsUUFBUSxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUU7RUFDcEQsSUFBSSxDQUFDLEtBQUssRUFBRSxFQUFFLE9BQU8sUUFBUSxDQUFDLEtBQUssRUFBRTtFQUNyQyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxL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RUFBRTtFQUNoRSxPQUFPLElBQUksS0FBSyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLElBQUksR0FBRyxJQUFJLENBQUMsU0FBUyxFQUFFLEVBQUUsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUUsSUFBSSxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDO0NBQ3RILENBQUM7Ozs7QUFJRixLQUFLLENBQUMsU0FBUyxDQUFDLEVBQUUsR0FBRyxTQUFTLEVBQUUsRUFBRSxLQUFLLEVBQUU7RUFDdkMsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLElBQUksSUFBSSxDQUFDLFNBQVMsSUFBSSxLQUFLLENBQUMsU0FBUyxJQUFJLElBQUksQ0FBQyxPQUFPLElBQUksS0FBSyxDQUFDLE9BQU87Q0FDNUcsQ0FBQzs7QUFFRixLQUFLLENBQUMsU0FBUyxDQUFDLFFBQVEsR0FBRyxTQUFTLFFBQVEsSUFBSTtFQUM5QyxPQUFPLElBQUksQ0FBQyxPQUFPLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQyxTQUFTLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQyxPQUFPLEdBQUcsR0FBRztDQUN0RSxDQUFDOzs7O0FBSUYsS0FBSyxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUcsU0FBUyxNQUFNLElBQUk7RUFDMUMsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLEVBQUUsT0FBTyxJQUFJLEVBQUU7RUFDdkMsSUFBSSxJQUFJLEdBQUcsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDO0VBQzVDLElBQUksSUFBSSxDQUFDLFNBQVMsR0FBRyxDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsRUFBRTtFQUM1RCxJQUFJLElBQUksQ0FBQyxPQUFPLEdBQUcsQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDLE9BQU8sR0FB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QUksR0FBRyxTQUFTLElBQUksRUFBRSxPQUFPLEVBQUU7SUFDMUMsS0FBSyxPQUFPLEtBQUssS0FBSyxDQUFDLEdBQUcsT0FBTyxHQUFHLElBQUksQ0FBQzs7RUFFM0MsSUFBSSxPQUFPLElBQUksSUFBSSxDQUFDLE9BQU8sRUFBRSxFQUFFLE9BQU8sSUFBSSxFQUFFO0VBQzVDLE9BQU8sSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLEtBQUssRUFBRSxPQUFPLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQztDQUN4RSxDQUFDOzs7OztBQUtGLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxHQUFHLFNBQVMsSUFBSSxFQUFFLEtBQUssRUFBRTtFQUMxQyxPQUFPLEtBQUssSUFBSSxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDO0NBQ3JHLENBQUM7Ozs7OztBQU1GLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxHQUFHLFNBQVMsR0FBRyxFQUFFLElBQUksRUFBRSxFQUFFLEVBQUU7RUFDM0MsSUFBSSxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxFQUFFLE9BQU8sSUFBSSxFQUFFO0VBQ3pELE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLENBQUM7Q0FDN0MsQ0FBQzs7Ozs7QUFLRixJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssR0FBRyxTQUFTLEtBQUssRUFBRSxJQUFJLEVBQUUsRUFBRSxFQUFFLGNBQWMsRUFBRTtJQUM3RCxLQUFLLEVBQUUsS0FBSyxLQUFLLENBQUMsR0FBRyxFQUFFLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FB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RUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRTtJQUM1QyxJQUFJLElBQUksR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzFCLElBQUksRUFBRSxJQUFJLENBQUMsTUFBTSxJQUFJLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDLEVBQUUsRUFBRSxPQUFPLElBQUksRUFBRTtHQUMvRDtDQUNGLENBQUM7O0FBRUYsWUFBWSxDQUFDLFNBQVMsQ0FBQyxVQUFVLEdBQUcsU0FBUyxVQUFVLEVBQUUsS0FBSyxFQUFFO0lBQzVELElBQUksTUFBTSxHQUFHLElBQUksQ0FBQzs7RUFFcEIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsSUFBSSxDQUFDO0lBQzFDLEVBQUUsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsSUFBSSxDQUFDO01BQzdDLEVBQUUsSUFBSSxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxPQUFPLElBQUksRUFBRSxFQUFFLEVBQUU7RUFDOUQsT0FBTyxLQUFLO0NBQ2IsQ0FBQzs7Ozs7Ozs7O0FBU0YsWUFBWSxDQUFDLFNBQVMsQ0FBQyxVQUFVLEdBQUcsU0FBUyxVQUFVLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxVQUFVLEVBQUU7SUFDL0UsS0FBSyxLQUFLLEtBQUssS0FBSyxDQUFDLEdBQUcsS0FBSyxHQUFHLEtBQUssQ0FBQztJQUN0QyxLQUFLLFVBQVUsS0FBSyxLQUFLLENBQUMsR0FBRyxVQUFVLEdBQUcsQ0FBQyxDQUFDOztFQUU5QyxJQUFJLElBQUksR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0VBQ2xCLFNBQVMs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RUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztDQUNwRCxDQUFDOztBQUVGLFlBQVksQ0FBQyxTQUFTLENBQUMsUUFBUSxHQUFHLFNBQVMsUUFBUSxJQUFJO0VBQ3JELElBQUksSUFBSSxHQUFHLEVBQUUsQ0FBQztFQUNkLFNBQVMsSUFBSSxDQUFDLENBQUMsRUFBRTtJQUNmLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDYixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxJQUFJLENBQUM7TUFDdkMsRUFBRSxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUU7R0FDOUQ7RUFDRCxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7RUFDWCxPQUFPLElBQUksQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxFQUFFO0lBQzlCLElBQUksR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsUUFBUSxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUM7SUFDN0MsS0FBSyxJQUFJLEdBQUcsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUcsSUFBSSxDQUFDO01BQzdDLEVBQUUsR0FBRyxJQUFJLENBQUMsR0FBRyxHQUFHLElBQUksR0FBRyxFQUFFLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLEdBQUcsSUFBSSxHQUFHLElBQUksQ0FBQyxPQUFPLENB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RUFFcEIsSUFBSSxJQUFJLENBQUMsSUFBSSxFQUFFLEVBQUUsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO0lBQzFELElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksSUFBSSxJQUFJLE1BQU0sQ0FBQyxRQUFRLElBQUksQ0FBQyxJQUFJLE1BQU0sQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7TUFDNUYsRUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxNQUFNLENBQUMsVUFBVSxDQUFDLEVBQUU7R0FDOUMsRUFBRTtDQUNKLENBQUM7O0FBRUYsWUFBWSxDQUFDLFNBQVMsQ0FBQyxVQUFVLEdBQUcsU0FBUyxVQUFVLEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUU7SUFDOUUsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDOztFQUVwQixJQUFJLE1BQU0sSUFBSSxPQUFPLElBQUksSUFBSSxDQUFDLElBQUksRUFBRSxFQUFFLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtJQUMvRSxJQUFJLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLElBQUksSUFBSSxNQUFNLENBQUMsUUFBUSxJQUFJLENBQUMsSUFBSSxNQUFNLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUU7TUFDOUYsSUFBSSxHQUFHLEdBQUcsT0FBTyxDQUFDLHVCQUF1QixDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7TUFD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QUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUU7SUFDOUMsSUFBSSxLQUFLLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsSUFBSSxNQUFNLENBQUMsUUFBUSxHQUFHLElBQUksR0FBRyxDQUFDLENBQUMsQ0FBQztJQUM1RCxJQUFJLEtBQUssR0FBRyxHQUFHLEVBQUUsRUFBRSxLQUFLLEVBQUU7SUFDMUIsSUFBSSxPQUFPLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsUUFBUSxDQUFDLEVBQUUsR0FBRyxHQUFHLEtBQUssR0FBRyxPQUFPLENBQUM7SUFDakUsSUFBSSxHQUFHLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxLQUFLLEdBQUcsQ0FBQyxFQUFFLEVBQUUsT0FBTyxJQUFJLEVBQUU7SUFDakQsSUFBSSxJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxHQUFHLE9BQU8sQ0FBQztHQUMvQztFQUNELE9BQU8sS0FBSztDQUNiLENBQUM7Ozs7O0FBS0YsT0FBTyxDQUFDLFNBQVMsQ0FBQyxPQUFPLEdBQUcsU0FBUyxPQUFPLEVBQUUsQ0FBQyxFQUFFO0lBQzdDLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQzs7RUFFcEIsSUFBSSxRQUFRLEdBQUcsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLEdBQUcsQ0FBQyxFQUFFLFFBQVEsR0FBRyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7RUFDdkUsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRTtJQUN4RCxJQUFJLEtBQUssR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLFFBQVEsR0FBRyxL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LENBQUM7RUFDdkQsSUFBSSxTQUFTLEdBQUcsQ0FBQyxVQUFVLElBQUksVUFBVSxDQUFDLFVBQVUsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLEtBQUssSUFBSSxDQUFDLE1BQU0sQ0FBQztFQUNqRixJQUFJLElBQUksR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVM7TUFDM0MsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUM7TUFDN0QsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUM7SUFDcEcsRUFBRSxPQUFPLEtBQUssRUFBRTtFQUNsQixLQUFLLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUU7SUFDOUQsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxPQUFPLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNqRCxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxFQUFFLE9BQU8sS0FBSyxFQUFFO0lBQzlDLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7SUFDN0QsSUFBSSxLQUFLLEdBQUcsQ0FBQyxVQUFVLElBQUksVUFBVSxDQUFDLENBQUMsQ0FBQyxLQUFL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UyxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFO0lBQ2pHLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQzs7RUFFcEIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDOztFQUVWLE9BQU8sQ0FBQyxHQUFHLFFBQVEsQ0FBQyxVQUFVLEVBQUUsQ0FBQyxFQUFFLEVBQUU7SUFDbkMsSUFBSSxLQUFLLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxNQUFNLEdBQUcsS0FBSyxFQUFFLElBQUksR0FBRyxDQUFDLElBQUksUUFBUSxDQUFDLFVBQVUsR0FBRyxDQUFDLENBQUM7O0lBRW5GLEtBQUssSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7TUFDOUMsSUFBSSxJQUFJLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLElBQUksS0FBSyxDQUFDLENBQUMsQ0FBQzs7Ozs7TUFLM0MsSUFBSSxJQUFJLEdBQUcsQ0FBQyxLQUFLLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7VUFDeEQsRUFBRSxNQUFNLElBQUksSUFBSSxDQUFDLE1BQU0sSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsSUFBSSxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUU7UUFDcEUsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDLFNBQVMsRUFBRSxDQUFDLEVBQUU7UUFDeEQsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7VUFDcEMsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxD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QUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7Q0FDM0csQ0FBQzs7Ozs7QUFLRixTQUFTLENBQUMsU0FBUyxDQUFDLFdBQVcsR0FBRyxTQUFTLElBQUksRUFBRSxFQUFFLEVBQUU7RUFDbkQsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDOztFQUVsQixJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRSxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLENBQUM7RUFDL0QsSUFBSSxPQUFPLEdBQUcsYUFBYSxDQUFDLEtBQUssRUFBRSxHQUFHLENBQUMsQ0FBQztFQUN4QyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsT0FBTyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtJQUN2QyxJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsSUFBSSxPQUFPLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztJQUN2RCxJQUFJLENBQUMsSUFBSSxJQUFJLEtBQUssSUFBSSxDQUFDLEtBQUssS0FBSyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLFFBQVE7TUFDdEUsRUFBRSxPQUFPLE1BQU0sQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsRUFBRSxHQUFHLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUU7SUFDOUQsSUFBSSxLQUFLLEdBQUcsQ0FBQyxLQUFLLElBQUksSUFBSSxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLFVBQVUsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztNQUM1RyxFQUFFLE9BQU8sTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxFQUFFLEdBQUcsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRTtHQUNsRTtFQUNELEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsSUFBSSxLQUFLLENBQUMsS0FBSyxFQUFFLENBQUMsRUFBRSxFQUFFO0lBQ3JDLElBQUksSUFBSSxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLElBQUksS0FBSyxDQUFDLEtBQUssR0FBRyxDQUFDLElBQUksRUFBRSxHQUFHLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO01BQy9ELEVBQUUsT0FBTyxNQUFNLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUU7R0FDaEQ7RUFDRCxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQztDQUM3QixDQUFDOzs7OztBQUtGLFNBQVMsYUFBYSxDQUFDLEtBQUssRUFBRSxHQUFHLEVBQUU7RUFDakMsSUFBSSxNQUFNLEdBQUcsRUFBRSxFQUFFLFFBQVEsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxLQUFLLEVBQUUsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO0VBQzdELEtBQUssSUFBSSxDQUFDLEdBQUcsUUFBUSxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7SUFDbEMsSUFBSSxLQUFLLEdBQUcsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUMzQixJQUFJLEtBQUssR0FBRyxLQUFLLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDO1FBQ3JDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLEdBQUcsSUFBSSxHQUFHLENBQUMsS0FBSyxHQUFHLENB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LFNBQVMsRUFBRSxVQUFVLEdBQUcsSUFBSSxDQUFDO0VBQzVELEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxPQUFPLENBQUMsT0FBTyxFQUFFLENBQUMsRUFBRSxFQUFFO0lBQ3hDLFVBQVUsR0FBRyxRQUFRLENBQUM7SUFDdEIsUUFBUSxHQUFHLFFBQVEsQ0FBQyxTQUFTLENBQUM7R0FDL0I7O0VBRUQsSUFBSSxPQUFPLEdBQUcsRUFBRSxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUUsTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUM7RUFDcEQsS0FBSyxJQUFJLEdBQUcsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLE1BQU0sQ0FBQyxNQUFNLEVBQUUsR0FBRyxFQUFFLEVBQUU7SUFDNUMsSUFBSSxHQUFHLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO01BQ3BCLElBQUksS0FBSyxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUM7TUFDdEIsSUFBSSxHQUFHLEdBQUcsR0FBRyxDQUFDLEdBQUcsQ0FBQztNQUNsQixJQUFJLE9BQU8sR0FBRyxFQUFFLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUMxQyxFQUFFLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsR0FBR0EsTUFBZ0IsQ0FBQyxLQUFLLENBQUMsS0FBSyxHQUFHLE9BQU8sQ0FBQyxDQUFDO0lBQzVHLElBQUksR0FBRyxJQUFJLENBQUM7TUFDVixFQUFFLHVCQUF1QixDQUFDLEVBQUUsRUFBRSxPQUFPLEVBQUUsQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDLFFBQVEsR0FBRyxVQUFVLElBQUksVUFBVSxDQUFDLFdBQVcsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFO0dBQzVIO0NBQ0YsQ0FBQzs7Ozs7QUFLRixTQUFTLENBQUMsU0FBUyxDQUFDLFdBQVcsR0FBRyxTQUFTLFdBQVcsRUFBRSxFQUFFLEVBQUUsSUFBSSxFQUFFO0VBQ2hFLElBQUksT0FBTyxHQUFHLEVBQUUsQ0FBQyxLQUFLLENBQUMsTUFBTSxFQUFFLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO0VBQ3BELEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxNQUFNLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO0lBQ3RDLElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztNQUNsQixJQUFJLEtBQUssR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDO01BQ3RCLElBQUksR0FBRyxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUM7TUFDbEIsSUFBSSxPQUFPLEdBQUcsRUFBRSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDMUMsSUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsRUFBRSxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQzdELElBQUksQ0FBQyxFQUFFO01BQ0wsRUFBRSxDQUFDLFdBQVcsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLENBQUM7S0FDMUIsTUFBTTtNQUNMLEVBQUUsQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLEVBQUUsRUFBRSxFQUFFLElBQUksQ0FBQyxDQUFDO01BQ3BDLHVCQUF1QixDQUFDLEVBQUUsRUFBRSxPQUFPLEVBQUUsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztLQUM5RDtHQUNGO0NBQ0YsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7QUFjRixTQUFTLENBQUMsUUFBUSxHQUFHLFNBQVMsUUFBUSxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsUUFBUSxFQUFFO0VBQzNELElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsYUFBYSxHQUFHLElBQUksYUFBYSxDQUFDLElBQUksQ0FBQztRQUN6RCxlQUFlLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLEtBQUssRUFBRSxFQUFFLEdBQUcsRUFBRSxRQUFRLENBQUMsQ0FBQztFQUN4RixJQUFJLEtBQUssRUFBRSxFQUFFLE9BQU8sS0FBSyxFQUFFOztFQUUzQixLQUFLLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxFQUFFLEtBQUssSUFBSSxDQUFDLEVBQUUsS0FBSyxFQUFFLEVBQUU7SUFDcEQsSUFBSSxLQUFLLEdBQUcsR0FBRyxHQUFHLENBQUM7VUFDYixlQUFlLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLEVBQUUsR0FBRyxFQUFFLFFBQVEsQ0FBQztVQUN6RyxlQUFlLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsRUFBRSxRQUFRLENBQUMsQ0FBQztJQUNuSCxJQUFJLEtBQUssRUFBRSxFQUFFLE9BQU8sS0FBSyxFQUFFO0dBQzVCO0NBQ0YsQ0FBQzs7Ozs7O0FBTUYsU0FBUyxDQUFDLElBQUksR0FBRyxTQUFTLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFO0lBQ3hDLEtBQUssSUFBSSxLQUFLLEtBQUss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QyxDQUFDLEVBQUU7R0FDN0YsRUFBRTtFQUNILE9BQU8sTUFBTTtDQUNkLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7QUFnQkYsV0FBVyxDQUFDLFFBQVEsR0FBRyxTQUFTLFFBQVEsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLFlBQVksRUFBRTtFQUNwRSxJQUFJLENBQUMsSUFBSSxFQUFFLEVBQUUsTUFBTSxJQUFJLFVBQVUsQ0FBQyx3Q0FBd0MsQ0FBQyxFQUFFO0VBQzdFLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLEVBQUUsTUFBTSxJQUFJLFVBQVUsQ0FBQyx3Q0FBd0MsQ0FBQyxFQUFFO0VBQ3RGLElBQUksT0FBTyxHQUFHLElBQUksYUFBYSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0VBQy9ELElBQUksUUFBUSxHQUFHLElBQUksV0FBVyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0VBQ3hDLE9BQU8sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLFVBQVUsS0FBSyxFQUFFO0lBQ3RDLElBQUksS0FBSyxDQUFDLElBQUksSUFBSSxLQUFLLEVBQUU7TUFDdkIsUUFBUSxDQUFDLEdBQUcsR0FBR0QsTUFBZ0IsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0tBQ3hFLE1BQU0sSUFBSSxLQUFLLENBQUMsSUFBSSxJQUFJLFdBQVcsRUFBRTtNQUNwQyxRQUFRLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7S0FDdkUsTUFBTSxJQUFJLEtBQUssQ0FBQyxJQUFJLElBQUksYUFBYSxFQUFFO01BQ3RDLElBQUksSUFBSSxDQUFDLFdBQVcsRUFBRSxFQUFFLFFBQVEsQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxZQUFZ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R0FBRyxJQUFJLENBQUMsR0FBRyxFQUFFLEtBQUssRUFBRSxLQUFLLEdBQUcsVUFBVSxDQUFDLEtBQUssQ0FBQyxFQUFFO0lBQzNELEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxLQUFLLENBQUMsU0FBUyxFQUFFLElBQUksRUFBRSxLQUFLLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQztJQUN2RSxJQUFJLEtBQUssSUFBSSxHQUFHLENBQUMsSUFBSSxFQUFFLEVBQUUsS0FBSyxFQUFFO0dBQ2pDO0VBQ0QsT0FBTyxDQUFDLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsS0FBSyxDQUFDO0NBQ3REOzs7O0FBSUQsU0FBUyxjQUFjLENBQUMsR0FBRyxFQUFFO0VBQzNCLElBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQyxNQUFNLENBQUM7RUFDeEIsSUFBSSxNQUFNLEdBQUcsR0FBRyxDQUFDLE1BQU0sQ0FBQztFQUN4QixJQUFJLEtBQUssR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDOztFQUV0QixJQUFJLFNBQVMsR0FBRyxNQUFNLEdBQUcsTUFBTSxDQUFDLHFCQUFxQixFQUFFLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQztFQUNoRSxJQUFJLElBQUksR0FBRyxTQUFTLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxTQUFTLEdBQUcsTUFBTSxDQUFDO0VBQ25ELEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO0lBQ3JDLElBQUksS0FBSyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNyQixJQUFJLEdBQUcsR0FBRyxLQUFLLENBQUMsR0FBRyxDQUFDO0lBQ3BCLElBQUksR0FBRyxHQUFHLEtBQUssQ0FBQyxHQUFHLENBQUM7SUFDcEIsSUFBSSxJQUFJLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQztJQUN0QixJQUFJ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QUFDLFNBQVMsQ0FBQyxNQUFNLEVBQUU7TUFDbEMsSUFBSSxHQUFHLFVBQVUsQ0FBQyxTQUFTLENBQUMsSUFBSSxFQUFFLE1BQU0sRUFBRSxNQUFNLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztNQUMzRCxJQUFJLEdBQUcsTUFBTSxDQUFDO0tBQ2Y7SUFDRCxJQUFJLENBQUMsQ0FBQyxJQUFJLElBQUksSUFBSSxDQUFDLElBQUksSUFBSSxJQUFJLENBQUMsS0FBSyxLQUFLLE1BQU0sRUFBRTtNQUNoRCxJQUFJLEdBQUcsVUFBVSxDQUFDLFNBQVMsQ0FBQyxJQUFJLEVBQUUsTUFBTSxHQUFHLENBQUMsRUFBRSxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztNQUMxRCxJQUFJLEdBQUcsT0FBTyxDQUFDO0tBQ2hCO0dBQ0YsTUFBTSxJQUFJLElBQUksQ0FBQyxVQUFVLEVBQUU7SUFDMUIsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLEVBQUU7TUFDbkMsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQztNQUNwQyxJQUFJLEdBQUcsVUFBVSxDQUFDLEtBQUssQ0FBQyxRQUFRLElBQUksQ0FBQyxHQUFHLFNBQVMsQ0FBQyxLQUFLLENBQUMsR0FBRyxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztNQUN0RSxJQUFJLEdBQUcsTUFBTSxDQUFDO0tBQ2Y7SUFDRCxJQUFJLENBQUMsQ0FBQyxJQUFJLElBQUksSUFBSSxDQUFDLEdBQUcsSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLE1BQU0sRUFBRTtNQUNoRCxJQUFJLE9BQU8sR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQztNQUMxQyxJQUFJLEdBQUcsVUFBVSxDQUFDLE9BQU8sQ0FBQyxRQUFRLElBQUksQ0FBQyxHQUFHLFNBQVMsQ0FBQyxPQUFPLENBQUMsR0FBRyxPQUFPLEVBQUUsQ0FBQyxDQUFDLENBQUM7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RSxRQUFRLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLEVBQUU7O0VBRXBILElBQUksVUFBVSxHQUFHLENBQUMsQ0FBQyxFQUFFLFFBQVEsR0FBRyxDQUFDLENBQUMsQ0FBQztFQUNuQyxLQUFLLElBQUksTUFBTSxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsRUFBRSxFQUFFO0lBQ2hDLElBQUksS0FBSyxHQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxHQUFHLE1BQU0sR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDO0lBQzFELElBQUksVUFBVSxJQUFJLENBQUMsQ0FBQyxJQUFJLElBQUksSUFBSSxHQUFHLEVBQUU7TUFDbkMsSUFBSSxTQUFTLEdBQUcsTUFBTSxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUM7O01BRXRDLElBQUksSUFBSSxJQUFJLFNBQVMsSUFBSSxFQUFFLElBQUksR0FBRyxHQUFHLEtBQUssQ0FBQyxNQUFNLElBQUksS0FBSyxDQUFDLElBQUk7VUFDM0QsS0FBSyxDQUFDLFVBQVUsSUFBSSxNQUFNLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDO1FBQ2xFLEVBQUUsT0FBTyxLQUFLLENBQUMsVUFBVSxDQUFDLElBQUksR0FBRyxTQUFTLEVBQUUsRUFBRSxHQUFHLFNBQVMsRUFBRSxJQUFJLEdBQUcsU0FBUyxDQUFDLEVBQUU7O01BRWpGLElBQUksR0FBRyxJQUFJLEdBQUcsTUFBTSxDQUFDO01BQ3JCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7UUFDMUIsSUFBSSxJQUFJLEdBQUcsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDbEMsSUFBSSxJQUFJLENBQUMsSUFBSSxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsVUFBVSxJQUFJLE1BQU0sQ0FB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SSxJQUFJLENBQUMsVUFBVSxJQUFJLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDO0NBQzdGLENBQUM7Ozs7QUFJRixRQUFRLENBQUMsU0FBUyxDQUFDLFNBQVMsR0FBRyxTQUFTLFNBQVMsRUFBRSxJQUFJLEVBQUUsRUFBRSxFQUFFO0lBQ3pELElBQUksTUFBTSxHQUFHLElBQUksQ0FBQzs7RUFFcEIsS0FBSyxJQUFJLE1BQU0sR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7SUFDekQsSUFBSSxLQUFLLEdBQUcsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsRUFBRSxHQUFHLEdBQUcsTUFBTSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUM7SUFDMUQsSUFBSSxNQUFNLElBQUksR0FBRyxHQUFHLElBQUksSUFBSSxHQUFHLElBQUksRUFBRSxJQUFJLE1BQU0sR0FBRyxJQUFJLEdBQUcsR0FBRyxJQUFJLEVBQUUsR0FBRyxNQUFNLEVBQUU7TUFDM0UsSUFBSSxXQUFXLEdBQUcsTUFBTSxHQUFHLEtBQUssQ0FBQyxNQUFNLEVBQUUsU0FBUyxHQUFHLEdBQUcsR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDO01BQ3hFLElBQUksSUFBSSxJQUFJLFdBQVcsSUFBSSxFQUFFLElBQUksU0FBUyxFQUFFO1FBQzFDLE1BQU0sQ0FBQyxLQUFLLEdBQUcsSUFBSSxJQUFJLE1BQU0sSUFBSSxFQUFFLElBQUksR0FBRyxHQUFHLGFBQWEsR0FBRyxXQUFXLENBQUM7UUFDekUsSUFBSSxJQUFJLElBQUksV0FBVyxJQUFJLEVBQUUsSUFBSSxTQUFTLElBQUksS0FBSyxDQUFDLFdBQVcsRUFBRSxFQUFFLEtBQUssQ0FBQyxLQUFLLEdBQUcsVUFBVSxDQUFDLEVBQUU7YUFDekYsRUFBRSxLQUFLLENBQUMsU0FBUyxDQUFD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QUFFLEVBQUUsR0FBRyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUM7RUFDMUMsS0FBSyxJQUFJLENBQUMsR0FBRyxLQUFLLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRSxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7SUFDckQsSUFBSSxJQUFJLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO0lBQ3RDLElBQUksQ0FBQyxJQUFJLEVBQUUsRUFBRSxRQUFRLEVBQUU7SUFDdkIsSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEVBQUUsRUFBRSxLQUFLLEVBQUU7SUFDMUMsU0FBUyxDQUFDLEVBQUUsR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDO0dBQ3pCO0VBQ0QsT0FBTyxTQUFTO0NBQ2pCOztBQUVELFNBQVMsV0FBVyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFOzs7Ozs7O0FBTy9ELFNBQVMsUUFBUSxDQUFDLE1BQU0sRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBRTtFQUNoRCxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFLE1BQU0sR0FBRyxDQUFDLENBQUM7O0VBRTdDLElBQUksTUFBTSxDQUFDLE1BQU0sSUFBSSxDQUFDLEVBQUU7SUFDdEIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxVQUFVLEVBQUUsQ0FBQyxFQUFFLEVBQUU7TUFDMUMsSUFBSSxLQUFLLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztNQUM1QixNQUFNLENBQUMsS0FBSyxFQUFFLE1BQU0sRUFBRSxJQUFJLENBQUMs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QUMsU0FBUyxFQUFFLFlBQVksRUFBRSxRQUFRLENBQUM7RUFDdkQsSUFBSSxHQUFHLFlBQVlBLE1BQWdCLENBQUMsYUFBYSxFQUFFLEVBQUUsWUFBWSxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRTs7RUFFL0UsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0VBQzFDLEtBQUssSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtJQUN2QyxJQUFJLElBQUksR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDMUQsSUFBSUEsTUFBZ0IsQ0FBQyxhQUFhLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxFQUFFO01BQ3JELElBQUksWUFBWSxJQUFJLEdBQUcsQ0FBQyxLQUFLLENBQUMsS0FBSyxHQUFHLENBQUM7VUFDbkMsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxLQUFLLENBQUMsS0FBSyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLElBQUksR0FBRyxDQUFDLEtBQUssQ0FBQyxHQUFHO1FBQzNFLEVBQUUsUUFBUSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFOztRQUU1QyxFQUFFLFFBQVEsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUU7TUFDaEMsS0FBSztLQUNOO0dBQ0Y7O0VBRUQsSUFBSSxRQUFRLElBQUksSUFBSSxFQUFFO0lBQ3BCLGVBQWUsQ0FBQyxJQUFJLEVBQUVBLE1BQWdCLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENB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LEdBQUcsQ0FBQyxHQUFHLEtBQUssR0FBRyxZQUFZQSxNQUFnQixDQUFDLGFBQWEsR0FBRyxHQUFHLENBQUMsRUFBRSxHQUFHLENBQUMsRUFBRSxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUU7O0dBRWxILE1BQU0sSUFBSSxTQUFTLElBQUksU0FBUyxDQUFDLFNBQVMsRUFBRTtJQUMzQyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLFlBQVksQ0FBQ0EsTUFBZ0IsQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxFQUFFLFNBQVMsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO0dBQzNILE1BQU0sSUFBSSxDQUFDLENBQUMsTUFBTSxJQUFJLENBQUMsQ0FBQyxNQUFNLENBQUMsUUFBUSxJQUFJLENBQUMsRUFBRTtJQUM3QyxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ3BELElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxJQUFJLElBQUksSUFBSSxJQUFJLENBQUMsT0FBTyxFQUFFLEVBQUUsTUFBTSxFQUFFO0lBQy9FLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsWUFBWSxDQUFDQSxNQUFnQixDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQztHQUNsSDtFQUNELElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLE9BQU8sRUFBRSxDQUFDO0VBQzNDLElBQUksR0FBRyxHQUFHLHFCQUFxQixDQUFDLElBQUksRUFBRSxLQUFLLENB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QixLQUFLLFlBQVksVUFBVTtNQUMxQixJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxLQUFLLENBQUMsSUFBSSxDQUFDLEdBQUc7TUFDaEQsSUFBSSxDQUFDLEtBQUssSUFBSSxLQUFLLENBQUMsS0FBSyxJQUFJLFdBQVcsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0NBQ3RFLENBQUM7O0FBRUYsSUFBSSxVQUFVLEdBQUcsU0FBUyxVQUFVLENBQUMsS0FBSyxFQUFFLElBQUksRUFBRTtFQUNoRCxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksSUFBSSxNQUFNLENBQUM7RUFDM0IsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7Q0FDcEIsQ0FBQzs7QUFFRixVQUFVLENBQUMsU0FBUyxDQUFDLEdBQUcsR0FBRyxTQUFTLEdBQUcsRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxTQUFTLEVBQUU7RUFDekUsSUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLFNBQVMsRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLGNBQWMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUM7RUFDMUYsSUFBSSxFQUFFLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRSxHQUFHLFNBQVMsRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUM7RUFDcEYsT0FBTyxJQUFJLElBQUksRUFBRSxHQUFHLElBQUksR0FBRyxJQUFJLFVBQVUsQ0FBQyxJQUFJLEVBQUUsRUFBRSxFQUFFLElBQUksQ0FBQztDQUMxRCxDQUFDOztBQUVGLFVBQVUsQ0FBQyxTQUFTLENBQUMsS0FBSyxHQUFHLFNBQVMsS0FBSyxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsRUFBRSxPQUFPLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLEVBQUUsRUFBRSxDQUFDOztBQUVyRixVQUFVLENBQUMsU0FBUyxDQUFDLEVBQUUsR0FBRyxTQUFTLEVBQUUsRUFBRSxLQUFLLEVBQUU7RUFDNUMsT0FBTyxJQUFJLElBQUksS0FBSztLQUNqQixLQUFLLFlBQVksVUFBVSxJQUFJLFdBQVcsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxLQUFLLENBQUM7S0FDbkUsV0FBVyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO0NBQ3ZDLENBQUM7O0FBRUYsVUFBVSxDQUFDLEVBQUUsR0FBRyxTQUFTLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRSxPQUFPLElBQUksQ0FBQyxJQUFJLFlBQVksVUFBVSxFQUFFLENBQUM7O0FBRTlFLElBQUksUUFBUSxHQUFHLFNBQVMsUUFBUSxDQUFDLEtBQUssRUFBRSxJQUFJLEVBQUU7RUFDNUMsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLElBQUksTUFBTSxDQUFDO0VBQzNCLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO0NBQ3BCLENBQUM7O0FBRUYsUUFBUSxDQUFDLFNBQVMsQ0FBQyxHQUFHLEdBQUcsU0FBUyxHQUFHLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsU0FBUyxFQUFFO0VBQ3ZFLElBQUksSUFBSSxHQUFHLE9BQU8sQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLElBQUksR0FBRyxTQUFTLEVBQUUsQ0FBQyxDQUFDLENBQUM7RUFDdkQsSUFBSSxJQUFJLENBQUMsT0FBTyxFQUFFLEVBQUUsT0FBTyxJQUFJLEVBQUU7RUFDakMsSUFBSSxFQUFFLEdBQUcsT0FBTyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsRUFBRSxHQUFHLFNBQVMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO0VBQ3BELElBQUksRUFBRSxDQUFDLE9BQU8sSUFB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LEdBQUcsRUFBRSxDQUFDLEVBQUUsTUFBTSxDQUFDLEdBQUcsS0FBSztDQUMzRSxDQUFDOzs7Ozs7Ozs7QUFTRixhQUFhLENBQUMsU0FBUyxDQUFDLElBQUksR0FBRyxTQUFTLElBQUksRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFLFNBQVMsRUFBRTtFQUNuRSxJQUFJLE1BQU0sR0FBRyxFQUFFLENBQUM7RUFDaEIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLElBQUksSUFBSSxHQUFHLENBQUMsR0FBRyxLQUFLLEVBQUUsR0FBRyxJQUFJLElBQUksR0FBRyxHQUFHLEdBQUcsR0FBRyxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUUsU0FBUyxDQUFDLENBQUM7RUFDekYsT0FBTyxNQUFNO0NBQ2QsQ0FBQzs7QUFFRixhQUFhLENBQUMsU0FBUyxDQUFDLFNBQVMsR0FBRyxTQUFTLFNBQVMsRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsU0FBUyxFQUFFO0lBQzNGLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQzs7RUFFcEIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO0lBQzFDLElBQUksSUFBSSxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDM0IsSUFBSSxJQUFJLENBQUMsSUFBSSxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsRUFBRSxJQUFJLEtBQUssS0FBSyxDQUFDLFNBQVMsSUFBSSxTQUFTLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO01BQzlFLEVBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsTUFBTSxFQUFFLElBQUksQ0FBQyxFQUFFLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFO0dBQ3BFO0VBQ0QsS0FBSyxJQUFJLEdBQUcsR0FBRyxDQUFD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Q0FBQyxHQUFHLEVBQUUsV0FBVyxFQUFFLENBQUMsQ0FBQztDQUMxQyxDQUFDOztBQUVGLGFBQWEsQ0FBQyxTQUFTLENBQUMsUUFBUSxHQUFHLFNBQVMsUUFBUSxFQUFFLEdBQUcsRUFBRSxXQUFXLEVBQUUsTUFBTSxFQUFFO0lBQzVFLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQzs7RUFFcEIsSUFBSSxRQUFRLEVBQUUsVUFBVSxHQUFHLENBQUMsQ0FBQztFQUM3QixHQUFHLENBQUMsT0FBTyxDQUFDLFVBQVUsU0FBUyxFQUFFLFdBQVcsRUFBRTtJQUM1QyxJQUFJLFVBQVUsR0FBRyxXQUFXLEdBQUcsTUFBTSxFQUFFLEtBQUssQ0FBQztJQUM3QyxJQUFJLEVBQUUsS0FBSyxHQUFHLGdCQUFnQixDQUFDLFdBQVcsRUFBRSxTQUFTLEVBQUUsVUFBVSxDQUFDLENBQUMsRUFBRSxFQUFFLE1BQU0sRUFBRTs7SUFFL0UsSUFBSSxDQUFDLFFBQVEsRUFBRSxFQUFFLFFBQVEsR0FBRyxNQUFNLENBQUMsUUFBUSxDQUFDLEtBQUssRUFBRSxDQUFDLEVBQUU7SUFDdEQsT0FBTyxVQUFVLEdBQUcsUUFBUSxDQUFDLE1BQU0sSUFBSSxRQUFRLENBQUMsVUFBVSxDQUFDLEdBQUcsV0FBVyxFQUFFLEVBQUUsVUFBVSxJQUFJLENBQUMsQ0FBQyxFQUFFO0lBQy9GLElBQUksUUFBUSxDQUFDLFVBQVUsQ0FBQyxJQUFJLFdBQVc7TUFDckMsRUFBRSxRQUFRLENBQUMsVUFBVSxHQUFHLENBQUMsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxVQUFVLEdBQUcsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLFNBQVMsRUFBRSxLQUFLLEVBQUUsVUFBVSxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUU7O01BRW5HLEVBQUUsUUFBUSxDQUFDLE1BQU0sQ0FBQyxVQUFVLEVBQUUsQ0FBQyxFQUFFLFdBQVcsRUFBRSxXQUFXLEdBQUcsU0FBUyxDQUFDLFFBQVEsRUFBRSxTQUFTLENBQUMsS0FBSyxFQUFFLFNBQVMsRUFBRSxVQUFVLEdBQUcsQ0FB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SyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBRSxJQUFJLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLElBQUksTUFBTSxFQUFFO0lBQ3BGLElBQUksTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsSUFBSSxNQUFNLEVBQUUsRUFBRSxLQUFLLEdBQUcsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRTtJQUNyRSxLQUFLO0dBQ04sRUFBRTtFQUNILElBQUksS0FBSyxHQUFHLE1BQU0sR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLEtBQUssR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQztFQUN4RCxLQUFLLElBQUksR0FBRyxHQUFHLENBQUMsRUFBRSxHQUFHLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUUsR0FBRyxFQUFFLEVBQUU7SUFDaEQsSUFBSSxHQUFHLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUM1QixJQUFJLEdBQUcsQ0FBQyxJQUFJLEdBQUcsR0FBRyxJQUFJLEdBQUcsQ0FBQyxFQUFFLEdBQUcsS0FBSyxLQUFLLEdBQUcsQ0FBQyxJQUFJLFlBQVksVUFBVSxDQUFDLEVBQUU7TUFDeEUsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLEtBQUssRUFBRSxFQUFFLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQztNQUNqRixJQUFJLElBQUksR0FBRyxFQUFFLEVBQUUsRUFBRSxDQUFDLEtBQUssS0FBSyxLQUFLLEdBQUcsRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxF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RUFDWixFQUFFLEVBQUUsR0FBRztFQUNQLEVBQUUsRUFBRSxHQUFHO0VBQ1AsRUFBRSxFQUFFLE1BQU07RUFDVixFQUFFLEVBQUUsTUFBTTtFQUNWLEdBQUcsRUFBRSxHQUFHO0VBQ1IsR0FBRyxFQUFFLEdBQUc7RUFDUixHQUFHLEVBQUUsR0FBRztFQUNSLEdBQUcsRUFBRSxHQUFHO0VBQ1IsR0FBRyxFQUFFLEdBQUc7RUFDUixHQUFHLEVBQUUsR0FBRztFQUNSLEdBQUcsRUFBRSxTQUFTO0VBQ2QsR0FBRyxFQUFFLFlBQVk7RUFDakIsR0FBRyxFQUFFLE9BQU87RUFDWixHQUFHLEVBQUUsT0FBTztFQUNaLEdBQUcsRUFBRSxTQUFTO0VBQ2QsR0FBRyxFQUFFLFNBQVM7RUFDZCxHQUFHLEVBQUUsS0FBSztFQUNWLEdBQUcsRUFBRSxLQUFLO0VBQ1YsR0FBRyxFQUFFLEdBQUc7RUFDUixHQUFHLEVBQUUsR0FBRztFQUNSLEdBQUcsRUFBRSxHQUFHO0VBQ1IsR0FBRyxFQUFFLEdBQUc7RUFDUixHQUFHLEVBQUUsR0FBRztFQUNSLEdBQUcsRUFBRSxHQUFHO0VBQ1IsR0FBRyxFQUFFLEdBQUc7RUFDUixHQUFHLEVBQUUsR0FBRztFQUNSLEdBQUcsRUFBRSxHQUFHO0VBQ1IsR0FBRyxFQUFFLElBQUk7RUFDVCxHQUFHLEVBQUUsR0FBRztFQUNSLEdBQUcsRUFBRSxHQUFHO0VBQ1IsR0FBRyxFQUFFLEdBQUc7RUFDVDtBQUNELElBQUksS0FBSyxHQUFHO0VBQ1YsRUFBRSxFQUFFLEdBQUc7RUFDUCxFQUFFLEVBQUUsR0FBRztFQUNQLEVBQUUsRUFBRSxHQUFHO0VBQ1AsRUFBRSxFQUFFLEdBQUc7RUFDUCxFQUFFLEVBQUUsR0FBRztFQUNQLEVBQUUsRUFBRSxHQUFHO0VBQ1AsRUFBRSxFQUFFLEdBQUc7RUFDUCxFQUFFLEVBQUUsR0FBRztFQUNQLEVBQUUsRUFBRSxHQUFHO0VBQ1AsRUFBRSxFQUFFLEdBQUc7RUFDUCxFQUFFLEVBQUUsR0FBRztFQUNQLEVBQUUsRUFBRSxHQUFHO0VBQ1AsR0FBRyxFQUFF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QUksRUFBRSxRQUFRLENBQUMsTUFBTSxHQUFHLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO09BQzlFO01BQ0QsT0FBTyxFQUFFLENBQUM7TUFDVixJQUFJLEdBQUcsRUFBRSxFQUFFLEtBQUssQ0FBQyxTQUFTLENBQUMsR0FBRyxFQUFFLE9BQU8sQ0FBQyxDQUFDLEVBQUU7S0FDNUMsTUFBTTtNQUNMLFNBQVMsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQ2hDOztJQUVELElBQUksSUFBSSxDQUFDLFNBQVMsRUFBRTtNQUNsQixTQUFTLEdBQUcsS0FBSyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDO01BQzlFLFNBQVMsR0FBRyxJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxNQUFNLENBQUMsVUFBVSxHQUFHLENBQUMsQ0FBQyxDQUFDO01BQ3ZILE9BQU8sS0FBSztLQUNiO0dBQ0YsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUMsQ0FBQzs7RUFFekIsT0FBTyxDQUFDLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxDQUFDO0NBQzFFLENBQUM7Ozs7QUFJRixNQUFNLENBQUMsU0FBUyxDQUFDLFlBQVksR0FBRyxTQUFTLFlBQVksRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFdBQVcsRUFBRSxhQUFhLEVBQUU7RUFDdkcsSUFBSSxRQUFRLEdBQUcsRUFBRSxFQUFFLFVBQVUsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDO0VBQ2hELElBQUksUUFBUSxHQUFHLElB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LENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFO09BQ2hFLE1BQU07UUFDTCxJQUFJLEdBQUcsR0FBRyxLQUFLLEVBQUUsRUFBRSxHQUFHLEtBQUssQ0FBQyxFQUFFLENBQUM7UUFDL0IsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7VUFDOUMsSUFBSSxLQUFLLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1VBQ3RCLElBQUksS0FBSyxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUM7VUFDeEIsSUFBSSxHQUFHLEdBQUcsS0FBSyxDQUFDLEdBQUcsQ0FBQztVQUNwQixHQUFHLEdBQUcsS0FBSyxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsR0FBRyxFQUFFLFFBQVEsQ0FBQyxDQUFDO1NBQzVEO1FBQ0QsS0FBSyxJQUFJLEdBQUcsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLE1BQU0sQ0FBQyxNQUFNLEVBQUUsR0FBRyxFQUFFLEVBQUU7VUFDNUMsSUFBSSxLQUFLLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1VBQ3hCLElBQUksT0FBTyxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUM7VUFDMUIsSUFBSSxLQUFLLEdBQUcsS0FBSyxDQUFDLEdBQUcsQ0FBQztVQUN0QixJQUFJLEdBQUcsRUFBRSxFQUFFLEVBQUUsQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsR0FBRyxFQUFFLFFBQVEsQ0FBQyxDQUFDLEVBQUU7ZUFDeEQsRUFBRSxFQUFFLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDLEdBQUcsRUFBRSxRQUFRLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRTtTQUNyRTtRQUNELFFBQVEsQ0FBQyxF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QUFHLENBQUMsQ0FBQzs7RUFFdkYsSUFBSSxJQUFJLENBQUMsUUFBUSxFQUFFO0lBQ2pCLElBQUksVUFBVSxDQUFDLEdBQUcsSUFBSSxHQUFHLElBQUksVUFBVSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksR0FBRyxFQUFFLEVBQUU7TUFDNUUsSUFBSSxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUM7TUFDdEIsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQztNQUNuRyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsRUFBRSxDQUFDO01BQzdCLElBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7TUFDaEQsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7S0FDcEIsTUFBTTtNQUNMLElBQUksTUFBTSxHQUFHLENBQUMsTUFBTSxDQUFDLFdBQVcsR0FBRyxNQUFNLENBQUMsV0FBVyxJQUFJLENBQUMsQ0FBQztNQUMzRCxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLEdBQUcsQ0FBQyxVQUFVLENBQUMsSUFBSSxHQUFHLE1BQU0sSUFBSSxJQUFJLENBQUM7TUFDekQsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxJQUFJLFVBQVUsQ0FBQyxHQUFHLEdBQUcsTUFBTSxDQUFDLFdBQVcsR0FBRyxNQUFNLEdBQUcsRUFBRSxDQUFDLENBQUM7TUFDOUUsSUFBSSxjQUFjLEVBQUUsRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQyxFQUFF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
